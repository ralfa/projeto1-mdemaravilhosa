if (self.CavalryLogger) { CavalryLogger.start_js(["h6OJe"]); }

__d("ExpirationTypeToExpirationTypeApiMap",[],(function a(b,c,d,e,f,g){f.exports={0:"none",1:"expire_and_delete",2:"expire_only",3:"expire_to_only_me"}}),null);
__d("InstreamAdsBlockListCategoryMaps",[],(function a(b,c,d,e,f,g){f.exports={CategoryTypeToNameMap:{0:"CATEGORY_ARTS",1:"CATEGORY_AUTOS_AND_VEHICLES",2:"CATEGORY_AUTOS",3:"CATEGORY_BOATS",4:"CATEGORY_MOTORCYCLES",5:"CATEGORY_BEAUTY_AND_FASHION",6:"CATEGORY_FASHION",7:"CATEGORY_PERSONAL_CARE",8:"CATEGORY_BOOKS_AND_LITERATURE",9:"CATEGORY_BUSINESS",10:"CATEGORY_SERVICES",11:"CATEGORY_INDUSTRIAL",12:"CATEGORY_SMALL_BUSINESS_DEPRECATED",13:"CATEGORY_COMPUTERS",14:"CATEGORY_DATING",15:"CATEGORY_EDUCATION",16:"CATEGORY_COMPUTERS_AND_ELECTRONICS",17:"CATEGORY_AUDIO_AND_VIDEO_EQUIPMENT",18:"CATEGORY_CAMERA_PHOTO",19:"CATEGORY_GAME_SYSTEMS_DEPRECATED",20:"CATEGORY_PORTABLE_ELECTRONICS",21:"CATEGORY_VIDEO_EQUIPMENT_DEPRECATED",22:"CATEGORY_ARTS_AND_ENTERTAINMENT",23:"CATEGORY_MOVIE",24:"CATEGORY_TELEVISION",25:"CATEGORY_MUSIC",26:"CATEGORY_RADIO",27:"CATEGORY_PERFORMING_ARTS",28:"CATEGORY_EVENT_LISTINGS",29:"CATEGORY_FINANCE",30:"CATEGORY_BANKING",31:"CATEGORY_CREDIT_CARD",32:"CATEGORY_LOANS",33:"CATEGORY_INSURANCE",34:"CATEGORY_INVESTING",35:"CATEGORY_FOOD",36:"CATEGORY_BEVERAGES",37:"CATEGORY_ALCOHOL",38:"CATEGORY_CUISINE",39:"CATEGORY_RESTAURANTS",40:"CATEGORY_GAMBLING",41:"CATEGORY_GAMES",42:"CATEGORY_HEALTH_AND_FITNESS",43:"CATEGORY_DRUGS_AND_SUPPLEMENTS",44:"CATEGORY_REPRODUCTIVE_HEALTH",45:"CATEGORY_FITNESS",46:"CATEGORY_HOBBIES_AND_LEISURE",47:"CATEGORY_SPECIAL_OCCASIONS",48:"CATEGORY_HOME_AND_GARDEN",49:"CATEGORY_INTERNET_TELECOM",50:"CATEGORY_JOBS",51:"CATEGORY_LAW_GOVERNMENT_POLITICS",52:"CATEGORY_NEWS",53:"CATEGORY_PARENTING",54:"CATEGORY_CHILDCARE",55:"CATEGORY_PREGNANCY",56:"CATEGORY_RELIGION_AND_SPIRITUAL",57:"CATEGORY_SOCIAL_ISSUES_AND_ADVOCACY",58:"CATEGORY_PETS_AND_ANIMAL_CARE",59:"CATEGORY_REAL_ESTATE",60:"CATEGORY_SHOPPING",61:"CATEGORY_APPAREL",62:"CATEGORY_JEWELRY_AND_ACCESSORIES",63:"CATEGORY_ACCESSORIES_DEPRECATED",64:"CATEGORY_FOOTWEAR",65:"CATEGORY_ENTERTAINMENT_MEDIA_DEPRECATED",66:"CATEGORY_LUXURY_GOODS_DEPRECATED",67:"CATEGORY_TOYS",68:"CATEGORY_SPORTS",69:"CATEGORY_TRAVEL",70:"CATEGORY_HOTELS",71:"CATEGORY_AIR_TRAVEL",72:"CATEGORY_BUS_RAIL",73:"CATEGORY_CAR_RENTAL_TAXI",74:"CATEGORY_CRUISES",75:"CATEGORY_SPECIALTY_TRAVEL_DEPRECATED",76:"CATEGORY_DESTINATION_SERVICES",77:"CATEGORY_OTHER",78:"CATEGORY_APPLICATIONS_AND_SOFTWARE",79:"CATEGORY_PHONE",80:"CATEGORY_PAYMENT_PROCESSORS",81:"CATEGORY_DIGITAL_GAMES",82:"CATEGORY_NON_DIGITAL_GAMES",83:"CATEGORY_REAL_ESTATE_HOME",84:"CATEGORY_REAL_ESTATE_RENTAL",85:"CATEGORY_GIFT_CARDS_AND_DISCOUNTS",86:"CATEGORY_LAST"},CategoryParentToChildMap:{1:[2,3,4],5:[6,7],9:[10,11],16:[17,18,13,79,20],22:[0,23,24,25,26,27,28],29:[30,31,32,33,34,80],35:[36,37,38,39],42:[43,44,45],53:[54,55],60:[61,62,64,67,85],69:[70,71,72,73,74,76],41:[81,82],59:[83,84],8:[],14:[],15:[],40:[],46:[],47:[],48:[],49:[],50:[],51:[],52:[],56:[],57:[],58:[],68:[],77:[],78:[]},CategoryChildToParentMap:{2:1,3:1,4:1,6:5,7:5,10:9,11:9,17:16,18:16,13:16,79:16,20:16,0:22,23:22,24:22,25:22,26:22,27:22,28:22,30:29,31:29,32:29,33:29,34:29,80:29,36:35,37:35,38:35,39:35,43:42,44:42,45:42,54:53,55:53,61:60,62:60,64:60,67:60,70:69,71:69,72:69,73:69,74:69,76:69,81:41,82:41,83:59,84:59,85:60},NotCategorized:77}}),null);
__d("VideoBroadcastType",[],(function a(b,c,d,e,f,g){f.exports={VALUE_TO_NAME:["REGULAR","AMBIENT"]}}),null);
__d("VideoFeedType",[],(function a(b,c,d,e,f,g){f.exports={NOT_HIGHLIGHTED:{name:"NOT_HIGHLIGHTED",index:0},HIGHLIGHTED:{name:"HIGHLIGHTED",index:1}}}),null);
__d("AdsVideoCaptionLoadingView.react",["cx","fbt","React","SUIBusinessTheme","SUIButton.react","SUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_bdi"},c("React").createElement(c("SUISpinner.react"),{size:"large",theme:c("SUIBusinessTheme")}),c("React").createElement("span",null,i._("Loading Caption Editor...")),c("React").createElement("span",null,c("React").createElement(c("SUIButton.react"),{height:"short",label:i._("Cancel"),theme:c("SUIBusinessTheme"),use:"default",onClick:this.props.onCancel})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("LiftTimeUtils",["fbt","formatDate"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){var n=function n(q){var r=""+q;while(r.length<2)r="0"+r;return r},o=new Date().getTimezoneOffset(),p=""+(o<0?"+":"\u2212")+(n(Math.floor(Math.abs(o/60)))+":"+n(Math.abs(o%60)));return h._("UTC {offset}",[h._param("offset",p)])}function j(n){return new Date(n).setHours(0,0,0,0)}function k(n){return c("formatDate")(new Date(n),"M j, Y")}function l(n){return c("formatDate")(new Date(n),"g:iA")}function m(n,o){return h._("{start date}{space after start date}{study start time} to {end date}{space after end date}{study end time} ({local utc offset})",[h._param("start date",k(n)),h._param("space after start date"," "),h._param("study start time",l(n)),h._param("end date",k(o)),h._param("space after end date"," "),h._param("study end time",l(o)),h._param("local utc offset",i())])}f.exports={DAY:24*60*60*1e3,SECONDS_PER_DAY:86400,SECONDS_PER_HOUR:3600,SECONDS_PER_MINUTE:60,MS_IN_SEC:1e3,localUTCOffsetFBT:i,timeToLocalMidnight:j,formatDateMjY:k,getStudyTimeString:m}}),null);
__d("AdBreakPortalInstreamAdsBlockListNameCell.react",["cx","fbt","Link.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$AdBreakPortalInstreamAdsBlockListNameCell1=function(event){this.props.onClick(this.props.blockList);event.stopPropagation()}.bind(this)}l.prototype.render=function(){var m=null,n=c("React").createElement("span",null," \xb7 ",i._({"*":"Applied to {number} Pages","_1":"Applied to 1 Page"},[i._plural(this.props.blockList.numPagesApplied,"number")]));if(this.props.blockList.numPagesApplied===0)m=i._("Not yet applied.");else if(this.props.blockList.isPageLevel)m=c("React").createElement("span",null,i._("Page-level block list"),n);else m=c("React").createElement("span",null,i._("Video-level block list"),n);return c("React").createElement("div",{className:"_4oj7"},c("React").createElement("div",{className:"_4oj8"},c("React").createElement(c("Link.react"),{className:"_4l80",onClick:this.$AdBreakPortalInstreamAdsBlockListNameCell1},this.props.blockList.name),c("React").createElement("div",{className:"_4l8k"},m)))};f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListDataTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({INIT:null,DELETE_BLOCK_LISTS:null,DID_DELETE_BLOCK_LISTS:null,DELETE_BLOCK_LISTS_FAILURE:null,LOAD_ALL:null,RECEIVE_DATA:null,SELECT_BLOCK_LIST:null,APPLY_BLOCK_LIST:null,UNAPPLY_BLOCK_LIST:null,ASYNC_REQUEST_ERROR:null,EXPORT_SINGLE_BLOCK_LIST:null,EXPORT_ALL_BLOCK_LISTS:null,IMPORT_BLOCK_LISTS:null,DID_IMPORT_BLOCK_LISTS:null,IMPORT_DID_FAIL:null}),i=c("keyMirror")({INIT_CONTENT:null,LOAD_CATEGORIES:null,UPDATE_NAME:null,UPDATE_PAGE_LEVEL_CHECKBOX:null,ADD_CATEGORY_TO_UI:null,REMOVE_CATEGORY_FROM_UI:null,ADD_PAGE_TO_UI:null,REMOVE_PAGE_FROM_UI:null,LOAD_CONTENT:null,RECEIVE_CONTENT_DATA:null,UPDATE_BLOCK_LIST_CONTENT:null,DID_UPDATE_BLOCK_LIST_CONTENT:null,ASYNC_REQUEST_ERROR:null,ADD_TARGET_PAGE_TO_UI:null,REMOVE_TARGET_PAGE_FROM_UI:null});f.exports={BlockListActionTypes:h,BlockListContentActionTypes:i}}),null);
__d("PagesSettingsInstreamAdsBlockListDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("PagesSettingsInstreamAdsBlockListContentActions",["PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListDataTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListContentActionTypes,i={setPageID:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.INIT_CONTENT,currentPageId:k})},setBusinessID:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.INIT_CONTENT,currentBusinessId:k})},loadCategories:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.LOAD_CATEGORIES,enableSubcategories:k})},updateName:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.UPDATE_NAME,name:k})},updatePageLevelCheckbox:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.UPDATE_PAGE_LEVEL_CHECKBOX,checked:k})},addCategoryToUI:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ADD_CATEGORY_TO_UI,categoryId:k,categoryName:l})},removeCategoryFromUI:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.REMOVE_CATEGORY_FROM_UI,categoryId:k})},addPageToUI:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ADD_PAGE_TO_UI,pageId:k,pageTitle:l})},removePageFromUI:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.REMOVE_PAGE_FROM_UI,pageId:k})},addTargetPageToUI:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ADD_TARGET_PAGE_TO_UI,pageId:k,pageTitle:l})},removeTargetPageFromUI:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.REMOVE_TARGET_PAGE_FROM_UI,pageId:k})},receiveContentData:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.RECEIVE_CONTENT_DATA,data:k})},createOrUpdateBlockListContent:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.UPDATE_BLOCK_LIST_CONTENT})},didUpdateBlockListContent:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DID_UPDATE_BLOCK_LIST_CONTENT})},asyncRequestError:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ASYNC_REQUEST_ERROR,response:k})}};f.exports=i}),null);
__d("InstreamAdsBlockListCategory$FbtEnum",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({CATEGORY_ARTS:"Arts",CATEGORY_AUTOS_AND_VEHICLES:"Autos & Vehicles",CATEGORY_AUTOS:"Autos",CATEGORY_BOATS:"Boats",CATEGORY_MOTORCYCLES:"Motorcycles",CATEGORY_BEAUTY_AND_FASHION:"Beauty & Fashion",CATEGORY_FASHION:"Fashion",CATEGORY_PERSONAL_CARE:"Personal Care",CATEGORY_BOOKS_AND_LITERATURE:"Books & Literature",CATEGORY_BUSINESS:"Business",CATEGORY_SERVICES:"Services",CATEGORY_INDUSTRIAL:"Industrial",CATEGORY_SMALL_BUSINESS_DEPRECATED:"Small Business",CATEGORY_COMPUTERS:"Computers",CATEGORY_DATING:"Dating",CATEGORY_EDUCATION:"Education",CATEGORY_COMPUTERS_AND_ELECTRONICS:"Computers & Electronics",CATEGORY_AUDIO_AND_VIDEO_EQUIPMENT:"Audio & Video Equipment",CATEGORY_CAMERA_PHOTO:"Camera Photo",CATEGORY_GAME_SYSTEMS_DEPRECATED:"Game Systems",CATEGORY_PORTABLE_ELECTRONICS:"Portable Electronics",CATEGORY_VIDEO_EQUIPMENT_DEPRECATED:"Video Equipment",CATEGORY_ARTS_AND_ENTERTAINMENT:"Art & Entertainment",CATEGORY_MOVIE:"Movie",CATEGORY_TELEVISION:"Television",CATEGORY_MUSIC:"Music",CATEGORY_RADIO:"Radio",CATEGORY_PERFORMING_ARTS:"Performing Arts",CATEGORY_EVENT_LISTINGS:"Event Listings",CATEGORY_FINANCE:"Finance",CATEGORY_BANKING:"Banking",CATEGORY_CREDIT_CARD:"Credit Card",CATEGORY_LOANS:"Loans",CATEGORY_INSURANCE:"Insurance",CATEGORY_INVESTING:"Investing",CATEGORY_FOOD:"Food",CATEGORY_BEVERAGES:"Beverages",CATEGORY_ALCOHOL:"Alcohol",CATEGORY_CUISINE:"Cuisine",CATEGORY_RESTAURANTS:"Restaurants",CATEGORY_GAMBLING:"Gambling",CATEGORY_GAMES:"Games",CATEGORY_HEALTH_AND_FITNESS:"Health & Fitness",CATEGORY_DRUGS_AND_SUPPLEMENTS:"Drugs & Supplements",CATEGORY_REPRODUCTIVE_HEALTH:"Reproductive Health",CATEGORY_FITNESS:"Fitness",CATEGORY_HOBBIES_AND_LEISURE:"Hobbies & Leisure",CATEGORY_SPECIAL_OCCASIONS:"Special Occasions",CATEGORY_HOME_AND_GARDEN:"Home & Garden",CATEGORY_INTERNET_TELECOM:"Internet Telecom",CATEGORY_JOBS:"Jobs",CATEGORY_LAW_GOVERNMENT_POLITICS:"Law Government Politics",CATEGORY_NEWS:"News",CATEGORY_PARENTING:"Parenting",CATEGORY_CHILDCARE:"Childcare",CATEGORY_PREGNANCY:"Pregnancy",CATEGORY_RELIGION_AND_SPIRITUAL:"Religion & Spiritual",CATEGORY_SOCIAL_ISSUES_AND_ADVOCACY:"Social Issues & Advocacy",CATEGORY_PETS_AND_ANIMAL_CARE:"Pets & Animal Care",CATEGORY_REAL_ESTATE:"Real Estate",CATEGORY_SHOPPING:"Shopping",CATEGORY_APPAREL:"Apparel",CATEGORY_JEWELRY_AND_ACCESSORIES:"Jewelry & Accessories",CATEGORY_ACCESSORIES_DEPRECATED:"Accessories",CATEGORY_FOOTWEAR:"Footwear",CATEGORY_ENTERTAINMENT_MEDIA_DEPRECATED:"Entertainment Media",CATEGORY_LUXURY_GOODS_DEPRECATED:"Luxury Goods",CATEGORY_TOYS:"Toys",CATEGORY_SPORTS:"Sports",CATEGORY_TRAVEL:"Travel",CATEGORY_HOTELS:"Hotels",CATEGORY_AIR_TRAVEL:"Air Travel",CATEGORY_BUS_RAIL:"Bus Rail",CATEGORY_CAR_RENTAL_TAXI:"Car Rental Taxi",CATEGORY_CRUISES:"Cruises",CATEGORY_SPECIALTY_TRAVEL_DEPRECATED:"Specialty Travel",CATEGORY_DESTINATION_SERVICES:"Destination Services",CATEGORY_OTHER:"Not Categorized",CATEGORY_APPLICATIONS_AND_SOFTWARE:"Applications & Software",CATEGORY_PHONE:"Phone",CATEGORY_PAYMENT_PROCESSORS:"Payment Processors",CATEGORY_DIGITAL_GAMES:"Digital Games",CATEGORY_NON_DIGITAL_GAMES:"Non-Digital Games",CATEGORY_REAL_ESTATE_HOME:"Real Estate Home",CATEGORY_REAL_ESTATE_RENTAL:"Real Estate Rental",CATEGORY_GIFT_CARDS_AND_DISCOUNTS:"Gift Cards & Discounts",CATEGORY_LAST:"Last"});f.exports=h}),null);
__d("XPagesSettingsInstreamAdsBlockListContentQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/content/",{block_list_id:{type:"FBID",required:true}})}),null);
__d("XPagesSettingsInstreamAdsBlockListMutationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/mutation/",{page_id:{type:"FBID"},blocked_page_ids:{type:"FBIDSet",defaultValue:[]},blocked_categories:{type:"IntSet",defaultValue:[]},block_list_name:{type:"String",required:true},is_active:{type:"Bool",defaultValue:false},is_profile_level:{type:"Bool",defaultValue:false},block_list_id:{type:"FBID"},business_id:{type:"FBID"},target_pages:{type:"FBIDSet",defaultValue:[]}})}),null);
__d("PagesSettingsInstreamAdsBlockListContentRequestHandler",["PagesSettingsInstreamAdsBlockListContentActions","AsyncRequest","XPagesSettingsInstreamAdsBlockListContentQueryController","XPagesSettingsInstreamAdsBlockListMutationController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={requestBlockListContentData:function i(j){var k=c("XPagesSettingsInstreamAdsBlockListContentQueryController").getURIBuilder().setFBID("block_list_id",j).getURI();new(c("AsyncRequest"))(k).setHandler(function(l){return c("PagesSettingsInstreamAdsBlockListContentActions").receiveContentData(l.payload.data)}).setErrorHandler(function(l){return c("PagesSettingsInstreamAdsBlockListContentActions").asyncRequestError(l)}).send()},createOrUpdateBlockListContent:function i(j,k,l,m,n,o,p,q,r){var s=c("XPagesSettingsInstreamAdsBlockListMutationController").getURIBuilder().setFBID("page_id",j).setFBIDSet("blocked_page_ids",k).setIntSet("blocked_categories",l).setString("block_list_name",m).setBool("is_active",n).setBool("is_profile_level",o).setFBID("block_list_id",p).setFBID("business_id",q).setFBIDSet("target_pages",r).getURI();new(c("AsyncRequest"))(s).setHandler(function(t){return c("PagesSettingsInstreamAdsBlockListContentActions").didUpdateBlockListContent()}).setErrorHandler(function(t){return c("PagesSettingsInstreamAdsBlockListContentActions").asyncRequestError(t)}).send()}};f.exports=h}),null);
__d("PagesSettingsInstreamAdsBlockListContentStoreState",["fbt","immutable"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k={allCategories:[],allContentLoaded:false,blockedCategories:[],blockedPages:[],blockListId:null,blockListName:String(h._("Default")),businessId:null,enableSubcategories:false,errorInfo:null,isBusinessLevel:false,isPageLevel:true,pageId:null,requestSent:false,targetPages:[],updatedBlockListContent:false};i=babelHelpers.inherits(l,c("immutable").Record(k));j=i&&i.prototype;function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListContentStore",["fbt","invariant","FluxReduceStore","InstreamAdsBlockListCategory$FbtEnum","InstreamAdsBlockListCategoryMaps","PagesSettingsInstreamAdsBlockListContentRequestHandler","PagesSettingsInstreamAdsBlockListContentStoreState","PagesSettingsInstreamAdsBlockListDataTypes","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListStore"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap,m=c("InstreamAdsBlockListCategoryMaps").CategoryTypeToNameMap,n=c("InstreamAdsBlockListCategoryMaps").CategoryChildToParentMap,o=c("InstreamAdsBlockListCategoryMaps").NotCategorized,p=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListActionTypes,q=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListContentActionTypes;j=babelHelpers.inherits(r,c("FluxReduceStore"));k=j&&j.prototype;function r(s){k.constructor.call(this,s);this.__moduleID=f.id}r.prototype.getInitialState=function(){return new(c("PagesSettingsInstreamAdsBlockListContentStoreState"))()};r.prototype.reduce=function(s,t){__p&&__p();switch(t.type){case q.INIT_CONTENT:return this.$PagesSettingsInstreamAdsBlockListContentStore1(s,t);case q.LOAD_CATEGORIES:return this.$PagesSettingsInstreamAdsBlockListContentStore2(s,t);case q.UPDATE_NAME:return this.$PagesSettingsInstreamAdsBlockListContentStore3(s,t);case q.UPDATE_PAGE_LEVEL_CHECKBOX:return this.$PagesSettingsInstreamAdsBlockListContentStore4(s,t);case q.RECEIVE_CONTENT_DATA:return this.$PagesSettingsInstreamAdsBlockListContentStore5(s,t);case q.ADD_PAGE_TO_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore6(s,t);case q.REMOVE_PAGE_FROM_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore7(s,t);case q.ADD_CATEGORY_TO_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore8(s,t);case q.REMOVE_CATEGORY_FROM_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore9(s,t);case q.ADD_TARGET_PAGE_TO_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore10(s,t);case q.REMOVE_TARGET_PAGE_FROM_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore11(s,t);case q.UPDATE_BLOCK_LIST_CONTENT:return this.$PagesSettingsInstreamAdsBlockListContentStore12(s,t);case q.DID_UPDATE_BLOCK_LIST_CONTENT:return this.$PagesSettingsInstreamAdsBlockListContentStore13(s,t);case q.ASYNC_REQUEST_ERROR:return this.$PagesSettingsInstreamAdsBlockListContentStore14(s,t);case p.SELECT_BLOCK_LIST:c("PagesSettingsInstreamAdsBlockListDispatcher").waitFor([c("PagesSettingsInstreamAdsBlockListStore").getDispatchToken()]);return this.$PagesSettingsInstreamAdsBlockListContentStore15(s,t)}return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore1=function(s,t){s=this.getInitialState();s=s.set("pageId",t.currentPageId);s=s.set("businessId",t.currentBusinessId);return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore2=function(s,t){s=s.set("enableSubcategories",t.enableSubcategories);s=s.set("allCategories",this.$PagesSettingsInstreamAdsBlockListContentStore16(t.enableSubcategories));return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore17=function(s){var t=this.getInitialState();t=t.set("pageId",s.pageId);t=t.set("businessId",s.businessId);t=t.set("enableSubcategories",s.enableSubcategories);t=t.set("allCategories",s.allCategories);return t};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore3=function(s,t){return s.set("blockListName",t.name)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore4=function(s,t){return s.set("isPageLevel",t.checked)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore15=function(s,t){var u=t.blockList?t.blockList.id:null,v=this.$PagesSettingsInstreamAdsBlockListContentStore17(s);v=v.set("blockListId",u);if(v.blockListId){v=v.set("requestSent",true);v=v.set("allContentLoaded",false);c("PagesSettingsInstreamAdsBlockListContentRequestHandler").requestBlockListContentData(v.blockListId)}else v=v.set("allContentLoaded",true);return v};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore5=function(s,t){__p&&__p();if(!t.data)return s;Array.isArray(t.data.blockedPages)||i(0);s=s.set("requestSent",false);s=s.set("allContentLoaded",true);s=s.set("blockedPages",Array.from(t.data.blockedPages));s=s.set("blockedCategories",Array.from(t.data.blockedCategories.map(function(u){return this.$PagesSettingsInstreamAdsBlockListContentStore18(u.toString())}.bind(this))));s=s.set("targetPages",Array.from(t.data.targetPages));s=s.set("blockListName",t.data.blockListName);s=s.set("isPageLevel",t.data.isPageLevel);s=s.set("isBusinessLevel",t.data.isBusinessLevel);return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore7=function(s,t){var u=Array.from(s.blockedPages).filter(function(v){return v.id!==t.pageId});return s.set("blockedPages",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore6=function(s,t){var u=Array.from(s.blockedPages),v=u.find(function(w){return w.id==t.pageId});if(!v)u.push({id:t.pageId,title:t.pageTitle});return s.set("blockedPages",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore9=function(s,t){var u=this.$PagesSettingsInstreamAdsBlockListContentStore19(t.categoryId),v=Array.from(s.blockedCategories).filter(function(w){if(!u)return w.id!==t.categoryId&&w.id!==this.$PagesSettingsInstreamAdsBlockListContentStore20(t.categoryId);else return w.id!==t.categoryId&&!u.includes(w.id)}.bind(this));return s.set("blockedCategories",v)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore8=function(s,t){__p&&__p();var u=Array.from(s.blockedCategories),v=this.$PagesSettingsInstreamAdsBlockListContentStore19(t.categoryId),w=u.find(function(x){return x.id==t.categoryId});if(!w&&v){u.push(this.$PagesSettingsInstreamAdsBlockListContentStore18(t.categoryId));v.map(function(x){return u.push(this.$PagesSettingsInstreamAdsBlockListContentStore18(x))}.bind(this))}else if(!w)u.push({id:t.categoryId,name:t.categoryName});return s.set("blockedCategories",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore11=function(s,t){var u=Array.from(s.targetPages).filter(function(v){return v.id!==t.pageId});return s.set("targetPages",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore10=function(s,t){var u=Array.from(s.targetPages),v=u.find(function(w){return w.id==t.pageId});if(!v)u.push({id:t.pageId,title:t.pageTitle});return s.set("targetPages",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore12=function(s,t){if(!s.blockListName)return s.set("errorInfo",h._("Failed to update block list. Block list name is required."));s=s.set("requestSent",true);s=s.set("errorInfo",null);c("PagesSettingsInstreamAdsBlockListContentRequestHandler").createOrUpdateBlockListContent(s.pageId,s.blockedPages.map(function(u){return u.id}),s.blockedCategories.map(function(u){return Number(u.id)}),s.blockListName,true,s.isPageLevel,s.blockListId,s.businessId,s.targetPages.map(function(u){return u.id}));return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore13=function(s,t){s=s.set("requestSent",false);s=s.set("updatedBlockListContent",true);return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore14=function(s,t){s=s.set("requestSent",false);s=s.set("errorInfo",t.response.errorDescription);return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore16=function(s){__p&&__p();var t=[];Object.keys(l).sort(function(u,v){if(u===v)return 0;if(parseInt(u,10)===o)return 1;if(parseInt(v,10)===o)return-1;return this.$PagesSettingsInstreamAdsBlockListContentStore18(u).name.toString()<this.$PagesSettingsInstreamAdsBlockListContentStore18(v).name.toString()?-1:1}.bind(this)).map(function(u){t.push(this.$PagesSettingsInstreamAdsBlockListContentStore18(u));if(s)t=t.concat(l[u].map(function(v){return this.$PagesSettingsInstreamAdsBlockListContentStore18(v.toString())}.bind(this)).sort(function(v,w){if(v===w)return 0;return v.name.toString()<w.name.toString()?-1:1}))}.bind(this));return t};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore20=function(s){return n[s]?n[s].toString():null};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore19=function(s){return l[s]?l[s].map(function(t){return t.toString()}):null};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore18=function(s){return{id:s,name:h._({"CATEGORY_ACCESSORIES_DEPRECATED":"Accessories","CATEGORY_AIR_TRAVEL":"Air Travel","CATEGORY_ALCOHOL":"Alcohol","CATEGORY_APPAREL":"Apparel","CATEGORY_APPLICATIONS_AND_SOFTWARE":"Applications & Software","CATEGORY_ARTS":"Arts","CATEGORY_ARTS_AND_ENTERTAINMENT":"Art & Entertainment","CATEGORY_AUDIO_AND_VIDEO_EQUIPMENT":"Audio & Video Equipment","CATEGORY_AUTOS":"Autos","CATEGORY_AUTOS_AND_VEHICLES":"Autos & Vehicles","CATEGORY_BANKING":"Banking","CATEGORY_BEAUTY_AND_FASHION":"Beauty & Fashion","CATEGORY_BEVERAGES":"Beverages","CATEGORY_BOATS":"Boats","CATEGORY_BOOKS_AND_LITERATURE":"Books & Literature","CATEGORY_BUSINESS":"Business","CATEGORY_BUS_RAIL":"Bus Rail","CATEGORY_CAMERA_PHOTO":"Camera Photo","CATEGORY_CAR_RENTAL_TAXI":"Car Rental Taxi","CATEGORY_CHILDCARE":"Childcare","CATEGORY_COMPUTERS":"Computers","CATEGORY_COMPUTERS_AND_ELECTRONICS":"Computers & Electronics","CATEGORY_CREDIT_CARD":"Credit Card","CATEGORY_CRUISES":"Cruises","CATEGORY_CUISINE":"Cuisine","CATEGORY_DATING":"Dating","CATEGORY_DESTINATION_SERVICES":"Destination Services","CATEGORY_DIGITAL_GAMES":"Digital Games","CATEGORY_DRUGS_AND_SUPPLEMENTS":"Drugs & Supplements","CATEGORY_EDUCATION":"Education","CATEGORY_ENTERTAINMENT_MEDIA_DEPRECATED":"Entertainment Media","CATEGORY_EVENT_LISTINGS":"Event Listings","CATEGORY_FASHION":"Fashion","CATEGORY_FINANCE":"Finance","CATEGORY_FITNESS":"Fitness","CATEGORY_FOOD":"Food","CATEGORY_FOOTWEAR":"Footwear","CATEGORY_GAMBLING":"Gambling","CATEGORY_GAMES":"Games","CATEGORY_GAME_SYSTEMS_DEPRECATED":"Game Systems","CATEGORY_GIFT_CARDS_AND_DISCOUNTS":"Gift Cards & Discounts","CATEGORY_HEALTH_AND_FITNESS":"Health & Fitness","CATEGORY_HOBBIES_AND_LEISURE":"Hobbies & Leisure","CATEGORY_HOME_AND_GARDEN":"Home & Garden","CATEGORY_HOTELS":"Hotels","CATEGORY_INDUSTRIAL":"Industrial","CATEGORY_INSURANCE":"Insurance","CATEGORY_INTERNET_TELECOM":"Internet Telecom","CATEGORY_INVESTING":"Investing","CATEGORY_JEWELRY_AND_ACCESSORIES":"Jewelry & Accessories","CATEGORY_JOBS":"Jobs","CATEGORY_LAST":"Last","CATEGORY_LAW_GOVERNMENT_POLITICS":"Law Government Politics","CATEGORY_LOANS":"Loans","CATEGORY_LUXURY_GOODS_DEPRECATED":"Luxury Goods","CATEGORY_MOTORCYCLES":"Motorcycles","CATEGORY_MOVIE":"Movie","CATEGORY_MUSIC":"Music","CATEGORY_NEWS":"News","CATEGORY_NON_DIGITAL_GAMES":"Non-Digital Games","CATEGORY_OTHER":"Not Categorized","CATEGORY_PARENTING":"Parenting","CATEGORY_PAYMENT_PROCESSORS":"Payment Processors","CATEGORY_PERFORMING_ARTS":"Performing Arts","CATEGORY_PERSONAL_CARE":"Personal Care","CATEGORY_PETS_AND_ANIMAL_CARE":"Pets & Animal Care","CATEGORY_PHONE":"Phone","CATEGORY_PORTABLE_ELECTRONICS":"Portable Electronics","CATEGORY_PREGNANCY":"Pregnancy","CATEGORY_RADIO":"Radio","CATEGORY_REAL_ESTATE":"Real Estate","CATEGORY_REAL_ESTATE_HOME":"Real Estate Home","CATEGORY_REAL_ESTATE_RENTAL":"Real Estate Rental","CATEGORY_RELIGION_AND_SPIRITUAL":"Religion & Spiritual","CATEGORY_REPRODUCTIVE_HEALTH":"Reproductive Health","CATEGORY_RESTAURANTS":"Restaurants","CATEGORY_SERVICES":"Services","CATEGORY_SHOPPING":"Shopping","CATEGORY_SMALL_BUSINESS_DEPRECATED":"Small Business","CATEGORY_SOCIAL_ISSUES_AND_ADVOCACY":"Social Issues & Advocacy","CATEGORY_SPECIALTY_TRAVEL_DEPRECATED":"Specialty Travel","CATEGORY_SPECIAL_OCCASIONS":"Special Occasions","CATEGORY_SPORTS":"Sports","CATEGORY_TELEVISION":"Television","CATEGORY_TOYS":"Toys","CATEGORY_TRAVEL":"Travel","CATEGORY_VIDEO_EQUIPMENT_DEPRECATED":"Video Equipment"},[h._enum(m[s],c("InstreamAdsBlockListCategory$FbtEnum"))])}};r.prototype.getAllCategories=function(){return this.getState().allCategories};f.exports=new r(c("PagesSettingsInstreamAdsBlockListDispatcher"))}),null);
__d("InstreamAdsBlockListState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({APPLIED:"APPLIED",PARTIALLY_APPLIED:"PARTIALLY_APPLIED",NOT_APPLIED:"NOT_APPLIED"})}),null);
__d("PagesSettingsInstreamAdsBlockListActions",["PagesSettingsInstreamAdsBlockListContentActions","PagesSettingsInstreamAdsBlockListDataTypes","PagesSettingsInstreamAdsBlockListDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListActionTypes,i={initializeBlockLists:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.INIT,currentPageId:k,targetIsVideoAssetIds:l});c("PagesSettingsInstreamAdsBlockListContentActions").setPageID(k);i.loadAllData()},initializeBlockListsOnBusinessLevel:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.INIT,currentBusinessId:k});c("PagesSettingsInstreamAdsBlockListContentActions").setBusinessID(k);i.loadAllData()},deleteBlockLists:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DELETE_BLOCK_LISTS,blockListIds:k})},didDeleteBlockLists:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DID_DELETE_BLOCK_LISTS})},deleteBlockListsFailure:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DELETE_BLOCK_LISTS_FAILURE,blockListIds:k})},loadAllData:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.LOAD_ALL})},receiveData:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.RECEIVE_DATA,data:k})},selectBlockList:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.SELECT_BLOCK_LIST,blockList:k})},applyBlockList:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.APPLY_BLOCK_LIST,blockListId:k})},unapplyBlockList:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.UNAPPLY_BLOCK_LIST,blockListId:k})},asyncRequestError:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ASYNC_REQUEST_ERROR,response:k})},exportSingleBlockList:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.EXPORT_SINGLE_BLOCK_LIST,blockListId:k})},exportAllBlockLists:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.EXPORT_ALL_BLOCK_LISTS})},importBlockLists:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.IMPORT_BLOCK_LISTS,replaceBlockLists:k,fileInput:l})},didImportBlockLists:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DID_IMPORT_BLOCK_LISTS})},importDidFail:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.IMPORT_DID_FAIL})}};f.exports=i}),null);
__d("XPagesSettingsInstreamAdsBlockListDeletionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list_deletion/",{page_id:{type:"FBID"},block_list_ids:{type:"FBIDVector",required:true},business_id:{type:"FBID"}})}),null);
__d("XPagesSettingsInstreamAdsBlockListExportCSVController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/export_csv/",{page_id:{type:"FBID",required:true},block_list_id:{type:"FBID"}})}),null);
__d("XPagesSettingsInstreamAdsBlockListImportCSVController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/import_csv/",{profile_id:{type:"FBID",required:true},replace_block_lists:{type:"Bool",defaultValue:false}})}),null);
__d("XPagesSettingsInstreamAdsBlockListQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/",{page_id:{type:"FBID"},is_video_asset_ids:{type:"FBIDVector"},business_id:{type:"FBID"}})}),null);
__d("PagesSettingsInstreamAdsBlockListRequestHandler",["PagesSettingsInstreamAdsBlockListActions","AsyncRequest","FileInputUploader","goURI","XPagesSettingsInstreamAdsBlockListDeletionController","XPagesSettingsInstreamAdsBlockListExportCSVController","XPagesSettingsInstreamAdsBlockListImportCSVController","XPagesSettingsInstreamAdsBlockListQueryController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={requestBlockListData:function i(j,k,l){var m=c("XPagesSettingsInstreamAdsBlockListQueryController").getURIBuilder().setFBID("page_id",j).setFBIDVector("is_video_asset_ids",k).setFBID("business_id",l).getURI();new(c("AsyncRequest"))(m).setHandler(function(n){return c("PagesSettingsInstreamAdsBlockListActions").receiveData(n.payload)}).setErrorHandler(function(n){return c("PagesSettingsInstreamAdsBlockListActions").asyncRequestError(n)}).send()},deleteBlockLists:function i(j,k,l){var m=c("XPagesSettingsInstreamAdsBlockListDeletionController").getURIBuilder().setFBID("page_id",j).setFBIDVector("block_list_ids",k).setFBID("business_id",l).getURI();new(c("AsyncRequest"))(m).setHandler(function(n){return c("PagesSettingsInstreamAdsBlockListActions").didDeleteBlockLists()}).setErrorHandler(function(n){return c("PagesSettingsInstreamAdsBlockListActions").deleteBlockListsFailure(k)}).send()},exportBlockLists:function i(j,k){var l=c("XPagesSettingsInstreamAdsBlockListExportCSVController").getURIBuilder().setFBID("page_id",j).setFBID("block_list_id",k).getURI();c("goURI")(l,true,true)},importBlockLists:function i(j,k,l){var m=c("XPagesSettingsInstreamAdsBlockListImportCSVController").getURIBuilder().setFBID("profile_id",j).setBool("replace_block_lists",k).getURI(),n=new(c("FileInputUploader"))(l);n.setURI(m);n.subscribe("success",function(o,p){if(p.response.payload.is_succeeded)c("PagesSettingsInstreamAdsBlockListActions").didImportBlockLists();else c("PagesSettingsInstreamAdsBlockListActions").importDidFail()});n.send()}};f.exports=h}),null);
__d("PagesSettingsInstreamAdsBlockListStoreState",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={allBlockListsLoaded:false,blockLists:[],blockListStates:new Map(),businessId:null,didImportBlockLists:false,editable:false,enableSubcategories:false,initialBlockListStates:new Map(),pageId:null,requestSent:false,selectedBlockList:null,showLowFillRateWarning:false,targetIsVideoAssetIds:[]};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListStore",["fbt","invariant","PagesSettingsInstreamAdsBlockListActions","PagesSettingsInstreamAdsBlockListDataTypes","PagesSettingsInstreamAdsBlockListContentStore","InstreamAdsBlockListState","PagesSettingsInstreamAdsBlockListStoreState","FluxReduceStore","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListRequestHandler","React","SimpleXUIDialog","XUIDialogButton.react","XUIDialogCancelButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListActionTypes,m=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListContentActionTypes;j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.__moduleID=f.id}n.prototype.getInitialState=function(){return new(c("PagesSettingsInstreamAdsBlockListStoreState"))()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case l.INIT:return this.$PagesSettingsInstreamAdsBlockListStore1(o,p);case l.APPLY_BLOCK_LIST:return this.$PagesSettingsInstreamAdsBlockListStore2(o,p);case l.UNAPPLY_BLOCK_LIST:return this.$PagesSettingsInstreamAdsBlockListStore3(o,p);case l.DELETE_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore4(o,p);case l.DID_DELETE_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore5(o,p);case l.DELETE_BLOCK_LISTS_FAILURE:return this.$PagesSettingsInstreamAdsBlockListStore6(o,p);case l.LOAD_ALL:return this.$PagesSettingsInstreamAdsBlockListStore5(o,p);case l.RECEIVE_DATA:return this.$PagesSettingsInstreamAdsBlockListStore7(o,p);case l.ASYNC_REQUEST_ERROR:return this.$PagesSettingsInstreamAdsBlockListStore8(o,p);case l.SELECT_BLOCK_LIST:return this.$PagesSettingsInstreamAdsBlockListStore9(o,p);case l.EXPORT_SINGLE_BLOCK_LIST:return this.$PagesSettingsInstreamAdsBlockListStore10(o,p);case l.EXPORT_ALL_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore10(o,p);case l.IMPORT_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore11(o,p);case l.DID_IMPORT_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore12(o,p);case l.IMPORT_DID_FAIL:return this.$PagesSettingsInstreamAdsBlockListStore13(o,p);case m.DID_UPDATE_BLOCK_LIST_CONTENT:c("PagesSettingsInstreamAdsBlockListDispatcher").waitFor([c("PagesSettingsInstreamAdsBlockListContentStore").getDispatchToken()]);return this.$PagesSettingsInstreamAdsBlockListStore5(o,p)}return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore1=function(o,p){o=this.getInitialState();o=o.set("pageId",p.currentPageId);o=o.set("businessId",p.currentBusinessId);var q=p.targetIsVideoAssetIds?Array.from(p.targetIsVideoAssetIds):[];o=o.set("targetIsVideoAssetIds",q);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore5=function(o,p){o=o.set("didImportBlockLists",false);o=o.set("allBlockListsLoaded",false);o=o.set("requestSent",true);c("PagesSettingsInstreamAdsBlockListRequestHandler").requestBlockListData(o.pageId,o.targetIsVideoAssetIds,o.businessId);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore7=function(o,p){__p&&__p();if(!p.data.blockLists)return this.$PagesSettingsInstreamAdsBlockListStore8(o,p);Array.isArray(p.data.blockLists)||i(0);var q=[],r=o.blockListStates,s=new Map();p.data.blockLists.forEach(function(t){q.push(t);var o=r.has(t.id)?r.get(t.id):t.state;if(o)s.set(t.id,o)});o=o.set("allBlockListsLoaded",true);o=o.set("requestSent",false);o=o.set("blockLists",q);o=o.set("initialBlockListStates",new Map(s));o=o.set("showLowFillRateWarning",p.data.showLowFillRateWarning);o=o.set("enableSubcategories",p.data.enableSubcategories);o=o.set("blockListStates",s);o=o.set("editable",p.data.editable);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore4=function(o,p){o=o.set("requestSent",true);c("PagesSettingsInstreamAdsBlockListRequestHandler").deleteBlockLists(o.pageId,p.blockListIds,o.businessId);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore2=function(o,p){var q=new Map(o.blockListStates.set(p.blockListId,c("InstreamAdsBlockListState").APPLIED));return o.set("blockListStates",q)};n.prototype.$PagesSettingsInstreamAdsBlockListStore3=function(o,p){var q=new Map(o.blockListStates.set(p.blockListId,c("InstreamAdsBlockListState").NOT_APPLIED));return o.set("blockListStates",q)};n.prototype.$PagesSettingsInstreamAdsBlockListStore10=function(o,p){c("PagesSettingsInstreamAdsBlockListRequestHandler").exportBlockLists(o.pageId,p.blockListId);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore11=function(o,p){o=o.set("requestSent",true);c("PagesSettingsInstreamAdsBlockListRequestHandler").importBlockLists(o.pageId,p.replaceBlockLists,p.fileInput);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore12=function(o,p){o=this.$PagesSettingsInstreamAdsBlockListStore5(o,p);return o.set("didImportBlockLists",true)};n.prototype.$PagesSettingsInstreamAdsBlockListStore13=function(o,p){o=o.set("didImportBlockLists",false);c("SimpleXUIDialog").show(h._("There was an issue importing the CSV file. You can only import existing block lists that were exported from a Facebook Page. CSV files that were edited are not supported."),h._("Block List Not Imported"));return this.$PagesSettingsInstreamAdsBlockListStore5(o,p)};n.prototype.$PagesSettingsInstreamAdsBlockListStore9=function(o,p){return o.set("selectedBlockList",p.blockList)};n.prototype.$PagesSettingsInstreamAdsBlockListStore6=function(o,p){this.$PagesSettingsInstreamAdsBlockListStore14(h._("There was an issue deleting one or more of your block lists."),h._("Try Deleting Again?"),function(){return c("PagesSettingsInstreamAdsBlockListActions").deleteBlockLists(p.blockListIds)});return o.set("requestSent",false)};n.prototype.$PagesSettingsInstreamAdsBlockListStore8=function(o,p){this.$PagesSettingsInstreamAdsBlockListStore14(h._("There was an issue loading your block lists."),h._("Block Lists Not Loading"),function(){return c("PagesSettingsInstreamAdsBlockListActions").loadAllData()});return o.set("requestSent",false)};n.prototype.$PagesSettingsInstreamAdsBlockListStore14=function(o,p,q){var r=c("React").createElement("div",null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogButton.react"),{label:h._("Try Again"),action:"cancel",use:"confirm",onClick:q}));c("SimpleXUIDialog").showEx(o,p,r)};n.prototype.getComposerBlockListIdsToApply=function(){if(!this.getState().allBlockListsLoaded)return null;var o=this.getState().blockListStates,p=Array.from(o.keys()).filter(function(q){return o.get(q)===c("InstreamAdsBlockListState").APPLIED});return p};n.prototype.getBlockListIdsToAdd=function(){var o=this.getState().blockListStates;return Array.from(o.keys()).filter(function(p){return o.get(p)===c("InstreamAdsBlockListState").APPLIED})};n.prototype.getBlockListIdsToRemove=function(){var o=this.getState().blockListStates;return Array.from(o.keys()).filter(function(p){return o.get(p)===c("InstreamAdsBlockListState").NOT_APPLIED})};n.prototype.getBlockListStatesHasChanged=function(){var o=this.getState().blockListStates,p=this.getState().initialBlockListStates;return!Array.from(o.keys()).every(function(q){return p.get(q)===o.get(q)})};n.prototype.getTargetVideoAssets=function(){return this.getState().targetIsVideoAssetIds};f.exports=new n(c("PagesSettingsInstreamAdsBlockListDispatcher"))}),null);
__d("PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem.react",["ix","cx","InstreamAdsBlockListCategoryMaps","React","ReactDOM","SUIGlyphIcon.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem1=function(event){this.props.onSelect(this.props.entry,event)}.bind(this),this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem2=function(event){if(this.props.onHighlight)this.props.onHighlight(this.props.entry,event)}.bind(this),this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem5=function(event){this.props.toggleExpand(this.props.entry.getUniqueID())}.bind(this),o}m.prototype.shouldComponentUpdate=function(n){return this.props.entry.getUniqueID()!==n.entry.getUniqueID()||this.props.highlighted!==n.highlighted||this.props.selected!==n.selected||this.props.disabled!==n.disabled||this.props.expand!==n.expand};m.prototype.componentDidMount=function(){var n=this.props.onRenderHighlight;if(this.props.highlighted&&n)n(c("ReactDOM").findDOMNode(this))};m.prototype.componentDidUpdate=function(){var n=this.props.onRenderHighlight;if(this.props.highlighted&&n)n(c("ReactDOM").findDOMNode(this))};m.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem3=function(){if(l[this.props.entry.getUniqueID()])return false;return true};m.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem4=function(){if(l[this.props.entry.getUniqueID()]&&l[this.props.entry.getUniqueID()].length>0)return false;return true};m.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem6=function(){if(this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem4()||!this.props.enableSubcategories)return null;else if(this.props.expand)return c("React").createElement("span",{className:"_61n2"},c("React").createElement(c("SUIGlyphIcon.react"),{onClick:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem5,srcDefault:h("125305")}));return c("React").createElement("span",{className:"_61n2"},c("React").createElement(c("SUIGlyphIcon.react"),{onClick:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem5,srcDefault:h("125313")}))};m.prototype.render=function(){var n="_2cal"+(this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem3.bind(this)()?" _61n3":"")+(this.props.highlighted&&!this.props.disabled?" _5-rn":"")+(this.props.disabled?" _5-ro":"");return c("React").createElement("div",{className:n},this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem6(),c("React").createElement("li",{className:"_61n4",key:this.props.key,"aria-selected":this.props.highlighted,onMouseDown:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem1,onMouseEnter:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem2,role:this.props.role},this.props.entry.getTitle()))};m.defaultProps={role:"option"};f.exports=m}),null);
__d("PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadView.react",["cx","PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.renderItem=function(q){var r=this.props.addedEntries.findIndex(function(s){return s==q.getUniqueID()});return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadItem.react"),{disabled:r>=0,enableSubcategories:this.props.enableSubcategories,entry:q,expand:this.props.expandStates.get(q.getUniqueID()),key:q.getUniqueID(),onSelect:this.props.onSelect,toggleExpand:this.props.toggleExpand})}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_3rtv"},c("React").createElement("ul",null,this.props.entries.map(this.renderItem,this)))};f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListContentCategoryTypeahead.react",["cx","fbt","PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadView.react","PagesSettingsInstreamAdsBlockListContentStore","React","InstreamAdsBlockListCategoryMaps","SearchableEntry","StaticSearchSource","SearchableTextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){__p&&__p();k.constructor.call(this,m);this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead4=function(event){this.props.onShowView();event.stopPropagation()}.bind(this);this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead9=function(n){this.setState({entries:n},function(){return this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead14()}.bind(this))}.bind(this);this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead13=function(n){var o=this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead16(n),p=this.state.expandStates;p.set(n,!p.get(n));o.map(function(q){p.set(q,!p.get(q))});this.setState({expandStates:p},function(){return this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead9(this.state.entries)}.bind(this))}.bind(this);this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead12=function(n){if(this.props.onSelected)this.props.onSelected(n.getUniqueID(),n.getTitle())}.bind(this);this.state={entries:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead1(),entriesToShow:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead1(),excludedEntries:this.props.blockedCategories,expandStates:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead2.bind(this)(),focused:false,queryString:"",searchSource:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead3.bind(this)()}}l.prototype.render=function(){var m=null;if(this.props.editable||this.props.isBusinessLevel)m=i._("Search Categories");else m=i._("Only admins can add or remove blocked categories.");return c("React").createElement("div",{onClick:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead4,role:"presentation"},c("React").createElement("div",{className:"_5-6o"+(this.state.focused?" _5-6p":"")+(!this.props.editable||this.props.processing?" _17g0":"")},c("React").createElement(c("SearchableTextInput.react"),{disabled:!this.props.editable||this.props.processing,onBlur:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead5.bind(this),onChange:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead6.bind(this),onClear:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead7.bind(this),onFocus:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead8.bind(this),placeholder:m,queryString:this.state.queryString,searchOnFocus:true,searchSource:this.state.searchSource,onEntriesFound:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead9})),this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead10.bind(this)())};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead10=function(){if(this.props.viewHidden)return null;return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentCategoryTypeaheadView.react"),{entries:this.state.entriesToShow,addedEntries:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead11(),expandStates:this.state.expandStates,enableSubcategories:this.props.enableSubcategories,onSelect:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead12,toggleExpand:this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead13})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead11=function(){return this.state.excludedEntries.concat(this.props.blockedCategories).map(function(m){return m.id})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead14=function(){__p&&__p();var m=c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap,n=c("PagesSettingsInstreamAdsBlockListContentStore").getAllCategories(),o=this.state.entries.map(function(r){return r.getUniqueID().toString()}),p=[],q=[];n.map(function(r,s){__p&&__p();if(m[r.id]&&o.includes(r.id)){q.push(new(c("SearchableEntry"))({uniqueID:r.id,title:r.name,order:s}));this.state.queryString?this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead15(r.id):null}else if(m[r.id])this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead16(r.id).some(function(t,u){if(o.includes(t)){q.push(new(c("SearchableEntry"))({uniqueID:r.id,title:r.name,order:s}));this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead15(r.id);p.push(r);return true}this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead17(r.id);return false}.bind(this));else if(o.includes(r.id)&&this.state.expandStates.get(r.id))q.push(new(c("SearchableEntry"))({uniqueID:r.id,title:r.name,order:s}))}.bind(this));this.setState({excludedEntries:p,entriesToShow:q})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead2=function(){var m=c("PagesSettingsInstreamAdsBlockListContentStore").getAllCategories(),n=new Map();m.map(function(o){n.set(o.id,false)});return n};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead15=function(m){var n=this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead16(m),o=this.state.expandStates;o.set(m,true);n.map(function(p){o.set(p,true)});this.setState({expandStates:o})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead17=function(m){var n=this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead16(m),o=this.state.expandStates;o.set(m,false);n.map(function(p){o.set(p,false)});this.setState({expandStates:o})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead6=function(event){var m=this.state.expandStates;if(event.target.value.length===0)m.forEach(function(n,o){m.set(o,false)});this.setState({queryString:event.target.value,expandStates:m})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead7=function(event){this.setState({queryString:""})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead8=function(){this.setState({queryString:"",focused:true})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead5=function(){this.setState({queryString:"",focused:false})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead1=function(){var m=c("PagesSettingsInstreamAdsBlockListContentStore").getAllCategories();return m.map(function(n,o){return new(c("SearchableEntry"))({uniqueID:n.id,title:n.name,order:o})})};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead3=function(){return new(c("StaticSearchSource"))(this.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead1())};l.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryTypeahead16=function(m){return c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap[m].map(function(n){return n.toString()})};f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListContentCategoryItem.react",["cx","InstreamAdsBlockListCategoryMaps","React","XUICloseButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.state={isActive:false}}k.prototype.render=function(){var l=null;if(this.state.isActive&&this.props.editable)l=c("React").createElement(c("XUICloseButton.react"),{className:"_19tb",onClick:this.$PagesSettingsInstreamAdsBlockListContentCategoryItem1.bind(this),size:"small"});var m="_19ru"+(this.$PagesSettingsInstreamAdsBlockListContentCategoryItem2.bind(this)()?" _em7":"")+(this.props.disabled?" _em8":"");return c("React").createElement("li",{key:this.props.categoryId,className:m,onMouseEnter:this.$PagesSettingsInstreamAdsBlockListContentCategoryItem3.bind(this),onMouseLeave:this.$PagesSettingsInstreamAdsBlockListContentCategoryItem4.bind(this)},c("React").createElement("div",{className:"_19t1"},this.props.name),l)};k.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryItem1=function(){this.props.onDeleteItem(this.props.categoryId)};k.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryItem3=function(){this.setState({isActive:true})};k.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryItem4=function(){this.setState({isActive:false})};k.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryItem2=function(){var l=c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap;if(l[this.props.categoryId])return false;return true};f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListContentCategoryView.react",["cx","PagesSettingsInstreamAdsBlockListContentStore","InstreamAdsBlockListCategoryMaps","PagesSettingsInstreamAdsBlockListContentCategoryItem.react","React","ScrollableArea.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.renderItem=function(m){var n=this.props.categories.findIndex(function(o){return o.id==m.id});return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentCategoryItem.react"),{blockListId:this.props.blockListId,categoryId:m.id,disabled:n<0,editable:this.props.editable&&n>=0,key:m.id,name:m.name,onDeleteItem:this.props.onDeleteItem})}.bind(this)}k.prototype.render=function(){if(this.props.categories.length===0)return null;return c("React").createElement(c("ScrollableArea.react"),{className:"_19rq"+(!this.props.editable?" _17g0":""),maxHeight:180,shadow:false},c("React").createElement("ul",{className:"_19te"},this.$PagesSettingsInstreamAdsBlockListContentCategoryView1().map(this.renderItem,this)))};k.prototype.$PagesSettingsInstreamAdsBlockListContentCategoryView1=function(){__p&&__p();var l=c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap,m=c("PagesSettingsInstreamAdsBlockListContentStore").getAllCategories(),n=this.props.categories.map(function(p){return p.id}),o=[];m.map(function(p,q){__p&&__p();if(l[p.id]&&n.includes(p.id))o.push(p);else if(l[p.id])l[p.id].some(function(r,s){if(n.includes(r.toString())&&this.props.enableSubcategories){o.push(p);return true}return false}.bind(this));else if(n.includes(p.id))o.push(p)}.bind(this));return o};f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListContentPageTypeahead.react",["cx","fbt","CurrentUser","React","WebAsyncSearchSource","XUITypeahead.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.state={queryString:null,searchSource:this.$PagesSettingsInstreamAdsBlockListContentPageTypeahead1.bind(this)(),focused:false}}l.prototype.render=function(){var m=null;if(this.props.editable||this.props.isBusinessLevel)m=i._("Search Pages");else m=i._("Only admins can add or remove blocked Pages.");return c("React").createElement("div",{className:"_5-6o"+(this.state.focused?" _5-6p":"")+(!this.props.editable||this.props.processing?" _17g0":"")},c("React").createElement(c("XUITypeahead.react"),{disabled:!this.props.editable||this.props.processing,excludedEntries:this.props.blockedPages.reduce(function(n,o){n[o.id]=o.id;return n},{}),onBlur:this.$PagesSettingsInstreamAdsBlockListContentPageTypeahead2.bind(this),onChange:this.$PagesSettingsInstreamAdsBlockListContentPageTypeahead3.bind(this),onClear:this.$PagesSettingsInstreamAdsBlockListContentPageTypeahead4.bind(this),onFocus:this.$PagesSettingsInstreamAdsBlockListContentPageTypeahead5.bind(this),onSelectAttempt:this.$PagesSettingsInstreamAdsBlockListContentPageTypeahead6.bind(this),placeholder:m,queryString:this.state.queryString,searchSource:this.state.searchSource,viewStyle:"rich"}))};l.prototype.$PagesSettingsInstreamAdsBlockListContentPageTypeahead6=function(m){if(this.props.onSelected)this.props.onSelected(m.getUniqueID(),m.getTitle());this.setState({queryString:null})};l.prototype.$PagesSettingsInstreamAdsBlockListContentPageTypeahead3=function(event){this.setState({queryString:event.target.value})};l.prototype.$PagesSettingsInstreamAdsBlockListContentPageTypeahead4=function(event){this.setState({queryString:null})};l.prototype.$PagesSettingsInstreamAdsBlockListContentPageTypeahead5=function(){this.setState({queryString:"",focused:true})};l.prototype.$PagesSettingsInstreamAdsBlockListContentPageTypeahead2=function(){this.setState({queryString:"",focused:false})};l.prototype.$PagesSettingsInstreamAdsBlockListContentPageTypeahead1=function(){var m=this.props.pageId;if(this.props.businessId)m=c("CurrentUser").getID();var n={filter:["page"],viewer:m,rsp:"mentions",bsp:"true"};return new(c("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:babelHelpers["extends"]({is_bootstrap:false},n)}],bootstrapRequests:[{uri:"/ajax/typeahead/first_degree.php",data:babelHelpers["extends"]({is_bootstrap:true},n)}],auxiliaryFields:{verified:"is_verified"}})};f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListContentPageItem.react",["cx","React","XUICloseButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.state={isActive:false}}k.prototype.render=function(){var l=null;if(this.state.isActive&&this.props.editable)l=c("React").createElement(c("XUICloseButton.react"),{className:"_19tb",onClick:this.$PagesSettingsInstreamAdsBlockListContentPageItem1.bind(this),size:"small"});return c("React").createElement("li",{key:this.props.pageId,className:"_19ru",onMouseEnter:this.$PagesSettingsInstreamAdsBlockListContentPageItem2.bind(this),onMouseLeave:this.$PagesSettingsInstreamAdsBlockListContentPageItem3.bind(this)},c("React").createElement("div",{className:"_19t1"},this.props.title),l)};k.prototype.$PagesSettingsInstreamAdsBlockListContentPageItem1=function(){this.props.onDeleteItem(this.props.pageId)};k.prototype.$PagesSettingsInstreamAdsBlockListContentPageItem2=function(){this.setState({isActive:true})};k.prototype.$PagesSettingsInstreamAdsBlockListContentPageItem3=function(){this.setState({isActive:false})};f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListContentPageView.react",["cx","PagesSettingsInstreamAdsBlockListContentPageItem.react","React","ScrollableArea.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.renderItem=function(l){return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentPageItem.react"),{blockListId:this.props.blockListId,editable:this.props.editable,key:l.id,onDeleteItem:this.props.onDeleteItem,pageId:l.id,title:l.title})};k.prototype.render=function(){if(this.props.pages.length===0)return null;var l=this.renderItem.bind(this);return c("React").createElement(c("ScrollableArea.react"),{className:"_19rq"+(!this.props.editable?" _17g0":""),maxHeight:180,shadow:false},c("React").createElement("ul",{className:"_19te"},this.props.pages.map(l)))};f.exports=k}),null);
__d("XPagesSettingsInstreamAdsBlockListTargetPageQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/adbreaks/block_list/query/target_page/",{business_id:{type:"FBID",required:true},value:{type:"String"},offset:{type:"Int",defaultValue:0},limit:{type:"Int",defaultValue:100}})}),null);
__d("PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead.react",["cx","fbt","React","SearchableEntry","WebAsyncSearchSource","XPagesSettingsInstreamAdsBlockListTargetPageQueryController","XUITypeahead.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.state={queryString:null,searchSource:this.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead1.bind(this)(),focused:false}}l.prototype.render=function(){var m=null;if(this.props.editable)m=i._("Search Pages");else m=i._("Only program admins can add or remove blocked Pages.");return c("React").createElement("div",{className:"_5-6o"+(this.state.focused?" _5-6p":"")+(!this.props.editable||this.props.processing?" _17g0":"")},c("React").createElement(c("XUITypeahead.react"),{disabled:!this.props.editable||this.props.processing,excludedEntries:this.props.targetPages.reduce(function(n,o){n[o.id]=o.id;return n},{}),onBlur:this.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead2.bind(this),onChange:this.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead3.bind(this),onClear:this.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead4.bind(this),onFocus:this.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead5.bind(this),onSelectAttempt:this.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead6.bind(this),placeholder:m,queryString:this.state.queryString,searchSource:this.state.searchSource,showEntriesOnFocus:true}))};l.prototype.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead6=function(m){if(this.props.onSelected)this.props.onSelected(m.getUniqueID(),m.getTitle());this.setState({queryString:null})};l.prototype.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead3=function(event){this.setState({queryString:event.target.value})};l.prototype.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead4=function(event){this.setState({queryString:null})};l.prototype.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead5=function(){this.setState({queryString:"",focused:true})};l.prototype.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead2=function(){this.setState({queryString:"",focused:false})};l.prototype.$PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead1=function(){var m=c("XPagesSettingsInstreamAdsBlockListTargetPageQueryController").getURIBuilder().setFBID("business_id",this.props.businessId).getURI().toString();return new(c("WebAsyncSearchSource"))({queryRequests:[{uri:m}],bootstrapRequests:[{uri:m}],packageFn:function n(o,p){return new(c("SearchableEntry"))({uniqueID:o.uid,title:o.text,photo:o.photo})},getAllForEmptyQuery:true})};f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListContentView.react",["cx","fbt","ix","AbstractTextInput.react","Image.react","LayerFadeOnHide","LoadingDialog.react","PagesSettingsInstreamAdsBlockListContentCategoryTypeahead.react","PagesSettingsInstreamAdsBlockListContentCategoryView.react","PagesSettingsInstreamAdsBlockListContentPageTypeahead.react","PagesSettingsInstreamAdsBlockListContentPageView.react","PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead.react","React","Tooltip.react","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n);this.$PagesSettingsInstreamAdsBlockListContentView3=function(){this.setState({categoryViewHidden:true})}.bind(this);this.$PagesSettingsInstreamAdsBlockListContentView4=function(){this.setState({categoryViewHidden:false})}.bind(this);this.$PagesSettingsInstreamAdsBlockListContentView2=function(){this.setState({categoryViewHidden:true})}.bind(this);this.state={categoryViewHidden:true}}m.prototype.render=function(){if(!this.props.allContentLoaded)return c("React").createElement(c("LoadingDialog.react"),{onToggle:this.props.onToggle});var n=c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",use:"default",label:i._("Cancel")}),o=null;if(this.$PagesSettingsInstreamAdsBlockListContentView1())o=c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",use:"confirm",disabled:this.props.requestSent||!this.props.editable,label:i._("Create"),onClick:this.props.onClickConfirmButton});else o=c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",use:"confirm",disabled:this.props.requestSent||!this.props.editable,label:i._("Save"),onClick:this.props.onClickConfirmButton});return c("React").createElement("div",null,c("React").createElement(c("XUIDialog.react"),{shown:!this.props.updatedBlockListContent,behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},titleID:"block-list-content-dialog-title",width:600,onToggle:this.props.onToggle,layerHideOnBlur:false},c("React").createElement(c("XUIDialogTitle.react"),null,this.renderTitle.bind(this)()),c("React").createElement(c("XUIDialogBody.react"),{className:"_5-6r",onClick:this.$PagesSettingsInstreamAdsBlockListContentView2},this.renderError.bind(this)(),this.renderDescription.bind(this)(),this.renderBizEditMessage.bind(this)(),this.renderPageContent.bind(this)(),this.renderCategoryContent.bind(this)(),this.renderNameInputContent.bind(this)(),this.renderBusinessFeatures.bind(this)(),this.renderPageLevelCheckbox.bind(this)()),c("React").createElement(c("XUIDialogFooter.react"),null,n,o)))};m.prototype.renderTitle=function(){if(this.$PagesSettingsInstreamAdsBlockListContentView1())return c("React").createElement("div",null,i._("Create Block List For Ad Breaks"));return c("React").createElement("div",null,i._("Edit Block List For Ad Breaks"))};m.prototype.renderDescription=function(){if(this.props.businessId)return c("React").createElement(c("XUIText.react"),{className:"_5-6t"},i._("Prevent ads from specific Pages or categories from appearing in the videos on your Pages. You can add block lists to specific Pages to make it available for your admins to use. Ads for alcohol, gambling, dating and adult health products are restricted by default. Ad restrictions don't apply to adjacent content."));return c("React").createElement(c("XUIText.react"),{className:"_5-6t"},i._("Prevent ads from specific Pages or categories from appearing in your videos. Ads for alcohol, gambling, dating and adult health products are restricted by default. Ad restrictions don't apply to adjacent content."))};m.prototype.renderBizEditMessage=function(){if(this.props.businessId||!this.props.isBusinessLevel||this.props.editable)return null;return c("React").createElement(c("XUINotice.react"),{className:"_17nx",use:"notify",size:"small"},c("React").createElement(c("XUIText.react"),{weight:"bold",size:"header4"},i._("Block List Can't Be Edited")),c("React").createElement("br",null),i._("This block list was added in Business Manager and can only be edited by an admin in Business Manager."))};m.prototype.renderPageContent=function(){var n=c("React").createElement("div",{className:"_sup"},c("React").createElement("div",{className:"_5-6y"},i._("Blocked Pages"),this.renderTooltip(i._("This prevents ads from specific Pages from appearing in your videos.")))),o=c("React").createElement("div",{className:"_suq"},c("React").createElement("div",{className:"_sur"},c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentPageView.react"),{allLoaded:this.props.allContentLoaded,blockListId:this.props.blockListId,editable:this.props.editable&&!this.props.requestSent,pages:this.props.blockedPages,onDeleteItem:this.props.onDeletePage}),c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentPageTypeahead.react"),{blockedPages:this.props.blockedPages,blockListId:this.props.blockListId,businessId:this.props.businessId,editable:this.props.editable,isBusinessLevel:this.props.isBusinessLevel,pageId:this.props.pageId,processing:this.props.requestSent,onSelected:this.props.onAddPage})));return c("React").createElement("div",{className:"_5-6z"},n,o)};m.prototype.renderCategoryContent=function(){var n=c("React").createElement("div",{className:"_sup"},c("React").createElement("div",{className:"_5-6y"},i._("Blocked Categories"),this.renderTooltip(i._("Prevent ads that contain specific content from appearing in your videos. Choose the categories to block or select \"Not Categorized\" if you want to exclude videos that haven't been categorized yet. We can't guarantee that all videos related to each category can be avoided completely.")))),o=c("React").createElement("div",{className:"_suq"},c("React").createElement("div",{className:"_sur"},c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentCategoryView.react"),{allLoaded:this.props.allContentLoaded,blockListId:this.props.blockListId,categories:this.props.blockedCategories,editable:this.props.editable&&!this.props.requestSent,enableSubcategories:this.props.enableSubcategories,onDeleteItem:this.props.onDeleteCategory}),c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentCategoryTypeahead.react"),{blockedCategories:this.props.blockedCategories,blockListId:this.props.blockListId,businessId:this.props.businessId,editable:this.props.editable,enableSubcategories:this.props.enableSubcategories,isBusinessLevel:this.props.isBusinessLevel,pageId:this.props.pageId,processing:this.props.requestSent,viewHidden:this.state.categoryViewHidden,onHideView:this.$PagesSettingsInstreamAdsBlockListContentView3,onShowView:this.$PagesSettingsInstreamAdsBlockListContentView4,onSelected:this.props.onAddCategory})));return c("React").createElement("div",{className:"_5-6z"},n,o)};m.prototype.renderBusinessFeatures=function(){if(!this.props.businessId)return null;var n=c("React").createElement("div",{className:"_sup"},c("React").createElement("div",{className:"_5-6y"},i._("Add to Specific Pages"),this.renderTooltip(i._("Add this block list to specific Pages in your business to make it available for your Page admins to use.")))),o=c("React").createElement("div",{className:"_suq"},c("React").createElement("div",{className:"_sur"},c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentPageView.react"),{allLoaded:this.props.allContentLoaded,blockListId:this.props.blockListId,editable:this.props.editable&&!this.props.requestSent,pages:this.props.targetPages,onDeleteItem:this.props.onDeleteTargetPage}),c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentTargetPageTypeahead.react"),{blockListId:this.props.blockListId,businessId:this.props.businessId,editable:this.props.editable,pageId:this.props.pageId,processing:this.props.requestSent,onSelected:this.props.onAddTargetPage,targetPages:this.props.targetPages})));return c("React").createElement("div",{className:"_5-6z"},n,o)};m.prototype.renderNameInputContent=function(){var n=c("React").createElement("div",{className:"_sup"},c("React").createElement("div",{className:"_5-6y"},i._("Block List Name"),this.renderTooltip(i._("Give your block list a name that describes the Pages or categories you're blocking.")))),o=c("React").createElement("div",{className:"_suq"},c("React").createElement("div",{className:"_sur"},c("React").createElement(c("AbstractTextInput.react"),{className:"_12hn"+(!this.props.editable||this.props.requestSent?" _17g0":""),disabled:!this.props.editable||this.props.requestSent,placeholder:i._("Enter a name"),useLabel:false,value:this.props.blockListName,onChange:this.onNameInputChanged.bind(this)})));return c("React").createElement("div",{className:"_5-6z"},n,o)};m.prototype.renderPageLevelCheckbox=function(){var n=c("React").createElement("div",{className:"_sup"},c("React").createElement("div",{className:"_5-6y"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.props.isPageLevel,disabled:this.props.requestSent||!this.props.editable,onChange:this.onCheckboxChanged.bind(this)}))),o=null;if(this.props.businessId)o=c("React").createElement("div",{className:"_suq"},c("React").createElement("div",{className:"_sur"},c("React").createElement(c("XUIText.react"),{display:"block",size:"meta1",weight:"bold"},i._("Save as a Page-level block list and apply to all videos.")),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},i._({"*":"This block list will be applied to all videos on the Pages you've added.","_1":"This block list will be applied to all videos on the Page you've added."},[i._plural(this.props.targetPages.length)]))));else o=c("React").createElement("div",{className:"_suq"},c("React").createElement("div",{className:"_sur"},c("React").createElement(c("XUIText.react"),{display:"block",size:"meta1",weight:"bold"},i._("Make this block list a default for this page.")),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},i._("Default block lists are automatically applied to all videos on this Page."))));return c("React").createElement("div",{className:"_5-6z"},n,o)};m.prototype.renderError=function(){if(!this.props.errorInfo)return null;return c("React").createElement(c("XUINotice.react"),{className:"_17nx",use:"warn",size:"small"},c("React").createElement(c("XUIText.react"),{weight:"bold",size:"header4"},i._("Failed to update block list.")),c("React").createElement("br",null),this.props.errorInfo)};m.prototype.renderTooltip=function(n){return c("React").createElement(c("Tooltip.react"),{className:"_2pir",tooltip:n},c("React").createElement(c("Image.react"),{className:"_5-6u",src:j("28631")}))};m.prototype.onNameInputChanged=function(event){this.props.onChangeNameInput(event.target.value)};m.prototype.onCheckboxChanged=function(event){this.props.onChangePageLevelCheckbox(event.target.checked)};m.prototype.$PagesSettingsInstreamAdsBlockListContentView1=function(){return this.props.blockListId===null};f.exports=m}),null);
__d("PagesSettingsInstreamAdsBlockListContentContainer",["FluxContainer","PagesSettingsInstreamAdsBlockListContentActions","PagesSettingsInstreamAdsBlockListContentStore","PagesSettingsInstreamAdsBlockListContentView.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("PagesSettingsInstreamAdsBlockListContentStore")]};j.calculateState=function(k){var l=c("PagesSettingsInstreamAdsBlockListContentStore").getState();return{allContentLoaded:l.allContentLoaded,blockedCategories:Array.from(l.blockedCategories),blockedPages:Array.from(l.blockedPages),blockListId:l.blockListId,blockListName:l.blockListName,enableSubcategories:l.enableSubcategories,errorInfo:l.errorInfo,isBusinessLevel:l.isBusinessLevel,isPageLevel:l.isPageLevel,pageId:l.pageId,requestSent:l.requestSent,targetPages:Array.from(l.targetPages),updatedBlockListContent:l.updatedBlockListContent}};j.prototype.render=function(){return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentView.react"),{allContentLoaded:this.state.allContentLoaded,blockedCategories:this.state.blockedCategories,blockedPages:this.state.blockedPages,blockListId:this.state.blockListId,blockListName:this.state.blockListName,businessId:this.props.businessId,editable:this.props.editable,enableSubcategories:this.state.enableSubcategories,errorInfo:this.state.errorInfo,isBusinessLevel:this.state.isBusinessLevel,isPageLevel:this.state.isPageLevel,pageId:this.state.pageId,requestSent:this.state.requestSent,targetPages:this.state.targetPages,updatedBlockListContent:this.state.updatedBlockListContent,onAddPage:c("PagesSettingsInstreamAdsBlockListContentActions").addPageToUI,onAddCategory:c("PagesSettingsInstreamAdsBlockListContentActions").addCategoryToUI,onAddTargetPage:c("PagesSettingsInstreamAdsBlockListContentActions").addTargetPageToUI,onChangeNameInput:c("PagesSettingsInstreamAdsBlockListContentActions").updateName,onChangePageLevelCheckbox:c("PagesSettingsInstreamAdsBlockListContentActions").updatePageLevelCheckbox,onClickConfirmButton:c("PagesSettingsInstreamAdsBlockListContentActions").createOrUpdateBlockListContent,onDeleteCategory:c("PagesSettingsInstreamAdsBlockListContentActions").removeCategoryFromUI,onDeletePage:c("PagesSettingsInstreamAdsBlockListContentActions").removePageFromUI,onDeleteTargetPage:c("PagesSettingsInstreamAdsBlockListContentActions").removeTargetPageFromUI,onToggle:this.props.onToggle})};j.prototype.UNSAFE_componentWillMount=function(){c("PagesSettingsInstreamAdsBlockListContentActions").loadCategories(this.props.enableSubcategories)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{pure:false})}),null);
__d("AdBreakPortalInstreamAdsBlockListView.react",["ix","cx","fbt","AdBreakPortalInstreamAdsBlockListNameCell.react","Date.react","PagesSettingsInstreamAdsBlockListContentContainer","React","SimpleXUIDialog","SUIButton.react","SUICard.react","SUICardHeader.react","SUIGlyphIcon.react","SUISelector.react","SUISelectorOption.react","SUISpinner.react","SUITable.react","SUITableTypes","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("SUITableTypes").ORDER_DIRECTION;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){__p&&__p();l.constructor.call(this,o);this.$AdBreakPortalInstreamAdsBlockListView11=function(p){if(p==="delete")this.$AdBreakPortalInstreamAdsBlockListView12()}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView6=function(p,q){var r;this.setState({orderBy:p,orderDirection:babelHelpers["extends"]({},this.state.orderDirection,(r={},r[p]=q===m.ASCENDING?m.DESCENDING:m.ASCENDING,r))})}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView5=function(p){var q=babelHelpers["extends"]({},this.state.isSelectedByItemID);p.map(function(r){return q[r.id]=true});this.setState({isSelectedByItemID:q})}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView7=function(p){var q=babelHelpers["extends"]({},this.state.isSelectedByItemID);p.map(function(r){return q[r.id]=false});this.setState({isSelectedByItemID:q})}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView13=function(p,q,r){return c("React").createElement(c("AdBreakPortalInstreamAdsBlockListNameCell.react"),{blockList:p,isHovering:r,isSelected:q,onClick:this.$AdBreakPortalInstreamAdsBlockListView18})}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView18=function(p){this.props.onSelectBlockList(p);this.setState({showBlockListContentDialog:true})}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView19=function(p){this.setState({showBlockListContentDialog:p})}.bind(this);this.$AdBreakPortalInstreamAdsBlockListView10=function(){this.props.onSelectBlockList(null);this.setState({showBlockListContentDialog:true})}.bind(this);this.state={showBlockListContentDialog:false,orderBy:"numPagesApplied",orderDirection:{dateCreated:m.ASCENDING,dateModified:m.ASCENDING,isPageLevel:m.ASCENDING,name:m.ASCENDING,numPagesApplied:m.ASCENDING},isSelectedByItemID:{}}}n.prototype.render=function(){return c("React").createElement("div",null,this.$AdBreakPortalInstreamAdsBlockListView1())};n.prototype.$AdBreakPortalInstreamAdsBlockListView1=function(){if(this.props.isLoading)return c("React").createElement("div",{className:"_5_1x"},c("React").createElement(c("SUISpinner.react"),{size:"large"}));return c("React").createElement(c("SUICard.react"),null,c("React").createElement(c("SUICardHeader.react"),null,this.$AdBreakPortalInstreamAdsBlockListView2()),c("React").createElement(c("SUITable.react"),{borders:["top","inner"],columns:this.$AdBreakPortalInstreamAdsBlockListView3(),isSelectedByItemID:this.state.isSelectedByItemID,items:this.$AdBreakPortalInstreamAdsBlockListView4(),noItemsMessage:j._("No block lists created yet!"),selectionType:"rowWithCheckbox",totalItemCount:this.props.blockLists.length,onSelectItems:this.$AdBreakPortalInstreamAdsBlockListView5,onSortClick:this.$AdBreakPortalInstreamAdsBlockListView6,onUnselectItems:this.$AdBreakPortalInstreamAdsBlockListView7}),this.$AdBreakPortalInstreamAdsBlockListView8())};n.prototype.$AdBreakPortalInstreamAdsBlockListView2=function(){var o=this.$AdBreakPortalInstreamAdsBlockListView9(),p=c("React").createElement(c("SUISelectorOption.react"),{disabled:o===0,value:"delete"},j._("Delete... ({Number of block lists to delete})",[j._param("Number of block lists to delete",o)]));return c("React").createElement("div",null,c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("378289"),srcDisabled:h("407431")}),label:j._("Create Block List"),use:"default",onClick:this.$AdBreakPortalInstreamAdsBlockListView10}),c("React").createElement("div",{className:"_60t-"},c("React").createElement(c("SUISelector.react"),{placeholder:j._("Actions"),value:null,onChange:this.$AdBreakPortalInstreamAdsBlockListView11},p)))};n.prototype.$AdBreakPortalInstreamAdsBlockListView4=function(){var o=this.state.orderBy,p=this.state.orderDirection[o];return this.props.blockLists.sort(function(q,r){if(p===m.ASCENDING&&o==="name")return q[o].localeCompare(r[o]);else if(o==="name")return r[o].localeCompare(q[o]);else if(p===m.ASCENDING)return q[o]-r[o];else return r[o]-q[o]})};n.prototype.$AdBreakPortalInstreamAdsBlockListView9=function(){var o=0;Object.keys(this.state.isSelectedByItemID).map(function(p){if(this.state.isSelectedByItemID[p])o++}.bind(this));return o};n.prototype.$AdBreakPortalInstreamAdsBlockListView3=function(){return[{id:"name",label:j._("Name"),renderItem:this.$AdBreakPortalInstreamAdsBlockListView13,orderBy:"name",orderDirection:this.state.orderDirection.name,widthWeight:2},{id:"numPagesApplied",label:j._("Pages Applied"),widthWeight:1,orderBy:"numPagesApplied",orderDirection:this.state.orderDirection.numPagesApplied,renderItem:this.$AdBreakPortalInstreamAdsBlockListView14},{id:"isPageLevel",label:j._("Block List Type"),widthWeight:1,orderBy:"isPageLevel",orderDirection:this.state.orderDirection.isPageLevel,renderItem:this.$AdBreakPortalInstreamAdsBlockListView15},{id:"dateCreated",label:j._("Date Created"),widthWeight:1,orderBy:"dateCreated",orderDirection:this.state.orderDirection.dateCreated,renderItem:this.$AdBreakPortalInstreamAdsBlockListView16},{id:"dateModified",label:j._("Date Modified"),widthWeight:1,orderBy:"dateModified",orderDirection:this.state.orderDirection.dateModified,renderItem:this.$AdBreakPortalInstreamAdsBlockListView17}]};n.prototype.$AdBreakPortalInstreamAdsBlockListView14=function(o){return c("React").createElement("div",null,o.numPagesApplied)};n.prototype.$AdBreakPortalInstreamAdsBlockListView15=function(o){var p=null;if(o.isPageLevel)p=j._("Page");else p=j._("Video");return c("React").createElement("div",null,p)};n.prototype.$AdBreakPortalInstreamAdsBlockListView16=function(o){return c("React").createElement("div",null,c("React").createElement(c("Date.react"),{date:o.dateCreated,format:"M j, Y"}))};n.prototype.$AdBreakPortalInstreamAdsBlockListView17=function(o){return c("React").createElement("div",null,c("React").createElement(c("Date.react"),{date:o.dateModified,format:"M j, Y"}))};n.prototype.$AdBreakPortalInstreamAdsBlockListView8=function(){if(!this.state.showBlockListContentDialog)return null;var o=this.props.editable,p=null;if(this.props.selectedBlockList){o=this.props.selectedBlockList.editable&&this.props.editable;p=this.props.selectedBlockList.id}return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentContainer"),{blockListId:p,businessId:this.props.businessId,editable:o,enableSubcategories:this.props.enableSubcategories,onToggle:this.$AdBreakPortalInstreamAdsBlockListView19})};n.prototype.$AdBreakPortalInstreamAdsBlockListView12=function(){var o=c("React").createElement("div",{className:"_4xfq"},j._({"*":"Are you sure you want to delete {number} block lists?","_1":"Are you sure you want to delete 1 block list?"},[j._plural(this.$AdBreakPortalInstreamAdsBlockListView9(),"number")]));c("SimpleXUIDialog").showConfirm(o,j._("Delete"),function(p){if(p)this.$AdBreakPortalInstreamAdsBlockListView20()}.bind(this))};n.prototype.$AdBreakPortalInstreamAdsBlockListView20=function(){var o=[];Object.keys(this.state.isSelectedByItemID).map(function(p){if(this.state.isSelectedByItemID[p])o.push(p)}.bind(this));this.props.onDeleteBlockLists(o);this.setState({isSelectedByItemID:{}})};f.exports=n}),null);
__d("SponsorTagsOptInActionTypes",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({SHOW:"sponsorTagsOptIn/show",NEXT:"sponsorTagsOptIn/next",ACCEPT:"sponsorTagsOptIn/accept",CANCEL:"sponsorTagsOptIn/cancel",QUERY_STATUS:"sponsorTagsOptIn/query_status",QUERY_OPT_IN:"sponsorTagsOptIn/query_opt_in",HANDLE_STATUS:"sponsorTagsOptIn/handle_status",HANDLE_OPT_IN:"sponsorTagsOptIn/handle_opt_in"});f.exports=h}),null);
__d("SponsorTagsOptInDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("SponsorTagsOptInOptions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({QUERY_STATUS:"query_status",OPT_IN:"opt_in",OPT_OUT:"opt_out"})}),null);
__d("XSponsorTagsOptInController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/branded_content/optin/",{profile_id:{type:"Int"},option:{type:"String"}})}),null);
__d("SponsorTagsOptInDataManager",["AsyncRequest","SponsorTagsOptInActionTypes","SponsorTagsOptInDispatcher","SponsorTagsOptInOptions","XSponsorTagsOptInController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={queryStatus:function i(j){var k=c("XSponsorTagsOptInController").getURIBuilder().setString("option",c("SponsorTagsOptInOptions").QUERY_STATUS);if(j)k.setInt("profile_id",j);new(c("AsyncRequest"))().setMethod("POST").setReadOnly(false).setURI(k.getURI()).setHandler(this._handleStatusSuccess).send()},_handleStatusSuccess:function i(j){var k=j.getPayload();c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").HANDLE_STATUS,payload:k})},queryOptIn:function i(j){var k=c("XSponsorTagsOptInController").getURIBuilder().setString("option",c("SponsorTagsOptInOptions").OPT_IN);if(j)k.setInt("profile_id",j);new(c("AsyncRequest"))().setMethod("POST").setReadOnly(false).setURI(k.getURI()).setHandler(this._handleOptInSuccess).send()},_handleOptInSuccess:function i(j){var k=j.getPayload();c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").HANDLE_OPT_IN,payload:k})}};f.exports=h}),null);
__d("SponsorTagsOptInStepHowItWorks.react",["ix","cx","fbt","Image.react","React","Text.react","XUIButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogFooter.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").Component;k=babelHelpers.inherits(n,m);l=k&&k.prototype;n.prototype.render=function(){var o=[{imageSrc:h("134446"),textTitle:j._("Find and tag business partners"),textContent:j._("If your post features another brand or product then search forthe business partner's Page and tag them. A \"Paid\" label will appear on these posts.")},{imageSrc:h("134453"),textTitle:j._("Amplify your posts"),textContent:j._("A notification will be sent the Pages tagged. These partners can then view the post's metrics as well as boost the post.")},{imageSrc:h("134914"),textTitle:j._("Track performance"),textContent:j._("You can both see how much budget is spent and the CPM metrics.")}],p=o.map(function(q,r){return c("React").createElement("div",{className:"_y1a",key:r},c("React").createElement("div",{className:"_y1c"},c("React").createElement(c("Image.react"),{src:q.imageSrc})),c("React").createElement("div",{className:"_y1g"},c("React").createElement(c("Text.react"),{className:"_y1h"},q.textTitle),c("React").createElement(c("Text.react"),{className:"_y1j"},q.textContent)))});return c("React").createElement("div",null,c("React").createElement("div",{className:"_8s2"},c("React").createElement(c("XUICloseButton.react"),{label:j._("Close"),className:"layerCancel _51-t"})),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_424x"},c("React").createElement(c("Text.react"),{className:"_y1l"},j._("How it Works")),p)),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{use:"confirm",onClick:this.props.onClickNext,label:j._("Continue"),className:"_y1m"})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("SponsorTagsOptInStepIntro.react",["cx","fbt","ix","Image.react","React","Text.react","XUIButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogFooter.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").Component,n=j("26925");k=babelHelpers.inherits(o,m);l=k&&k.prototype;o.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_8s2"},c("React").createElement(c("XUICloseButton.react"),{label:i._("Close"),className:"layerCancel _51-t"})),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_424x"},c("React").createElement(c("Image.react"),{src:n}),c("React").createElement(c("Text.react"),{className:"_424z"},i._("Tagging Business Partners")),c("React").createElement(c("Text.react"),{className:"_4250"},i._("Tell meaningful stories with the businesses you partner with. Tag your business partners when you're posting branded content.")))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{use:"confirm",onClick:this.props.onClickNext,label:i._("How it Works"),className:"_4252"})))};function o(){k.apply(this,arguments)}f.exports=o}),null);
__d("SponsorTagsOptInTCContent",["cx","Link.react","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createElement("div",{className:"_47o7"},c("React").createElement("p",null,c("React").createElement("b",null,"Facebook Branded Content Policies")),c("React").createElement("p",null,"Our Branded Content Policies apply to Verified Pages and Verified Profiles (with the blue badge) on Facebook. Branded content may only be posted by Verified Pages and Verified Profiles. Branded content is defined as content originating from a Page or Profile that features third party products, brands, or sponsors that differ from the Profile or Page. When posting permitted branded content integrations, Verified Profiles and Verified Pages must use the Branded Content tool to tag the featured third party product, brand, or sponsor."),c("React").createElement("ol",null,c("React").createElement("li",null,"Don't include pre, mid or post-roll ads in videos."),c("React").createElement("li",null,"Don't include banner ads in videos or images."),c("React").createElement("li",null,"Don't include third party products, brands or sponsors within your Profile or Page's cover photo or profile picture."),c("React").createElement("li",null,"Don't include title cards within a video's first three seconds. Interstitial ad cards outside of a video's first three seconds, such as mid cards or end cards, must not persist for longer than five consecutive seconds and must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"Don't include graphical overlays, logos or watermarks within a video's first three seconds. Graphical overlays, logos or watermarks included outside of a video's first three seconds must be tagged appropriately using the Branded Content tool. Ad elements and logos included in videos by virtue of being recorded during the subject matter's filming, such as stadium signage in sports related content, do not need to be tagged."),c("React").createElement("li",null,"Graphical overlays, logos or watermarks included on image content must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"Promotions, such as sweepstakes or giveaways, must be tagged appropriately using the Branded Content tool and must comply with section III. E. of the"," ",c("React").createElement(c("Link.react"),{href:"https://www.facebook.com/page_guidelines.php",target:"_blank"},"Facebook Pages Terms"),"."),c("React").createElement("li",null,"Third party images or videos promoting brands, products or sponsors that are unassociated with your Profile or Page, such as full-length third party video commercials, must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"Product placement in images or videos must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"Profile and Page posts clearly disclosed as being sponsored or provided by a third party, such as self-disclosure within a post's text, must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"You must comply with all applicable laws and regulations, including by ensuring that you provide all necessary disclosures to people using Facebook, such as any disclosures needed to indicate the commercial nature of content posted by you.")));f.exports=i}),null);
__d("SponsorTagsOptInStepTerms.react",["cx","fbt","React","ScrollableArea.react","SponsorTagsOptInTCContent","Text.react","XUIButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogFooter.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;m.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_8s2"},c("React").createElement(c("XUICloseButton.react"),{label:i._("Close"),className:"layerCancel _51-t"})),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_5vvo"},c("React").createElement(c("Text.react"),{className:"_y1l"},i._("Business Partner Tags Terms & Conditions")),c("React").createElement(c("ScrollableArea.react"),{maxHeight:280,fade:false},c("SponsorTagsOptInTCContent")))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{use:"default",onClick:this.props.onClickCancel,label:i._("Cancel"),className:"_82v"}),c("React").createElement(c("XUIButton.react"),{use:"confirm",onClick:this.props.onClickAccept,label:i._("Accept"),className:"_82v"})))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("SponsorTagsOptInDialog.react",["cx","LayerFadeOnHide","React","SponsorTagsOptInStepHowItWorks.react","SponsorTagsOptInStepIntro.react","SponsorTagsOptInStepTerms.react","XUIDialog.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){if(!this.props.isShown)return null;var m=[c("React").createElement(c("SponsorTagsOptInStepIntro.react"),{onClickNext:this.props.onClickNext}),c("React").createElement(c("SponsorTagsOptInStepHowItWorks.react"),{onClickNext:this.props.onClickNext}),c("React").createElement(c("SponsorTagsOptInStepTerms.react"),{onClickAccept:this.props.onClickAccept,onClickCancel:this.props.onClickCancel})],n=m[this.props.step];return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},fixedTopPosition:120,hideOnEscape:false,layerHideOnBlur:false,onToggle:this.$SponsorTagsOptInDialog1.bind(this),shown:true,width:550,className:"_2um5"},n)};l.prototype.$SponsorTagsOptInDialog1=function(m){if(!m)this.props.onClickCancel()};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("SponsorTagsOptInStore",["FluxReduceStore","immutable","SponsorTagsOptInActionTypes","SponsorTagsOptInDataManager","SponsorTagsOptInDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={step:0,profileID:0,isShown:false,isOptedIn:null};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.__moduleID=f.id,p}n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("SponsorTagsOptInActionTypes").NEXT:return o.set("step",o.step+1);case c("SponsorTagsOptInActionTypes").SHOW:return o.set("isShown",true).set("step",0);case c("SponsorTagsOptInActionTypes").CANCEL:return o.set("isShown",false).set("step",0);case c("SponsorTagsOptInActionTypes").ACCEPT:c("SponsorTagsOptInDataManager").queryOptIn(o.profileID);return o.set("isShown",false);case c("SponsorTagsOptInActionTypes").QUERY_STATUS:c("SponsorTagsOptInDataManager").queryStatus(p.profileID);return o.set("profileID",p.profileID);case c("SponsorTagsOptInActionTypes").QUERY_OPT_IN:c("SponsorTagsOptInDataManager").queryOptIn(o.profileID);return o;case c("SponsorTagsOptInActionTypes").HANDLE_STATUS:return o.set("isOptedIn",p.payload.isOptedIn);case c("SponsorTagsOptInActionTypes").HANDLE_OPT_IN:return o.set("isOptedIn",p.payload.isOptedIn);default:return o}};f.exports=new n(c("SponsorTagsOptInDispatcher"))}),null);
__d("SponsorTagsOptInDialogContainer.react",["FluxContainer","React","SponsorTagsOptInActionTypes","SponsorTagsOptInDialog.react","SponsorTagsOptInDispatcher","SponsorTagsOptInStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return[c("SponsorTagsOptInStore")]};k.calculateState=function(){return{isShown:c("SponsorTagsOptInStore").getState().isShown,step:c("SponsorTagsOptInStore").getState().step}};function k(){i.constructor.call(this);this.state={isShown:false,step:0}}k.prototype.render=function(){return c("React").createElement(c("SponsorTagsOptInDialog.react"),babelHelpers["extends"]({},this.state,{onClickNext:this.$SponsorTagsOptInDialogContainer1.bind(this),onClickAccept:this.$SponsorTagsOptInDialogContainer2.bind(this),onClickCancel:this.$SponsorTagsOptInDialogContainer3.bind(this)}))};k.prototype.$SponsorTagsOptInDialogContainer3=function(){c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").CANCEL})};k.prototype.$SponsorTagsOptInDialogContainer2=function(){c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").ACCEPT})};k.prototype.$SponsorTagsOptInDialogContainer1=function(){c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").NEXT})};f.exports=c("FluxContainer").create(k)}),null);
__d("FBDraggableBar.react",["cx","invariant","DOMDimensions","React","ReactDOM","Rect","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(m){__p&&__p();k.constructor.call(this,m);this.$FBDraggableBar6=function(n){if(n)n.init(this)}.bind(this);this.onGrab=function(n,o){this.$FBDraggableBar1=n;this.$FBDraggableBar2=o;var p=c("DOMDimensions").getElementDimensions(this.$FBDraggableBar2),q=p.width,r=p.height;this.setState({elementWidth:q,elementHeight:r});this.onDrag()}.bind(this);this.onDrag=function(){var n=new(c("Rect"))(this.$FBDraggableBar2),o=(n.l+n.r)/2,p=this.$FBDraggableBar7(o);this.setState({toIndex:p})}.bind(this);this.onDrop=function(){var n=this.$FBDraggableBar1;n!==undefined&&n!==null||i(0);var o=this.state.toIndex;o!==undefined&&o!==null||i(0);this.$FBDraggableBar8();this.props.onReorder&&this.props.onReorder(n,o);this.$FBDraggableBar4()}.bind(this);this.onCancelDrag=function(){this.$FBDraggableBar8()}.bind(this);this.state={toIndex:null,elementWidth:null,elementHeight:null}}l.prototype.$FBDraggableBar4=function(){var m=c("ReactDOM").findDOMNode(this);!!m||i(0);var n=m.childNodes,o=[];for(var p=0;p<n.length;p++){var q=n[p];q instanceof Element||i(0);o.push(new(c("Rect"))(q))}this.$FBDraggableBar3=o};l.prototype.$FBDraggableBar5=function(){__p&&__p();var m=c("ReactDOM").findDOMNode(this);m instanceof Element||i(0);var n=m.childNodes,o=0;for(var p=0;p<n.length;p++){var q=n[p];q instanceof Element||i(0);var r=new(c("Rect"))(q);o+=r.r-r.l}m.clientWidth>=o||i(0)};l.prototype.componentDidMount=function(){this.$FBDraggableBar5();this.$FBDraggableBar4()};l.prototype.render=function(){var m=c("React").Children.map(this.props.children,function(q,r){var s={ref:this.$FBDraggableBar6,index:r};return c("React").cloneElement(q,s)}.bind(this)),n=this.state.toIndex;if(n!==null&&n!==undefined){var o=c("React").createElement("div",{className:"_63ax",key:"placeholder",style:{width:this.state.elementWidth,height:this.state.elementHeight}}),p=n<=this.$FBDraggableBar1?n:n+1;m.splice(p,0,o)}return c("React").createElement("span",{className:c("joinClasses")(this.props.className,"_42l3")},m)};l.prototype.$FBDraggableBar7=function(m){for(var n=0;n<this.$FBDraggableBar3.length;n++){var o=this.$FBDraggableBar3[n];if(o.l<=m&&m<o.r)return n}return this.$FBDraggableBar3.length};l.prototype.$FBDraggableBar8=function(){delete this.$FBDraggableBar1;delete this.$FBDraggableBar2;this.setState({elementWidth:null,elementHeight:null,toIndex:null})};f.exports=l}),null);
__d("FBDraggableItem.react",["cx","invariant","Draggable","Event","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Keys","React","ReactDOM","Rect","getScrollPosition","getViewportDimensions","nullthrows"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=10,m=250;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={dragging:false},this.$FBDraggableItem6=function(t){if(!t)return;var u=c("ReactDOM").findDOMNode(t);u instanceof Element||i(0);var v=c("ReactDOM").findDOMNode(this);v instanceof Element||i(0);this.$FBDraggableItem3=u;this.$FBDraggableItem4=v}.bind(this),this.init=function(t){this.$FBDraggableItem1=t}.bind(this),this.$FBDraggableItem9=function(){__p&&__p();if(this.state.dragging)return;var t=this.props,u=t.onGrab,v=t.index;if(u)if(v||v===0)u(v);else u();this.$FBDraggableItem5=c("Event").listen(document,"keydown",function(w){if(w.keyCode===c("Keys").ESC){this.$FBDraggableItem12();w.preventDefault()}}.bind(this));this.setState({dragging:true});this.$FBDraggableItem1.onGrab(c("nullthrows")(this.props.index),this.$FBDraggableItem4)}.bind(this),this.$FBDraggableItem10=function(){var t=this.$FBDraggableItem4.parentNode;if(!(t instanceof Element))return;var u=new(c("Rect"))(t),v=c("getViewportDimensions")(),w=c("getScrollPosition")(window),x=Math.max(v.width,l),y=new(c("Rect"))(w.y,Math.min(x,u.r+m),v.height+w.y,Math.max(0,u.l-m));this.$FBDraggableItem2&&this.$FBDraggableItem2.setBoundingBox(y);this.$FBDraggableItem1.onDrag()}.bind(this),this.$FBDraggableItem11=function(){this.$FBDraggableItem13();this.$FBDraggableItem1.onDrop()}.bind(this),p}n.prototype.$FBDraggableItem7=function(){"use strict";var o=c("React").Children.map(this.props.children,function(p){return p});o.length>0&&o.length<=2||i(0);return o};n.prototype.componentDidMount=function(){"use strict";this.$FBDraggableItem7();this.$FBDraggableItem8(true)};n.prototype.componentWillUnmount=function(){"use strict";this.$FBDraggableItem8(false)};n.prototype.render=function(){"use strict";var o=this.$FBDraggableItem7(),p=o.length!=2?null:c("React").createElement(c("FBOverlayElement.react"),{className:"_13uq",horizontal:"right",vertical:"top"},c("React").createElement("div",null,o[1]));return c("React").createElement(c("FBOverlayContainer.react"),{className:"_2rh6"+(this.state.dragging?" _2rjy":"")},c("React").createElement(c("FBOverlayBase.react"),null,o[0]),c("React").createElement(c("FBOverlayElement.react"),{horizontal:"left",ref:this.$FBDraggableItem6,vertical:"fit"},c("React").createElement("div",{className:"_2rjz"})),p)};n.prototype.$FBDraggableItem8=function(o){"use strict";__p&&__p();var p=this.$FBDraggableItem2;if(o&&!p)this.$FBDraggableItem2=new(c("Draggable"))(this.$FBDraggableItem4).setNamespace("FBDraggableItem").setUseAbsolute(true).setGrabHandler(this.$FBDraggableItem9).setDragHandler(this.$FBDraggableItem10).setDropHandler(this.$FBDraggableItem11).addHandle(this.$FBDraggableItem3);else if(!o&&p){if(p.active)this.$FBDraggableItem12();p.destroy();this.$FBDraggableItem2=null}};n.prototype.$FBDraggableItem12=function(){"use strict";this.$FBDraggableItem2&&this.$FBDraggableItem2.killDrag();this.$FBDraggableItem13();this.$FBDraggableItem1.onCancelDrag()};n.prototype.$FBDraggableItem13=function(){"use strict";this.$FBDraggableItem2&&this.$FBDraggableItem2.resetPosition();this.setState({dragging:false});this.$FBDraggableItem5&&this.$FBDraggableItem5.remove();delete this.$FBDraggableItem5};f.exports=n}),null);
__d("FBNoSelect",["DOMQuery","Event","UserAgent"],(function a(b,c,d,e,f,g){__p&&__p();var h=["input","select","textarea","object","embed"],i=new(function(){__p&&__p();function j(){"use strict";this.$FBNoSelectSingleton1=false;this.$FBNoSelectSingleton2={};this.$FBNoSelectSingleton3={};this.$FBNoSelectSingleton4=Array.from(h)}j.prototype.addBlockClass=function(k){"use strict";this.$FBNoSelectSingleton5();return this.$FBNoSelectSingleton6(this.$FBNoSelectSingleton2,k)};j.prototype.removeBlockClass=function(k){"use strict";this.$FBNoSelectSingleton5();return this.$FBNoSelectSingleton7(this.$FBNoSelectSingleton2,k)};j.prototype.addUnblockClass=function(k){"use strict";this.$FBNoSelectSingleton5();return this.$FBNoSelectSingleton6(this.$FBNoSelectSingleton3,k)};j.prototype.removeUnblockClass=function(k){"use strict";this.$FBNoSelectSingleton5();return this.$FBNoSelectSingleton7(this.$FBNoSelectSingleton3,k)};j.prototype.addUnblockNodeType=function(k){"use strict";this.$FBNoSelectSingleton5();if(!this.$FBNoSelectSingleton4.includes(k))this.$FBNoSelectSingleton4.push(k);return this};j.prototype.removeUnblockNodeType=function(k){"use strict";this.$FBNoSelectSingleton5();var l=this.$FBNoSelectSingleton4.indexOf(k);if(l!==-1)this.$FBNoSelectSingleton4.splice(l,1);return this};j.prototype.addUnblockLayers=function(){"use strict";this.addUnblockClass("uiLayer");return this};j.prototype.$FBNoSelectSingleton6=function(k,l){"use strict";if(k[l])k[l]++;else k[l]=1;return this};j.prototype.$FBNoSelectSingleton7=function(k,l){"use strict";if(k[l]){k[l]--;if(k[l]==0)delete k[l]}return this};j.prototype.shouldBlock=function(k){"use strict";__p&&__p();if(!this.$FBNoSelectSingleton1)return false;for(var l=k;l!==null&&l!==document;l=l.parentNode){if(l.classList){for(var m in this.$FBNoSelectSingleton2)if(l.classList.contains(m))return true;for(var n in this.$FBNoSelectSingleton3)if(l.classList.contains(n))return false}var o=c("DOMQuery").isNodeOfType(l,this.$FBNoSelectSingleton4);if(o)return false}return false};j.prototype.$FBNoSelectSingleton5=function(){__p&&__p();var k,l=this;"use strict";if(this.$FBNoSelectSingleton1)return;this.$FBNoSelectSingleton1=true;if(c("UserAgent").isEngine("Gecko")){c("Event").listen(document,"mousedown",function(m){if(this.shouldBlock(m.getTarget()))document.body.style.MozUserSelect="none"}.bind(this));c("Event").listen(document,"mouseup",function(m){document.body.style.MozUserSelect=""})}else(function(){__p&&__p();var m=false,n=false;c("Event").listen(document,"selectstart",function(o){__p&&__p();if(m){if(n)o.kill();return}n=false;m=true;if(this.shouldBlock(o.getTarget())){n=true;o.kill()}}.bind(l));c("Event").listen(document,{mousedown:function o(){m=false},mouseup:function o(){m=false}})})()};return j}())();f.exports=i}),null);
__d("TimelineInfoReviewParam",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTION:"action",ENTITY_ID:"ent",EXISTING_ERROR:"error",ITEM_TYPE:"type",ITEM_TOKEN:"i_token",MULTI_CHOICE_OPTION:"option",QUERY:"query",REPLACE_ID:"replace_id",SURFACE:"profile_question_surface",QUESTION_SESSION:"session",QUESTION_TOKEN:"token",CURSOR:"cursor",DATE:"date",DAY:"day",END_DAY:"end_day",END_MONTH:"end_month",END_YEAR:"end_year",ENTITY_IDS:"ents",ENTITY_IDS_TYPEAHEAD:"ents_ta",GENERIC_TEXT:"generic_text",HUB_ID:"hub_id",LIKED:"liked",LOCATION_ID:"location_id",TITLE:"title",MONTH:"month",NO_VALID_ANSWER_ID:"no_answer",PREVIOUS_PROGRESS:"prev_prog",START_DAY:"start_day",START_MONTH:"start_month",START_YEAR:"start_year",TEXT:"text",TEXT_TYPE:"text_type",YEAR:"year",LOCATION:"location",RENDER_TIME:"render_t",REQUEST_ID:"request",RETHROW_ERRORS:"rethrow_errors",OTHER_ID:"other_id",FIELD_TYPE:"field_type",BIRTHDAY:"birthday",CITY_ID:"city_id",COLLEGE_ID:"college_id",COLLEGE_TEXT:"college_text",CONTAINER_ID:"container_id",COUNTRY_CODE:"country",EMAIL_ADDRESS:"email",EMAIL_FBID:"email_fbid",EMAIL_FBIDS:"email_fbids",ENTITY_ID_TYPEAHEAD:"ent_ta",FAMILY_ANNIVERSARIES:"family_anniversaries",FAMILY_ANNIVERSARIES_IN_MS:"family_anniversaries_in_ms",FAMILY_ANNIVERSARY_DAYS:"family_anniversary_days",FAMILY_ANNIVERSARY_MONTHS:"family_anniversary_months",FAMILY_ANNIVERSARY_YEARS:"family_anniversary_years",FAMILY_BIRTHDAYS:"family_birthdays",FAMILY_BIRTHDAY_DAYS:"family_birthday_days",FAMILY_BIRTHDAY_MONTHS:"family_birthday_months",FAMILY_BIRTHDAY_YEARS:"family_birthday_years",FAMILY_BIRTHDAYS_IN_MS:"family_birthdays_in_ms",FAMILY_IDS:"family_ids",FAMILY_RELATIONS:"family_relations",FAMILY_TEXT_NAMES:"family_text_names",GRAD_SCHOOL_ID:"grad_id",GRAD_SCHOOL_TEXT:"grad_text",HIGH_SCHOOL_ID:"hs_id",HIGH_SCHOOL_TEXT:"hs_text",NAME_PRONUNCIATION_FIRSTNAME_RADIO:"first_radio",NAME_PRONUNCIATION_LASTNAME_RADIO:"last_radio",NAME_PRONUNCIATION_FIRSTNAME_CUSTOM:"first_input",NAME_PRONUNCIATION_LASTNAME_CUSTOM:"last_input",NEIGHBORHOOD:"neighborhood",ONLY_SHARE_WITH:"only_share",PHONE_FBIDS:"phone_fbids",PHONE_FBID:"phone_fbid",PHONE_NUMBER:"phone",PHONE_TYPE:"phone_type",POSTAL_CODE:"postal_code",PRIVACY_X:"priv_x",STREET_ADDRESS:"address",USE_EXISTING:"existing",SAVE:"save",SKIP:"skip"})}),null);
__d("ProgressiveDatepickerMixin",["DateConsts","React","TimelineInfoReviewParam"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i={propTypes:{descendingYears:h.bool,initialDay:function j(k,l,m){var n=k.initialYear,o=k.initialMonth,j=k.initialDay;if(!j)return;var p=o&&n&&j<=c("DateConsts").getDaysInMonth(n,o);if(!p)return new Error("A valid initialYear and initialMonth must be provided if initialDay is set.");return h.number.apply(this,arguments)},initialMonth:function j(k,l,m){if(k.initialMonth&&!k.initialYear)return new Error("A valid initialYear must be provided if initialMonth is set.");return h.number.apply(this,arguments)},initialYear:h.number,inputPrefix:h.string,maxTime:h.number.isRequired,minTime:h.number.isRequired,minTimeUnit:h.oneOf(["day","month","year"]),onDateChange:h.func,setDateTo:h.object,supressDaySelector:h.bool,forceYearSelection:h.bool,className:h.string,wrapperClassName:h.string,reverseOrder:h.bool},getDefaultProps:function j(){return{descendingYears:false,initialYear:0,initialMonth:0,initialDay:0,inputPrefix:"",minTimeUnit:"year",supressDaySelector:false,forceYearSelection:false,reverseOrder:false}},getInitialState:function j(){if(this.props.setDateTo!=null)return this.props.setDateTo;else return{day:this.props.initialDay,month:this.props.initialMonth,year:this.props.initialYear}},clearDate:function j(){this.setState(this.getInitialState())},_getDayName:function j(){return this.props.inputPrefix===""?c("TimelineInfoReviewParam").DAY:this.props.inputPrefix+"_"+c("TimelineInfoReviewParam").DAY},_getMonthName:function j(){return this.props.inputPrefix===""?c("TimelineInfoReviewParam").MONTH:this.props.inputPrefix+"_"+c("TimelineInfoReviewParam").MONTH},_getYearName:function j(){return this.props.inputPrefix===""?c("TimelineInfoReviewParam").YEAR:this.props.inputPrefix+"_"+c("TimelineInfoReviewParam").YEAR},_getMinDate:function j(){return new Date(this.props.minTime*c("DateConsts").MS_PER_SEC)},_getMinYear:function j(){return this._getMinDate().getFullYear()},_getMinMonth:function j(){return this._getMinDate().getMonth()+1},_getMinDay:function j(){return this._getMinDate().getDate()},_isMinYear:function j(){return this.state.year===this._getMinYear()},_isMinYearAndMonth:function j(){return this._isMinYear()&&this.state.month===this._getMinMonth()},_getMaxDate:function j(){return new Date(this.props.maxTime*c("DateConsts").MS_PER_SEC)},_getMaxYear:function j(){return this._getMaxDate().getFullYear()},_getMaxMonth:function j(){return this._getMaxDate().getMonth()+1},_getMaxDay:function j(){return this._getMaxDate().getDate()},_isMaxYear:function j(){return this.state.year===this._getMaxYear()},_isMaxYearAndMonth:function j(){return this._isMaxYear()&&this.state.month===this._getMaxMonth()},_getCurrentDate:function j(){return new Date(this.state.year,!this.state.month?0:this.state.month-1,this.state.year&&!this.state.day?1:this.state.day).getTime()},getCurrentDateInSeconds:function j(){return this._getCurrentDate()/c("DateConsts").MS_PER_SEC},getCurrentDateWithoutAutoCorrection:function j(){if(this.state.year===0||this.state.month===0||this.state.day===0)return new Date(0,0,0).getTime();return this.getCurrentDateInSeconds()},getMaxPossibleDateInSeconds:function j(){__p&&__p();var k={year:this.state.year,month:this.state.month,day:this.state.day};if(!k.day)if(k.month)k.month+=1;else if(k.year){k.year+=1;k.day=1}var l=new Date(k.year,!k.month?0:k.month-1,k.day);return l.getTime()/c("DateConsts").MS_PER_SEC},_onYearChange:function j(event){var k=event.target?event.target.value:event.value;this._onDateChange({year:parseInt(k,10),month:this.state.month,day:this.state.day})},_onMonthChange:function j(event){var k=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:parseInt(k,10),day:this.state.day})},_onDayChange:function j(event){var k=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:this.state.month,day:parseInt(k,10)})},_onDateChange:function j(k){var l=this._getValidDate(k);this.setState(l,function(){this.props.onDateChange&&this.props.onDateChange(l)}.bind(this))},_getValidDate:function j(k,l,m){__p&&__p();if(typeof l==="undefined")l=new Date(this.props.minTime*c("DateConsts").MS_PER_SEC);if(typeof m==="undefined")m=new Date(this.props.maxTime*c("DateConsts").MS_PER_SEC);var n=k.year,o=k.month,p=k.day;if(n){if(n<=l.getFullYear()){n=l.getFullYear();if(o&&o<=l.getMonth()+1){o=l.getMonth()+1;if(p&&p<l.getDate())p=l.getDate()}}else if(n>=m.getFullYear()){n=m.getFullYear();if(o&&o>=m.getMonth()+1){o=m.getMonth()+1;if(p&&p>m.getDate())p=m.getDate()}}if(o){if(p&&p>c("DateConsts").getDaysInMonth(n,o))p=c("DateConsts").getDaysInMonth(n,o)}else p=0}else o=p=0;return{year:n,month:o,day:p}},UNSAFE_componentWillReceiveProps:function j(k){var l=new Date(k.minTime*c("DateConsts").MS_PER_SEC),m=new Date(k.maxTime*c("DateConsts").MS_PER_SEC);if(k.setDateTo!=null)this.setState(k.setDateTo);else this.setState(this._getValidDate(this.state,l,m))}};f.exports=i}),null);
__d("XUIProgressiveDatepicker.react",["cx","DateConsts","DateStrings","ProgressiveDatepickerMixin","React","InlineBlock.react","XUISelector.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("XUISelector.react").Option,j=c("React").createClass({displayName:"TimelineProgressiveDatepicker",mixins:[c("ProgressiveDatepickerMixin")],render:function k(){__p&&__p();var l=[];for(var m=this._getMinYear();m<=this._getMaxYear();m++){var n=c("React").createElement(i,{key:m,title:m,value:m},m);this.props.descendingYears?l.unshift(n):l.push(n)}l.unshift(c("React").createElement(i,{key:0,title:c("DateStrings").getYearLabel(),value:0},c("DateStrings").getYearLabel()));var o=null;if(this.state.year||this.props.minTimeUnit!=="year"){var p=[c("React").createElement(i,{key:0,title:c("DateStrings").getMonthLabel(),value:0},c("DateStrings").getMonthLabel())],q=1,r=c("DateConsts").MONTHS_PER_YEAR;if(this._isMinYear())q=this._getMinMonth();if(this._isMaxYear())r=this._getMaxMonth();for(var s=q;s<=r;s++){var t=c("DateStrings").getMonthName(s);p.push(c("React").createElement(i,{key:s,title:t,value:s},t))}o=c("React").createElement(c("XUISelector.react"),{className:"_5vu1","data-testid":"ProgressiveDatepicker/monthSelector",disabled:this.props.disabled||!this.state.year,maxheight:this.props.menuMaxHeight,name:this._getMonthName(),onChange:this._onMonthChange,value:this.state.month},p)}var u=null;if(this.state.month||this.props.minTimeUnit==="day"){var v=[c("React").createElement(i,{key:0,title:c("DateStrings").getDayLabel(),value:0},c("DateStrings").getDayLabel())],w=1,x=c("DateConsts").getDaysInMonth(this.state.year,this.state.month);if(this._isMinYearAndMonth())w=this._getMinDay();if(this._isMaxYearAndMonth())x=this._getMaxDay();for(var y=w;y<=x;y++)v.push(c("React").createElement(i,{key:y,title:y,value:y},y));u=c("React").createElement(c("XUISelector.react"),{className:"_5vu1","data-testid":"ProgressiveDatepicker/daySelector",disabled:this.props.disabled||!this.state.month,maxheight:this.props.menuMaxHeight,name:this._getDayName(),onChange:this._onDayChange,value:this.state.day},v)}return c("React").createElement(c("InlineBlock.react"),null,c("React").createElement(c("XUISelector.react"),{"data-testid":"ProgressiveDatepicker/yearSelector",disabled:this.props.disabled,maxheight:this.props.menuMaxHeight,name:this._getYearName(),onChange:this._onYearChange,value:this.state.year},l),o,u)}});f.exports=j}),null);
__d("VideoComposerDialogMode",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIDEO_CROSSPOST:"video_crosspost",VIDEO_EDIT:"video_edit",VIDEO_UPLOAD:"video_upload"})}),null);
__d("VideoComposerDialogUIEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CONFIRMATION_DIALOG_CLOSE:"confirmation_dialog_close",CROSSPOST_ALL_MONETIZABLE_CLICKED:"crosspost_all_monetizable_clicked",CAPTIONS_DEFAULT_LOCALE_SELECTED:"captions_default_locale_selected",CAPTIONS_LOCAL_FILES_UPLOAD:"captions_local_files_upload",CAPTIONS_LOCAL_FILE_DELETE:"captions_local_file_delete",DIALOG_OPENED:"dialog_opened",DIALOG_REQUESTED:"dialog_requested",EDIT_TABS_LOADED:"edit_tabs_loaded",EXIT_COMPOSER_ATTEMPT:"exit_composer_attempt",EXIT_COMPOSER_CANCEL:"exit_composer_cancel",EXIT_COMPOSER_CONFIRM:"exit_composer_confirm",EXIT_COMPOSER_REPLACE_FILE:"exit_composer_replace_file",EXIT_COMPOSER_SAVE_DRAFT:"exit_composer_save_draft",FILE_REPLACED:"file_replaced",METADATA_LOAD_FAILED:"metadata_load_failed",METADATA_LOAD_SUCCESS:"metadata_load_success",NAVIGATED_FROM_PAGE:"navigated_from_page",POST_BACKDATE_ATTEMPT:"post_backdate_attempt",POST_CAPTIONS_FAILURE:"post_captions_failure",POST_DRAFT_ATTEMPT:"post_draft_attempt",POST_FAILURE:"post_failure",POST_PUBLISH_ATTEMPT:"post_publish_attempt",POST_SCHEDULE_ATTEMPT:"post_schedule_attempt",POST_SUCCESS:"post_success",RIGHTS_DIALOG_SHOWN:"rights_dialog_shown",RIGHTS_DIALOG_CONFIRM:"rights_dialog_confirm",SAVE_EDITED_VIDEO_ATTEMPT:"save_edited_video_attempt",SAVE_EDITED_VIDEO_FAILURE:"save_edited_video_failure",SAVE_EDITED_VIDEO_SUCCESS:"save_edited_video_success",SELECT_EDITING_PUBLISH_ACTION:"select_editing_publish_action",TAB_LOAD_ERROR:"tab_load_error",TAB_SWITCHED:"tab_switched",UPLOAD_FAILURE:"upload_failure",UPLOAD_FINISHED:"upload_finished",USER_PLAYED_VIDEO_PREVIEW:"user_played_video_preview"})}),null);
__d("VideoComposerDialogUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoComposerDialogUILoggerConfig",this.$VideoComposerDialogUITypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoComposerDialogUILoggerConfig",this.$VideoComposerDialogUITypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:VideoComposerDialogUILoggerConfig",this.$VideoComposerDialogUITypedLogger1,{signal:true})};h.prototype.clear=function(){this.$VideoComposerDialogUITypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$VideoComposerDialogUITypedLogger1)};h.prototype.updateData=function(j){this.$VideoComposerDialogUITypedLogger1=babelHelpers["extends"]({},this.$VideoComposerDialogUITypedLogger1,j);return this};h.prototype.setActorID=function(j){this.$VideoComposerDialogUITypedLogger1.actor_id=j;return this};h.prototype.setCaptionsNumSelectedFiles=function(j){this.$VideoComposerDialogUITypedLogger1.captions_num_selected_files=j;return this};h.prototype.setComposerDialogVersion=function(j){this.$VideoComposerDialogUITypedLogger1.composer_dialog_version=j;return this};h.prototype.setComposerEntryPoint=function(j){this.$VideoComposerDialogUITypedLogger1.composer_entry_point=j;return this};h.prototype.setCurrentTab=function(j){this.$VideoComposerDialogUITypedLogger1.current_tab=j;return this};h.prototype.setDialogMode=function(j){this.$VideoComposerDialogUITypedLogger1.dialog_mode=j;return this};h.prototype.setEditSource=function(j){this.$VideoComposerDialogUITypedLogger1.edit_source=j;return this};h.prototype.setErrorMessage=function(j){this.$VideoComposerDialogUITypedLogger1.error_message=j;return this};h.prototype.setEvent=function(j){this.$VideoComposerDialogUITypedLogger1.event=j;return this};h.prototype.setHasBeenReset=function(j){this.$VideoComposerDialogUITypedLogger1.has_been_reset=j;return this};h.prototype.setNextTab=function(j){this.$VideoComposerDialogUITypedLogger1.next_tab=j;return this};h.prototype.setSessionID=function(j){this.$VideoComposerDialogUITypedLogger1.session_id=j;return this};h.prototype.setVC=function(j){this.$VideoComposerDialogUITypedLogger1.vc=j;return this};h.prototype.setVideoAssetID=function(j){this.$VideoComposerDialogUITypedLogger1.video_asset_id=j;return this};h.prototype.setVideoAssetWaterfallSource=function(j){this.$VideoComposerDialogUITypedLogger1.video_asset_waterfall_source=j;return this};h.prototype.setVideoID=function(j){this.$VideoComposerDialogUITypedLogger1.video_id=j;return this};var i={actor_id:true,captions_num_selected_files:true,composer_dialog_version:true,composer_entry_point:true,current_tab:true,dialog_mode:true,edit_source:true,error_message:true,event:true,has_been_reset:true,next_tab:true,session_id:true,vc:true,video_asset_id:true,video_asset_waterfall_source:true,video_id:true};f.exports=h}),null);
__d("VideoComposerDialogVersion",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({V1:"V1",V2:"V2"})}),null);
__d("XComposerXVideoUploadDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/video/dialog/",{target_id:{type:"FBID",required:true},source_id:{type:"String",required:true},entry_point:{type:"Enum",required:true,enumType:1},is_reference_video:{type:"Bool",defaultValue:false}})}),null);
__d("ComposerXVideoUploadDialogController",["ActorURI","Arbiter","AsyncDialog","AsyncRequest","Bootloader","ComposerEntryPointRef","ComposerXVideoUploadDialog.react","DOM","React","ReactDOM","ReactPagesComposerGlobalFlags","VideoComposerDialogMode","VideoComposerDialogUIEvent","VideoComposerDialogUITypedLogger","VideoComposerDialogVersion","XComposerXVideoUploadDialogController"],(function a(b,c,d,e,f,g){__p&&__p();var h={};function i(o){return h[o]}function j(o){h[o.getID()]=o}function k(o){delete h[o]}function l(o){return o in h}var m=c("ComposerEntryPointRef").TIMELINE;function n(o,p,q,r,s,t,u,v,w,x){"use strict";__p&&__p();this.$ComposerXVideoUploadDialogController1=o;this.$ComposerXVideoUploadDialogController2=p;this.$ComposerXVideoUploadDialogController3=q;this.$ComposerXVideoUploadDialogController4=r;this.$ComposerXVideoUploadDialogController5=s;this.$ComposerXVideoUploadDialogController6=t;this.$ComposerXVideoUploadDialogController7=u;this.$ComposerXVideoUploadDialogController8=v;this.$ComposerXVideoUploadDialogController9=w;this.$ComposerXVideoUploadDialogController10=x;this.$ComposerXVideoUploadDialogController11=n.$ComposerXVideoUploadDialogController12(this.$ComposerXVideoUploadDialogController1,this.$ComposerXVideoUploadDialogController4,this.$ComposerXVideoUploadDialogController8);this.$ComposerXVideoUploadDialogController13=false;this.$ComposerXVideoUploadDialogController14=c("DOM").create("span");c("DOM").appendContent(document.body,this.$ComposerXVideoUploadDialogController14);this.$ComposerXVideoUploadDialogController15()}n.prototype.getID=function(){"use strict";return this.$ComposerXVideoUploadDialogController11};n.prototype.setFileInput=function(o){"use strict";this.$ComposerXVideoUploadDialogController2=o};n.prototype.getFileInput=function(){"use strict";return this.$ComposerXVideoUploadDialogController2};n.prototype.setDroppedFiles=function(o){"use strict";this.$ComposerXVideoUploadDialogController3=o};n.prototype.getDroppedFiles=function(){"use strict";return this.$ComposerXVideoUploadDialogController3};n.prototype.$ComposerXVideoUploadDialogController16=function(o){"use strict";this.$ComposerXVideoUploadDialogController17=o;if(this.$ComposerXVideoUploadDialogController18)this.show()};n.prototype.$ComposerXVideoUploadDialogController19=function(){"use strict";if(c("ReactPagesComposerGlobalFlags").getIsObjectiveFirstPagesComposer())c("Bootloader").loadModules(["PagesPublishingLoggingActions","PagesPublishingFunnelLoggingAdditionalPostTypes"],function(o,p){o.setPostType(p.VIDEO)},"ComposerXVideoUploadDialogController")};n.prototype.$ComposerXVideoUploadDialogController15=function(){"use strict";var o=c("XComposerXVideoUploadDialogController").getURIBuilder().setFBID("target_id",this.$ComposerXVideoUploadDialogController1).setString("source_id",this.$ComposerXVideoUploadDialogController11).setEnum("entry_point",this.$ComposerXVideoUploadDialogController4).setBool("is_reference_video",this.$ComposerXVideoUploadDialogController9).getURI();o=c("ActorURI").create(o,this.$ComposerXVideoUploadDialogController1);c("AsyncDialog").send(new(c("AsyncRequest"))(o).setAbortHandler(function(){this.$ComposerXVideoUploadDialogController2.clear();k(this.$ComposerXVideoUploadDialogController11)}.bind(this)))};n.prototype.$ComposerXVideoUploadDialogController20=function(){"use strict";this.$ComposerXVideoUploadDialogController19();c("ReactDOM").render(c("React").createElement(c("ComposerXVideoUploadDialog.react"),{canShowOptimisticPost:this.$ComposerXVideoUploadDialogController7,composer:this.$ComposerXVideoUploadDialogController17,composerID:this.$ComposerXVideoUploadDialogController11,composerEntryPointRef:this.$ComposerXVideoUploadDialogController4,isProfileVideo:this.$ComposerXVideoUploadDialogController4==="profile_video",isReferenceVideo:this.$ComposerXVideoUploadDialogController9,showDialogCancelButton:this.$ComposerXVideoUploadDialogController5,showProcessingDialog:this.$ComposerXVideoUploadDialogController6,isPageTrailer:this.$ComposerXVideoUploadDialogController4===c("ComposerEntryPointRef").PAGE_TRAILER,onCancel:this.$ComposerXVideoUploadDialogController21.bind(this),onDone:this.$ComposerXVideoUploadDialogController22.bind(this)}),this.$ComposerXVideoUploadDialogController14);this.$ComposerXVideoUploadDialogController13=true};n.prototype.show=function(){"use strict";__p&&__p();if(this.$ComposerXVideoUploadDialogController17){this.$ComposerXVideoUploadDialogController18=false;if(this.$ComposerXVideoUploadDialogController2)c("Arbiter").inform("ComposerXFilesStore/filesAdded/"+this.$ComposerXVideoUploadDialogController11+"/videoupload",{fileInput:this.$ComposerXVideoUploadDialogController2},c("Arbiter").BEHAVIOR_PERSISTENT);else if(this.$ComposerXVideoUploadDialogController3)c("Arbiter").inform("ComposerXFilesStore/filesDropped/"+this.$ComposerXVideoUploadDialogController11+"/videoupload",{files:this.$ComposerXVideoUploadDialogController3},c("Arbiter").BEHAVIOR_PERSISTENT);this.$ComposerXVideoUploadDialogController20()}else this.$ComposerXVideoUploadDialogController18=true};n.prototype.$ComposerXVideoUploadDialogController21=function(){"use strict";c("Arbiter").inform("videoUpload/cancel",{composerID:this.$ComposerXVideoUploadDialogController11});this.hide()};n.prototype.$ComposerXVideoUploadDialogController22=function(o){"use strict";c("Arbiter").inform("videoUpload/"+this.$ComposerXVideoUploadDialogController11+"/done");c("Arbiter").inform("Pages/composeFinished",{composerID:this.$ComposerXVideoUploadDialogController11});this.hide()};n.prototype.hide=function(){"use strict";c("ReactDOM").unmountComponentAtNode(this.$ComposerXVideoUploadDialogController14);this.$ComposerXVideoUploadDialogController13=false};n.getComposerInstance=function(o){"use strict";return i(o)};n.$ComposerXVideoUploadDialogController12=function(o,p,q){"use strict";if(q)return q;else return p+"_"+o};n.clearInstances=function(){"use strict";h={}};n.showDialog=function(o){"use strict";__p&&__p();o.composerEntryPointRef=o.composerEntryPointRef||m;var p=n.$ComposerXVideoUploadDialogController12(o.targetID,o.composerEntryPointRef,o.originalComposerID);if(!o.fileInput&&!o.files)return;if(!l(p))j(new n(o.targetID,o.fileInput||null,o.files||null,o.composerEntryPointRef,o.showDialogCancelButton||false,o.showProcessingDialog||false,o.canShowOptimisticPost||false,o.originalComposerID||"",o.isReferenceVideoUpload||false));else{new(c("VideoComposerDialogUITypedLogger"))().setEvent(c("VideoComposerDialogUIEvent").DIALOG_REQUESTED).setActorID(o.targetID).setComposerDialogVersion(c("VideoComposerDialogVersion").V1).setComposerEntryPoint(o.composerEntryPointRef).setDialogMode(c("VideoComposerDialogMode").VIDEO_UPLOAD).log();if(o.fileInput)i(p).setFileInput(o.fileInput);else if(o.files)i(p).setDroppedFiles(o.files)}i(p).show()};n.setVideoComposer=function(o,p){"use strict";if(h[o])h[o].$ComposerXVideoUploadDialogController16(p)};f.exports=n}),null);
__d("ExpirationType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:0,DELETE:1,HIDE:2,ONLY_ME:3})}),null);
__d("VideoScheduleAnnouncementPostSection.react",["cx","fbt","React","XUICheckboxInput.react","Image.react","InputLabel.react","Layout.react","EditorState","MentionsInputUtility","getMentionsInputDecorator","getMentionsTextForContentState","VideoEditMentionsTextArea.react","WebAsyncSearchSource"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Layout.react").Column,m=c("Layout.react").FillColumn;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.onMessageChange=function(p){var q=c("getMentionsTextForContentState")(p.getCurrentContent());this.setState({messageEditorState:p});this.props.onChange(this.state.announcementToggle,q)}.bind(this);this.state={announcementToggle:true,messageEditorState:this.$VideoScheduleAnnouncementPostSection1(o.message)}}n.prototype.$VideoScheduleAnnouncementPostSection1=function(o){if(o)return c("MentionsInputUtility").createFromTextWithMentions(o,c("getMentionsInputDecorator")());return c("EditorState").createEmpty(c("getMentionsInputDecorator")())};n.prototype.render=function(){var o=c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.announcementToggle,onChange:function(){this.props.onChange(!this.state.announcementToggle);this.setState({announcementToggle:!this.state.announcementToggle})}.bind(this)});return c("React").createElement("div",{className:"_3-8-"},c("React").createElement(c("InputLabel.react"),{label:i._("Announcement Post")},o),this.$VideoScheduleAnnouncementPostSection2())};n.prototype.$VideoScheduleAnnouncementPostSection2=function(){if(!this.state.announcementToggle)return null;return c("React").createElement("div",{className:"_3-8x _t0j"},c("React").createElement(c("Layout.react"),{className:"_2rgz"},c("React").createElement(l,{className:"_2rg-"},c("React").createElement(c("Image.react"),{src:this.props.profilePic})),c("React").createElement(m,null,c("React").createElement(c("VideoEditMentionsTextArea.react"),{className:"_2rg_",placeholder:i._("Say something about this upcoming video..."),searchSource:this.props.mentionsSource,editorState:this.state.messageEditorState,onChange:this.onMessageChange,textWithMentions:this.props.message}))))};f.exports=n}),null);
__d("PostScheduleAndPostEndDialog.react",["ix","cx","fbt","DatePickerRestraints","ExpirationType","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","React","ReactLayeredComponentMixin_DEPRECATED","XUIAmbientNUX.react","XUICheckboxInput.react","XUIDateTimePicker.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIGrayText.react","XUINotice.react","XUIText.react","InputLabel.react","Image.react","Layout.react","VideoScheduleAnnouncementPostSection.react","VideoScheduleAnnouncementPostPreview.react","fbglyph","gkx"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=c("Layout.react").Column,l=c("Layout.react").FillColumn,m=c("React").PropTypes,n=60*1e3,o=60*n,p=24*60*60*1e3,q=30,r=6*q*p,s=11,t=450,u=857,v=325,w=c("React").createClass({displayName:"PostScheduleAndPostEndDialog",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{initialPublishDate:m.instanceOf(Date),initialPostEndDate:m.instanceOf(Date),isReschedule:m.bool,timezoneStr:m.string.isRequired,onSubmit:m.func.isRequired,defaultScheduledTimeDelta:m.number,showPostEndDate:m.bool,showExpire:m.bool,showExpireNux:m.bool,onNuxAcked:m.func,submitLabel:m.string,canCreateAnnouncementPost:m.bool,announcementPostConfig:m.object,composerID:m.string},getDefaultProps:function x(){return{defaultScheduledTimeDelta:s*n,showPostEndDate:true}},getInitialState:function x(){return{shown:false,publishDate:this.props.initialPublishDate?this.props.initialPublishDate:new Date(Date.now()+this.props.defaultScheduledTimeDelta),postEndDate:this.props.initialPostEndDate?this.props.initialPostEndDate:new Date(Date.now()+o),scheduleToggle:true,postEndToggle:false,expireDate:new Date(Date.now()+o),expireToggle:false,expirationType:c("ExpirationType").HIDE,showNux:false,announcementToggle:this.props.canCreateAnnouncementPost,announcementTitle:this.props.announcementPostConfig?this.props.announcementPostConfig.defaultMessage:""}},show:function x(){var y=this.getInitialState();y.showNux=this.props.showExpireNux;y.shown=true;this.setState(y)},_onNuxClose:function x(){this.setState({showNux:false});this.props.onNuxAcked&&this.props.onNuxAcked()},renderLayers:function x(){var y=this.props.isReschedule?j._("Reschedule Post"):j._("Schedule Post"),z=this.props.submitLabel?this.props.submitLabel:this.state.scheduleToggle?this.props.isReschedule?j._("Reschedule"):j._("Schedule"):j._("Publish"),A=null;if(this.state.showNux&&this.refs.expirationToggle)A=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:this._getContextRef,onCloseButtonClick:this._onNuxClose,position:"left",shown:true},j._("You can now choose when your post will unpublish."));var B=this._renderInvalidTimeNotice();return c("React").createElement("div",null,c("React").createElement(c("XUIDialog.react"),{shown:this.state.shown,width:this.props.canCreateAnnouncementPost?u:t,fixedTopPosition:v,className:"_yjl"},c("React").createElement(c("XUIDialogTitle.react"),null,y),c("React").createElement(c("XUIDialogBody.react"),{className:"_hg8"},this._renderBody(B)),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),{className:"_3-90"}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",label:z,onClick:this._onSubmitClick,disabled:B!==null,use:"confirm"}))),A)},_renderBody:function x(y){if(this.props.canCreateAnnouncementPost)return c("React").createElement(c("Layout.react"),null,c("React").createElement(k,null,this._renderScheduledForm(y)),c("React").createElement(l,null,this._renderAnnouncementPostPreview()));return this._renderScheduledForm(y)},_renderAnnouncementPostPreview:function x(){return c("React").createElement("div",{className:"_yjn"},c("React").createElement("div",null,c("React").createElement(c("Image.react"),{src:h("126073")}),c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",className:"_yko"},j._("Announcement Preview"))),c("React").createElement(c("VideoScheduleAnnouncementPostPreview.react"),{config:this.props.announcementPostConfig||{},showPreview:this.state.announcementToggle,title:this.state.announcementTitle,scheduledTime:this.state.publishDate.getTime(),composerID:this.props.composerID}))},_renderScheduledForm:function x(y){return c("React").createElement("div",{className:"_ykp"},c("React").createElement("div",{className:"_t0h"},c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},j._("Publishing Schedule"))),c("React").createElement(c("InputLabel.react"),{label:j._("Publication")},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.scheduleToggle,onChange:function(){return this.setState({scheduleToggle:!this.state.scheduleToggle})}.bind(this)})),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block",className:"_t0j"},j._("Select a date and time in the future for when you want your post to publish.")),this._renderSchedule(),this._renderAnnouncementPostSection(),this._renderExpireSection(),this._renderPostEndSection(),y)},_isPublishTimeValid:function x(){if(!this.state.scheduleToggle||c("gkx")("AT7DIs1sasYeDs-lAH5LYTc-LKuDRwN_QBSFBbeeu0ipZ8rv2LCgieDZGjVfXsNogY_7dh4u5dh3G-fLkOUgBjombJlqzYXfgz6mf-qVUsbF6g"))return true;var y=this.state.publishDate.getTime(),z=Date.now()+10*n,A=Date.now()+r;return y>z&&y<A},_isPostEndOrExpireTimeValid:function x(y){var z=this.state.publishDate.getTime(),A=Date.now()+10*n,B=Date.now()+r;if(this.state.scheduleToggle)A=z+10*n;return y>=A&&y<=B},_renderSchedule:function x(){if(!this.state.scheduleToggle)return null;return c("React").createElement("div",null,c("React").createElement(c("XUIDateTimePicker.react"),{allowEmpty:false,dateRestraints:[c("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-p)),c("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+r))],className:"_3-8x _t0j",date:this.state.publishDate,onChange:function(y){return this.setState({publishDate:y})}.bind(this),timezone:this.props.timezoneStr}))},_renderAnnouncementPostSection:function x(){if(!this.props.canCreateAnnouncementPost||!this.state.scheduleToggle)return null;var y=this.props.announcementPostConfig||{};return c("React").createElement(c("VideoScheduleAnnouncementPostSection.react"),{message:this.state.announcementTitle,mentionsSource:y.mentionsSource,profilePic:y.profilePic,onChange:this._onAnnouncementChange})},_onAnnouncementChange:function x(y,z){if(z!==undefined)this.setState({announcementTitle:z,announcementToggle:y});else this.setState({announcementToggle:y})},_renderExpireSection:function x(){if(!this.props.showExpire)return null;var y=c("React").createElement(c("XUICheckboxInput.react"),{ref:"expirationToggle",checked:this.state.expireToggle,onChange:function(){return this.setState({expireToggle:!this.state.expireToggle,showNux:false})}.bind(this)});return c("React").createElement("div",{className:"_3-8-"},c("React").createElement(c("InputLabel.react"),{label:j._("Expiration")},y),c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block",className:"_t0j"},j._("When a post expires, it will no longer be visible to the public. Page admins can still view unpublished posts and their Insights."))),this._renderExpire())},_renderExpire:function x(){if(!this.state.expireToggle)return null;return c("React").createElement("div",{className:"_3-8x _t0j"},c("React").createElement(c("XUIDateTimePicker.react"),{allowEmpty:false,dateRestraints:[c("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-p)),c("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+r))],date:this.state.expireDate,onChange:function(y){return this.setState({expireDate:y})}.bind(this),timezone:this.props.timezoneStr}),c("React").createElement(c("InputLabel_DEPRECATED.react"),{className:"_3-8x"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.expirationType===c("ExpirationType").DELETE,onChange:this._handleExpirationTypeChanged}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",weight:"normal"},j._("Delete the post. Permanently remove the post and its insights at the scheduled time.")))))},_renderPostEndSection:function x(){if(!this.props.showPostEndDate)return null;var y=c("React").createElement(c("XUICheckboxInput.react"),{ref:"postEndToggle",checked:this.state.postEndToggle,onChange:function(){return this.setState({postEndToggle:!this.state.postEndToggle})}.bind(this)});return c("React").createElement("div",null,c("React").createElement("div",{className:"_t0k"},c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},j._("Distribution Schedule"))),c("React").createElement(c("InputLabel.react"),{label:j._("Stop News Feed Distribution")},y),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block",className:"_t0j"},j._("Select a date and time in the future for when you want your post to stop showing in News Feed. The post will still be visible, but News Feed distribution will end.")),this._renderPostEndDate())},_renderPostEndDate:function x(){if(!this.state.postEndToggle)return null;return c("React").createElement("div",{className:"_3-8x _t0j"},c("React").createElement(c("XUIDateTimePicker.react"),{allowEmpty:false,dateRestraints:[c("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-p)),c("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+r))],date:this.state.postEndDate,onChange:function(y){return this.setState({postEndDate:y})}.bind(this),timezone:this.props.timezoneStr}))},_renderInvalidTimeNotice:function x(){__p&&__p();var y=this._isPublishTimeValid(),z=!this.state.postEndToggle||this._isPostEndOrExpireTimeValid(this.state.postEndDate.getTime()),A=!this.state.expireToggle||this._isPostEndOrExpireTimeValid(this.state.expireDate.getTime()),B=y&&z&&A;if(B)return null;var C=null;if(!y)C=j._("Scheduled posts need to be shared between 10 minutes and 6 months from when you create them.");else if(!z&&this.state.scheduleToggle)C=j._("News Feed distribution can only end between 10 minutes from when they are published and 6 months from now.");else if(!z)C=j._("News Feed distribution can only end between 10 minutes and 6 months from when you create them.");else if(!A&&this.state.scheduleToggle)C=j._("Posts need to be expired between 10 minutes from when they are published and 6 months from now.");else if(!A)C=j._("Posts need to be expired between 10 minutes and 6 months from when you create them.");return c("React").createElement(c("XUINotice.react"),{use:"warn",className:"_3-8y"},C)},render:function x(){return c("React").createElement("div",null)},_handleExpirationTypeChanged:function x(event){var y=event.target.checked?c("ExpirationType").DELETE:c("ExpirationType").HIDE;this.setState({expirationType:y})},_onSubmitClick:function x(){__p&&__p();var y=null,z=null,A=null,B=null,C=null;if(this.state.scheduleToggle){y=this.state.publishDate;if(this.props.canCreateAnnouncementPost&&this.state.announcementToggle)C=this.state.announcementTitle}if(this.state.postEndToggle)z=this.state.postEndDate;if(this.state.expireToggle){A=this.state.expireDate;B=this.state.expirationType}this.props.onSubmit(y,z,A,B,C);this.setState({shown:false})},_getContextRef:function x(){return this.refs.expirationToggle}});f.exports=w}),null);
__d("ModernScheduledVideoAnnouncementSubscribeMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"ScheduledVideoAnnouncementSubscribeData!",defaultValue:null}],j=[{kind:"LinkedField",alias:null,name:"scheduled_video_announcement_subscribe",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"ScheduledVideoAnnouncementSubscribeData!"}],concreteType:"ScheduledVideoAnnouncementSubscribeResponsePayload",plural:false,selections:[{kind:"ScalarField",alias:null,name:"subscribed",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"mutation",name:"ModernScheduledVideoAnnouncementSubscribeMutation",id:"1625878820778072",text:null,metadata:{},fragment:{kind:"Fragment",name:"ModernScheduledVideoAnnouncementSubscribeMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:j},operation:{kind:"Operation",name:"ModernScheduledVideoAnnouncementSubscribeMutation",argumentDefinitions:i,selections:j}}}();f.exports=h}),null);
__d("ModernScheduledVideoAnnouncementSubscribeMutation",["RelayModern","ModernScheduledVideoAnnouncementSubscribeMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("ModernScheduledVideoAnnouncementSubscribeMutation.graphql")};function k(l,m,n){return h(l,{mutation:j,variables:{input:{actor_id:m.actorID,video_announcement_id:m.announcementID,subscribe:m.subscribe}},onCompleted:n&&n.onCompleted,onError:n&&n.onError})}f.exports={commit:k}}),null);
__d("ScheduledVideoAnnouncementAttachment.react",["ix","cx","fbt","CssBackgroundImage.react","Image.react","React","ModernScheduledVideoAnnouncementSubscribeMutation","VideoLink.react","RelayFBEnvironment","XUIButton.react","CurrentUser","fbglyph","formatDate","idx"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){"use strict";__p&&__p();l.constructor.call(this,n);this.$ScheduledVideoAnnouncementAttachment1=function(){var o=this.props.announcementID;if(!o)return;c("ModernScheduledVideoAnnouncementSubscribeMutation").commit(c("RelayFBEnvironment"),{actorID:c("CurrentUser").getAccountID(),announcementID:o,subscribe:!this.state.isSubscribed},{onCompleted:function(p){var q,r=((q=p)!=null?(q=q.scheduled_video_announcement_subscribe)!=null?q.subscribed:q:q)||false;this.setState({buttonDisabled:false,isSubscribed:r})}.bind(this)})}.bind(this);this.$ScheduledVideoAnnouncementAttachment2=function(){if(this.props.videoLinkData)return;this.setState({buttonDisabled:true},this.$ScheduledVideoAnnouncementAttachment1)}.bind(this);this.state={buttonDisabled:false,isSubscribed:n.isSubscribed}}m.prototype.$ScheduledVideoAnnouncementAttachment3=function(){"use strict";__p&&__p();var n=Boolean(this.props.videoLinkData),o=this.state.isSubscribed,p=null,q=null;if(n)p=j._("Watch Now");else if(o){p=j._("Reminder Set");q=c("React").createElement(c("Image.react"),{src:h("114568")})}else p=j._("Remind Me");var r=c("React").createElement(c("XUIButton.react"),{className:"_23za"+(o?" _23zc":"")+(n?" _23zd":""),disabled:this.state.buttonDisabled,image:q,label:p,onClick:this.$ScheduledVideoAnnouncementAttachment2});if(n)return c("React").createElement(c("VideoLink.react"),this.props.videoLinkData,r);else return r};m.prototype.$ScheduledVideoAnnouncementAttachment4=function(){"use strict";if(this.props.videoLinkData)return j._("Now Released");return c("formatDate")(this.props.scheduledTime,"g:ia M j")};m.prototype.$ScheduledVideoAnnouncementAttachment5=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_23zh"},c("React").createElement(c("Image.react"),{className:"_23zj",src:this.props.showmarkURI}),c("React").createElement("div",{className:"_23zk"},this.$ScheduledVideoAnnouncementAttachment4()),c("React").createElement("div",{className:"_23zl"},this.props.title)),c("React").createElement("div",{className:"_23zm"},this.$ScheduledVideoAnnouncementAttachment3()))};m.prototype.render=function(){"use strict";return c("React").createElement(c("CssBackgroundImage.react"),{className:"_23zn"+(this.props.isPreview?" _3q2v":""),imageURI:this.props.backgroundImageURI},c("React").createElement("div",{className:"_23zo"},c("React").createElement("div",{className:"_23zp"},this.$ScheduledVideoAnnouncementAttachment5())))};f.exports=m}),null);
__d("VideoScheduleAnnouncementPostPreview.react",["cx","fbt","React","XUIText.react","XUIGrayText.react","StoryProfile.react","ComposerVideoUploadStore","ScheduledVideoAnnouncementAttachment.react","CenteredContainer.react","PrivacyConst"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){if(!this.props.showPreview)return c("React").createElement(c("CenteredContainer.react"),{className:"_3xz4",fullHeight:true,vertical:true},c("React").createElement(c("XUIGrayText.react"),{size:"meta1"},i._("Select Announcement Post in order to see preview")));var m=this.props.config,n=m.profilePic,o=m.profileURL,p=m.profileName,q=this.props.composerID,r=c("ComposerVideoUploadStore").getTitle(q),s=c("ComposerVideoUploadStore").getThumbnail(q);return c("React").createElement("div",{className:"_3xz5"},c("React").createElement(c("StoryProfile.react"),{profilePicture:n,profileURL:o,username:p,uploadTime:i._("Just Now"),description:i._("scheduled a new video"),privacySetting:c("PrivacyConst").BaseValue.EVERYONE}),c("React").createElement(c("XUIText.react"),{className:"_3-8o",display:"block"},this.props.title),c("React").createElement(c("ScheduledVideoAnnouncementAttachment.react"),{isSubscribed:false,scheduledTime:this.props.scheduledTime/1e3,title:r,backgroundImageURI:s.getURL(),isPreview:true}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({BACKDATE_CONFIRM:"",BOOTLOAD_PARAMETERS:"",CLOSE_CONFIRM_DIALOG:"",CLOSE_TITLE_ERROR_TOOLTIP:"",CLOSE_PRIMARY_ERROR_DIALOG:"",EDIT_EXPIRATION:"",EDIT_TABS_LOADED:"",EDIT_SCHEDULED_TIME:"",EDIT_SHOULD_EXPIRE:"",EDIT_SHOULD_PUBLISH:"",EXIT_DIALOG:"",EXIT_DIALOG_ATTEMPT:"",EXIT_DIALOG_REPLACE_FILE:"",EXIT_DIALOG_SAVE_DRAFT:"",FILE_ADDED:"",HIDE_MISSING_VIDEO_TYPE_TOOLTIP:"",HIGHLIGHT_TITLE_WITH_ERROR_TOOLTIP:"",HIGHLIGHT_MISSING_VIDEO_TYPE:"",INITIALIZE_COMPOSER:"",INITIALIZE_CROSSPOST_COMPOSER:"",INITIALIZE_EDIT_COMPOSER:"",INIT_VIDEO_UPLOADER:"",LOAD_VIDEO_DATA_FOR_ID:"",NAVIGATED_FROM_PAGE:"",METADATA_LOADED_FROM_HTML_PLAYER:"",METADATA_LOADED_FROM_VIDEO_UPLOADER:"",POST_FAILED:"",POST_FINISHED:"",PUBLISH_POST:"",RESET_COMPOSER:"",SELECT_TAB:"",UPDATE_IS_FEATURED_VIDEO:"",UPDATE_SHOW_VIDEO_TYPE:"",UPDATE_TITLE:"",UPLOAD_FAILED:"",UPLOAD_FINISHED:"",UPLOAD_PROGRESSED:"",VIDEO_TYPE_CHANGED:"",CLOSE_PUBLISH_CONFIRM_DIALOG:"",SAVE_EDITED_VIDEO:"",SAVE_EDITED_VIDEO_FAILURE:"",SAVE_EDITED_VIDEO_SUCCESS:"",SCHEDULE_CONFIRM:"",PREMIERE_CONFIRM:"",SAVE_AS_DRAFT_ATTEMPT:"",SAVE_AS_DRAFT_ABORT:"",SAVE_AS_DRAFT_CONFIRM:"",SELECT_EDITING_PUBLISH_ACTION:"",TAB_LOAD_ERROR:"",CANCEL_UPLOAD:"",CONFIRM_RIGHTS:"",BOOTLOAD_DEFAULT_TAB_PARAMETERS:"",BOOTLOAD_CROSSPOST_DEFAULT_TAB:"",BOOTLOAD_DEFAULT_EDIT_PARAMS:"",TOGGLE_CROSSPOST_TO_PARENT:"",UPDATE_CONTENT_TAGS:"",UPDATE_DESCRIPTION_EDITOR_STATE:"",UPDATE_PLAYLIST_IDS:"",UPDATE_SEASON_ID:"",UPDATE_VIDEO_LIST_OPTIONS:"",UPDATE_VIDEO_PREVIEW_CONTROLLER:"",USER_PLAYED_VIDEO_PREVIEW:"",AGREE_VIDEO_RIGHTS:"",BOOTLOAD_AD_BREAK_PARAMETERS:"",DELETE_AD_BREAK:"",FETCH_AD_BREAK_EDIT_PARAMETERS:"",INSERT_AD_BREAK:"",SET_CURRENT_AD_BREAK:"",SET_CURRENT_PREVIEW_INDEX:"",SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:"",SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:"",SET_IS_BRANDED_CONTENT_VIDEO:"",SET_PREREVIEW_DIALOG:"",SET_PREREVIEW_POST_METHOD:"",SUBMIT_FOR_PREREVIEW:"",START_PAGE_ONBOARDING:"",UPDATE_AD_BREAK_STATUS:"",UPDATE_HOLDOUT_TEST_STATUS:"",UPDATE_THUMBNAIL_URL:"",UPDATE_VPC:"",CONFIRM_REVIEWABLE_BRANDED_CONTENT:"",SHOW_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION:"",HIDE_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION:"",SHOW_BRANDED_CONTENT_ERROR_DIALOG:"",ADD_CAPTION_ENTRY:"",REMOVE_CAPTION_ENTRY:"",EDIT_CAPTION_ENTRY:"",SET_PREVIEW_ENTRY:"",SET_EDITOR_LANGUAGE:"",SET_EDITOR_LOCALE:"",SET_DEFAULT_CAPTION_LOCALE:"",SET_CAPTIONS:"",SET_NEXT_ENTRY:"",PLAY_PREVIEW_ENTRY:"",CONFIRM_CLOSE_DIALOG:"",CANCEL_CLOSE_DIALOG:"",SHOW_EXIT_DIALOG:"",START_SAVE_CAPTION_CHANGESET:"",FINISH_SAVE_CAPTION_CHANGESET:"",INITIALIZE_EDITOR_LANGUAGE:"",RESET_CAPTION_EDITOR:"",RESET_PLAYER:"",SET_CURRENT_PLAY_POSITION:"",SET_VPC:"",SET_DURATION:"",SET_PLAYER_STATE:"",SHOW_CAPTION_EDITOR:"",HIDE_CAPTION_EDITOR:"",INITIALIZE_CAPTION_LANDING_SCREEN:"",GENERATE:"",CANCEL_GENERATE:"",CREATE:"",EDIT_CAPTIONS_DRAFT:"",DELETE_CAPTIONS_DRAFT:"",START_SRT_UPLOAD:"",FINISH_SRT_UPLOAD:"",GENERATE_COMPLETE:"",CREATE_COMPLETE:"",SELECT_SPOKEN_LANGUAGE:"",SELECT_SPOKEN_LOCALE:"",FINISHED_FETCH_DRAFTS:"",GENERATE_PROGRESS_UPDATE:"",UPDATE_CAPTION_FILES:"",UPDATE_ERROR_STATE:"",SET_AUTO_GENERATED_CAPTIONS:"",RESET_CAPTIONS_LANDING_TAB:"",RETRY_AUTO_GENERATION:"",RESUME_AUTO_GENERATION:"",RESET_AUTO_GENERATING_LOCALE:"",TRY_RESUME_AUTO_GENERATION:"",INITIALIZE_ALL_CAPTION_FILES:"",BOOTLOAD_PARAMETERS_CAPTIONS_TAB:"",CHANGE_PUBLISHED_STATE:"",PENDING_TO_PUBLISHED:"",CAPTION_LANDING_SCREEN_OPEN_EVENT:"",OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:"",RESET_OPEN_LANDING_SCREEN_STATE:"",FETCH_CAPTION_EDITOR_CROSSPOST_PARAMS:"",CAPTIONS_EDIT_PARAMS_FETCHED:"",CHANGE_PUBLISHED_STATE_URL:"",DELETE_CAPTIONS_URL:"",DELETE_LOCAL_CAPTION_FILE:"",FETCHED_AUTO_GEN_V1_SUBTITLE:"",UPDATE_ALL_LOCAL_CAPTIONS:"",UPLOAD_LOCAL_CAPTIONS:"",BOOTLOAD_DISTRIBUTION_TAB:"",BOOTLOAD_DISTRIBUTION_TAB_FOR_EDIT:"",TOGGLE_NEWS_FEED:"",TOGGLE_EMBEDDING:"",TOGGLE_SECRET_VIDEO:"",CROSSPOST_PAGES_FETCHED:"",TOGGLE_CROSSPOST_PAGE:"",TOGGLE_GRAPHIC_WARNING:"",TOGGLE_BLOCK_SOCIAL:"",CROSSPOST_LINK_CLICKED:"",REFRESH_CROSSPOST_PAGES:"",BOOTLOAD_RIGHTS_PARAMETERS:"",BOOTLOAD_EDIT_RIGHTS_PARAMETERS:"",UPDATE_ATTRIBUTION:"",UPDATE_CATEGORY:"",UPDATE_CATEGORY_REQUIRED_ERROR:"",UPDATE_FB_WHITELISTED_USERS:"",UPDATE_IG_WHITELISTED_USERS:"",UPDATE_MONITORING_TYPE:"",UPDATE_OWNERSHIP_COUNTRIES:"",UPDATE_SHOULD_DETECT_MATCHES:"",UPDATE_MATCH_RULE:"",BOOTLOAD_SPHERICAL_CONTEXT_CONFIG:"",BOOTLOAD_SPHERICAL_DIRECTOR_CROSSPOST_PARAMETERS:"",BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS:"",BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS:"",PARSE_SPHERICAL_METADATA:"",TOGGLE_SPHERICAL:"",BOOTLOAD_CROSSPOST_THUMBNAILS:"",BOOTLOAD_THUMBNAILS_FOR_EDIT:"",GENERATED_THUMBNAILS:"",SELECT_SECTION:"",TOGGLE_SELECTED_GENERATED_THUMBNAIL:"",UPDATE_CUSTOM_THUMBNAIL:"",UPDATE_SCRUBBED_THUMBNAIL:"",UPDATE_SELECTED_THUMBNAIL:"",BOOTLOAD_TRACKING_EDIT_PARAMS:"",UPDATE_CUSTOM_LABELS:"",UPDATE_UNIVERSAL_ID:"",UPDATE_MOMENTS_OF_INTEREST:""});f.exports=h}),null);
__d("VideoComposerDialogDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("VideoComposerDialogActions",["fbt","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoUploadProgressBar"],(function aa(ba,a,ca,da,ea,fa,b){"use strict";__p&&__p();var c=function c(V,W,X,Y){var Z={type:a("VideoComposerDialogActionTypes").BACKDATE_CONFIRM,year:V,month:W,day:X,hideFromNewsFeed:Y};a("VideoComposerDialogDispatcher").dispatch(Z)},d=function d(V){var W={type:a("VideoComposerDialogActionTypes").BOOTLOAD_PARAMETERS,data:V};a("VideoComposerDialogDispatcher").dispatch(W)},e=function e(){var V={type:a("VideoComposerDialogActionTypes").CLOSE_CONFIRM_DIALOG};a("VideoComposerDialogDispatcher").dispatch(V)},f=function f(){var V={type:a("VideoComposerDialogActionTypes").CLOSE_TITLE_ERROR_TOOLTIP};a("VideoComposerDialogDispatcher").dispatch(V)},g=function g(){var V={type:a("VideoComposerDialogActionTypes").CLOSE_PRIMARY_ERROR_DIALOG};a("VideoComposerDialogDispatcher").dispatch(V)},h=function h(){var V={type:a("VideoComposerDialogActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG};a("VideoComposerDialogDispatcher").dispatch(V)},i=function i(V){var W={type:a("VideoComposerDialogActionTypes").POST_FAILED,errorMessage:V.message};a("VideoComposerDialogDispatcher").dispatch(W)},j=function j(){var V={type:a("VideoComposerDialogActionTypes").POST_FINISHED,data:null};a("VideoComposerDialogDispatcher").dispatch(V)},k=function k(V,W){var X={type:a("VideoComposerDialogActionTypes").EDIT_EXPIRATION,expirationTime:V,expirationType:W};a("VideoComposerDialogDispatcher").dispatch(X)},l=function l(){var V={type:a("VideoComposerDialogActionTypes").EDIT_TABS_LOADED};a("VideoComposerDialogDispatcher").dispatch(V)},m=function m(V){var W={type:a("VideoComposerDialogActionTypes").EDIT_SCHEDULED_TIME,scheduleDate:V};a("VideoComposerDialogDispatcher").dispatch(W)},n=function n(V){var W={type:a("VideoComposerDialogActionTypes").EDIT_SHOULD_EXPIRE,expire:V};a("VideoComposerDialogDispatcher").dispatch(W)},o=function o(V){var W={type:a("VideoComposerDialogActionTypes").EDIT_SHOULD_PUBLISH,publish:V};a("VideoComposerDialogDispatcher").dispatch(W)},p=function p(){var V={type:a("VideoComposerDialogActionTypes").EXIT_DIALOG};a("VideoComposerDialogDispatcher").dispatch(V)},q=function q(){var V={type:a("VideoComposerDialogActionTypes").EXIT_DIALOG_ATTEMPT};a("VideoComposerDialogDispatcher").dispatch(V)},r=function r(){var V={type:a("VideoComposerDialogActionTypes").EXIT_DIALOG_REPLACE_FILE};a("VideoComposerDialogDispatcher").dispatch(V)},s=function s(){var V={type:a("VideoComposerDialogActionTypes").EXIT_DIALOG_SAVE_DRAFT};a("VideoComposerDialogDispatcher").dispatch(V)},t=function t(V,W){var X={type:a("VideoComposerDialogActionTypes").FILE_ADDED,file:V,fileInput:W};a("VideoComposerDialogDispatcher").dispatch(X)},u=function u(V){var W={type:a("VideoComposerDialogActionTypes").HIDE_MISSING_VIDEO_TYPE_TOOLTIP,tooltipText:V};a("VideoComposerDialogDispatcher").dispatch(W)},v=function v(V,W){var X={type:a("VideoComposerDialogActionTypes").HIGHLIGHT_TITLE_WITH_ERROR_TOOLTIP,tooltipCaption:V,tooltipText:W};a("VideoComposerDialogDispatcher").dispatch(X)},w=function w(){var V={type:a("VideoComposerDialogActionTypes").HIGHLIGHT_TITLE_WITH_ERROR_TOOLTIP,tooltipCaption:b._("Title Too Long"),tooltipText:b._("Please use a shorter title")};a("VideoComposerDialogDispatcher").dispatch(V)},x=function x(V){var W={type:a("VideoComposerDialogActionTypes").HIGHLIGHT_MISSING_VIDEO_TYPE,tooltipText:V};a("VideoComposerDialogDispatcher").dispatch(W)},y=function y(V){var W={type:a("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_HTML_PLAYER,videoPlayer:V};a("VideoComposerDialogDispatcher").dispatch(W)},z=function z(V){var W={type:a("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER,data:V};a("VideoComposerDialogDispatcher").dispatch(W)},A=function A(V,W,X,Y,Z,$,ua){var va={type:a("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER,actorID:V,targetID:W,composerEntryPointRef:X,composerID:Y,fileInput:Z,file:$,isVideoShowPage:ua};a("VideoComposerDialogDispatcher").dispatch(va)},B=function B(V){var W={type:a("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER,editParams:V};a("VideoComposerDialogDispatcher").dispatch(W)},C=function C(V){var W={type:a("VideoComposerDialogActionTypes").INITIALIZE_CROSSPOST_COMPOSER,params:V};a("VideoComposerDialogDispatcher").dispatch(W)},D=function D(V){var W={type:a("VideoComposerDialogActionTypes").INIT_VIDEO_UPLOADER,videoUploader:V};a("VideoComposerDialogDispatcher").dispatch(W)},E=function E(V){var W={type:a("VideoComposerDialogActionTypes").LOAD_VIDEO_DATA_FOR_ID,videoData:V};a("VideoComposerDialogDispatcher").dispatch(W)},F=function F(){var V={type:a("VideoComposerDialogActionTypes").NAVIGATED_FROM_PAGE};a("VideoComposerDialogDispatcher").dispatch(V)},G=function G(event,V){var W={type:a("VideoComposerDialogActionTypes").POST_FAILED,errorMessage:V.error_summary+": "+V.error_description};a("VideoComposerDialogDispatcher").dispatch(W)},H=function H(event,V){var W={type:a("VideoComposerDialogActionTypes").POST_FINISHED,data:V};a("VideoComposerDialogDispatcher").dispatch(W)},I=function I(){var V={type:a("VideoComposerDialogActionTypes").PUBLISH_POST};a("VideoComposerDialogDispatcher").dispatch(V)},J=function J(){var V={type:a("VideoComposerDialogActionTypes").RESET_COMPOSER};a("VideoComposerDialogDispatcher").dispatch(V)},K=function K(){var V={type:a("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ABORT};a("VideoComposerDialogDispatcher").dispatch(V)},L=function L(){var V={type:a("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ATTEMPT};a("VideoComposerDialogDispatcher").dispatch(V)},M=function M(){var V={type:a("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_CONFIRM};a("VideoComposerDialogDispatcher").dispatch(V)},N=function N(){var V={type:a("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO};a("VideoComposerDialogDispatcher").dispatch(V)},O=function O(V){var W={type:a("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_FAILURE,errorMessage:V};a("VideoComposerDialogDispatcher").dispatch(W)},P=function P(){var V={type:a("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_SUCCESS};a("VideoComposerDialogDispatcher").dispatch(V)},Q=function Q(V){var W={type:a("VideoComposerDialogActionTypes").SELECT_EDITING_PUBLISH_ACTION,publishAction:V};a("VideoComposerDialogDispatcher").dispatch(W)},R=function R(){var V={type:a("VideoComposerDialogActionTypes").CANCEL_UPLOAD};a("VideoComposerDialogDispatcher").dispatch(V)},S=function S(V,W,X,Y,Z){var $={type:a("VideoComposerDialogActionTypes").SCHEDULE_CONFIRM,scheduleDate:V,postEndDate:W,expireDate:X,expirationType:Y,announcementPostTitle:Z};a("VideoComposerDialogDispatcher").dispatch($)},T=function T(V,W,X){var Y={type:a("VideoComposerDialogActionTypes").PREMIERE_CONFIRM,scheduleDate:V,customProfileImage:W,customProfileImageFocus:X};a("VideoComposerDialogDispatcher").dispatch(Y)},U=function U(V){var W={type:a("VideoComposerDialogActionTypes").SELECT_TAB,tab:V};a("VideoComposerDialogDispatcher").dispatch(W)},ga=function ga(){var V={type:a("VideoComposerDialogActionTypes").SUBMIT_FOR_PREREVIEW};a("VideoComposerDialogDispatcher").dispatch(V)},ha=function ha(V){var W={type:a("VideoComposerDialogActionTypes").TAB_LOAD_ERROR,error:V};a("VideoComposerDialogDispatcher").dispatch(W)},ia=function ia(){var V={type:a("VideoComposerDialogActionTypes").UPDATE_IS_FEATURED_VIDEO};a("VideoComposerDialogDispatcher").dispatch(V)},ja=function ja(V){var W={type:a("VideoComposerDialogActionTypes").UPDATE_SHOW_VIDEO_TYPE,showVideoType:V};a("VideoComposerDialogDispatcher").dispatch(W)},ka=function ka(V){var W={type:a("VideoComposerDialogActionTypes").UPDATE_TITLE,title:V};a("VideoComposerDialogDispatcher").dispatch(W)},la=function la(event,V){var W={type:a("VideoComposerDialogActionTypes").UPLOAD_FAILED,errorData:V};a("VideoComposerDialogDispatcher").dispatch(W)},ma=function ma(){var V={type:a("VideoComposerDialogActionTypes").UPLOAD_FINISHED};a("VideoComposerDialogDispatcher").dispatch(V)},na=function na(event,V){var W=a("VideoUploadProgressBar").computeProgress(V.start_offset,V.sent_bytes,V.file_size,0,0),X={type:a("VideoComposerDialogActionTypes").UPLOAD_PROGRESSED,progress:Math.round(10*W)/10};a("VideoComposerDialogDispatcher").dispatch(X)},oa=function oa(){var V={type:a("VideoComposerDialogActionTypes").CONFIRM_RIGHTS};a("VideoComposerDialogDispatcher").dispatch(V)},pa=function pa(){var V={type:a("VideoComposerDialogActionTypes").SHOW_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION};a("VideoComposerDialogDispatcher").dispatch(V)},qa=function qa(){var V={type:a("VideoComposerDialogActionTypes").HIDE_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION};a("VideoComposerDialogDispatcher").dispatch(V)},ra=function ra(){var V={type:a("VideoComposerDialogActionTypes").CONFIRM_REVIEWABLE_BRANDED_CONTENT};a("VideoComposerDialogDispatcher").dispatch(V)},sa=function sa(){var V={type:a("VideoComposerDialogActionTypes").SHOW_BRANDED_CONTENT_ERROR_DIALOG};a("VideoComposerDialogDispatcher").dispatch(V)},ta=function ta(V){var W={type:a("VideoComposerDialogActionTypes").VIDEO_TYPE_CHANGED,videoType:V};a("VideoComposerDialogDispatcher").dispatch(W)};ea.exports={backdateConfirm:c,bootloadParameters:d,cancelUpload:R,closeConfirmDialog:e,closeTitleTooltip:f,closePrimaryErrorDialog:g,closePublishConfirmDialog:h,confirmReviewableBrandedContent:ra,confirmRights:oa,crosspostFailed:i,crosspostFinished:j,editExpiration:k,editTabsLoaded:l,editScheduledTime:m,editShouldExpire:n,editShouldPublish:o,exitDialog:p,exitDialogAttempt:q,exitDialogReplaceFile:r,exitDialogSaveDraft:s,fileAdded:t,hideMissingVideoTypeTooltip:u,hideReviewableBrandedContentConfirmation:qa,highlightTitleTooLong:w,highlightTitleWithErrorTooltip:v,highlightMissingVideoType:x,initializeComposer:A,initializeCrosspostComposer:C,initializeEditComposer:B,initVideoUploader:D,loadVideoDataForID:E,navigatedFromPage:F,metadataLoadedFromHTMLPlayer:y,metadataLoadedFromVideoUploader:z,postFailed:G,postFinished:H,premiereConfirm:T,publishPost:I,resetComposer:J,saveAsDraftAbort:K,saveAsDraftAttempt:L,saveAsDraftConfirm:M,saveEditedVideo:N,saveEditedVideoFailure:O,saveEditedVideoSuccess:P,scheduleConfirm:S,selectEditPublishAction:Q,selectTab:U,showBrandedContentErrorDialog:sa,showReviewableBrandedContentConfirmation:pa,submitForPrereview:ga,tabLoadError:ha,updateIsFeaturedVideo:ia,updateShowVideoType:ja,updateTitle:ka,uploadFailed:la,uploadFinished:ma,uploadProgressed:na,videoTypeChanged:ta}}),null);
__d("VideoComposerDialogConstants",[],(function a(b,c,d,e,f,g){"use strict";var h=16/9,i=664,j=20,k=300,l=i-2*j,m={SIXTEEN_NINE:h,DIALOG_WIDTH:i+k,SECONDARY_DIALOG_WIDTH:680,LEFT_SECTION_WIDTH:i,LEFT_SECTION_PADDING:j,MAX_TITLE_LENGTH:255,RIGHT_SECTION_WIDTH:k,GENERATED_THUMBNAILS:10,PLAYER_HEIGHT:l/h,PLAYER_WIDTH:l,THUMBNAIL_HEIGHT:100,THUMBNAIL_WIDTH:178};f.exports=m}),null);
__d("VideoComposerDialogTab",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BASIC:"basic",DISTRIBUTION:"distribution",CAPTIONS:"captions",AD_BREAKS:"ad_breaks",RIGHTS:"rights",TRACKING:"tracking",THUMBNAILS:"thumbnails",SPHERICAL_DIRECTOR:"spherical_director",MOMENTS_OF_INTEREST:"moments_of_interest",OLD_ADBREAKS:"old_ad-breaks-tab",OLD_ATTRIBUTIONS:"old_attributions-tab",OLD_BASIC:"old_basic-tab",OLD_DESTINATION:"old_destination-tab",OLD_ADVANCED:"old_advanced-tab",OLD_CAPTIONS:"old_captions-tab",OLD_SPHERICAL:"old_spherical-controls-tab",OLD_PERMISSIONS:"old_permissions-tab",OLD_RIGHTS:"old_rights-tab",OLD_WHITELIST:"old_whitelist-tab",OLD_SUMMARY:"old_summary-tab"})}),null);
__d("VideoComposerDialogBodySection.react",["cx","fbt","ErrorBoundary.react","React","VideoComposerDialogActions","VideoComposerDialogConstants","VideoComposerDialogTab","VideoComposerDialogTabs","XUINotice.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogBodySection1=function(){return c("React").createElement(c("XUINotice.react"),{use:"warn"},i._("Sorry, something went wrong when loading this tab. Please try again later."))};l.prototype.$VideoComposerDialogBodySection2=function(m){c("VideoComposerDialogActions").tabLoadError(m&&m.message+m.stack)};l.prototype.render=function(){var m=c("VideoComposerDialogTabs").get(this.props.selectedTab).bodyContainer,n=c("VideoComposerDialogConstants").LEFT_SECTION_WIDTH;if(this.props.selectedTab!==c("VideoComposerDialogTab").SPHERICAL_DIRECTOR)n-=c("VideoComposerDialogConstants").LEFT_SECTION_PADDING;return c("React").createElement("div",{className:"_65jy"},c("React").createElement("div",{style:{width:n},className:"_3_7b"+(this.props.selectedTab===c("VideoComposerDialogTab").BASIC?" _65ub":"")+(this.props.selectedTab===c("VideoComposerDialogTab").SPHERICAL_DIRECTOR?" _3aa_":"")},c("React").createElement(c("ErrorBoundary.react"),{fallbackComponent:this.$VideoComposerDialogBodySection1,key:this.props.selectedTab,onHandleError:this.$VideoComposerDialogBodySection2},c("React").createElement(m,null))))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogLeftSection.react",["cx","React","VideoComposerDialogBodySectionContainer.react","VideoComposerDialogConstants","VideoComposerDialogFooterSectionContainer.react","VideoComposerDialogTitleSectionContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_2gly",style:{width:c("VideoComposerDialogConstants").LEFT_SECTION_WIDTH}},c("React").createElement(c("VideoComposerDialogTitleSectionContainer.react"),null),c("React").createElement("div",{className:"_z3g"}),c("React").createElement(c("VideoComposerDialogBodySectionContainer.react"),null),c("React").createElement(c("VideoComposerDialogFooterSectionContainer.react"),null))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogRightSection.react",["cx","React","VideoComposerDialogConstants","VideoComposerDialogTabSectionContainer.react","VideoComposerDialogVideoTypeSectionContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_kwk",style:{width:c("VideoComposerDialogConstants").RIGHT_SECTION_WIDTH}},c("React").createElement(c("VideoComposerDialogVideoTypeSectionContainer.react"),null),c("React").createElement(c("VideoComposerDialogTabSectionContainer.react"),null))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdjustHeightBehavior",["csx","DOM","Event","Style","SubscriptionsHandler","Vector","throttle"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=800,j=720,k=660,l=560,m=80;function n(o){"use strict";__p&&__p();this.$VideoComposerDialogAdjustHeightBehavior4=function(){__p&&__p();var p=c("Vector").getViewportDimensions().y,q=void 0;if(p>=i+m)q=i;else if(p>=j+m)q=j;else if(p>=k+m/2)q=k;else q=l;c("Style").set(this.$VideoComposerDialogAdjustHeightBehavior3,"height",q+"px");this.$VideoComposerDialogAdjustHeightBehavior2.updatePosition()}.bind(this);this.$VideoComposerDialogAdjustHeightBehavior2=o}n.prototype.enable=function(){"use strict";this.$VideoComposerDialogAdjustHeightBehavior1=new(c("SubscriptionsHandler"))();this.$VideoComposerDialogAdjustHeightBehavior1.addSubscriptions(this.$VideoComposerDialogAdjustHeightBehavior2.subscribe("beforeshow",this.$VideoComposerDialogAdjustHeightBehavior4),c("Event").listen(window,"resize",c("throttle")(this.$VideoComposerDialogAdjustHeightBehavior4)));this.$VideoComposerDialogAdjustHeightBehavior3=c("DOM").find(this.$VideoComposerDialogAdjustHeightBehavior2.getRoot(),"._2rjf")};n.prototype.disable=function(){"use strict";this.$VideoComposerDialogAdjustHeightBehavior1&&this.$VideoComposerDialogAdjustHeightBehavior1.release();this.$VideoComposerDialogAdjustHeightBehavior1=null};f.exports=n}),null);
__d("VideoComposerDialogUploadExitConfirmDialog.react",["cx","fbt","FileInput.react","PublishingToolsWebdriverTestDataIDs","React","VideoComposerDialogActions","VideoComposerDialogConstants","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogUploadExitConfirmDialog1=function(event,m){var n=event.currentTarget.files;if(!n||n.length!==1)return;c("VideoComposerDialogActions").exitDialogReplaceFile();c("VideoComposerDialogActions").fileAdded(n[0],m)};l.prototype.render=function(){var m=this.props.showSaveDraftButton?i._("Your video will not be uploaded and will be deleted. You can save your video as a draft or replace the video file if you want to include a different one."):i._("Your video will not be uploaded and will be deleted. You can replace the video file if you want to include a different one.");return c("React").createElement(c("XUIDialog.react"),{className:"_2rjw",isStrictlyControlled:true,width:c("VideoComposerDialogConstants").SECONDARY_DIALOG_WIDTH,onHide:c("VideoComposerDialogActions").closeConfirmDialog,onCancel:c("VideoComposerDialogActions").closeConfirmDialog,shown:this.props.shown},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Exit Session")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_1hko"},i._("Are you sure you want to exit?")),c("React").createElement("div",{className:"_1hkp"},m)),c("React").createElement(c("XUIDialogFooter.react"),{leftContent:c("React").createElement(c("XUIDialogCancelButton.react"),{size:"xlarge"})},this.props.showSaveDraftButton?c("React").createElement(c("XUIDialogButton.react"),{label:i._("Save as Draft"),action:"button",size:"xlarge",onClick:c("VideoComposerDialogActions").exitDialogSaveDraft}):null,c("React").createElement(c("FileInput.react"),{onChange:this.$VideoComposerDialogUploadExitConfirmDialog1},c("React").createElement(c("XUIDialogButton.react"),{action:"button",className:"_zpu",label:i._("Replace Video File"),size:"xlarge"})),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",className:"_zpv",size:"xlarge",use:"confirm",label:i._("Exit Without Saving"),onClick:c("VideoComposerDialogActions").exitDialog,"data-testid":c("PublishingToolsWebdriverTestDataIDs").VIDEO_UPLOAD_DIALOG_CLOSE_CONFIRM_BUTTON})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogRoot.react",["cx","fbt","FBConfirmDialog.react","FlexLayout.react","PublishingToolsWebdriverTestDataIDs","React","VideoComposerDialogActions","VideoComposerDialogAdjustHeightBehavior","VideoComposerDialogConstants","VideoComposerDialogLeftSection.react","VideoComposerDialogMode","VideoComposerDialogRightSection.react","VideoComposerDialogUploadExitConfirmDialog.react","XUIDialog.react","XUIDialogBody.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogRoot1=function(m){if(!m)c("VideoComposerDialogActions").closeConfirmDialog()};l.prototype.render=function(){var m=c("React").createElement(c("XUIDialogBody.react"),{className:"_2rjf"},c("React").createElement(c("FlexLayout.react"),{justify:"all",align:"stretch",className:"_2rjg"},c("React").createElement(c("VideoComposerDialogLeftSection.react"),null),c("React").createElement(c("VideoComposerDialogRightSection.react"),null))),n=this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST?c("PublishingToolsWebdriverTestDataIDs").NEW_POST_WITH_THIS_VIDEO_DIALOG:null;return c("React").createElement(c("XUIDialog.react"),{className:"_2rjm","data-testid":n,label:"placeholder",labelIsHidden:true,layerHideOnBlur:false,behaviors:{VideoComposerDialogAdjustHeightBehavior:c("VideoComposerDialogAdjustHeightBehavior")},shown:this.props.shown,width:c("VideoComposerDialogConstants").DIALOG_WIDTH},m,this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD?c("React").createElement(c("VideoComposerDialogUploadExitConfirmDialog.react"),{shown:this.props.showExitConfirmDialog,showSaveDraftButton:this.props.showSaveDraftButton}):c("React").createElement(c("FBConfirmDialog.react"),{className:"_2rjw",title:i._("Exit Session"),content:i._("Are you sure you want to leave?"),onConfirm:c("VideoComposerDialogActions").exitDialog,onCancel:c("VideoComposerDialogActions").closeConfirmDialog,onToggle:this.$VideoComposerDialogRoot1,shown:this.props.showExitConfirmDialog}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogTabSection.react",["cx","React","ScrollableArea.react","VideoComposerDialogTabUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_1k_f"},c("VideoComposerDialogTabUtils").getTabContainers(this.props.displayedTabs))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogPrimaryActionErrorDialog.react",["cx","fbt","ix","FlexLayout.react","Image.react","LeftRight.react","React","VideoComposerDialogActions","VideoComposerDialogConstants","VideoComposerDialogMode","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=void 0;switch(this.props.dialogMode){case c("VideoComposerDialogMode").VIDEO_CROSSPOST:case c("VideoComposerDialogMode").VIDEO_UPLOAD:n=i._("There was an error when creating your video post");break;case c("VideoComposerDialogMode").VIDEO_EDIT:n=i._("There was an error when saving your video");break}return c("React").createElement(c("XUIDialog.react"),{isStrictlyControlled:true,label:"primary action error dialog",shown:this.props.shown,width:c("VideoComposerDialogConstants").SECONDARY_DIALOG_WIDTH},c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null),c("React").createElement(c("Image.react"),{style:{cursor:"pointer"},src:j("363596"),onClick:c("VideoComposerDialogActions").closePrimaryErrorDialog})),c("React").createElement(c("FlexLayout.react"),{direction:"vertical",align:"center"},c("React").createElement(c("Image.react"),{src:j("467078"),className:"_4dge"}),c("React").createElement("div",{className:"_om4"},n),c("React").createElement("div",{className:"_om5"},this.props.errorMessage?this.props.errorMessage:i._("Sorry, something went wrong. Please try again later.")))),c("React").createElement("div",null,c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{size:"xlarge",use:"confirm",onClick:c("VideoComposerDialogActions").closePrimaryErrorDialog,label:i._("Continue")}))))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogPublishConfirmDialog.react",["cx","fbt","ix","FlexLayout.react","Image.react","LeftRight.react","List.react","React","VideoComposerDialogActions","VideoComposerDialogConstants","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","formatDate","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=0,n=100,o=5e3,p=400,q=o/p,r=n/p;k=babelHelpers.inherits(s,c("React").Component);l=k&&k.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=l.constructor).call.apply(t,[this].concat(w)),this.state={progressValue:m},this.$VideoComposerDialogPublishConfirmDialog1=null,this.$VideoComposerDialogPublishConfirmDialog4=function(){if(this.state.progressValue<n)this.setState({progressValue:this.state.progressValue+r});else c("VideoComposerDialogActions").closePublishConfirmDialog()}.bind(this),u}s.prototype.componentDidMount=function(){if(this.props.shown)this.$VideoComposerDialogPublishConfirmDialog2()};s.prototype.UNSAFE_componentWillReceiveProps=function(t){if(this.props.shown===t.shown)return;if(t.shown)this.$VideoComposerDialogPublishConfirmDialog2();else this.$VideoComposerDialogPublishConfirmDialog3()};s.prototype.componentWillUnmount=function(){this.$VideoComposerDialogPublishConfirmDialog3()};s.prototype.$VideoComposerDialogPublishConfirmDialog2=function(){this.setState({progressValue:m});this.$VideoComposerDialogPublishConfirmDialog1=setInterval(this.$VideoComposerDialogPublishConfirmDialog4,q)};s.prototype.$VideoComposerDialogPublishConfirmDialog3=function(){if(this.$VideoComposerDialogPublishConfirmDialog1!=null)clearInterval(this.$VideoComposerDialogPublishConfirmDialog1)};s.prototype.render=function(){__p&&__p();var t=[],u=void 0;if(this.props.isDraft){u=j("429286");t.push(c("React").createElement("div",{className:"_kve"},c("React").createElement("div",{className:"_kvf _3-95"},i._("Your Video post was Successfully Saved!")),c("React").createElement("div",null,i._("It can be found in Publishing Tools > Video Library or your Page Timeline Tools"))))}else if(this.props.scheduleDate){u=j("429287");t.push(c("React").createElement("div",{className:"_kve"},i._("Video Post Scheduled Date:"),c("React").createElement("div",{className:"_kvf"},i._("{schedule date}",[i._param("schedule date",this.$VideoComposerDialogPublishConfirmDialog5(this.props.scheduleDate))]))))}else if(this.props.isReviewableBrandedContent){u=j("425005");t.push(c("React").createElement("div",{className:"_kve"},c("React").createElement("div",{className:"_kvf _3-95"},i._("Your video post is pending approval")),c("React").createElement("div",null,i._("Your video post will be published if your tagged business partner chooses to approve your post. You can see the status of your pending post in Publishing Tools > Branded Content > Your Posts."))))}else{u=j("425005");t.push(c("React").createElement("div",{className:"_kve"},c("React").createElement("div",{className:"_kvf _3-95"},i._("Your video post is processing")),c("React").createElement("div",null,i._("When finished your video will be posted and you will be notified."))))}if(this.props.expireDate)t.push(c("React").createElement("div",{className:"_kve"},i._("Video Post Expire Date:"),c("React").createElement("div",{className:"_kvf"},i._("{expire date}",[i._param("expire date",this.$VideoComposerDialogPublishConfirmDialog5(this.props.expireDate))]))));if(this.props.postEndDate)t.push(c("React").createElement("div",{className:"_kve"},i._("News feed Distribution Stop Date:"),c("React").createElement("div",{className:"_kvf"},i._("{post end date}",[i._param("post end date",this.$VideoComposerDialogPublishConfirmDialog5(this.props.postEndDate))]))));return c("React").createElement(c("XUIDialog.react"),{isStrictlyControlled:true,label:"confirm dialog",shown:this.props.shown,width:c("VideoComposerDialogConstants").SECONDARY_DIALOG_WIDTH},c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null),c("React").createElement(c("Image.react"),{style:{cursor:"pointer"},src:j("363596"),onClick:c("VideoComposerDialogActions").closePublishConfirmDialog})),c("React").createElement(c("FlexLayout.react"),{direction:"vertical",align:"center"},c("React").createElement(c("Image.react"),{src:u,className:"_4dge"}),c("React").createElement(c("List.react"),{className:"_kvc"},t.map(function(v,w){return c("React").createElement("li",{key:w},v)})))),c("React").createElement("div",null,c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{size:"xlarge",use:"confirm",onClick:c("VideoComposerDialogActions").closePublishConfirmDialog,label:i._("Continue")})),c("React").createElement("div",{className:"_3h9e",style:{width:this.state.progressValue+"%"}})))};s.prototype.$VideoComposerDialogPublishConfirmDialog5=function(t){if(!t)return"";return c("formatDate")(t,"F jS Y \\a\\t g:ia",{skipPatternLocalization:true})};f.exports=s}),null);
__d("VideoComposerDialogWrapper.react",["React","VideoComposerDialogPrimaryActionErrorDialog.react","VideoComposerDialogPublishConfirmDialog.react","VideoComposerDialogRootContainer.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.dialogShown?c("React").createElement(c("VideoComposerDialogRootContainer.react"),null):null;return c("React").createElement("div",null,k,c("React").createElement(c("VideoComposerDialogPublishConfirmDialog.react"),babelHelpers["extends"]({shown:this.props.publishConfirmDialogShown},this.props.publishConfirmDialogData)),c("React").createElement(c("VideoComposerDialogPrimaryActionErrorDialog.react"),{shown:this.props.primaryActionErrorDialogShown,errorMessage:this.props.primaryActionErrorMessage||"",dialogMode:this.props.dialogMode}))};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("VideoComposerDialogCaptionEditorConstants",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h={SMALLEST_UNIT:.09,TOP:50,START_TIME_OFFSET_IN_MS:100,DURATION_TIME_IN_MS:1e3,DIALOG_WIDTH:970,MIN_HEIGHT:645,MAX_HEIGHT:645,LEFT_PANE_WIDTH:670,RIGHT_PANE_WIDTH:300,INITIAL_SPOKEN_LOCALE:"xx_XX",EMPTY_LOCALE:"",NO_LANGUAGE_SELECTED:"Select Language",AUTO_GENERATED:"AUTO_GENERATION",SPEECH_NON_SPEECH:"SPEECH_NON_SPEECH",SRT_UPLOAD:"SRT_UPLOAD",MANUAL:"MANUAL",AUTO_GENERATION:"AUTO_GENERATION",AUTO_GENERATE_RETRY_TEXT:"Error auto-generating captions. Retrying.",AUTO_GENERATABLE_HEAD_LOCALES:c("immutable").Set(["en_US","es_LA"]),GENERAL_LOCALES_TO_HEAD:c("immutable").Map({en_XX:"en_US",es_XX:"es_LA",fr_XX:"fr_FR",ja_XX:"ja_JP",nl_XX:"nl_NL",pt_XX:"pt_BR",tl_XX:"tl_PH"}),HEAD_TO_GENERAL_LOCALES:c("immutable").Map({en_US:"en_XX",es_LA:"es_XX",fr_FR:"fr_XX",ja_JP:"ja_XX",nl_NL:"nl_XX",pt_BR:"pt_XX",tl_PH:"tl_XX"}),NO_PAYLOAD:"NO_PAYLOAD",GENERATION_PILL_WIDTH:368,MAX_FAKE_POLL_ITERATIONS:6e3,POLL_FAKE_FREQUENCY_GENERATE_MS:1e3,DEFAULT_PROCESSING_SPEED:2,GENERATION_RETRY_THRESHOLD:{PCT:175,TIME_S:75},BUTTON_UNIFORM:{use:{"default":{normal:{background:"transparent"},tall:{background:"transparent"}}},padding:{normal:{onlyIcon:"0px"},tall:{onlyIcon:"0px"}},height:{normal:16,tall:20}},VIDEO_DURATION_PADDING:1e4,EMPTY_CAPTION_TEXT:" ",SEGMENT_LENGTH:76,RESUME_PLAYBACK_AFTER:1e3,AUTO_GEN_PROGRESS_RATE_FACTOR:.5};f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorDialog.react",["cx","React","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorPlayerSection.react","VideoComposerDialogCaptionEditorRightSectionContainer.react","XUIDialog.react","XUIDialogBody.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=c("React").createElement(c("XUIDialogBody.react"),{className:"_2gd1"},c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerSection.react"),{video_id:this.props.video_id}),c("React").createElement(c("VideoComposerDialogCaptionEditorRightSectionContainer.react"),{caption:this.props.caption}));return c("React").createElement(c("XUIDialog.react"),{className:"_2gd2",label:"captionEditor",labelIsHidden:true,layerHideOnBlur:false,shown:this.props.show_caption_editor,width:c("VideoComposerDialogCaptionEditorConstants").DIALOG_WIDTH},l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"caption_id",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"caption_id",type:"ID!"}],k={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery",id:"1860721543945586",text:null,metadata:{},fragment:{kind:"Fragment",name:"VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"FragmentSpread",name:"VideoComposerDialogCaptionEditorCaptionsListGenerator_node",args:null}]}]},operation:{kind:"Operation",name:"VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},k,{kind:"InlineFragment",type:"VideoSubtitle",selections:[{kind:"ScalarField",alias:null,name:"locale",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"process_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"review_expire_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"captions",storageKey:'captions(first:3000,orderby:["chronological"])',args:[{kind:"Literal",name:"first",value:3e3,type:"Int"},{kind:"Literal",name:"orderby",value:["chronological"],type:"[VideoSubtitleCaptionsOrdering]"}],concreteType:"VideoSubtitleCaptionsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"VideoSubtitleCaptionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"VideoSubtitleCaption",plural:false,selections:[k,{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_time_in_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"duration_in_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"confidence",args:null,storageKey:null}]}]}]}]}]}]}}}();f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorLoadingShimmer.react",["cssVar","cx","FBLoadShimmer.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("span",{className:"_176x"},c("React").createElement(c("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},className:"_3-96",height:14,width:45}),c("React").createElement(c("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},className:"_3-94",height:14,width:260}),c("React").createElement(c("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},className:"_3-96",height:14,width:106}),c("React").createElement(c("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},height:14,width:45}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorListLoading.react",["cx","React","VideoComposerDialogCaptionEditorLoadingShimmer.react","XUINotice.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$VideoComposerDialogCaptionEditorListLoading1=function(l){var m=[];for(var n=0;n<l;n++)m.push(c("React").createElement(c("VideoComposerDialogCaptionEditorLoadingShimmer.react"),{key:n}));return m};k.prototype.render=function(){var l=this.props.showShimmer?this.$VideoComposerDialogCaptionEditorListLoading1(4):null;return c("React").createElement("span",null,c("React").createElement("span",{className:"_176x"},c("React").createElement(c("XUINotice.react"),{use:"notify"},c("React").createElement("span",{className:"_177r"},this.props.header),c("React").createElement("span",{className:"_178h"},this.props.description))),l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorEditCaptions.react",["fbt","React","RelayFBEnvironment","RelayModern","VideoComposerDialogCaptionEditorCaptionsListGenerator.react","VideoComposerDialogCaptionEditorListLoading.react","VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){return c("React").createElement(l,{cacheConfig:{force:true},environment:c("RelayFBEnvironment"),query:i||(i=function i(){return c("VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery.graphql")}),variables:{caption_id:this.props.caption.id},render:function(o){var p=o.error,q=o.props;if(p)return c("React").createElement("div",null,h._("Loading failed"));else if(q)return c("React").createElement(c("VideoComposerDialogCaptionEditorCaptionsListGenerator.react"),{node:q.node,id:this.props.caption.id});return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogCaptionEditorListLoading.react"),{header:this.props.loadingStateHeader,description:this.props.loadingStateDescription,showShimmer:true}))}.bind(this)})};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("VideoComposerDialogCaptionEditorPlayerSection.react",["cx","React","VideoComposerDialogCaptionEditorFooterContainer.react","VideoComposerDialogCaptionEditorPlayerSectionBodyContainer.react","VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer.react","VideoComposerDialogCaptionEditorSubtitlesDragAreaContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("span",{className:"_647w"},c("React").createElement("div",{className:"_647x"},c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer.react"),null),c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerSectionBodyContainer.react"),this.props),c("React").createElement(c("VideoComposerDialogCaptionEditorSubtitlesDragAreaContainer.react"),null)),c("React").createElement("span",null,c("React").createElement(c("VideoComposerDialogCaptionEditorFooterContainer.react"),null)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorRightSection.react",["cx","fbt","React","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorLanguageSearchContainer.react","VideoComposerDialogCaptionEditorEditCaptions.react","VideoComposerDialogCaptionEditorListLoading.react","VideoComposerDialogCaptionEditorUtils"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogCaptionEditorRightSection1=function(m){if(m)return{header:i._("Creating Time Segments"),description:i._("You can write and edit your captions after we've finished creating the time segments."),showShimmer:m};else return{header:i._("Select a Language"),description:i._("Select a language for your captions to proceed."),showShimmer:m}};l.prototype.render=function(){var m=!c("VideoComposerDialogCaptionEditorUtils").isLanguageDefaultOrEmpty(this.props.language),n=this.$VideoComposerDialogCaptionEditorRightSection1(m),o=this.props.caption&&this.props.caption.id&&m?c("React").createElement(c("VideoComposerDialogCaptionEditorEditCaptions.react"),{caption:this.props.caption,loadingStateHeader:n.header,loadingStateDescription:n.description}):c("React").createElement(c("VideoComposerDialogCaptionEditorListLoading.react"),n);return c("React").createElement("div",{className:"_1qsh"},c("React").createElement(c("VideoComposerDialogCaptionEditorLanguageSearchContainer.react"),null),o)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionsTabActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(){var S={type:c("VideoComposerDialogActionTypes").SHOW_CAPTION_EDITOR};c("VideoComposerDialogDispatcher").dispatch(S)},i=function i(){var S={type:c("VideoComposerDialogActionTypes").HIDE_CAPTION_EDITOR};c("VideoComposerDialogDispatcher").dispatch(S)},j=function j(S,T,U,V,W,X,Y,Z){var $={type:c("VideoComposerDialogActionTypes").INITIALIZE_CAPTION_LANDING_SCREEN,videoFile:S,video_id:T,accessToken:U,composerID:V,pageID:W,videoDurationInSec:X,dialogMode:Y,isOldComposer:Z};c("VideoComposerDialogDispatcher").dispatch($)},k=function k(){var S={type:c("VideoComposerDialogActionTypes").CAPTION_LANDING_SCREEN_OPEN_EVENT};c("VideoComposerDialogDispatcher").dispatch(S)},l=function l(){var S={type:c("VideoComposerDialogActionTypes").OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT};c("VideoComposerDialogDispatcher").dispatch(S)},m=function m(){var S={type:c("VideoComposerDialogActionTypes").RESET_OPEN_LANDING_SCREEN_STATE};c("VideoComposerDialogDispatcher").dispatch(S)},n=function n(S){var T={type:c("VideoComposerDialogActionTypes").FINISHED_FETCH_DRAFTS,drafts:S};c("VideoComposerDialogDispatcher").dispatch(T)},o=function o(){var S={type:c("VideoComposerDialogActionTypes").GENERATE};c("VideoComposerDialogDispatcher").dispatch(S)},p=function p(){var S={type:c("VideoComposerDialogActionTypes").CANCEL_GENERATE};c("VideoComposerDialogDispatcher").dispatch(S)},q=function q(S){var T={type:c("VideoComposerDialogActionTypes").GENERATE_PROGRESS_UPDATE,progress:S};c("VideoComposerDialogDispatcher").dispatch(T)},r=function r(){var S={type:c("VideoComposerDialogActionTypes").CREATE};c("VideoComposerDialogDispatcher").dispatch(S)},s=function s(S){var T={type:c("VideoComposerDialogActionTypes").EDIT_CAPTIONS_DRAFT,id:S};c("VideoComposerDialogDispatcher").dispatch(T)},t=function t(S){var T={type:c("VideoComposerDialogActionTypes").DELETE_CAPTIONS_DRAFT,id:S};c("VideoComposerDialogDispatcher").dispatch(T)},u=function u(S){var T={type:c("VideoComposerDialogActionTypes").START_SRT_UPLOAD,captions:S};c("VideoComposerDialogDispatcher").dispatch(T)},v=function v(S){var T={type:c("VideoComposerDialogActionTypes").UPLOAD_LOCAL_CAPTIONS,captions:S};c("VideoComposerDialogDispatcher").dispatch(T)},w=function w(S){var T={type:c("VideoComposerDialogActionTypes").UPDATE_ALL_LOCAL_CAPTIONS,captions:S};c("VideoComposerDialogDispatcher").dispatch(T)},x=function x(S){var T={type:c("VideoComposerDialogActionTypes").SELECT_SPOKEN_LANGUAGE,language:S};c("VideoComposerDialogDispatcher").dispatch(T)},y=function y(S){var T={type:c("VideoComposerDialogActionTypes").SELECT_SPOKEN_LOCALE,locale:S};c("VideoComposerDialogDispatcher").dispatch(T)},z=function z(S,T,U){var V={type:c("VideoComposerDialogActionTypes").GENERATE_COMPLETE,captions:S,locale:T,subtitlesID:U};c("VideoComposerDialogDispatcher").dispatch(V)},A=function A(S){var T={type:c("VideoComposerDialogActionTypes").UPDATE_ERROR_STATE,errors:S};c("VideoComposerDialogDispatcher").dispatch(T)},B=function B(){var S={type:c("VideoComposerDialogActionTypes").CREATE_COMPLETE};c("VideoComposerDialogDispatcher").dispatch(S)},C=function C(){var S={type:c("VideoComposerDialogActionTypes").UPDATE_CAPTION_FILES};c("VideoComposerDialogDispatcher").dispatch(S)},D=function D(S,T,U){var V={type:c("VideoComposerDialogActionTypes").FINISH_SRT_UPLOAD,success:S,error:T,uploadedVideoSubtitles:U};c("VideoComposerDialogDispatcher").dispatch(V)},E=function E(){var S={type:c("VideoComposerDialogActionTypes").RESET_CAPTIONS_LANDING_TAB};c("VideoComposerDialogDispatcher").dispatch(S)},F=function F(){var S={type:c("VideoComposerDialogActionTypes").RETRY_AUTO_GENERATION};c("VideoComposerDialogDispatcher").dispatch(S)},G=function G(){var S={type:c("VideoComposerDialogActionTypes").RESET_AUTO_GENERATING_LOCALE};c("VideoComposerDialogDispatcher").dispatch(S)},H=function H(){var S={type:c("VideoComposerDialogActionTypes").RESUME_AUTO_GENERATION};c("VideoComposerDialogDispatcher").dispatch(S)},I=function I(){var S={type:c("VideoComposerDialogActionTypes").TRY_RESUME_AUTO_GENERATION};c("VideoComposerDialogDispatcher").dispatch(S)},J=function J(S){var T={type:c("VideoComposerDialogActionTypes").INITIALIZE_ALL_CAPTION_FILES,subtitles:S};c("VideoComposerDialogDispatcher").dispatch(T)},K=function K(S){var T={type:c("VideoComposerDialogActionTypes").BOOTLOAD_PARAMETERS_CAPTIONS_TAB,data:S};c("VideoComposerDialogDispatcher").dispatch(T)},L=function L(S){var T={type:c("VideoComposerDialogActionTypes").CHANGE_PUBLISHED_STATE,id:S};c("VideoComposerDialogDispatcher").dispatch(T)},M=function M(S){var T={type:c("VideoComposerDialogActionTypes").CHANGE_PUBLISHED_STATE_URL,id:S};c("VideoComposerDialogDispatcher").dispatch(T)},N=function N(S){var T={type:c("VideoComposerDialogActionTypes").DELETE_CAPTIONS_URL,id:S};c("VideoComposerDialogDispatcher").dispatch(T)},O=function O(S){var T={type:c("VideoComposerDialogActionTypes").DELETE_LOCAL_CAPTION_FILE,id:S};c("VideoComposerDialogDispatcher").dispatch(T)},P=function P(S){var T={type:c("VideoComposerDialogActionTypes").FETCHED_AUTO_GEN_V1_SUBTITLE,autoGenV1Subtitle:S};c("VideoComposerDialogDispatcher").dispatch(T)},Q=function Q(){var S={type:c("VideoComposerDialogActionTypes").PENDING_TO_PUBLISHED};c("VideoComposerDialogDispatcher").dispatch(S)},R=function R(S){var T={type:c("VideoComposerDialogActionTypes").SET_DEFAULT_CAPTION_LOCALE,locale:S};c("VideoComposerDialogDispatcher").dispatch(T)};f.exports={showCaptionEditor:h,hideCaptionEditor:i,initialize:j,generate:o,cancelGenerate:p,updateGenerateProgress:q,create:r,editCaptionsDraft:s,deleteCaptionsDraft:t,deleteLocalCaptionFile:O,upload:u,selectSpokenLanguage:x,selectSpokenLocale:y,generateComplete:z,createComplete:B,finishedFetchDrafts:n,updateCaptionFiles:C,updateErrorState:A,finishSRTUpload:D,resetCaptionsLandingTab:E,retryAutoGeneration:F,resetAutoGeneratingLocale:G,resumeAutoGeneration:H,tryResumeAutoGeneration:I,initializeAllCaptionFiles:J,bootloadParametersCaptionsTab:K,changePublishedState:L,changePublishedStatePendingToPublished:Q,tryLogCaptionLandingScreenOpenEvent:k,emitOldComposerCaptionTabOpenEvent:l,resetOpenLandingScreenState:m,setDefaultLocale:R,changePublishedStateURL:M,deleteCaptionsURL:N,fetchedAutoGenV1Subtitle:P,updateAllLocalCaptions:w,uploadLocalCaptions:v}}),null);
__d("VideoCaptionConstants",[],(function a(b,c,d,e,f,g){"use strict";f.exports={DIALOG_HEIGHT:480,EDITOR_DIALOG_WIDTH:1e3,MENU_DIALOG_HEIGHT:430,UPLOADER_DIALOG_WIDTH:600}}),null);
__d("VideoCaption",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){"use strict";this.locale=i;this.locale_name=j;this.is_default=false;this.is_auto_generated=false}h.prototype.getLocale=function(){"use strict";return this.locale};h.prototype.getLocaleName=function(){"use strict";return this.locale_name};h.prototype.getIsDefault=function(){"use strict";return this.is_default};h.prototype.setIsDefault=function(i){"use strict";this.is_default=i};h.prototype.getIsAutoGenerated=function(){"use strict";return this.is_auto_generated};h.prototype.setIsAutoGenerated=function(i){"use strict";this.is_auto_generated=i};f.exports=h}),null);
__d("VideoCaptionFile",["InsightsLocaleNamesSwitch","VideoCaption"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("InsightsLocaleNamesSwitch").module;h=babelHelpers.inherits(k,c("VideoCaption"));i=h&&h.prototype;function k(l,m,n){"use strict";i.constructor.call(this,m,n);this.file=l}k.fromFile=function(l){"use strict";var m=l.name.split(".");if(m.length==3){var n=m[1];if(j[n])return new this(l,n,j[n])}return null};k.prototype.getFile=function(){"use strict";return this.file};f.exports=k}),null);
__d("VideoCaptionRenderUtil",["fbt","LayerFadeOnHide","LayerFadeOnShow","React","SimpleXUIDialog","VideoCaptionConstants","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();i.prototype.renderDialog=function(j,k,l,m){return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide"),LayerFadeOnShow:c("LayerFadeOnShow")},shown:true,width:j,onToggle:m},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},k),c("React").createElement(c("XUIDialogBody.react"),{style:{height:c("VideoCaptionConstants").DIALOG_HEIGHT}},l))};i.prototype.renderAbortGenAutoCaption=function(j){var k=h._("Captions Have Not Finished Generating or Loading"),l=h._("Any captions that have already been generated will not be saved. To add captions to your video, you'll need to generate them again or upload an SRT files.");c("SimpleXUIDialog").showConfirm(l,k,function(m){if(m)j()})};function i(){}f.exports=new i()}),null);
__d("VideoUploadAutoCaptionsSection.react",["ix","fbt","AdsVideoCaptionLoadingView.react","Image.react","InsightsLocaleNamesSwitch","JSResource","React","RelayDeferredContainer","RelayVideoCaptionRoute","Tooltip","VideoCaptionConstants","VideoCaptionEditEvents","VideoCaptionEditorLogger","VideoCaptionFile","VideoCaptionPlacements","VideoCaptionRenderUtil","VideoCaptionUtil","VideoComposerDialogVersion","XUIButton.react","fbglyph","VideoCaptionEditorStateEnums"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("VideoCaptionEditorStateEnums").EditorStateEnum,m=c("InsightsLocaleNamesSwitch").module;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){__p&&__p();k.constructor.call(this,o);this.$VideoUploadAutoCaptionsSection3=function(event){var p=this.state.autoCaptions[0];this.setState({showCaptionEditor:true});this.$VideoUploadAutoCaptionsSection1.log(c("VideoCaptionEditEvents").CLICK_EDIT_AUTO_CAPTION,p&&p.id,this.props.videoID,null,this.props.hasAutoCaption.toString(),c("VideoCaptionPlacements").PAGE_COMPOSER_EDIT)}.bind(this);this.$VideoUploadAutoCaptionsSection6=function(){c("VideoCaptionRenderUtil").renderAbortGenAutoCaption(this.$VideoUploadAutoCaptionsSection7)}.bind(this);this.$VideoUploadAutoCaptionsSection7=function(){var p=this.state.autoCaptions[0];this.$VideoUploadAutoCaptionsSection1.log(c("VideoCaptionEditEvents").ABORT_WAIT_GEN,p&&p.id,this.props.videoID,null,null,c("VideoCaptionPlacements").PAGE_COMPOSER_EDIT);this.$VideoUploadAutoCaptionsSection8()}.bind(this);this.$VideoUploadAutoCaptionsSection5=function(p,q){__p&&__p();var r,s=this;this.$VideoUploadAutoCaptionsSection8();if(p===l.SAVING)(function(){var u=s.state.autoCaptions[0].locale||"en_US",v=s.props.addedCaptions.filter(function(x){return x.getLocale()!==u});if(q){var w=new(c("VideoCaptionFile"))(q,u,m[u]);w.setIsAutoGenerated(true);w.setIsDefault(true);s.props.onSaveCaptions(v.concat([w]))}else s.props.onSaveCaptions(v)})();else{var t=this.state.autoCaptions[0];this.$VideoUploadAutoCaptionsSection1.log(c("VideoCaptionEditEvents").CANCEL_EDIT,t&&t.id,this.props.videoID,null,null,c("VideoCaptionPlacements").PAGE_COMPOSER_EDIT)}}.bind(this);this.$VideoUploadAutoCaptionsSection1=new(c("VideoCaptionEditorLogger"))();this.state={autoCaptions:o.autoCaptions||[],showCaptionEditor:false}}n.prototype.componentDidMount=function(){this.props.videoID&&this.$VideoUploadAutoCaptionsSection2()};n.prototype.componentDidUpdate=function(o){this.props.videoID&&!o.videoID&&this.$VideoUploadAutoCaptionsSection2()};n.prototype.UNSAFE_componentWillReceiveProps=function(o){if(o.autoCaptions)this.setState({autoCaptions:o.autoCaptions})};n.prototype.$VideoUploadAutoCaptionsSection2=function(){c("VideoCaptionUtil").fetchAutoCaption(this.props.videoID,this.props.accessToken).then(function(o){var p=o.data;if(this.props.composerDialogVersion===c("VideoComposerDialogVersion").V2&&this.props.onAutoCaptionFetched&&p&&p[0]&&p[0].id)this.props.onAutoCaptionFetched(p[0]);else p&&this.setState({autoCaptions:p});if(p&&p[0]&&p[0].id)this.$VideoUploadAutoCaptionsSection1.log(c("VideoCaptionEditEvents").FETCHED_SUCCESS,p.id,this.props.videoID,null,true.toString(),c("VideoCaptionPlacements").PAGE_COMPOSER_EDIT)}.bind(this)).done();this.$VideoUploadAutoCaptionsSection1.log(c("VideoCaptionEditEvents").RENDER_CAPTION_ENTRY,null,this.props.videoID,null,null,c("VideoCaptionPlacements").PAGE_COMPOSER_EDIT)};n.prototype.render=function(){var o=void 0;if(this.props.hasAutoCaption)o=this.state.autoCaptions[0]?c("React").createElement(c("XUIButton.react"),{label:i._("Edit Captions"),use:"default",size:this.props.composerDialogVersion===c("VideoComposerDialogVersion").V2?"xlarge":"medium",onClick:this.$VideoUploadAutoCaptionsSection3}):null;else{var p=this.props.disabled?i._("We only support edit auto caption now and will support to edit all captions in the near future."):i._("Automatically generate captions");o=this.state.autoCaptions[0]?c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({disabled:this.props.disabled,image:c("React").createElement(c("Image.react"),{src:h("142451")}),label:i._("Generate"),href:"#",use:"default",size:this.props.composerDialogVersion===c("VideoComposerDialogVersion").V2?"xlarge":"medium",onClick:this.$VideoUploadAutoCaptionsSection3},c("Tooltip").propsFor(p))):null}return c("React").createElement("div",{className:this.props.className},o,this.$VideoUploadAutoCaptionsSection4())};n.prototype.$VideoUploadAutoCaptionsSection4=function(){var o=this.state.autoCaptions[0];if(!this.state.showCaptionEditor||!o||!o.id)return null;var p=new(c("RelayVideoCaptionRoute"))({caption_id:o.id,hide_apply_button:true,hide_save_button:false,placement:c("VideoCaptionPlacements").PAGE_COMPOSER_EDIT,onExit:this.$VideoUploadAutoCaptionsSection5}),q=i._("Review Captions"),r=c("React").createElement(c("RelayDeferredContainer"),{loader:c("JSResource")("VideoCaptionEditorContainer.react").__setRef("VideoUploadAutoCaptionsSection.react"),render:function s(t,u){return c("React").createElement(t,u)},renderLoading:function(){return c("React").createElement(c("AdsVideoCaptionLoadingView.react"),{onCancel:this.$VideoUploadAutoCaptionsSection6})}.bind(this),route:p});return c("VideoCaptionRenderUtil").renderDialog(c("VideoCaptionConstants").EDITOR_DIALOG_WIDTH,q,r,this.$VideoUploadAutoCaptionsSection5)};n.prototype.$VideoUploadAutoCaptionsSection8=function(){this.setState({showCaptionEditor:false})};f.exports=n}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleButtons.react",["ix","cx","fbt","FileInput.react","Image.react","React","SUIGlyphIcon.react","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsTabActions","VideoComposerDialogVersion","VideoUploadAutoCaptionsSection.react","XUIButton.react","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$VideoComposerDialogCaptionLandingAddSubtitleButtons2=function(event){var s=event.target;if(s.value){this.props.onUpload(s);this.refs.captionFileInput.getFileInput().clear()}}.bind(this),o}m.prototype.render=function(){var n=this.$VideoComposerDialogCaptionLandingAddSubtitleButtons1(),o=this.props.videoID,p=false,q=this.props.localCaptionFiles.toArray(),r=q.some(function(s){return s.is_auto_generated});if(!r)p=q.some(function(s){return s.getLocale()==="en_US"});return c("React").createElement("div",{style:{display:"flex"}},n,c("React").createElement("span",{className:"_4qg7",style:{display:"flex"}},c("React").createElement(c("FileInput.react"),{accept:".srt",ref:"captionFileInput",multiple:true,disabled:this.props.disableButtons,onChange:this.$VideoComposerDialogCaptionLandingAddSubtitleButtons2,onClick:this.props.onUploadClick},c("React").createElement(c("XUIButton.react"),{size:"xlarge",href:"#",disabled:this.props.disableButtons,image:c("React").createElement(c("Image.react"),{src:h("490358")}),label:j._("Upload")})),this.props.shouldShowCaptionEditorV1&&o?c("React").createElement(c("VideoUploadAutoCaptionsSection.react"),{accessToken:this.props.accessToken,addedCaptions:this.props.localCaptionFiles.toArray(),autoCaptions:this.props.autoGenV1Subtitle?[this.props.autoGenV1Subtitle]:[],className:"_3-9b",composerDialogVersion:c("VideoComposerDialogVersion").V2,disabled:p,hasAutoCaption:r,uploadErrorMessage:null,videoID:o,onAutoCaptionFetched:this.$VideoComposerDialogCaptionLandingAddSubtitleButtons3,onSaveCaptions:this.$VideoComposerDialogCaptionLandingAddSubtitleButtons4}):null))};m.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtons3=function(n){c("VideoComposerDialogCaptionsTabActions").fetchedAutoGenV1Subtitle(n)};m.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtons4=function(n){n=n||[];c("VideoComposerDialogCaptionsTabActions").updateAllLocalCaptions(n)};m.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtons5=function(){return c("VideoComposerDialogCaptionEditorUtils").isAutoGenerateable(this.props.spokenLocale)};m.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtons1=function(){var n=this.props.enableFeatures&&!this.props.hasAutoGenerated?c("React").createElement("span",{className:"_3-90"},c("React").createElement(c("XUIButton.react"),{size:"xlarge",href:"#",disabled:this.props.disableButtons||!this.$VideoComposerDialogCaptionLandingAddSubtitleButtons5()||this.props.isAutoGenerating,image:c("React").createElement(c("Image.react"),{src:h("490341")}),label:j._("Auto-Generate"),onClick:this.props.onGenerate}),this.$VideoComposerDialogCaptionLandingAddSubtitleButtons6()):null,o=this.props.enableFeatures?c("React").createElement("span",{className:"_2q5p"},n,c("React").createElement("span",{className:"_4qg7"},c("React").createElement(c("XUIButton.react"),{size:"xlarge",href:"#",disabled:this.props.disableButtons,image:c("React").createElement(c("Image.react"),{src:h("490351")}),label:j._("Write"),onClick:this.props.onCreate}))):null;return o};m.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtons6=function(){if(this.props.spokenLanguage==c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED)return null;if(this.$VideoComposerDialogCaptionLandingAddSubtitleButtons5())return null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_4omu"},c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("132174")})),c("React").createElement("div",{className:"_4om_"},j._("Auto-generate unavailable for this language")))};f.exports=m}),null);
__d("VideoComposerDialogField.react",["ix","cx","FlexLayout.react","Image.react","React","Tooltip.react","XUIGrayText.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:this.props.disabled?"_2ukm":""},c("React").createElement("div",{className:this.props.showTopBorder?"_2fb1":""}),c("React").createElement("div",{className:"_gtn"+(this.props.showTopBorder?" _2pig":"")},c("React").createElement("div",{className:"_2fbh"+(this.props.disableLeftSection?" _2rq8":"")},c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_ini"},c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},this.props.title),this.props.tooltip?c("React").createElement(c("Tooltip.react"),{tooltip:this.props.tooltip},c("React").createElement(c("Image.react"),{className:"_inj",src:h("126340")})):null),this.props.subtitle?c("React").createElement(c("XUIGrayText.react"),{className:"_64dx",display:"block",size:"meta1"},this.props.subtitle):null,this.props.footer?c("React").createElement("div",{className:"_3-8y"},this.props.footer):null),c("React").createElement("div",{className:"_inl"+(this.props.inputPadding?" _648t":"")},this.props.input)))};function l(){j.apply(this,arguments)}l.defaultProps={disabled:false,inputPadding:false,showTopBorder:true};f.exports=l}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleSection.react",["fbt","React","VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer.react","VideoComposerDialogField.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=h._("Add New Captions"),m=h._("Adding captions increases video engagement. We can try to auto-generate them for you, or you can write them yourself or upload a SubRip (.srt) file.");if(!this.props.enableFeatures)m=h._("Adding captions increases video engagement. You can include captions in multiple languages with your video by uploading a SubRip (.srt) file with it.");if(this.props.doSubtitlesExist){l=h._("Add More Captions");m=h._("You can add additional captions to your video in another language.")}var n=c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer.react"),null);return c("React").createElement(c("VideoComposerDialogField.react"),{input:n,subtitle:m,title:l,showTopBorder:this.props.enableFeatures,disableLeftSection:this.props.disableSection})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionLandingSection.react",["cx","fbt","React","VideoComposerDialogCaptionLandingAddSubtitleSectionContainer.react","XUIGrayText.react","immutable","XUINotice.react","XUIText.react","VideoComposerDialogLandingScreenDraftSection.react","VideoComposerDialogLandingScreenSpokenLanguageContainer.react","VideoComposerDialogLandingScreenDefaultLanguageContainer.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=c("React").createElement(c("VideoComposerDialogLandingScreenSpokenLanguageContainer.react"),null),n=c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleSectionContainer.react"),null),o=this.props.shouldShowDrafts||this.props.isAutoGenerating?c("React").createElement("div",{className:this.$VideoComposerDialogCaptionLandingSection1()?"_2sq3":""},c("React").createElement(c("VideoComposerDialogLandingScreenDraftSection.react"),null)):null,p=c("React").createElement(c("VideoComposerDialogLandingScreenDefaultLanguageContainer.react"),null);return c("React").createElement("div",null,this.$VideoComposerDialogCaptionLandingSection2(),this.$VideoComposerDialogCaptionLandingSection3(),m,n,o,p)};l.prototype.$VideoComposerDialogCaptionLandingSection2=function(){return this.$VideoComposerDialogCaptionLandingSection1()?c("React").createElement(c("XUINotice.react"),{className:"_3-98",use:"notify"},c("React").createElement(c("XUIText.react"),{className:"_3-95",display:"block",weight:"bold"},i._("Your Video is Still Uploading")),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},i._("You can add captions after the video upload is complete."))):null};l.prototype.$VideoComposerDialogCaptionLandingSection3=function(){return this.props.errors.size>0?c("React").createElement(c("XUINotice.react"),{className:"_3-95",use:"warn"},this.$VideoComposerDialogCaptionLandingSection4()):null};l.prototype.$VideoComposerDialogCaptionLandingSection4=function(){var m=[];for(var n=0;n<this.props.errors.size;n++)m.push(this.$VideoComposerDialogCaptionLandingSection5(n,this.props.errors.get(n)));return m};l.prototype.$VideoComposerDialogCaptionLandingSection5=function(m,n){return c("React").createElement("div",{key:m},n)};l.prototype.$VideoComposerDialogCaptionLandingSection1=function(){return this.props.isVideoUploaded===false&&this.props.enableFeatures};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogLandingScreenDraftSection.react",["fbt","React","VideoComposerDialogField.react","VideoComposerDialogLandingScreenDraftListContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=h._("Captions Added"),m=h._("Captions that are set to publish will appear on your video once the post is saved.");return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement(c("VideoComposerDialogLandingScreenDraftListContainer.react"),null),subtitle:m,title:l})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorScrubBarTimeRuler.react",["cssVar","cx","React","VideoComposerDialogCaptionEditorUtils"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.shouldComponentUpdate=function(m){return this.props.scale!==m.scale||this.props.duration!==m.duration};l.prototype.render=function(){__p&&__p();var m=c("VideoComposerDialogCaptionEditorUtils").getWidth(this.props.duration,this.props.scale),n=[],o=0,p=5,q=null,r="0%";for(var s=0;s<=this.props.duration;s+=200){o=c("VideoComposerDialogCaptionEditorUtils").getWidth(s,this.props.scale);if(s%1e3===0){if(s===0)r="0%";else r="50%";p=10;q=c("React").createElement("div",{className:"_647t"},c("React").createElement("div",{style:{right:r,position:"relative"}},c("VideoComposerDialogCaptionEditorUtils").getTimeStamp(s)))}else{p=5;q=null}n.push(c("React").createElement("div",{className:"_647u",key:s,style:{left:o,height:p}},q))}return c("React").createElement("div",{className:"_647v",style:{width:m}},n)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("Resizer.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.componentDidMount=function(){window.addEventListener("mousemove",this.onMouseMove.bind(this),false);window.addEventListener("mouseup",this.onMouseUp.bind(this),false)};k.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.onMouseMove.bind(this),false);window.removeEventListener("mouseup",this.onMouseUp.bind(this),false)};k.prototype.onMouseDown=function(l){this.props.updateStateResizing(this.props.id,true,l.clientX)};k.prototype.onMouseMove=function(l){if(this.props.isResizing)this.props.funcResizing(this.props.id,l.clientX,l.clientY)};k.prototype.onMouseUp=function(l){if(this.props.isResizing)this.props.updateStateResizing(this.props.id,false,l.clientX)};k.prototype.shouldComponentUpdate=function(l){return this.props!=l};k.prototype.render=function(){var l={width:this.props.resizerWidth,height:this.props.resizerHeight};return c("React").createElement("span",{ref:this.props.className,className:(this.props.className==="videoCaptionsScrubBar/left"&&this.props.isSelected?"_2tfo":"")+(this.props.className==="videoCaptionsScrubBar/left"&&!this.props.isSelected?" _34tz":"")+(this.props.className==="videoCaptionsScrubBar/right"&&this.props.isSelected?" _2tfp":"")+(this.props.className==="videoCaptionsScrubBar/right"&&!this.props.isSelected?" _34t_":""),isSelected:this.props.isSelected,style:l,onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this)})};f.exports=k}),null);
__d("DraggableResizableText.react",["cx","React","Resizer.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.onMouseDown=function(l){var m=document.elementFromPoint(l.clientX,l.clientY);if(m.className!=="_2tfo"&&m.className!==" _2tfp"&&!this.props.isRisizingLeft&&!this.props.isResizingRight)this.props.updateStateDragging(this.props.id,true)};k.prototype.onMouseUp=function(l){this.props.updateStateDragging(this.props.id,false)};k.prototype.onDragStart=function(l){if(this.props.isDragging&&!this.props.isResizingLeft&&!this.props.isResizingRight){l.dataTransfer.setData("application/json",JSON.stringify({id:this.props.id,x:l.clientX,y:l.clientY}));l.dataTransfer.effectAllowed="move"}};k.prototype.onDragEnd=function(l){this.props.updateStateDragging(this.props.id,false)};k.prototype.shouldComponentUpdate=function(l){return JSON.stringify(this.props)!=JSON.stringify(l)};k.prototype.render=function(){var l={left:this.props.left,width:this.props.width};return c("React").createElement("div",{ref:"node",draggable:this.props.isDragging,id:"item_"+this.props.id,className:(this.props.isSelected?"_2tfq":"")+(this.props.isDragging?" _2tfu":"")+(!this.props.isSelected?" _2tfv":""),style:l,onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this),onDragStart:this.onDragStart.bind(this),onDragEnd:this.onDragEnd.bind(this)},c("React").createElement(c("Resizer.react"),{ref:"resizerLeft",id:this.props.id,isResizing:this.props.isResizingLeft,isSelected:this.props.isSelected,resizerWidth:0,resizerHeight:"inherit",updateStateResizing:this.props.updateStateResizingLeft,className:"videoCaptionsScrubBar/left",funcResizing:this.props.funcResizingLeft}),c("React").createElement("span",{className:(this.props.isSelected?"_2tfx":"")+(!this.props.isSelected?" _2tfy":"")}),c("React").createElement("span",{className:(this.props.isSelected?"_2tfz":"")+(!this.props.isSelected?" _2tf-":"")},this.props.text),c("React").createElement(c("Resizer.react"),{ref:"resizerRight",id:this.props.id,isResizing:this.props.isResizingRight,isSelected:this.props.isSelected,resizerWidth:0,resizerHeight:"inherit",updateStateResizing:this.props.updateStateResizingRight,className:"videoCaptionsScrubBar/right",funcResizing:this.props.funcResizingRight}))};f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(z,A){var B={type:c("VideoComposerDialogActionTypes").ADD_CAPTION_ENTRY,caption:A,idx:z};c("VideoComposerDialogDispatcher").dispatch(B)},i=function i(z){var A={type:c("VideoComposerDialogActionTypes").REMOVE_CAPTION_ENTRY,idx:z};c("VideoComposerDialogDispatcher").dispatch(A)},j=function j(z,A){var B={type:c("VideoComposerDialogActionTypes").EDIT_CAPTION_ENTRY,caption:A,idx:z};c("VideoComposerDialogDispatcher").dispatch(B)},k=function k(z){var A={type:c("VideoComposerDialogActionTypes").SET_PREVIEW_ENTRY,idx:z};c("VideoComposerDialogDispatcher").dispatch(A)},l=function l(z){var A={type:c("VideoComposerDialogActionTypes").PLAY_PREVIEW_ENTRY,idx:z};c("VideoComposerDialogDispatcher").dispatch(A)},m=function m(z){var A={type:c("VideoComposerDialogActionTypes").SET_NEXT_ENTRY,idx:z};c("VideoComposerDialogDispatcher").dispatch(A)},n=function n(){var z={type:c("VideoComposerDialogActionTypes").CONFIRM_CLOSE_DIALOG};c("VideoComposerDialogDispatcher").dispatch(z)},o=function o(){var z={type:c("VideoComposerDialogActionTypes").CANCEL_CLOSE_DIALOG};c("VideoComposerDialogDispatcher").dispatch(z)},p=function p(z,A,B,C,D,E){var F={type:c("VideoComposerDialogActionTypes").SET_CAPTIONS,captions:z,captionID:A,captionLocale:B,videoID:C,appID:D,placement:E};c("VideoComposerDialogDispatcher").dispatch(F)},q=function q(z){var A={type:c("VideoComposerDialogActionTypes").SET_EDITOR_LANGUAGE,language:z};c("VideoComposerDialogDispatcher").dispatch(A)},r=function r(z){var A={type:c("VideoComposerDialogActionTypes").SET_EDITOR_LOCALE,locale:z};c("VideoComposerDialogDispatcher").dispatch(A)},s=function s(){var z={type:c("VideoComposerDialogActionTypes").INITIALIZE_EDITOR_LANGUAGE};c("VideoComposerDialogDispatcher").dispatch(z)},t=function t(){var z={type:c("VideoComposerDialogActionTypes").SHOW_EXIT_DIALOG};c("VideoComposerDialogDispatcher").dispatch(z)},u=function u(){var z={type:c("VideoComposerDialogActionTypes").START_SAVE_CAPTION_CHANGESET};c("VideoComposerDialogDispatcher").dispatch(z)},v=function v(z){var A={type:c("VideoComposerDialogActionTypes").FINISH_SAVE_CAPTION_CHANGESET,error:z};c("VideoComposerDialogDispatcher").dispatch(A)},w=function w(){var z={type:c("VideoComposerDialogActionTypes").RESET_CAPTION_EDITOR};c("VideoComposerDialogDispatcher").dispatch(z)},x=function x(z){var A={type:c("VideoComposerDialogActionTypes").FETCH_CAPTION_EDITOR_CROSSPOST_PARAMS,captions:z.captionFiles,captionsFeaturesMode:z.captionsFeaturesMode,spokenLanguage:z.spokenLanguageName,spokenLocale:z.spokenLanguageCode};c("VideoComposerDialogDispatcher").dispatch(A)},y=function y(z){var A={type:c("VideoComposerDialogActionTypes").CAPTIONS_EDIT_PARAMS_FETCHED,data:z};c("VideoComposerDialogDispatcher").dispatch(A)};f.exports={addCaptionEntry:h,removeCaptionEntry:i,editingCaptionEntry:j,setPreviewEntry:k,selectLanguage:q,selectLocale:r,setCaptions:p,setNextEntry:m,playPreviewEntry:l,confirmCloseDialog:n,cancelCloseDialog:o,showExitDialog:t,startSaveCaptionChangeset:u,finishSaveCaptionChangeset:v,setLanguage:s,resetCaptionEditor:w,fetchCrosspostParams:x,editParamsFetched:y}}),null);
__d("VideoComposerDialogCaptionEditorSubtitlesDragArea.react",["cx","DraggableResizableText.react","React","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorPlayheadContainer.react","VideoComposerDialogCaptionEditorScrubBarTimeRuler.react","immutable","VideoComposerDialogCaptionEditorConstants"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;"use strict";i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){__p&&__p();j.constructor.call(this,l);this.state={list:this.props.list.map(function(m,n){return{isDragging:false,isResizingLeft:false,isResizingRight:false,initialLeft:0,top:c("VideoComposerDialogCaptionEditorConstants").TOP,left:this.props.list.get(n).node.left,width:this.props.list.get(n).node.width}}.bind(this))};this.onDrop=function(m){__p&&__p();var n=JSON.parse(m.dataTransfer.getData("application/json")),o=this.state.list,p=o.get(n.id),q=m.clientX-n.x;p.isDragging=false;if(this.checkForOverlap(n.id,p.left+q,p.width))return;p.left+=q;var r=JSON.parse(JSON.stringify(this.props.list.get(n.id)));r.node.left=p.left;r.node.start_time_in_ms=p.left/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;c("VideoComposerDialogCaptionEditorActions").editingCaptionEntry(n.id,r);m.preventDefault()}.bind(this);this.updateStateDragging=function(m,n){var o=this.state.list,p=o.get(m);p.isDragging=n;var q={list:o};this.setState(q);if(n===false)c("VideoComposerDialogCaptionEditorActions").playPreviewEntry(m)}.bind(this);this.updateStateResizingLeft=function(m,n,o){__p&&__p();var p=this.state.list,q=p.get(m);q.isResizingLeft=n;q.initialLeft=o;var r={list:p};this.setState(r);if(n===false){var s=JSON.parse(JSON.stringify(this.props.list.get(m)));s.node.left=q.left;s.node.width=q.width;s.node.start_time_in_ms=q.left/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;s.node.duration_in_ms=q.width/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;c("VideoComposerDialogCaptionEditorActions").editingCaptionEntry(m,s);c("VideoComposerDialogCaptionEditorActions").playPreviewEntry(m)}}.bind(this);this.updateStateResizingRight=function(m,n,o){__p&&__p();var p=this.state.list,q=p.get(m);q.isResizingRight=n;q.initialLeft=o-q.width;var r={list:p};this.setState(r);if(n===false){var s=JSON.parse(JSON.stringify(this.props.list.get(m)));s.node.left=q.left;s.node.width=q.width;s.node.start_time_in_ms=q.left/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;s.node.duration_in_ms=q.width/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;c("VideoComposerDialogCaptionEditorActions").editingCaptionEntry(m,s);c("VideoComposerDialogCaptionEditorActions").playPreviewEntry(m)}}.bind(this);this.funcResizingLeft=function(m,n,o){var p=this.state.list,q=p.get(m),r=q.initialLeft-n,s=q.left-r;if(this.checkForOverlap(m,s,q.width))return;q.width+=r;q.initialLeft=n;q.left=s;var t={list:p};this.setState(t)}.bind(this);this.funcResizingRight=function(m,n,o){var p=this.state.list,q=p.get(m),r=n-(q.initialLeft+q.width);if(this.checkForOverlap(m,q.left,q.width+r))return;q.width+=r;var s={list:p};this.setState(s)}.bind(this)}k.prototype.UNSAFE_componentWillReceiveProps=function(l){__p&&__p();if(this.props!=l){var m=JSON.stringify(this.props.list),n=JSON.stringify(l.list),o={list:c("immutable").List()};if(m!==n){if(this.state.list.size!==0&&l.list.size===this.state.list.size){var p=this.state.list;p=p.set(l.captionSelected,{isDragging:false,isResizingLeft:false,isResizingRight:false,initialLeft:0,top:c("VideoComposerDialogCaptionEditorConstants").TOP,left:l.list.get(l.captionSelected).node.left,width:l.list.get(l.captionSelected).node.width,height:25});o={list:p}}else o={list:l.list.map(function(q,r){return{isDragging:false,isResizingLeft:false,isResizingRight:false,initialLeft:0,top:c("VideoComposerDialogCaptionEditorConstants").TOP,left:q.node.left,width:q.node.width,height:25}})};this.setState(o)}}};k.prototype.shouldComponentUpdate=function(l,m){return this.props!=l||this.state!=m};k.prototype.checkForOverlap=function(l,m,n){var o=this.state.list,p=false,q=false;if(l>0)p=o.get(l-1).left+o.get(l-1).width>m;if(l+1<o.size)q=o.get(l+1).left<n+m;return p||q};k.prototype.onDragOver=function(l){l.dataTransfer.dropEffect="move";l.preventDefault();return false};k.prototype.render=function(){var l=[],m=c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT*this.props.duration;l=this.props.list.map(function(n,o){return c("React").createElement(c("DraggableResizableText.react"),{isSelected:o===this.props.captionSelected,ref:"node_"+o,text:n.node.text,key:o,id:o,top:this.state.list.get(o).top,left:this.state.list.get(o).left,width:this.state.list.get(o).width,isDragging:this.state.list.get(o).isDragging,isResizingLeft:this.state.list.get(o).isResizingLeft,isResizingRight:this.state.list.get(o).isResizingRight,updateStateDragging:this.updateStateDragging,updateStateResizingLeft:this.updateStateResizingLeft,updateStateResizingRight:this.updateStateResizingRight,funcResizingLeft:this.funcResizingLeft,funcResizingRight:this.funcResizingRight})}.bind(this));return c("React").createElement("div",{className:"_1coi",onDragOver:this.onDragOver,onDrop:this.onDrop},c("React").createElement(c("VideoComposerDialogCaptionEditorScrubBarTimeRuler.react"),{duration:this.props.duration,scale:1}),c("React").createElement("div",{className:"_1coj",style:{width:m}},c("React").createElement(c("VideoComposerDialogCaptionEditorPlayheadContainer.react"),null),l))};f.exports=k}),null);
__d("XEmbeddedVideoEmbedDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/embed/async/dialog/",{url:{type:"String",required:true},source:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);
__d("VideoComposerDialogFooterEditActions.react",["cx","fbt","AutoScheduleUtils","ContextualLayerAutoFlip","FlexLayout.react","LayerFadeOnHide","PopoverMenu.react","React","ReactDOM","ReactXUIMenu","ScheduleLiveVideoDialog.react","Tooltip","VideoComposerDialogActions","VideoComposerDialogEditUtils","VideoComposerDialogUtils","VideoEditPublishingAction","VideoEditPublishingStatus","VideoPublishingState","VideoPublishingStateIndicator.react","VideoPublishingStateIndicatorUtils","XEmbeddedVideoEmbedDialogController","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISingleSelector.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("XUISingleSelector.react").Option,m=c("ReactXUIMenu").Item,n=1e3;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={featuredVideoSuccessDialogURI:null,featuredVideoSuccessDialogVisible:false},this.$VideoComposerDialogFooterEditActions2=function(){var u=c("React").createElement(c("ScheduleLiveVideoDialog.react"),{broadcastID:undefined,canAddLiveAnnouncementThumbnail:false,description:this.props.description,initialPublishDate:this.props.premiereDate?new Date(this.props.premiereDate):undefined,isPageTarget:true,isPremiere:true,showCrosspostWarning:false,targetID:this.props.pageID,timezoneStr:c("AutoScheduleUtils").getTimezoneString(),onSubmit:function v(w,x,y,z){}});u=c("ReactDOM").render(u,c("ReactDOM").findDOMNode(this.refs.premiereDialogPlaceholder));if(u.show instanceof Function)u.show()}.bind(this),this.$VideoComposerDialogFooterEditActions3=function(u){c("VideoComposerDialogActions").updateIsFeaturedVideo();this.setState({featuredVideoSuccessDialogURI:u.page_uri,featuredVideoSuccessDialogVisible:true})}.bind(this),this.$VideoComposerDialogFooterEditActions4=function(){this.setState({featuredVideoSuccessDialogURI:null,featuredVideoSuccessDialogVisible:false})}.bind(this),q}o.prototype.$VideoComposerDialogFooterEditActions1=function(){c("VideoComposerDialogActions").saveEditedVideo()};o.prototype.$VideoComposerDialogFooterEditActions5=function(p){var q=this.props.publishingConfig,r=this.props.creationTime,s=q.expirationTime,t=q.scheduledPublishTime;return c("VideoPublishingStateIndicatorUtils").getStateToolTip(p,{creationTime:r,expirationTime:s&&s/n,isVideoAsset:false,postsCount:1,publishTime:t&&t/n||r})};o.prototype.$VideoComposerDialogFooterEditActions6=function(){__p&&__p();return this.props.publishingConfig.options.map(function(p){__p&&__p();var q=p.type,r=p.value,s=void 0,t=void 0,u=void 0;if(q=="status"){s=c("VideoEditPublishingStatus")[r];t=s.value;u=this.$VideoComposerDialogFooterEditActions5(t)}else{s=c("VideoEditPublishingAction")[r];switch(r.toLowerCase()){case c("VideoEditPublishingAction").MAKE_DRAFT.value:t=c("VideoPublishingState").DRAFT;break;case c("VideoEditPublishingAction").SCHEDULE_PUBLISH.value:t=c("VideoPublishingState").SCHEDULED;break;case c("VideoEditPublishingAction").PUBLISH.value:t=c("VideoPublishingState").PUBLISHED;break;case c("VideoEditPublishingAction").SCHEDULE_EXPIRATION.value:t=c("VideoPublishingState").EXPIRING;break;case c("VideoEditPublishingAction").EXPIRE.value:t=c("VideoPublishingState").EXPIRED;break;default:t="unknown";break}}return c("React").createElement(l,{key:s.value,value:s.value},c("React").createElement(c("VideoPublishingStateIndicator.react"),{className:"_669w",state:t,toolTip:u,toolTipAlignH:"center",toolTipPosition:"above"}),s.label)}.bind(this))};o.prototype.$VideoComposerDialogFooterEditActions7=function(){var p=c("XEmbeddedVideoEmbedDialogController").getURIBuilder().setString("url",this.props.embedURL).getURI();return c("React").createElement(c("ReactXUIMenu"),null,this.props.downloadHDUrl?c("React").createElement(m,c("VideoComposerDialogEditUtils").getDownloadMenuItemProps(this.props.downloadHDUrl),i._("Download HD")):null,this.props.downloadSDUrl?c("React").createElement(m,c("VideoComposerDialogEditUtils").getDownloadMenuItemProps(this.props.downloadSDUrl),i._("Download SD")):null,this.props.allowEmbedding?c("React").createElement(m,{href:p,rel:"dialog"},i._("Get Embed Link")):null,this.props.canMakeFeatured&&!this.props.isFeaturedVideo?c("React").createElement(m,{onClick:function(){c("VideoComposerDialogEditUtils").onMakeFeaturedVideo(this.props.videoID,this.props.pageID,this.$VideoComposerDialogFooterEditActions3)}.bind(this)},i._("Make Featured Video")):null)};o.prototype.$VideoComposerDialogFooterEditActions8=function(p){if(this.props.shouldPremiere)return c("React").createElement(c("XUIButton.react"),{className:"_3-90",href:"#",onClick:this.$VideoComposerDialogFooterEditActions2,size:"xlarge",use:"default",label:i._("Edit Premiere"),disabled:p,image:this.props.isSaving?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null});return c("React").createElement(c("XUISingleSelector.react"),{className:"_3-90",onChange:function(event){c("VideoComposerDialogEditUtils").onPublishingChange(event,this.props.publishingConfig)}.bind(this),size:"xlarge",value:this.props.selectedPublishingAction},this.$VideoComposerDialogFooterEditActions6())};o.prototype.$VideoComposerDialogFooterEditActions9=function(){var p=this.state.featuredVideoSuccessDialogURI?c("React").createElement(c("XUIDialogButton.react"),{action:"button",label:i._("Go To Your Videos Tab"),use:"default",href:this.state.featuredVideoSuccessDialogURI,target:"_blank"}):null;return c("React").createElement(c("XUIDialog.react"),{shown:this.state.featuredVideoSuccessDialogVisible,behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},width:445,key:"featureSuccessDialog"},c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement("span",null,i._("You've Selected Your Featured Video"))),c("React").createElement(c("XUIDialogBody.react"),null,i._("Your featured video is now displayed at the top of your Page's Videos tab. You can always choose a different featured video or decide not to show one.")),c("React").createElement(c("XUIDialogFooter.react"),null,p,c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",label:i._("Got It"),use:"confirm",onClick:this.$VideoComposerDialogFooterEditActions4})))};o.prototype.render=function(){var p=this.props.isMissingTitle||this.props.isSaving||!this.props.tabsLoaded,q=this.props.isMissingTitle?i._("To save your video, give it a title"):null;return c("React").createElement(c("FlexLayout.react"),{direction:"horizontal"},c("React").createElement("div",{ref:"premiereDialogPlaceholder"}),c("React").createElement(c("PopoverMenu.react"),{className:"_3-90",alignv:"baseline",menu:this.$VideoComposerDialogFooterEditActions7(),alignh:"right",layerBehaviors:[c("ContextualLayerAutoFlip")]},c("React").createElement(c("XUIButton.react"),{label:i._("..."),size:"xlarge"})),c("React").createElement(c("XUIButton.react"),{className:"_3-90",label:i._("View Post"),href:c("VideoComposerDialogUtils").getVideoPermalinkURL(this.props.videoID),target:"_blank",size:"xlarge"}),this.$VideoComposerDialogFooterEditActions8(p),c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(q,"above"),{className:"_3fao",href:"#",onClick:this.$VideoComposerDialogFooterEditActions1,size:"xlarge",use:"confirm",label:i._("Save"),labelIsHidden:this.props.isSaving,disabled:p,image:this.props.isSaving?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null})),this.$VideoComposerDialogFooterEditActions9())};f.exports=o}),null);
__d("VideoComposerDialogDistributionActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_DISTRIBUTION_TAB,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},i=function i(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_DISTRIBUTION_TAB_FOR_EDIT,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},j=function j(){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_NEWS_FEED};c("VideoComposerDialogDispatcher").dispatch(s)},k=function k(){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_EMBEDDING};c("VideoComposerDialogDispatcher").dispatch(s)},l=function l(){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_SECRET_VIDEO};c("VideoComposerDialogDispatcher").dispatch(s)},m=function m(s,t){var u={type:c("VideoComposerDialogActionTypes").CROSSPOST_PAGES_FETCHED,pages:s,shouldShowIsMonetizable:t};c("VideoComposerDialogDispatcher").dispatch(u)},n=function n(s,t){var u={type:c("VideoComposerDialogActionTypes").TOGGLE_CROSSPOST_PAGE,pageID:s,pageType:t};c("VideoComposerDialogDispatcher").dispatch(u)},o=function o(){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_GRAPHIC_WARNING};c("VideoComposerDialogDispatcher").dispatch(s)},p=function p(){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_BLOCK_SOCIAL};c("VideoComposerDialogDispatcher").dispatch(s)},q=function q(){var s={type:c("VideoComposerDialogActionTypes").CROSSPOST_LINK_CLICKED};c("VideoComposerDialogDispatcher").dispatch(s)},r=function r(){var s={type:c("VideoComposerDialogActionTypes").REFRESH_CROSSPOST_PAGES};c("VideoComposerDialogDispatcher").dispatch(s)};f.exports={bootloadTab:h,bootloadTabForEdit:i,toggleNewsFeed:j,toggleEmbedding:k,toggleSecretVideo:l,crosspostPagesFetched:m,toggleCrosspostPage:n,toggleGraphicWarning:o,toggleBlockSocial:p,crosspostLinkClicked:q,refreshCrosspostPages:r}}),null);
__d("VideoComposerDialogShowTrailerFooter.react",["ix","cx","fbt","FlexLayout.react","Image.react","React","Tooltip","VideoComposerDialogActions","VideoComposerDialogDistributionActions","XUIButton.react","XUICheckboxInput.react","XUIGrayText.react","XUISpinner.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$VideoComposerDialogShowTrailerFooter1=j._("Missing Title"),this.$VideoComposerDialogShowTrailerFooter2=j._("To add your trailer, give it a title"),this.$VideoComposerDialogShowTrailerFooter3=function(){if(this.props.isMissingTitle){c("VideoComposerDialogActions").highlightTitleWithErrorTooltip(this.$VideoComposerDialogShowTrailerFooter1,this.$VideoComposerDialogShowTrailerFooter2);return}if(this.props.isTitleTooLong){c("VideoComposerDialogActions").highlightTitleTooLong();return}c("VideoComposerDialogActions").publishPost()}.bind(this),o}m.prototype.render=function(){var n=j._("If checked, your trailer will not appear in News Feed"),o=this.props.disablePublish||this.props.isPublishing;return c("React").createElement(c("FlexLayout.react"),{direction:"horizontal",align:"center"},c("React").createElement(c("XUICheckboxInput.react"),{className:"_3-8_",checked:!this.props.showInNewsFeed,onChange:c("VideoComposerDialogDistributionActions").toggleNewsFeed}),c("React").createElement(c("XUIGrayText.react"),{shade:"medium"},j._("Exclude from News Feed")),c("React").createElement(c("Image.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(n,"above"),{className:"_3-90 _inj",src:h("403740")})),c("React").createElement(c("XUIButton.react"),{className:this.props.isPublishing?"_675_":"",href:"#",onClick:this.$VideoComposerDialogShowTrailerFooter3,size:"xlarge",use:"confirm",label:j._("Add Trailer"),labelIsHidden:this.props.isPublishing,disabled:o,image:this.props.isPublishing?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null}))};f.exports=m}),null);
__d("VideoComposerDialogFooterSection.react",["cx","Image.react","LeftRight.react","React","ReactComposerVideoCopyrightDialog.react","Tooltip","VideoComposerDialogActions","VideoComposerDialogFooterEditActions.react","VideoComposerDialogFooterUploadActions.react","VideoComposerDialogMode","VideoComposerDialogShowTrailerFooter.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogFooterSection1=function(){if(this.props.showRightsConfirmationDialog)c("VideoComposerDialogActions").cancelUpload()}.bind(this),m}k.prototype.$VideoComposerDialogFooterSection2=function(){c("VideoComposerDialogActions").confirmRights()};k.prototype.$VideoComposerDialogFooterSection3=function(){return this.props.isPublishing||this.props.isSchedulingOrBackdating};k.prototype.render=function(){var l=null;switch(this.props.dialogMode){case c("VideoComposerDialogMode").VIDEO_UPLOAD:case c("VideoComposerDialogMode").VIDEO_CROSSPOST:if(this.props.isShowTrailer)l=c("React").createElement(c("VideoComposerDialogShowTrailerFooter.react"),{disablePublish:this.props.disablePublish,isMissingTitle:this.props.isMissingTitle,isTitleTooLong:this.props.isTitleTooLong,isPublishing:this.props.isPublishing,showInNewsFeed:this.props.showInNewsFeed});else l=c("React").createElement(c("VideoComposerDialogFooterUploadActions.react"),{adBreakPrereviewPostMethod:this.props.adBreakPrereviewPostMethod,boostedPostButtonConfig:this.props.boostedPostButtonConfig,bootloaded:this.props.bootloaded,composerID:this.props.composerID,description:this.props.description,disablePublish:this.props.disablePublish,hasInsertedAdBreak:this.props.hasInsertedAdBreak,isAdBreakPrereviewVisible:this.props.isAdBreakPrereviewVisible,isAdBreakPrereviewDialogOpen:this.props.isAdBreakPrereviewDialogOpen,isMissingTitle:this.props.isMissingTitle,isSavingAsDraft:this.props.isSavingAsDraft,isPublishing:this.props.isPublishing,isSchedulingOrBackdating:this.props.isSchedulingOrBackdating,isShowVideoAndMissingType:this.props.isShowVideoAndMissingType,isTitleTooLong:this.props.isTitleTooLong,pageID:this.props.pageID,saveAsDraftDialogShown:this.props.saveAsDraftDialogShown,showPostEndDate:this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD,showPremiereOption:this.props.showPremiereOption,showReviewableBrandedContentConfirmationDialog:this.props.showReviewableBrandedContentConfirmationDialog,minBackdateTime:this.props.minBackdateTime,videoDuration:this.props.videoDuration});break;case c("VideoComposerDialogMode").VIDEO_EDIT:l=c("React").createElement(c("VideoComposerDialogFooterEditActions.react"),{allowEmbedding:this.props.allowEmbedding,canMakeFeatured:this.props.canMakeFeatured,creationTime:this.props.creationTime,description:this.props.description,downloadHDUrl:this.props.downloadHDUrl,downloadSDUrl:this.props.downloadSDUrl,embedURL:this.props.embedURL,isFeaturedVideo:this.props.isFeaturedVideo,isMissingTitle:this.props.isMissingTitle,isSaving:this.props.isEditSaving,pageID:this.props.pageID,premiereDate:this.props.premiereDate,publishingConfig:this.props.publishingConfig,selectedPublishingAction:this.props.editPublishingAction,shouldPremiere:this.props.shouldPremiere,tabsLoaded:this.props.editTabsLoaded,videoID:this.props.videoID||""});break}return c("React").createElement("div",{className:"_4egq"},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:"_665v"},this.props.profilePictureURI?c("React").createElement(c("Image.react"),babelHelpers["extends"]({className:"_665w",src:this.props.profilePictureURI,height:30,width:30},c("Tooltip").propsFor(this.props.profileDisplayName))):null,this.props.userProfilePictureURI?c("React").createElement(c("Image.react"),babelHelpers["extends"]({className:"_665x",src:this.props.userProfilePictureURI,height:30,width:30},c("Tooltip").propsFor(this.props.userName))):null),l),c("React").createElement(c("ReactComposerVideoCopyrightDialog.react"),{shown:this.props.showRightsConfirmationDialog&&this.$VideoComposerDialogFooterSection3(),onCancel:this.$VideoComposerDialogFooterSection1,onConfirm:this.$VideoComposerDialogFooterSection2}))};f.exports=k}),null);
__d("AutoScheduleUtils",["DateConsts","DateTime","Instant","LocalDate","Timezone","TimezoneNamesData","formatDate"],(function a(b,c,d,e,f,g){__p&&__p();var h="D, M j, Y",i="g:i A";f.exports={tzNamesModule:null,capitalize:function j(k){return k.split(/ /g).map(function(l){return""+l.substring(0,1).toUpperCase()+l.substring(1)}).join(" ")},isFunction:function j(k){return typeof k==="function"},getTimeStrWithFormat:function j(k){var l=arguments.length<=1||arguments[1]===undefined?i:arguments[1];return c("formatDate")(k,l)},getDateStrWithFormat:function j(k){var l=arguments.length<=1||arguments[1]===undefined?h:arguments[1];return c("formatDate")(k,l)},getTimeSlotDateStr:function j(k){return this.getDateStrWithFormat(k.start_time)},getTimeSlotTimeStr:function j(k){var l=this.getTimeStrWithFormat(k.start_time),m=this.getTimeStrWithFormat(k.end_time);return l+" - "+m},getTimeSlotStr:function j(k,l){var m={start_time:k,end_time:l},n=this.getTimeSlotDateStr(m),o=this.getTimeSlotTimeStr(m);return n+" "+o},getTimestampStr:function j(k,l){return this.getTimeSlotStr(k,k+(l||c("DateConsts").SEC_PER_HOUR/2))},isWeekend:function j(k){return k.getDay()===c("DateConsts").DAYS.SATURDAY||k.getDay()===c("DateConsts").DAYS.SUNDAY},deltaWeekDaysFromDeltaBusinessDays:function j(k,l){if(l<=0)return 0;var m=0;for(var n=1;n<l;n+=1){var o=this.dateWithDeltaDays(k,m+1);n-=this.isWeekend(o)?1:0;m+=1}return m},dateWithDelta:function j(k,l){return new Date(k.getTime()+l)},dateWithDeltaDays:function j(k,l){return this.dateWithDelta(k,l*c("DateConsts").MS_PER_DAY)},startOfMonday:function j(k){return new Date(k.getFullYear(),k.getMonth(),k.getDate()-k.getDay()+1)},startOfDay:function j(k){return new Date(k.getFullYear(),k.getMonth(),k.getDate())},endOfDay:function j(k){return this.dateWithDeltaDays(this.startOfDay(k),+1)},endOfFriday:function j(k){return this.dateWithDeltaDays(this.startOfMonday(k),5)},getDateFromLocalDate:function j(k){this.setupTimezoneNamesModule();return k.toDateTime(c("Timezone").getEnvironmentTimezoneID()).toDate()},getTimezoneOffset:function j(k){this.setupTimezoneNamesModule();return c("Instant").getOffset(c("Instant").now(),k||c("Timezone").getEnvironmentTimezoneID())},getTimezoneID:function j(k){this.setupTimezoneNamesModule();return c("Timezone").getByNameOrNull(k)},getFirstAndLastSlotStartTimes:function j(k){var l=k.sort(function(n,o){return n.start_time-o.start_time}),m=l.length>0;return{firstSlotStart:m?l[0].start_time:-1,lastSlotStart:m?l[l.length-1].start_time:-1,numSlots:l.length}},setupTimezoneNamesModule:function j(){if(!this.tzNamesModule)this.tzNamesModule=c("Timezone").registerNamesModule(c("TimezoneNamesData"))},getTimezoneString:function j(){this.setupTimezoneNamesModule();var k=c("Timezone").getEnvironmentTimezoneID();return c("Timezone").getName(k)},convertDateToTimezone:function j(k,l){var m=c("Timezone").getEnvironmentTimezoneID(),n=this.getTimezoneID(l);if(n!==null){var o=c("DateTime").create(k,m).getParallel(n).getUnixTimestamp();return Math.floor(o/c("DateConsts").MS_PER_SEC)}else return k},getAccessibilityEmailFooter:function j(){return"Facebook is committed to providing reasonable accommodations for qualified individuals with disabilities and disabled veterans in our job application procedures. If you need assistance or an accommodation due to a disability, you may contact us at accommodations-ext@fb.com or you may call us at 1+650-308-7837."}}}),null);
__d("PostBackdateDialog.react",["cx","fbt","Arbiter","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","React","ReactLayeredComponentMixin_DEPRECATED","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIDialogButton.react","XUIGrayText.react","XUIProgressiveDatepicker.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=250,l=c("React").createClass({displayName:"PostBackdateDialog",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{minTime:j.number.isRequired,maxTime:j.number.isRequired,onSubmit:j.func.isRequired},getInitialState:function m(){return{shown:false,hideFromNewsFeed:false,year:null,month:null,day:null}},render:function m(){return c("React").createElement("div",null)},renderLayers:function m(){return c("React").createElement(c("XUIDialog.react"),{width:343,shown:this.state.shown},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Backdate Post")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_5pk"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block"},i._("Backdate your post so it appears in the past on your Page Timeline. Backdated posts publish immediately.")),c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("XUIProgressiveDatepicker.react"),{className:"_3-8x",maxTime:this.props.maxTime,menuMaxHeight:k,minTime:this.props.minTime,minTimeUnit:"day",onDateChange:this._onDateChange})),c("React").createElement(c("InputLabel_DEPRECATED.react"),{className:"_3-8x"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.hideFromNewsFeed,onChange:this._hideFromNewsFeedChanged}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",weight:"normal"},i._("Hide from News Feed")))))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Cancel"),onClick:this._onCancelClick}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:!this.state.year||!this.state.month||!this.state.day,label:i._("Backdate"),onClick:this._onSubmitClick,use:"confirm"})))},show:function m(){this.setState({shown:true})},_onCancelClick:function m(){c("Arbiter").inform("PAB/defaultToPost")},_onSubmitClick:function m(){this.props.onSubmit(this.state.year,this.state.month,this.state.day,this.state.hideFromNewsFeed);this.setState({shown:false})},_onDateChange:function m(n){this.setState({year:n.year,month:n.month,day:n.day})},_hideFromNewsFeedChanged:function m(event){this.setState({hideFromNewsFeed:event.target.checked})}});f.exports=l}),null);
__d("ReactLiveBroadcastCustomProfileImageSelector.react",["ix","cx","fbt","glyph","invariant","BackgroundImage.react","CenteredContainer.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","FileInput.react","Image.react","LeftRight.react","Link.react","React"],(function a(b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=c("React").PropTypes,n=Object.freeze({DEFAULT_IMAGE:0,PREVIEW_POSITIONING:1,IMAGE_SET:2}),o=50,p=c("React").createClass({displayName:"ReactLiveBroadcastCustomProfileImageSelector",propTypes:{imageDimensions:function q(r,s,t){if(r.imageSrc)typeof r.imageDimensions==="object"||l(0)},imageFile:m.object,imageSrc:m.string,footerText:m.string,width:m.number.isRequired,height:m.number.isRequired,onFileUploaded:m.func.isRequired,onImageUpdated:m.func},getInitialState:function q(){return{coverPhotoStatus:n.DEFAULT_IMAGE,dragging:false,displayImage:this.props.imageFile,displayImageSrc:this.props.imageSrc,displayImageWidth:this.props.imageSrc&&this.props.imageDimensions?this.props.imageDimensions.width:0,displayImageHeight:this.props.imageSrc&&this.props.imageDimensions?this.props.imageDimensions.height:0,displayImageFocusX:this.props.imageSrc&&this.props.imageDimensions?.5*this.props.imageDimensions.width:0,displayImageFocusY:this.props.imageSrc&&this.props.imageDimensions?.5*this.props.imageDimensions.height:0}},componentDidUpdate:function q(r,s){if(this.state.dragging&&!s.dragging){document.addEventListener("mousemove",this._onMouseMove);document.addEventListener("mouseup",this._onMouseUp)}else if(!this.state.dragging&&s.dragging){document.removeEventListener("mousemove",this._onMouseMove);document.removeEventListener("mouseup",this._onMouseUp)}},componentWillUnmount:function q(){document.removeEventListener("mousemove",this._onMouseMove);document.removeEventListener("mouseup",this._onMouseUp)},render:function q(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_4lyb _5le2",style:{height:this.props.height,width:this.props.width}},c("React").createElement(c("FBOverlayContainer.react"),null,c("React").createElement(c("FBOverlayBase.react"),null,c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"coverinside",backgroundPosition:this._getImagePosition(),height:this.props.height,src:this._getImageSrc(),width:this.props.width,onImageLoad:this._onImageLoaded})),c("React").createElement(c("FBOverlayElement.react"),null,this._renderImageTextOverlay()))),this._renderFooter())},_renderFooter:function q(){switch(this.state.coverPhotoStatus){case n.PREVIEW_POSITIONING:return c("React").createElement("div",{className:"_4lyc _5le2"},c("React").createElement(c("LeftRight.react"),null,c("React").createElement(c("Link.react"),{onClick:this._cancelChanges},j._("Cancel")),c("React").createElement(c("Link.react"),{onClick:this._saveChanges},j._("Save Changes"))));case n.DEFAULT_IMAGE:return c("React").createElement("div",{className:"_4lyd _5le2"},this.props.footerText)}return null},_renderImageTextOverlay:function q(){var r=null;switch(this.state.coverPhotoStatus){case n.PREVIEW_POSITIONING:r=c("React").createElement("div",{className:"_4lyf"},c("React").createElement(c("Image.react"),{className:"_4lyg",src:h("101443")}),c("React").createElement("span",null,j._("Drag to Reposition")));break;case n.DEFAULT_IMAGE:case n.IMAGE_SET:r=c("React").createElement(c("FileInput.react"),{name:"file",accept:"image/*",onChange:this._onFileChange},c("React").createElement(c("Link.react"),{href:{url:"#"}},c("React").createElement("div",{className:"_4lyf"},c("React").createElement(c("Image.react"),{className:"_4lyg",src:h("101456")}),c("React").createElement("span",null,j._("Change Custom Image")))))}return c("React").createElement("div",{onMouseDown:this._onMouseDown,className:"_4lyu"+(this.state.coverPhotoStatus===n.PREVIEW_POSITIONING?" _4lyv":"")},c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,vertical:true},r))},_getImageSrc:function q(){if(this.state.uploadStatus===n.DEFAULT_IMAGE)return this.props.imageSrc;return this.state.displayImageSrc},_cancelChanges:function q(){this.props.onFileUploaded()},_saveChanges:function q(){if(!this.state.displayImage)return;this.setState({coverPhotoStatus:n.IMAGE_SET});this.props.onFileUploaded(this.state.displayImage,this._getImageFocus())},_onFileChange:function q(event){if(!(event.target.files&&event.target.files[0]))return;var r=event.target.files[0],s=URL.createObjectURL(r),t=new Image();t.onload=function(){this.setState({displayImageWidth:t.width,displayImageHeight:t.height,displayImageFocusX:t.width*.5,displayImageFocusY:t.height*.5})}.bind(this);t.src=s;this.setState({displayImage:r,displayImageSrc:s})},_canMoveHorizontally:function q(){return this.state.coverPhotoStatus===n.PREVIEW_POSITIONING&&this.state.displayImageWidth/this.state.displayImageHeight>this.props.width/this.props.height},_getImageFocus:function q(){__p&&__p();var r=this.state.displayImageFocusX/this.state.displayImageWidth;if(r<0)r=0;if(r>1)r=1;var s=this.state.displayImageFocusY/this.state.displayImageHeight;if(s<0)s=0;if(s>1)s=1;return{x:r,y:s}},_getImagePosition:function q(){if(!this.state.displayImageWidth||!this.state.displayImageHeight)return"50% 50%";var r=this._getImageFocus();return""+r.x*100+"% "+r.y*100+"%"},_onImageLoaded:function q(){this.setState({coverPhotoStatus:n.PREVIEW_POSITIONING})},_onMouseDown:function q(r){if(r.button!==0||this.state.coverPhotoStatus!==n.PREVIEW_POSITIONING)return;this.setState({dragging:true,ox:r.pageX,oy:r.pageY});r.stopPropagation();r.preventDefault()},_onMouseUp:function q(r){this.setState({dragging:false});r.stopPropagation();r.preventDefault()},_onMouseMove:function q(r){__p&&__p();if(!this.state.dragging||this.state.coverPhotoStatus!==n.PREVIEW_POSITIONING)return;var s=r.pageX-this.state.ox,t=r.pageY-this.state.oy;if(this._canMoveHorizontally()){var u=this.state.displayImageFocusX;if(s>0)u-=o;else if(s<0)u+=o;if(u<0)u=0;if(u>this.state.displayImageWidth)u=this.state.displayImageWidth;this.setState({displayImageFocusX:u,ox:r.pageX,oy:r.pageY})}else{var v=this.state.displayImageFocusY;if(t>0)v-=o;else if(t<0)v+=o;if(v<0)v=0;if(v>this.state.displayImageHeight)v=this.state.displayImageHeight;this.setState({displayImageFocusY:v,ox:r.pageX,oy:r.pageY})}r.stopPropagation();r.preventDefault()}});f.exports=p}),null);
__d("ScheduleLiveWatchTabPreview.react",["cx","fbt","React","CssBackgroundImage.react","Image.react","XUIButton.react","ScheduledLiveTimeStringUtil","CenteredContainer.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.$ScheduleLiveWatchTabPreview1=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_1g3f"},c("React").createElement(c("Image.react"),{className:"_1g3k",src:this.props.showmarkURI}),c("React").createElement("div",{className:"_1g3l"},i._("Live {liveTime}",[i._param("liveTime",c("ScheduledLiveTimeStringUtil").getStr(this.props.scheduledTime))])),c("React").createElement("div",{className:"_1g3m"},this.props.title),c("React").createElement("div",{className:"_1g3n"},this.props.pageName)),c("React").createElement("div",{className:"_1g3o"},c("React").createElement(c("XUIButton.react"),{className:"_1g3q",label:i._("Remind Me")})))};l.prototype.render=function(){if(!this.props.customThumbnailURI)return c("React").createElement(c("CenteredContainer.react"),{className:"_1g3r",fullHeight:true,vertical:true},c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block",className:"_1g3s"},i._("Add a 16:9 thumbnail to make your scheduled live episode eligible to be featured in the Watch tab.")),c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block",className:"_1g3s"},i._("Your thumbnail should be related to your scheduled live video to help promote it.")));return c("React").createElement(c("CssBackgroundImage.react"),{className:"_1g3r",imageURI:this.props.customThumbnailURI},c("React").createElement("div",{className:"_1g3u"},c("React").createElement("div",{className:"_1g3v"},this.$ScheduleLiveWatchTabPreview1())))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("XLiveScheduleStoryPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/live/schedule/preview/",{target_id:{type:"FBID"},broadcast_id:{type:"FBID"}})}),null);
__d("ScheduledLiveStoryPreview.react",["cx","fbt","AsyncRequest","React","ScheduledLiveStoryVideoPreview.react","StoryProfile.react","XLiveScheduleStoryPreviewController","XUICard.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l="/images/silhouettes/person_50x50.png";j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){"use strict";k.constructor.call(this,n);this.$ScheduledLiveStoryPreview1=function(o){var p=o.getPayload();this.setState({profileName:p.profileName,profileImageURL:p.profileImageURL,profileURL:p.profileURL,backgroundImage:p.backgroundImage,previousCustomImage:p.previousCustomImage})}.bind(this);this.state={profileName:"",profileImageURL:l,profileURL:"",backgroundImage:{},previousCustomImage:null}}m.prototype.componentDidMount=function(){"use strict";var n=c("XLiveScheduleStoryPreviewController").getURIBuilder().setFBID("target_id",this.props.targetID).setFBID("broadcast_id",this.props.broadcastID).getURI();new(c("AsyncRequest"))().setURI(n).setMethod("POST").setHandler(this.$ScheduledLiveStoryPreview1).send()};m.prototype.render=function(){"use strict";return c("React").createElement(c("XUICard.react"),{className:"_ar-"},this.$ScheduledLiveStoryPreview2(),this.$ScheduledLiveStoryPreview3(),c("React").createElement(c("ScheduledLiveStoryVideoPreview.react"),{backgroundImage:this.state.backgroundImage,customProfileImage:this.props.customProfileImage,customProfileImagePosition:this.props.customProfileImagePosition,isPremiere:this.props.isPremiere,plannedStartTime:this.props.plannedStartTime,previousCustomImage:this.state.previousCustomImage,profileImageURL:this.state.profileImageURL,profileName:this.state.profileName}))};m.prototype.$ScheduledLiveStoryPreview2=function(){"use strict";var n=this.props.isPremiere?i._("plans to premiere a video."):i._("plans to go live.");return c("React").createElement("div",{className:"_3-8j"},c("React").createElement(c("StoryProfile.react"),{profilePicture:this.state.profileImageURL,profileURL:this.state.profileURL,username:this.state.profileName,uploadTime:i._("Just Now"),description:n}))};m.prototype.$ScheduledLiveStoryPreview3=function(){"use strict";return c("React").createElement(c("XUIText.react"),{className:"_as3",display:"block",size:"header4"},this.props.description)};f.exports=m}),null);
__d("ScheduleLiveVideoDialog.react",["ix","cx","fbt","ReactLiveBroadcastCustomProfileImageSelector.react","DatePickerRestraints","FileInput.react","Grid.react","Image.react","React","ReactLayeredComponentMixin_DEPRECATED","ScheduleLiveVideoDialogConfig","ScheduledLiveStoryPreview.react","ScheduleLiveWatchTabPreview.react","Tooltip.react","XUIButton.react","XUIDateTimePicker.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=c("Grid.react").GridItem,l=c("React").PropTypes,m=60,n=60*1e3,o=60*60,p=24*60*60,q=24*60*60*1e3,r=7*q,s=11,t=818,u=409,v=409,w=Object.freeze({NO_IMAGE:0,EDITING_IMAGE:1,HAS_IMAGE:2}),x=c("React").createClass({displayName:"ScheduleLiveVideoDialog",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{defaultScheduledTimeDelta:l.number,description:l.string.isRequired,broadcastID:l.string,initialPublishDate:l.instanceOf(Date),isPremiere:l.bool,onSubmit:l.func.isRequired,targetID:l.string.isRequired,timezoneStr:l.string.isRequired,scheduleExpirationTime:l.number,isPageTarget:l.bool,canAddLiveAnnouncementThumbnail:l.bool,videoTitle:l.string,showmarkURI:l.string,showPageName:l.string,showCrosspostWarning:l.bool},getDefaultProps:function y(){return{defaultScheduledTimeDelta:s*n}},getInitialState:function y(){return{customImage:null,customImageStatus:w.NO_IMAGE,isAnnounced:false,publishDate:this.props.initialPublishDate?this.props.initialPublishDate:new Date(Date.now()+this.props.defaultScheduledTimeDelta),selectedFileName:"",shown:false,customAnnouncementThumbnail:null,customAnnouncementThumbnailURL:null}},show:function y(){var z=this.getInitialState();z.shown=true;this.setState(z)},render:function y(){return c("React").createElement("div",null)},renderLayers:function y(){var z=this.state.customImageStatus===w.EDITING_IMAGE?this._renderCustomImageCropper():this._renderStoryPreview(),A=this.props.isPremiere?j._("Premiere"):j._("Schedule Live"),B=this.props.isPremiere?j._("Schedule Premiere"):j._("Schedule");return c("React").createElement("div",null,c("React").createElement(c("XUIDialog.react"),{shown:this.state.shown,width:t,className:"_1_x8"},c("React").createElement(c("XUIDialogTitle.react"),null,A),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("Grid.react"),{className:"_35sx",cols:2,alignv:"top"},c("React").createElement(k,{width:u},this._renderSchedule()),c("React").createElement(k,{className:"_35sx",width:v},z))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),{className:"_1m2j _3-90"}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",className:"_1m2j",label:B,onClick:this._onSubmitClick,disabled:!this._isPublishTimeValid(),use:"confirm"}))))},_renderSchedule:function y(){var z=this.props.isPremiere?j._("Select a date and time when you want to premiere. You can also add a custom image."):j._("Select a date and time when you want to go live. You can also add a custom image."),A=c("React").createElement(c("Grid.react"),{cols:2,alignv:"top",className:"_3-8w"},c("React").createElement(k,{className:"_kdz"},c("React").createElement(c("Image.react"),{src:h("141741")})),c("React").createElement(k,null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},z))),B=this.props.isPremiere?j._("When you schedule your premiere, an announcement will be published immediately."):j._("When you schedule your live video, an announcement will be published immediately."),C=c("React").createElement(c("Grid.react"),{cols:2,alignv:"top",className:"_3-8y"},c("React").createElement(k,{className:"_kdz"},c("React").createElement(c("Image.react"),{src:h("142529")})),c("React").createElement(k,null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},B))),D=this.props.isPageTarget?j._("Verify your live video feed at least 20 minutes before the scheduled start time. To verify it, preview the feed by opening the scheduled video in your Video Library."):j._("Verify your live video feed at least 20 minutes before the scheduled start time. To verify it, preview the feed by opening the scheduled video from your Timeline using the Edit Post button."),E=this.props.isPremiere?null:c("React").createElement(c("Grid.react"),{cols:2,alignv:"top",className:"_3-8y"},c("React").createElement(k,{className:"_kdz"},c("React").createElement(c("Image.react"),{src:h("142093")})),c("React").createElement(k,null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},D))),F=this.props.scheduleExpirationTime?this.props.scheduleExpirationTime/m:c("ScheduleLiveVideoDialogConfig").expirationTime/m,G=this.props.isPremiere?null:c("React").createElement(c("Grid.react"),{cols:2,alignv:"top",className:"_3-8y"},c("React").createElement(k,{className:"_kdz"},c("React").createElement(c("Image.react"),{src:h("142427")})),c("React").createElement(k,null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},j._("People following your event will be notified about your scheduled broadcast, and some may be waiting for you at the scheduled start time. The live video will begin automatically at the scheduled start time. You must go live within {min start time in minutes} minutes of the scheduled time or your video will be canceled.",[j._param("min start time in minutes",F)])))),H=this.props.isPremiere?j._("Premiere Start Time"):j._("Scheduled Start Time"),I=c("React").createElement(c("XUIText.react"),{className:"_kd-",size:"meta1"},H),J=c("React").createElement(c("XUIDateTimePicker.react"),{allowEmpty:false,className:"_3hgw _3-8x",date:this.state.publishDate,dateRestraints:[c("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-q)),c("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+r))],onChange:function(N){return this.setState({publishDate:N})}.bind(this),timezone:this.props.timezoneStr}),K=this._renderInvalidTimeNotice(),L=c("ScheduleLiveVideoDialogConfig").shouldShowCustomImage?c("React").createElement(c("XUIText.react"),{className:"_kd-",size:"meta1"},j._("Custom Image"),c("React").createElement(c("Tooltip.react"),{position:"above",tooltip:j._("Optional: You can add a custom image for your schedule live announcement.")},c("React").createElement(c("Image.react"),{className:"_52vx",src:h("142360")}))):null,M=c("ScheduleLiveVideoDialogConfig").shouldShowCustomImage?this._renderCustomImageButtons():null;return c("React").createElement("div",{className:"_3-8k"},A,C,E,G,this._renderCrosspostNotice(),this._renderPremiereNotice(),I,J,K,L,M,this._renderCustomAnnouncementThumbnailSection())},_renderCustomAnnouncementThumbnailSection:function y(){if(!this.props.canAddLiveAnnouncementThumbnail)return null;var z=j._("Add Thumbnail");return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_kd-",size:"meta1"},j._("Custom 16x9 Thumbnail"),c("React").createElement(c("Tooltip.react"),{position:"above",tooltip:j._("Optional: In order to be eligable for a feature in the Watch tab, you must upload a custom 16:9 thumbnail")},c("React").createElement(c("Image.react"),{className:"_52vx",src:h("142360")}))),c("React").createElement("div",{className:"_3-8n"},c("React").createElement(c("FileInput.react"),{name:"announcement_thumbnail",accept:"image/*",onChange:this._onCustomAnnouncementThumbnailUploaded},c("React").createElement(c("XUIButton.react"),{href:{url:"#"},label:z}))))},_onCustomAnnouncementThumbnailUploaded:function y(event){if(!(event.target.files&&event.target.files[0]))return;var z=event.target.files[0],A=URL.createObjectURL(z),B=new Image();B.onload=function(){var C={width:B.width,height:B.height}};B.src=A;this.setState({customAnnouncementThumbnail:z,customAnnouncementThumbnailURL:A})},_renderCrosspostNotice:function y(){return this.props.showCrosspostWarning?c("React").createElement(c("XUINotice.react"),{className:"_3-8y",size:"small",use:"recommend"},j._("Crossposting is not supported for scheduled live broadcasts. Any pages selected for crossposting will not be saved.")):null},_renderPremiereNotice:function y(){if(!this.props.isPremiere)return null;return c("React").createElement(c("XUINotice.react"),{className:"_3-8y",size:"small",use:"recommend"},j._("Some video upload features will not work with premiere. This includes ad breaks, 360 settings, captions, crossposting, thumbnail, tagged products, and Messenger button."))},_renderInvalidTimeNotice:function y(){if(this._isPublishTimeValid())return null;var z=c("ScheduleLiveVideoDialogConfig").validMinStartTime/m,A=c("ScheduleLiveVideoDialogConfig").validMaxStartTime/o,B=c("ScheduleLiveVideoDialogConfig").validMaxStartTime/p;return c("React").createElement(c("XUINotice.react"),{className:"_3-8y",size:"small",use:"warn"},j._("Scheduled live videos must be scheduled between {min start time in minutes} minutes and {max start time in days} days {max start time in hours} hours) from when you create them.",[j._param("min start time in minutes",z),j._param("max start time in days",B),j._param("max start time in hours","("+A)]))},_renderCustomImageButtons:function y(){var z=j._("Upload Image");return c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("FileInput.react"),{name:"file",accept:"image/*",onChange:this._onCustomImageFileUploaded},c("React").createElement(c("XUIButton.react"),{href:{url:"#"},label:z})))},_renderCustomImageCropper:function y(){if(!this.state.customImageDimensions)return null;return c("React").createElement(c("ReactLiveBroadcastCustomProfileImageSelector.react"),{imageDimensions:this.state.customImageDimensions,imageFile:this.state.customImageFile,imageSrc:this.state.customImageURL,width:200,height:200,onFileUploaded:this._onCustomImageChange})},_renderStoryPreview:function y(){return c("React").createElement("div",{className:"_1_x9"+(this.props.canAddLiveAnnouncementThumbnail?" _1_pb":"")},c("React").createElement("div",null,c("React").createElement("div",null,c("React").createElement(c("Image.react"),{src:h("126509")}),c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",className:"_1_xa"},j._("News Feed Announcement Preview"))),c("React").createElement(c("ScheduledLiveStoryPreview.react"),{targetID:this.props.targetID,broadcastID:this.props.broadcastID,customProfileImage:this.state.customImage,customProfileImagePosition:this.state.focus,plannedStartTime:this.state.publishDate,description:this.props.description,isPremiere:this.props.isPremiere})),this._renderWatchTabAnnouncementPreview())},_renderWatchTabAnnouncementPreview:function y(){if(!this.props.canAddLiveAnnouncementThumbnail)return null;return c("React").createElement("div",{className:"_3-8-"},c("React").createElement("div",null,c("React").createElement(c("Image.react"),{src:h("347292")}),c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",className:"_1_xa"},j._("Watch Tab Announcement Preview"))),c("React").createElement(c("ScheduleLiveWatchTabPreview.react"),{title:this.props.videoTitle,customThumbnailURI:this.state.customAnnouncementThumbnailURL,scheduledTime:this.state.publishDate,showmarkURI:this.props.showmarkURI,pageName:this.props.showPageName}))},_onCustomImageChange:function y(z,A){if(!z&&this.state.customImage){this.setState({customImageStatus:w.HAS_IMAGE});return}if(!z){this.setState({customImageStatus:w.NO_IMAGE});return}this.setState({customImage:z,customImageStatus:w.HAS_IMAGE,focus:A})},_onCustomImageFileUploaded:function y(event){if(!(event.target.files&&event.target.files[0]))return;var z=event.target.files[0],A=URL.createObjectURL(z),B=new Image();B.onload=function(){var C={width:B.width,height:B.height};this.setState({customImageDimensions:C,customImageStatus:w.EDITING_IMAGE})}.bind(this);B.src=A;this.setState({customImageFile:z,customImageURL:A})},_onSubmitClick:function y(){if(!this._isPublishTimeValid()){this.setState({publishDate:this.state.publishDate});return}var z=Math.floor(this.state.publishDate.getTime()/1e3);this.props.onSubmit(z,this.state.customImage,this.state.focus,this.state.customAnnouncementThumbnail);this.setState({shown:false})},_getContextRef:function y(){return this.refs.expirationToggle},_isPublishTimeValid:function y(){if(c("ScheduleLiveVideoDialogConfig").startTimeOverride)return true;var z=this.state.publishDate.getTime(),A=Date.now()+c("ScheduleLiveVideoDialogConfig").validMinStartTime*1e3,B=Date.now()+c("ScheduleLiveVideoDialogConfig").validMaxStartTime*1e3,C=z>A&&z<B;return C}});f.exports=x}),null);
__d("VideoComposerAdBreakPrereviewPostMethod",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUBMIT_FOR_PREREVIEW:"submit_for_prereview",PUBLISH_NOW:"publish_now",SCHEDULE_POST:"schedule_post"})}),null);
__d("VideoComposerDialogAdBreakActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoPlayerController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(){var y={type:c("VideoComposerDialogActionTypes").AGREE_VIDEO_RIGHTS};c("VideoComposerDialogDispatcher").dispatch(y)},i=function i(y){var z={type:c("VideoComposerDialogActionTypes").BOOTLOAD_AD_BREAK_PARAMETERS,data:y};c("VideoComposerDialogDispatcher").dispatch(z)},j=function j(y){var z={type:c("VideoComposerDialogActionTypes").DELETE_AD_BREAK,adBreakIndex:y};c("VideoComposerDialogDispatcher").dispatch(z)},k=function k(y){var z={type:c("VideoComposerDialogActionTypes").FETCH_AD_BREAK_EDIT_PARAMETERS,data:y};c("VideoComposerDialogDispatcher").dispatch(z)},l=function l(){var y={type:c("VideoComposerDialogActionTypes").INSERT_AD_BREAK};c("VideoComposerDialogDispatcher").dispatch(y)},m=function m(y){var z={type:c("VideoComposerDialogActionTypes").SET_CURRENT_AD_BREAK,adBreakTimeOffset:y};c("VideoComposerDialogDispatcher").dispatch(z)},n=function n(y){var z={type:c("VideoComposerDialogActionTypes").SET_CURRENT_PREVIEW_INDEX,currentPreviewIndex:y};c("VideoComposerDialogDispatcher").dispatch(z)},o=function o(y){var z={type:c("VideoComposerDialogActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED,isAdBreakAutoAdjustmentEnabled:y};c("VideoComposerDialogDispatcher").dispatch(z)},p=function p(y){var z={type:c("VideoComposerDialogActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED,isAdBreakAutoInsertionEnabled:y};c("VideoComposerDialogDispatcher").dispatch(z)},q=function q(y){var z={type:c("VideoComposerDialogActionTypes").SET_IS_BRANDED_CONTENT_VIDEO,isBrandedContentVideo:y};c("VideoComposerDialogDispatcher").dispatch(z)},r=function r(y){var z={type:c("VideoComposerDialogActionTypes").SET_PREREVIEW_DIALOG,isAdBreakPrereviewDialogOpen:y};c("VideoComposerDialogDispatcher").dispatch(z)},s=function s(y){var z={type:c("VideoComposerDialogActionTypes").SET_PREREVIEW_POST_METHOD,prereviewPostMethod:y};c("VideoComposerDialogDispatcher").dispatch(z)},t=function t(y){var z={type:c("VideoComposerDialogActionTypes").START_PAGE_ONBOARDING,pageID:y};c("VideoComposerDialogDispatcher").dispatch(z)},u=function u(y){var z={type:c("VideoComposerDialogActionTypes").UPDATE_AD_BREAK_STATUS,adBreaksDisabled:y};c("VideoComposerDialogDispatcher").dispatch(z)},v=function v(y){var z={type:c("VideoComposerDialogActionTypes").UPDATE_HOLDOUT_TEST_STATUS,enabled:y};c("VideoComposerDialogDispatcher").dispatch(z)},w=function w(y,z){var A={type:c("VideoComposerDialogActionTypes").UPDATE_THUMBNAIL_URL,adBreakTimeOffset:y,thumbnailURL:z};c("VideoComposerDialogDispatcher").dispatch(A)},x=function x(y){var z={type:c("VideoComposerDialogActionTypes").UPDATE_VPC,vpc:y};c("VideoComposerDialogDispatcher").dispatch(z)};f.exports={agreeVideoRights:h,bootloadParameters:i,deleteAdBreak:j,fetchEditParameters:k,insertAdBreak:l,setCurrentAdBreak:m,setCurrentPreviewIndex:n,setIsAdBreakAutoAdjustmentEnabled:o,setIsAdBreakAutoInsertionEnabled:p,setIsBrandedContentVideo:q,setPrereviewDialog:r,setPrereviewPostMethod:s,startPageOnboarding:t,updateAdBreakStatus:u,updateHoldoutTestStatus:v,updateThumbnailURL:w,updateVPC:x}}),null);
__d("VideoComposerDialogAdBreakPrereviewButtonNux.react",["fbt","React","XUIText.react","XUIAmbientNUX.react","SimpleNUXMessage","SimpleNUXMessageTypes"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={nuxShown:false},this.$VideoComposerDialogAdBreakPrereviewButtonNux1=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").AD_BREAK_PREREVIEW_BUTTON);this.setState({nuxShown:false})}.bind(this),m}k.prototype.UNSAFE_componentWillMount=function(){if(this.props.isVisible)this.setState({nuxShown:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").AD_BREAK_PREREVIEW_BUTTON)})};k.prototype.render=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,key:"ambientNUX",position:"above",shown:this.state.nuxShown,onCloseButtonClick:this.$VideoComposerDialogAdBreakPrereviewButtonNux1},c("React").createElement(c("XUIText.react"),{XUIHeadingTextSize:"header3",XUITextWeight:"bold"},h._("New! Check Ad Breaks Eligibility")),c("React").createElement("br",null),c("React").createElement(c("XUIText.react"),{XUIHeadingTextSize:"body1"},h._("Submit your video for review to see if it's eligible for ad breaks before you publish it.")))};f.exports=k}),null);
__d("VideoComposerDialogAdBreakPrereviewDialogConfig",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";var i={title:h._("Submit for Review?"),text:c("React").createElement("div",null,h._("If this video passes review, ad breaks will be enabled as soon as you publish it."),c("React").createElement("br",null),c("React").createElement("br",null),h._("Reviews usually take 24-48 hours. You'll be notified when the review is complete so you can publish your video.")),checkBox:h._("Don't show this again"),skipPrereviewLabel:h._("Cancel"),confirmPrereviewLabel:h._("Confirm")},j={title:h._("Submit for Review First?"),text:c("React").createElement("div",null,h._("Earn money on more of your early video views by submitting this video for review before publishing. If it passes review, ad breaks will be enabled as soon as you publish it."),c("React").createElement("br",null),c("React").createElement("br",null),h._("Reviews usually take 24-48 hours. You'll be notified when the review is complete so you can publish your video.")),checkBox:h._("Don't show this again"),skipPrereviewLabel:h._("Publish Without Review"),confirmPrereviewLabel:h._("Submit for Review")},k={title:h._("Submit for Review First?"),text:c("React").createElement("div",null,h._("Earn money on more of your early video views by submitting this video for review first. You'll be able to schedule or publish it when the review is complete. If it passes review, ad breaks will be enabled as soon as you publish it."),c("React").createElement("br",null),c("React").createElement("br",null),h._("Reviews usually take 24-48 hours. You'll be notified when the review is complete so you can schedule your video.")),checkBox:h._("Don't show this again"),skipPrereviewLabel:h._("Schedule Without Review"),confirmPrereviewLabel:h._("Submit for Review")};f.exports={submitForReviewDialogConfig:i,publishNowDialogConfig:j,schedulePostDialogConfig:k}}),null);
__d("VideoComposerDialogAdBreakPrereviewConfirmation.react",["cx","ix","InputLabel.react","Image.react","React","SimpleNUXMessage","SimpleNUXMessageTypes","VideoComposerAdBreakPrereviewPostMethod","VideoComposerDialogActions","VideoComposerDialogAdBreakActions","VideoComposerDialogAdBreakPrereviewDialogConfig","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=400;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={isChecked:false},this.$VideoComposerDialogAdBreakPrereviewConfirmation3=function(){this.$VideoComposerDialogAdBreakPrereviewConfirmation4();c("VideoComposerDialogActions").submitForPrereview()}.bind(this),this.$VideoComposerDialogAdBreakPrereviewConfirmation5=function(){this.$VideoComposerDialogAdBreakPrereviewConfirmation4();switch(this.props.postMethod){case c("VideoComposerAdBreakPrereviewPostMethod").SUBMIT_FOR_PREREVIEW:this.$VideoComposerDialogAdBreakPrereviewConfirmation2();return;case c("VideoComposerAdBreakPrereviewPostMethod").PUBLISH_NOW:this.props.skipAndPublishNow();return;case c("VideoComposerAdBreakPrereviewPostMethod").SCHEDULE_POST:this.props.skipAndSchedulePost();return;default:return}}.bind(this),this.$VideoComposerDialogAdBreakPrereviewConfirmation6=function(){var s=this.state.isChecked;this.setState({isChecked:!s})}.bind(this),o}m.prototype.$VideoComposerDialogAdBreakPrereviewConfirmation1=function(n){switch(n){case c("VideoComposerAdBreakPrereviewPostMethod").SUBMIT_FOR_PREREVIEW:return c("VideoComposerDialogAdBreakPrereviewDialogConfig").submitForReviewDialogConfig;case c("VideoComposerAdBreakPrereviewPostMethod").PUBLISH_NOW:return c("VideoComposerDialogAdBreakPrereviewDialogConfig").publishNowDialogConfig;case c("VideoComposerAdBreakPrereviewPostMethod").SCHEDULE_POST:return c("VideoComposerDialogAdBreakPrereviewDialogConfig").schedulePostDialogConfig;default:return null}};m.prototype.$VideoComposerDialogAdBreakPrereviewConfirmation2=function(){c("VideoComposerDialogAdBreakActions").setPrereviewDialog(false)};m.prototype.$VideoComposerDialogAdBreakPrereviewConfirmation4=function(){if(this.state.isChecked)c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").AD_BREAK_PREREVIEW_DIALOG)};m.prototype.render=function(){var n=this.$VideoComposerDialogAdBreakPrereviewConfirmation1(this.props.postMethod);if(!n)return null;return c("React").createElement(c("XUIDialog.react"),{isStrictlyControlled:true,label:"ad_break_prereview",shown:this.props.isDialogOpen,width:l,onHide:this.$VideoComposerDialogAdBreakPrereviewConfirmation2},c("React").createElement(c("XUIDialogTitle.react"),null,n.title),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_4y79"},c("React").createElement(c("Image.react"),{src:i("492642")})),n.text,c("React").createElement("div",{className:"_3wp1"},c("React").createElement(c("InputLabel.react"),{label:n.checkBox},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.isChecked,name:this.props.postMethod,value:this.props.postMethod,onChange:this.$VideoComposerDialogAdBreakPrereviewConfirmation6})))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:n.skipPrereviewLabel,use:"default",onClick:this.$VideoComposerDialogAdBreakPrereviewConfirmation5}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",label:n.confirmPrereviewLabel,use:"confirm",onClick:this.$VideoComposerDialogAdBreakPrereviewConfirmation3})))};f.exports=m}),null);
__d("VideoComposerDialogPremiereStore",["Promise","FluxReduceStore","immutable","VideoComposerDialogActions","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={customProfileImage:null,customProfileImageFocus:null,premiereDate:null,shouldPremiere:false};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.__moduleID=f.id,p}n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").PREMIERE_CONFIRM:o=o.set("shouldPremiere",true);o=o.set("premiereDate",p.scheduleDate);o=o.set("customProfileImageFocus",p.customProfileImageFocus);if(p.customProfileImage!=null)o=o.set("customProfileImage",p.customProfileImage);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return o;case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:o=o.set("shouldPremiere",p.editParams.isPremiere);o=o.set("premiereDate",p.editParams.premiereDate);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:return this.getInitialState();default:return o}};n.prototype.getPostRequestDataToSend=function(){var o=this.getState(),p={premiere_time_ms:o.premiereDate&&o.premiereDate.getTime(),should_premiere:o.shouldPremiere,premiere_custom_profile_image_focus:o.customProfileImageFocus};if(o.customProfileImage)p.schedule_custom_profile_image=o.customProfileImage;return c("Promise").resolve(p)};f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogSaveAsDraftPrompt.react",["cx","fbt","React","VideoComposerDialogActions","VideoComposerDialogConstants","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{isStrictlyControlled:true,onHide:c("VideoComposerDialogActions").saveAsDraftAbort,shown:this.props.shown,width:c("VideoComposerDialogConstants").SECONDARY_DIALOG_WIDTH},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Save as Draft")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_31yu"},i._("Save Video Post as Draft and Close")),c("React").createElement("div",{className:"_31yv"},i._("Save your video post as a draft, your video will finish processing and can be found in Publishing Tool > Video Library or your Page Timeline Tools."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{size:"xlarge",onClick:c("VideoComposerDialogActions").saveAsDraftAbort,label:i._("Cancel")}),c("React").createElement(c("XUIButton.react"),{size:"xlarge",use:"confirm",onClick:c("VideoComposerDialogActions").saveAsDraftConfirm,label:i._("Save as Draft")})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerReviewableBrandedContentDialog.react",["cx","fbt","React","VideoComposerDialogActions","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{isStrictlyControlled:true,onHide:c("VideoComposerDialogActions").hideReviewableBrandedContentConfirmation,shown:this.props.shown,width:800},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Your Post Isn't Published Yet")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("XUIGrayText.react"),{shade:"medium"},i._("Before your post is published, your tagged business partner must confirm they have a branded content partnership with you. They'll be able to see this post before deciding whether to approve your Page."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{className:"_idm",label:i._("Confirm"),onClick:c("VideoComposerDialogActions").confirmReviewableBrandedContent,use:"confirm"}),c("React").createElement(c("XUIButton.react"),{className:"_idm _3-90",label:i._("Cancel"),onClick:c("VideoComposerDialogActions").hideReviewableBrandedContentConfirmation,use:"default"})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogFooterUploadActions.react",["cx","fbt","invariant","AutoScheduleUtils","DateConsts","ReactComposerBoostedPostLazyButton.react","DOM","FlexLayout.react","PopoverMenu.react","PostBackdateDialog.react","PostScheduleAndPostEndDialog.react","React","ReactDOM","ReactXUIMenu","ScheduleLiveVideoDialog.react","SimpleNUXMessage","SimpleNUXMessageTypes","Tooltip","VideoComposerAdBreakPrereviewPostMethod","VideoComposerDialogActions","VideoComposerDialogAdBreakActions","VideoComposerDialogAdBreakPrereviewConfirmation.react","VideoComposerDialogAdBreakPrereviewButtonNux.react","VideoComposerDialogDispatcher","VideoComposerDialogPremiereStore","VideoComposerDialogSaveAsDraftPrompt.react","VideoComposerReviewableBrandedContentDialog.react","XUIButton.react","XUIPopoverButton.react","XUISpinner.react","LiftTimeUtils","keyMirror"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("LiftTimeUtils").MS_IN_SEC,n=c("ReactXUIMenu").Item,o=c("keyMirror")({AD_BREAK_SUBMIT_FOR_REVIEW:"",BACKDATE:"",PREMIERE:"",PUBLISH_NOW:"",SAVE_DRAFT:"",SCHEDULE:""});k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$VideoComposerDialogFooterUploadActions1=i._("Missing Title"),this.$VideoComposerDialogFooterUploadActions2=i._("To publish your video, select a video type"),this.$VideoComposerDialogFooterUploadActions3=i._("To save as draft, select a video type"),this.$VideoComposerDialogFooterUploadActions4=i._("To submit for review, select a video type"),this.$VideoComposerDialogFooterUploadActions5=i._("To publish your video, give it a title"),this.$VideoComposerDialogFooterUploadActions6=i._("To save as draft, give it a title"),this.$VideoComposerDialogFooterUploadActions7=i._("To submit for review, give it a title"),this.$VideoComposerDialogFooterUploadActions16=function(){var v=c("ReactDOM").render(c("React").createElement(c("PostScheduleAndPostEndDialog.react"),{timezoneStr:this.$VideoComposerDialogFooterUploadActions19(),showExpire:true,showPostEndDate:this.props.showPostEndDate,onSubmit:c("VideoComposerDialogActions").scheduleConfirm}),c("DOM").create("div"));v instanceof c("PostScheduleAndPostEndDialog.react")||j(0);v.show()}.bind(this),r}p.prototype.$VideoComposerDialogFooterUploadActions8=function(){c("VideoComposerDialogActions").saveAsDraftAttempt()};p.prototype.$VideoComposerDialogFooterUploadActions9=function(){if(this.$VideoComposerDialogFooterUploadActions10())this.$VideoComposerDialogFooterUploadActions11(c("VideoComposerAdBreakPrereviewPostMethod").SUBMIT_FOR_PREREVIEW);else c("VideoComposerDialogActions").submitForPrereview()};p.prototype.$VideoComposerDialogFooterUploadActions12=function(){if(this.$VideoComposerDialogFooterUploadActions10())this.$VideoComposerDialogFooterUploadActions13();else c("VideoComposerDialogActions").publishPost()};p.prototype.$VideoComposerDialogFooterUploadActions14=function(){if(this.$VideoComposerDialogFooterUploadActions10())this.$VideoComposerDialogFooterUploadActions15();else this.$VideoComposerDialogFooterUploadActions16()};p.prototype.$VideoComposerDialogFooterUploadActions17=function(){var q=c("ReactDOM").render(c("React").createElement(c("PostBackdateDialog.react"),{maxTime:Date.now()/m,minTime:this.props.minBackdateTime,onSubmit:c("VideoComposerDialogActions").backdateConfirm}),c("DOM").create("div"));q instanceof c("PostBackdateDialog.react")||j(0);q.show()};p.prototype.$VideoComposerDialogFooterUploadActions18=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogPremiereStore")]);var q=c("React").createElement(c("ScheduleLiveVideoDialog.react"),{broadcastID:undefined,canAddLiveAnnouncementThumbnail:false,description:this.props.description,initialPublishDate:undefined,isPageTarget:true,isPremiere:true,showCrosspostWarning:false,targetID:this.props.pageID,timezoneStr:this.$VideoComposerDialogFooterUploadActions19(),onSubmit:function r(s,t,u,v){return c("VideoComposerDialogActions").premiereConfirm(new Date(s*1e3),t,u)}});q=c("ReactDOM").render(q,c("ReactDOM").findDOMNode(this.refs.premiereDialogPlaceholder));if(q.show instanceof Function)q.show()};p.prototype.$VideoComposerDialogFooterUploadActions19=function(){return c("AutoScheduleUtils").getTimezoneString()};p.prototype.$VideoComposerDialogFooterUploadActions20=function(q){__p&&__p();var r=void 0,s=void 0;switch(q){case o.BACKDATE:case o.PUBLISH_NOW:case o.SCHEDULE:case o.PREMIERE:r=this.$VideoComposerDialogFooterUploadActions2;s=this.$VideoComposerDialogFooterUploadActions5;break;case o.SAVE_DRAFT:r=this.$VideoComposerDialogFooterUploadActions3;s=this.$VideoComposerDialogFooterUploadActions6;break;case o.AD_BREAK_SUBMIT_FOR_REVIEW:r=this.$VideoComposerDialogFooterUploadActions4;s=this.$VideoComposerDialogFooterUploadActions7;break;default:throw new Error("New footer action type not handled here!")}if(this.props.isShowVideoAndMissingType){c("VideoComposerDialogActions").highlightMissingVideoType(r);return}if(this.props.isMissingTitle){c("VideoComposerDialogActions").highlightTitleWithErrorTooltip(this.$VideoComposerDialogFooterUploadActions1,s);return}if(this.props.isTitleTooLong){c("VideoComposerDialogActions").highlightTitleTooLong();return}switch(q){case o.AD_BREAK_SUBMIT_FOR_REVIEW:this.$VideoComposerDialogFooterUploadActions9();break;case o.BACKDATE:this.$VideoComposerDialogFooterUploadActions17();break;case o.PUBLISH_NOW:this.$VideoComposerDialogFooterUploadActions12();break;case o.SAVE_DRAFT:this.$VideoComposerDialogFooterUploadActions8();break;case o.SCHEDULE:this.$VideoComposerDialogFooterUploadActions14();break;case o.PREMIERE:this.$VideoComposerDialogFooterUploadActions18();break;default:throw new Error("new footer action type not handled here!")}};p.prototype.$VideoComposerDialogFooterUploadActions11=function(q){c("VideoComposerDialogAdBreakActions").setPrereviewPostMethod(q);c("VideoComposerDialogAdBreakActions").setPrereviewDialog(true)};p.prototype.$VideoComposerDialogFooterUploadActions13=function(){this.$VideoComposerDialogFooterUploadActions11(c("VideoComposerAdBreakPrereviewPostMethod").PUBLISH_NOW)};p.prototype.$VideoComposerDialogFooterUploadActions15=function(){this.$VideoComposerDialogFooterUploadActions11(c("VideoComposerAdBreakPrereviewPostMethod").SCHEDULE_POST)};p.prototype.$VideoComposerDialogFooterUploadActions21=function(){return this.props.isPublishing||this.props.isSchedulingOrBackdating};p.prototype.$VideoComposerDialogFooterUploadActions22=function(){return this.props.disablePublish||this.props.isSavingAsDraft||this.$VideoComposerDialogFooterUploadActions21()||!this.props.bootloaded};p.prototype.$VideoComposerDialogFooterUploadActions23=function(){return!this.$VideoComposerDialogFooterUploadActions22()&&this.props.hasInsertedAdBreak&&this.props.isAdBreakPrereviewVisible};p.prototype.$VideoComposerDialogFooterUploadActions10=function(){return this.$VideoComposerDialogFooterUploadActions23()&&!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").AD_BREAK_PREREVIEW_DIALOG)};p.prototype.render=function(){var q=this.$VideoComposerDialogFooterUploadActions21(),r=this.$VideoComposerDialogFooterUploadActions22(),s=this.$VideoComposerDialogFooterUploadActions23(),t=c("React").createElement(c("XUIButton.react"),{className:"_2cpj _3-9a",href:"#",image:this.props.isSavingAsDraft?c("React").createElement(c("XUISpinner.react"),null):null,size:"xlarge",label:i._("Save as Draft"),labelIsHidden:this.props.isSavingAsDraft,onClick:function(){return this.$VideoComposerDialogFooterUploadActions20(o.SAVE_DRAFT)}.bind(this),disabled:r}),u=this.props.hasInsertedAdBreak?null:i._("To submit for review, enable ad breaks"),v=c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogAdBreakPrereviewButtonNux.react"),{contextRef:function(){return this.refs.adBreakPrereview}.bind(this),isVisible:this.props.isAdBreakPrereviewVisible}),c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({ref:"adBreakPrereview"},c("Tooltip").propsFor(u,"above"),{className:"_p2g _3-9a",onClick:function(){return this.$VideoComposerDialogFooterUploadActions20(o.AD_BREAK_SUBMIT_FOR_REVIEW)}.bind(this),href:"#",size:"xlarge",label:i._("Submit for Review"),disabled:!s}))),w=i._("Schedule"),x=i._("Backdate"),y=c("React").createElement(c("ReactXUIMenu"),{className:"_1qnj"},c("React").createElement(n,{onclick:function(){return this.$VideoComposerDialogFooterUploadActions20(o.PUBLISH_NOW)}.bind(this)},i._("Publish Now")),this.$VideoComposerDialogFooterUploadActions24(),c("React").createElement(n,{onclick:function(){return this.$VideoComposerDialogFooterUploadActions20(o.SCHEDULE)}.bind(this)},w),c("React").createElement(n,{onclick:function(){return this.$VideoComposerDialogFooterUploadActions20(o.BACKDATE)}.bind(this)},x)),z=c("React").createElement(c("PopoverMenu.react"),{className:"_3-9a",alignh:"right",position:"above",alignv:"baseline",menu:y,disabled:r},c("React").createElement(c("XUIPopoverButton.react"),{className:"_2cqv",haschevron:!q,href:"#",image:q?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null,use:"confirm",size:"xlarge",label:i._("Publish"),labelIsHidden:q,disabled:r}));return c("React").createElement("div",null,c("React").createElement("div",{ref:"premiereDialogPlaceholder"}),c("React").createElement(c("FlexLayout.react"),{direction:"horizontal"},this.props.boostedPostButtonConfig?c("React").createElement(c("ReactComposerBoostedPostLazyButton.react"),babelHelpers["extends"]({},this.props.boostedPostButtonConfig,{size:"xlarge",reactComposerID:this.props.composerID})):null,t,c("React").createElement("div",{ref:"adBreakPrereview"},this.props.isAdBreakPrereviewVisible?v:null),z),c("React").createElement(c("VideoComposerDialogSaveAsDraftPrompt.react"),{shown:this.props.saveAsDraftDialogShown}),c("React").createElement(c("VideoComposerReviewableBrandedContentDialog.react"),{shown:this.props.showReviewableBrandedContentConfirmationDialog}),c("React").createElement(c("VideoComposerDialogAdBreakPrereviewConfirmation.react"),{isDialogOpen:this.props.isAdBreakPrereviewDialogOpen,postMethod:this.props.adBreakPrereviewPostMethod,skipAndPublishNow:c("VideoComposerDialogActions").publishPost,skipAndSchedulePost:this.$VideoComposerDialogFooterUploadActions16}))};p.prototype.$VideoComposerDialogFooterUploadActions24=function(){if(!this.props.showPremiereOption)return null;var q=i._("Premiere");if(this.props.videoDuration&&this.props.videoDuration>=3*c("DateConsts").SEC_PER_MIN&&this.props.videoDuration<4*c("DateConsts").SEC_PER_HOUR)return c("React").createElement(n,{onclick:function(){return this.$VideoComposerDialogFooterUploadActions20(o.PREMIERE)}.bind(this)},q);var r=i._("Video premieres must be between three minutes and four hours long");return c("React").createElement(n,{disabled:true,title:r},q)};p.prototype.$VideoComposerDialogFooterUploadActions25=function(q,r){return c("React").createElement(c("XUIPopoverButton.react"),{size:"xlarge",use:"confirm",label:"menu",className:"_4z7l",labelIsHidden:true,disabled:q,haschevron:!r,image:r?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null})};f.exports=p}),null);
__d("SphericalDirectorComponentSources",["keyMirror"],(function a(b,c,d,e,f,g){var h=c("keyMirror")({CROSSPOST_DIALOG_V1:"",CROSSPOST_DIALOG_V2:"",EDIT_DIALOG_V1:"",EDIT_DIALOG_V2:"",PAGE_COMPOSER_V1:"",PAGE_COMPOSER_V2:"",STANDALONE:"",UNKNOWN:""});f.exports=h}),null);
__d("VideoComposerDialogRadioButton.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={hovered:false},this.$VideoComposerDialogRadioButton1=function(){this.setState({hovered:true})}.bind(this),this.$VideoComposerDialogRadioButton2=function(){this.setState({hovered:false})}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_2wzp"+(this.props.checked?" _2e9y":""),this.props.className),onClick:this.props.onSelect,onMouseEnter:this.$VideoComposerDialogRadioButton1,onMouseLeave:this.$VideoComposerDialogRadioButton2,role:"presentation"},c("React").createElement("div",{className:"_2e9z"+(this.state.hovered&&!this.props.checked?" _2e9-":"")+(this.props.checked?" _2e9y":"")}),c("React").createElement("div",{className:"_2wzq"},this.props.label))};f.exports=k}),null);
__d("VideoComposerDialogSphericalDirectorInfo.react",["cx","fbt","React","SphericalVideoExperiments"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={title:i._("Set Guide points"),subText:i._("Direct your audience's attention to the parts you want them to see")},k={title:i._("Overlay text and images"),subText:i._("Add more detail to each frame of your video")},l={title:i._("Overlay text"),subText:i._("Add more detail to each frame of your video")},m={title:i._("Overlay images"),subText:i._("Add more detail to each frame of your video")},n={title:i._("Preview your video"),subText:i._("Your final 360 video with pan to the guide points that you've set")};function o(q){return c("React").createElement("div",{className:"_1wfj"},c("React").createElement("div",{className:"_1wfn"},q.num,". ",q.titleText),c("React").createElement("div",{className:"_1wfo"},q.subText))}function p(){__p&&__p();var q=[];q.push(j);if(c("SphericalVideoExperiments").enableTextHotspots&&c("SphericalVideoExperiments").enableImageHotspots)q.push(k);else if(c("SphericalVideoExperiments").enableTextHotspots)q.push(l);else if(c("SphericalVideoExperiments").enableImageHotspots)q.push(m);q.push(n);var r=q.map(function(s,t){return c("React").createElement(o,{key:t,num:t+1,titleText:s.title,subText:s.subText})});return c("React").createElement("div",{className:"_1mtr"},c("React").createElement("div",{className:"_2fb1"}),c("React").createElement("div",{className:"_1mts"},c("React").createElement("div",{className:"_1wfp"},i._("Get Started")),r))}f.exports=p}),null);
__d("VideoComposerDialogSphericalDirectorSection.react",["cx","fbt","ComposerVideoUploadSphericalControlsTabContainer.react","FlexLayout.react","React","ReactComposerContextProviderMixin","SphericalDirectorComponentSources","VideoComposerDialogMode","VideoComposerDialogRadioButton.react","VideoComposerDialogSphericalDirectorInfo.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").createClass({displayName:"SphericalControlsContainerWrapper",mixins:[c("ReactComposerContextProviderMixin")],render:function n(){__p&&__p();var o=void 0;switch(this.props.dialogMode){case c("VideoComposerDialogMode").VIDEO_UPLOAD:o=c("SphericalDirectorComponentSources").PAGE_COMPOSER_V2;break;case c("VideoComposerDialogMode").VIDEO_EDIT:o=c("SphericalDirectorComponentSources").EDIT_DIALOG_V2;break;case c("VideoComposerDialogMode").VIDEO_CROSSPOST:o=c("SphericalDirectorComponentSources").CROSSPOST_DIALOG_V2;break;default:o=c("SphericalDirectorComponentSources").UNKNOWN;break}return c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalControlsTabContainer.react"),{componentSource:o,shown:true,showOmnistabSection:this.props.showOmnistabSection,startVisible:true,targetID:this.props.contextConfig.targetID,videoFile:this.props.videoFile,videoID:this.props.videoID}))}});j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=i._("360\u00b0 Mode"),o=null;switch(this.props.dialogMode){case c("VideoComposerDialogMode").VIDEO_CROSSPOST:o=this.props.videoAssetID;break;case c("VideoComposerDialogMode").VIDEO_EDIT:o=this.props.videoID;break}var p=this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD,q=!!this.props.contextConfig&&(this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD?!!this.props.videoFile:!!o),r=q&&this.props.spherical;return c("React").createElement("div",null,c("React").createElement(c("FlexLayout.react"),{className:"_30d3",align:"start",justify:"all"},c("React").createElement("div",{className:"_21bg"},c("React").createElement("div",{className:"_30d5"},i._("360 Director Tools")),!r&&c("React").createElement("div",{className:"_21bh"},i._("During playback the viewer has control of the viewing direction like a panorama."))),p&&c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.spherical,className:"_30d6",label:n,onSelect:function(){return this.props.ontoggleSpherical(!this.props.spherical)}.bind(this)})),r?c("React").createElement(l,{contextConfig:this.props.contextConfig,dialogMode:this.props.dialogMode,showOmnistabSection:this.props.showOmnistabSection,videoFile:this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD?this.props.videoFile:null,videoID:o}):c("React").createElement(c("VideoComposerDialogSphericalDirectorInfo.react"),null))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("AdBreakStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ENABLED:"enabled",DELETED:"deleted",DISABLED:"disabled"})}),null);
__d("PrereviewVideoBrandSafetyStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UNKNOWN:"unknown",APPROVED:"approved",REJECTED:"rejected",PENDING_COMMON_REVIEW:"pending_common_review",PENDING_AUDIT_REVIEW:"pending_audit_review",NOT_OPTED_FOR_PREREVIEW:"not_opted_for_prereview"})}),null);
__d("AdBreakPageOnboardingConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SIGN_TOS_STEP:"sign_tos_step",SETUP_PAYMENT_STEP:"setup_payment_step",TAX_FORM_STEP:"tax_form_step",COMPLETED_STEP:"completed_step",ADD_TAX_FORM_UPDATE:"add_tax_form_update",ADD_PAYOUT_ACCOUNT_UPDATE:"add_payout_account_update",SIGN_TOS_UPDATE:"sign_tos_update",FROM_COMPOSER:"from_composer",FROM_PUB_TOOLS:"from_pub_tools",FROM_DIRECT_LINK:"from_direct_link"})}),null);
__d("AdBreakPageOnboardingType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_ENTRY_POINT:"composer_entry_point",PUBTOOLS_ENTRY_POINT:"pubtool_entry_point",SIGN_TOS_UPDATE:"sign_tos_update",ADD_PAYOUT_ACCOUNT_UPDATE:"add_payout_account_update",ONBOARDING_COMPLETE:"onboarding_complete",PAGE_ONBOARDING_AD_BREAK_ELIGIBILITY_NOTIFICATION:"page_onboarding_ad_break_eligibility_notification",SIGN_TOS_UPDATE_ERROR:"sign_tos_update_error",ADD_PAYOUT_ACCOUNT_UPDATE_ERROR:"add_payout_account_update_error"})}),null);
__d("AdBreakPageOnboardingTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:AdBreakPageOnboardingLoggerConfig",this.$AdBreakPageOnboardingTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:AdBreakPageOnboardingLoggerConfig",this.$AdBreakPageOnboardingTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$AdBreakPageOnboardingTypedLogger1={};return this};h.prototype.updateData=function(j){this.$AdBreakPageOnboardingTypedLogger1=babelHelpers["extends"]({},this.$AdBreakPageOnboardingTypedLogger1,j);return this};h.prototype.setAdBreakPageOnboardingEventType=function(j){this.$AdBreakPageOnboardingTypedLogger1.ad_break_page_onboarding_event_type=j;return this};h.prototype.setEligibilitySource=function(j){this.$AdBreakPageOnboardingTypedLogger1.eligibility_source=j;return this};h.prototype.setExceptionMessage=function(j){this.$AdBreakPageOnboardingTypedLogger1.exception_message=j;return this};h.prototype.setFinancialID=function(j){this.$AdBreakPageOnboardingTypedLogger1.financial_id=j;return this};h.prototype.setNotifSubtype=function(j){this.$AdBreakPageOnboardingTypedLogger1.notif_subtype=j;return this};h.prototype.setPageID=function(j){this.$AdBreakPageOnboardingTypedLogger1.page_id=j;return this};h.prototype.setPayoutAlreadyExists=function(j){this.$AdBreakPageOnboardingTypedLogger1.payout_already_exists=j;return this};var i={ad_break_page_onboarding_event_type:true,eligibility_source:true,exception_message:true,financial_id:true,notif_subtype:true,page_id:true,payout_already_exists:true};f.exports=h}),null);
__d("XAdBreakPageOnboardingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/instream_video/onboarding/pages/",{creator_id:{type:"FBID",required:true},entrypoint:{type:"Enum",enumType:1}})}),null);
__d("XVideoComposerDialogBootloadAdBreaksTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_ad_breaks/",{target_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogEditAdBreaksTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/ad_breaks/",{target_id:{type:"FBID",required:true},video_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogAdBreakUtils",["fbt","Promise","ActorURI","AdBreakPageOnboardingConstants","AdBreakPageOnboardingType","AdBreakPageOnboardingTypedLogger","AsyncRequest","AsyncResponse","SimpleXUIDialog","VideoComposerDialogAdBreakActions","XAdBreakPageOnboardingController","XVideoComposerDialogBootloadAdBreaksTabController","XVideoComposerDialogEditAdBreaksTabController","goURI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(m){var n=c("XVideoComposerDialogBootloadAdBreaksTabController").getURIBuilder().setFBID("target_id",m).getURI(),o=c("ActorURI").create(n,m);new(c("AsyncRequest"))(o).setHandler(function(p){c("VideoComposerDialogAdBreakActions").bootloadParameters(p.payload)}).send()},j=function j(m){var n=c("XVideoComposerDialogEditAdBreaksTabController").getURIBuilder().setFBID("target_id",m.actorID).setFBID("video_id",m.videoID).getURI(),o=c("ActorURI").create(n,m.actorID);return new(c("Promise"))(function(p,q){new(c("AsyncRequest"))(o).setHandler(function(r){p(r)}).send()}).then(function(p){c("VideoComposerDialogAdBreakActions").fetchEditParameters(p.payload)})},k=function k(m){c("SimpleXUIDialog").showConfirm(h._("If holdout testing is currently running for this video, turning off ad breaks will immediately end the holdout test and disable holdout testing permanently for this video."),h._("Turn Off Ad Breaks?"),function(n){return n&&m()})},l=function l(m){new(c("AdBreakPageOnboardingTypedLogger"))().setPageID(m).setAdBreakPageOnboardingEventType(c("AdBreakPageOnboardingType").COMPOSER_ENTRY_POINT).log();var n=c("XAdBreakPageOnboardingController").getURIBuilder().setFBID("creator_id",m).setEnum("entrypoint",c("AdBreakPageOnboardingConstants").FROM_COMPOSER).getURI();c("goURI")(n,true)};f.exports={beginBootloadingAdBreaksTab:i,fetchEditParameters:j,showHoldoutTestDisabledConfirmation:k,startPageOnboarding:l}}),null);
__d("VideoComposerDialogAdBreakStore",["Promise","AdBreakStatus","DateConsts","FluxReduceStore","immutable","PagesSettingsInstreamAdsBlockListActions","PrereviewVideoBrandSafetyStatus","PagesSettingsInstreamAdsBlockListStore","VideoComposerDialogActionTypes","VideoComposerDialogAdBreakActions","VideoComposerDialogAdBreakUtils","VideoComposerDialogDispatcher","VideoPlayerController","flattenPHPQueryData","generateVideoThumbnails"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=1e3,m=44,n=60,o=78,p={adBreakPrereviewPostMethod:null,adBreakPrereviewStatus:c("PrereviewVideoBrandSafetyStatus").NOT_OPTED_FOR_PREREVIEW,adBreaksDisabled:false,currentAdBreakTimeOffset:0,currentPreviewIndex:null,hasGapRule:true,holdoutTestEnabled:false,holdoutTestPublicMetadata:{isEligibleCreator:false,isExpired:false,isNuxVisible:false,isStarted:false},holdoutTestRevenueLossThresholdInCents:1e4,insertedAdBreaks:c("immutable").List(),isAdBreakAutoAdjustmentEnabled:false,isAdBreakAutoInsertionEnabled:false,isAdBreakInsertionRedesignV1:false,isAdBreakInsertionRedesignV2:false,isAdBreakPrereviewDialogOpen:false,isAdBreakPrereviewVisible:false,isAdBreaksTabVisible:false,isAutoInsertionEnabledOnProfile:false,isBrandedContentVideo:false,isDemonetized:false,isPageOnboardingVisible:false,serverSideDisabledReasons:c("immutable").List(),videoRightsAgreed:false,vpc:null};h=babelHelpers.inherits(q,c("immutable").Record(p));i=h&&h.prototype;function q(){h.apply(this,arguments)}j=babelHelpers.inherits(r,c("FluxReduceStore"));k=j&&j.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.__moduleID=f.id,t}r.prototype.getInitialState=function(){return new q()};r.prototype.reduce=function(s,t){__p&&__p();switch(t.type){case c("VideoComposerDialogActionTypes").FILE_ADDED:return this.$VideoComposerDialogAdBreakStore1(s);case c("VideoComposerDialogActionTypes").RESET_COMPOSER:return this.$VideoComposerDialogAdBreakStore2();case c("VideoComposerDialogActionTypes").AGREE_VIDEO_RIGHTS:return this.$VideoComposerDialogAdBreakStore3(s);case c("VideoComposerDialogActionTypes").BOOTLOAD_AD_BREAK_PARAMETERS:return this.$VideoComposerDialogAdBreakStore4(s,t.data);case c("VideoComposerDialogActionTypes").DELETE_AD_BREAK:return this.$VideoComposerDialogAdBreakStore5(s,t.adBreakIndex);case c("VideoComposerDialogActionTypes").FETCH_AD_BREAK_EDIT_PARAMETERS:return this.$VideoComposerDialogAdBreakStore6(s,t.data);case c("VideoComposerDialogActionTypes").INSERT_AD_BREAK:return this.$VideoComposerDialogAdBreakStore7(s);case c("VideoComposerDialogActionTypes").SET_CURRENT_AD_BREAK:return this.$VideoComposerDialogAdBreakStore8(s,t.adBreakTimeOffset);case c("VideoComposerDialogActionTypes").SET_CURRENT_PREVIEW_INDEX:return this.$VideoComposerDialogAdBreakStore9(s,t.currentPreviewIndex);case c("VideoComposerDialogActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:return this.$VideoComposerDialogAdBreakStore10(s,t.isAdBreakAutoAdjustmentEnabled);case c("VideoComposerDialogActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:return this.$VideoComposerDialogAdBreakStore11(s,t.isAdBreakAutoInsertionEnabled);case c("VideoComposerDialogActionTypes").SET_IS_BRANDED_CONTENT_VIDEO:return this.$VideoComposerDialogAdBreakStore12(s,t.isBrandedContentVideo);case c("VideoComposerDialogActionTypes").START_PAGE_ONBOARDING:return this.$VideoComposerDialogAdBreakStore13(s,t.pageID);case c("VideoComposerDialogActionTypes").UPDATE_AD_BREAK_STATUS:return this.$VideoComposerDialogAdBreakStore14(s,t.adBreaksDisabled);case c("VideoComposerDialogActionTypes").UPDATE_HOLDOUT_TEST_STATUS:return this.$VideoComposerDialogAdBreakStore15(s,t.enabled);case c("VideoComposerDialogActionTypes").UPDATE_THUMBNAIL_URL:return this.$VideoComposerDialogAdBreakStore16(s,t.adBreakTimeOffset,t.thumbnailURL);case c("VideoComposerDialogActionTypes").UPDATE_VPC:return this.$VideoComposerDialogAdBreakStore17(s,t.vpc);case c("VideoComposerDialogActionTypes").SET_PREREVIEW_DIALOG:return s.set("isAdBreakPrereviewDialogOpen",t.isAdBreakPrereviewDialogOpen);case c("VideoComposerDialogActionTypes").SET_PREREVIEW_POST_METHOD:return s.set("adBreakPrereviewPostMethod",t.prereviewPostMethod);case c("VideoComposerDialogActionTypes").SUBMIT_FOR_PREREVIEW:return s.set("isAdBreakPrereviewDialogOpen",false);default:return s}};r.prototype.getPostRequestDataToSend=function(){__p&&__p();var s=this.getState(),t=s.adBreaksDisabled||s.isBrandedContentVideo,u=s.insertedAdBreaks.map(function(y){return{time_offset:y.timeOffset*c("DateConsts").MS_PER_SEC,status:t?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED}}).toArray(),v=c("PagesSettingsInstreamAdsBlockListStore").getComposerBlockListIdsToApply(),w=s.holdoutTestEnabled&&!t&&u.length>0,x={};x.ad_breaks=u;x.ad_breaks_experiment_revenue_loss_threshold=s.holdoutTestRevenueLossThresholdInCents;x.enable_ad_breaks_experiment=w;if(v){x.ad_breaks_block_lists=v;x.has_ad_breaks_block_lists=true}x.should_auto_adjust_manual_ad_breaks=s.isAdBreakAutoAdjustmentEnabled;x.should_auto_insert_ad_breaks=s.isAdBreakAutoInsertionEnabled&&!s.adBreaksDisabled;return c("Promise").resolve(x)};r.prototype.getEditRequestDataToSend=function(){var s=this.getPostRequestDataToSend();return s.then(function(t){return c("flattenPHPQueryData")(t)})};r.prototype.$VideoComposerDialogAdBreakStore1=function(s){return s.merge({adBreaksDisabled:p.adBreaksDisabled||s.isAdBreakInsertionRedesignV2&&!s.isAutoInsertionEnabledOnProfile,currentAdBreakTimeOffset:p.currentAdBreakTimeOffset,currentPreviewIndex:p.currentPreviewIndex,insertedAdBreaks:p.insertedAdBreaks,videoRightsAgreed:p.videoRightsAgreed||s.isAdBreakInsertionRedesignV2,vpc:p.vpc})};r.prototype.$VideoComposerDialogAdBreakStore2=function(){return this.getInitialState()};r.prototype.$VideoComposerDialogAdBreakStore3=function(s){s=s.set("videoRightsAgreed",true);return s};r.prototype.$VideoComposerDialogAdBreakStore4=function(s,t){__p&&__p();var u=arguments.length<=2||arguments[2]===undefined?null:arguments[2];c("PagesSettingsInstreamAdsBlockListActions").initializeBlockLists(t.pageID,u?[u]:null);s=s.set("holdoutTestEnabled",t.holdoutTestPublicMetadata.isStarted);s=s.set("holdoutTestPublicMetadata",t.holdoutTestPublicMetadata);s=s.set("serverSideDisabledReasons",c("immutable").List(t.serverSideDisabledReasons));s=s.set("hasGapRule",t.hasGapRule);s=s.set("isAdBreakAutoAdjustmentEnabled",t.isAdBreakInsertionRedesignV1||t.isAdBreakInsertionRedesignV2);s=s.set("isAdBreakAutoInsertionEnabled",t.isAdBreakInsertionRedesignV2);s=s.set("isAdBreakInsertionRedesignV1",t.isAdBreakInsertionRedesignV1);s=s.set("isAdBreakInsertionRedesignV2",t.isAdBreakInsertionRedesignV2);s=s.set("isAdBreakPrereviewVisible",t.isAdBreakPrereviewVisible);s=s.set("isAdBreaksTabVisible",t.isAdBreaksTabVisible);s=s.set("isPageOnboardingVisible",t.isPageOnboardingVisible);s=s.set("isAutoInsertionEnabledOnProfile",t.isAutoInsertionEnabledOnProfile);s=s.set("videoRightsAgreed",t.isAdBreakInsertionRedesignV2);s=s.set("adBreaksDisabled",t.isAdBreakInsertionRedesignV2&&!t.isAutoInsertionEnabledOnProfile);return s};r.prototype.$VideoComposerDialogAdBreakStore5=function(s,t){s=s.set("insertedAdBreaks",s.insertedAdBreaks.splice(t,1));return s};r.prototype.$VideoComposerDialogAdBreakStore6=function(s,t){__p&&__p();s=this.$VideoComposerDialogAdBreakStore4(s,t,t.videoAssetID);s=s.set("adBreaksDisabled",t.adBreaksDisabled);s=s.set("adBreakPrereviewStatus",t.adBreakPrereviewStatus);s=s.set("insertedAdBreaks",c("immutable").List(t.insertedAdBreaks));s=s.set("isAdBreakAutoAdjustmentEnabled",t.isAdBreakAutoAdjustmentEnabled);s=s.set("isAdBreakAutoInsertionEnabled",t.isAdBreakAutoInsertionEnabled);s=s.set("isDemonetized",t.isDemonetized);s=s.set("videoRightsAgreed",s.videoRightsAgreed||s.insertedAdBreaks.count()>0);this.$VideoComposerDialogAdBreakStore18(s);return s};r.prototype.$VideoComposerDialogAdBreakStore7=function(s){if(s.insertedAdBreaks.findIndex(function(t){return t.timeOffset===s.currentAdBreakTimeOffset})>=0)return s;s=s.set("insertedAdBreaks",s.insertedAdBreaks.push({status:s.adBreaksDisabled?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED,thumbnailURL:null,timeOffset:s.currentAdBreakTimeOffset}).sort(function(t,u){return t.timeOffset-u.timeOffset}));this.$VideoComposerDialogAdBreakStore18(s);return s};r.prototype.$VideoComposerDialogAdBreakStore8=function(s,t){var u=Math.round(t*l)/l;s=s.set("currentAdBreakTimeOffset",u);return s};r.prototype.$VideoComposerDialogAdBreakStore9=function(s,t){s=s.set("currentPreviewIndex",t);return s};r.prototype.$VideoComposerDialogAdBreakStore10=function(s,t){s=s.set("isAdBreakAutoAdjustmentEnabled",t);return s};r.prototype.$VideoComposerDialogAdBreakStore11=function(s,t){s=s.set("isAdBreakAutoInsertionEnabled",t);return s};r.prototype.$VideoComposerDialogAdBreakStore12=function(s,t){s=s.set("isBrandedContentVideo",t);return s};r.prototype.$VideoComposerDialogAdBreakStore13=function(s,t){c("VideoComposerDialogAdBreakUtils").startPageOnboarding(t);return s};r.prototype.$VideoComposerDialogAdBreakStore14=function(s,t){s=s.set("adBreaksDisabled",t);s=s.set("insertedAdBreaks",s.insertedAdBreaks.map(function(u){u.status=t?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED;return u}));return s};r.prototype.$VideoComposerDialogAdBreakStore15=function(s,t){s=s.set("holdoutTestEnabled",t);return s};r.prototype.$VideoComposerDialogAdBreakStore16=function(s,t,u){var v=s.insertedAdBreaks.findIndex(function(w){return w.timeOffset===t});if(v<0)return s;return s.updateIn(["insertedAdBreaks",v],function(w){return babelHelpers["extends"]({},w,{thumbnailURL:u})})};r.prototype.$VideoComposerDialogAdBreakStore17=function(s,t){s=s.set("vpc",t);this.$VideoComposerDialogAdBreakStore18(s);return s};r.prototype.$VideoComposerDialogAdBreakStore18=function(s){__p&&__p();var t,u=s.vpc,v=s.insertedAdBreaks;if(u&&u.getVideoNodeNullable()){var w=function w(x){var y=v.get(x);if(y.thumbnailURL!==null)return"continue";c("generateVideoThumbnails")(u.getVideoNode(),s.isAdBreakInsertionRedesignV2?o:n,s.isAdBreakInsertionRedesignV2?m:n,1,"cover",y.timeOffset).done(function(z){c("VideoComposerDialogAdBreakActions").updateThumbnailURL(y.timeOffset,z.thumbnails[0].getURL())},function(z){})};for(var x=0;x<v.count();x++){var t=w(x);if(t==="continue")continue}}};f.exports=new r(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogAdBreaksTabConfig",["ix","fbt","Promise","VideoComposerDialogAdBreakContainer.react","VideoComposerDialogAdBreaksTabContainer.react","VideoComposerDialogTab","VideoComposerDialogAdBreakStore","VideoComposerDialogAdBreakUtils","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").AD_BREAKS,glyphSelected:h("401205"),glyphUnselected:h("401215"),title:i._("Ad Breaks"),defaultDescription:null,tabContainer:c("VideoComposerDialogAdBreaksTabContainer.react"),bodyContainer:c("VideoComposerDialogAdBreakContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogAdBreakStore").getEditRequestDataToSend()},getPostRequestDataToSend:function k(){return c("VideoComposerDialogAdBreakStore").getPostRequestDataToSend()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("VideoComposerDialogAdBreakUtils").fetchEditParameters(l)}};f.exports=j}),null);
__d("AnyTokenSearchSource",["AbstractSearchSource","SearchableEntry"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this.$AnyTokenSearchSource1=k||this.$AnyTokenSearchSource1}j.prototype.$AnyTokenSearchSource1=function(k){"use strict";return new(c("SearchableEntry"))({uniqueID:k,title:k})};j.prototype.searchImpl=function(k,l,m){"use strict";var n=[];if(k&&k.length)n.push(this.$AnyTokenSearchSource1(k));l(n,k)};f.exports=j}),null);
__d("InterestTaxonomyTypeaheadAppType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIDEO_CREATION:1})}),null);
__d("VideoComposerDialogBasicActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_EDIT_PARAMS,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},i=function i(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_TAB_PARAMETERS,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},j=function j(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_DEFAULT_TAB,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},k=function k(){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_CROSSPOST_TO_PARENT};c("VideoComposerDialogDispatcher").dispatch(s)},l=function l(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_CONTENT_TAGS,tags:s};c("VideoComposerDialogDispatcher").dispatch(t)},m=function m(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_DESCRIPTION_EDITOR_STATE,editorState:s};c("VideoComposerDialogDispatcher").dispatch(t)},n=function n(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_PLAYLIST_IDS,playlistIDs:s};c("VideoComposerDialogDispatcher").dispatch(t)},o=function o(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_SEASON_ID,seasonID:s};c("VideoComposerDialogDispatcher").dispatch(t)},p=function p(s,t){var u={type:c("VideoComposerDialogActionTypes").UPDATE_VIDEO_LIST_OPTIONS,playlistOptions:s,seasonOptions:t};c("VideoComposerDialogDispatcher").dispatch(u)},q=function q(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_VIDEO_PREVIEW_CONTROLLER,videoPreviewController:s};c("VideoComposerDialogDispatcher").dispatch(t)},r=function r(){var s={type:c("VideoComposerDialogActionTypes").USER_PLAYED_VIDEO_PREVIEW};c("VideoComposerDialogDispatcher").dispatch(s)};f.exports={bootloadDefaultEditParameters:h,bootloadDefaultTabParameters:i,bootloadCrosspostDefaultTabParameters:j,toggleCrosspostToParent:k,updateContentTags:l,updateDescriptionEditorState:m,updatePlaylistIDs:n,updateSeasonID:o,updateVideoListOptions:p,updateVideoPreviewController:q,userPlayedVideoPreview:r}}),null);
__d("VideoComposerDialogSphericalDirectorActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(m){var n={type:c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_CROSSPOST_PARAMETERS,data:m};c("VideoComposerDialogDispatcher").dispatch(n)},i=function i(m){var n={type:c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS,data:m};c("VideoComposerDialogDispatcher").dispatch(n)},j=function j(m){var n={type:c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS,data:m};c("VideoComposerDialogDispatcher").dispatch(n)},k=function k(m){var n={type:c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_CONTEXT_CONFIG,data:m};c("VideoComposerDialogDispatcher").dispatch(n)},l=function l(m){var n={type:c("VideoComposerDialogActionTypes").TOGGLE_SPHERICAL,data:m};c("VideoComposerDialogDispatcher").dispatch(n)};f.exports={bootloadCrosspostParameters:h,bootloadEditParameters:i,bootloadUploadParameters:j,bootloadSphericalContextConfig:k,toggleSpherical:l}}),null);
__d("XInterestTaxonomyTypeaheadDataSourceController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/datasource/search/interest_taxonomy/",{value:{type:"String"},filter_archived_interests:{type:"Bool",defaultValue:true},app:{type:"Enum",defaultValue:1,enumType:0}})}),null);
__d("XShowPagesVideoListsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/showpages/video_lists/",{page_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogBootloadDefaultTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_default/",{target_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogCrosspostBootloadDefaultController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/crosspost/bootload_default/",{video_asset_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogEditDefaultTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/default/",{video_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogBasicUtils",["fbt","Promise","ReactComposerTaggerStore","ActorURI","AnyTokenSearchSource","AsyncRequest","CompositeSearchSource","EditorState","InterestTaxonomyTypeaheadAppType","MentionsInputUtility","ReactComposerTaggerActions","ReactComposerTaggerType","SearchableEntry","VideoComposerDialogBasicActions","VideoComposerDialogSphericalDirectorActions","WebAsyncSearchSource","XInterestTaxonomyTypeaheadDataSourceController","XShowPagesVideoListsController","XVideoComposerDialogBootloadDefaultTabController","XVideoComposerDialogCrosspostBootloadDefaultController","XVideoComposerDialogEditDefaultTabController","getMentionsInputDecorator","isEmpty"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();c("ReactComposerTaggerStore");var i=function i(t){var u=c("XVideoComposerDialogBootloadDefaultTabController").getURIBuilder().setFBID("target_id",t).getURI(),v=c("ActorURI").create(u,t);new(c("AsyncRequest"))(v).send();m(t)},j=function j(t,u){var v=c("XVideoComposerDialogCrosspostBootloadDefaultController").getURIBuilder().setFBID("video_asset_id",u).getURI(),w=c("ActorURI").create(v,t);return new(c("AsyncRequest"))(w).exec()},k=function k(t,u){if(u&&!c("isEmpty")(u))return t.concat(u.map(function(v){return new(c("SearchableEntry"))({uniqueID:v,title:v,auxiliaryData:{isFreeForm:true}})}));return t},l=function l(t){var u=c("XVideoComposerDialogEditDefaultTabController").getURIBuilder().setFBID("video_id",t.videoID).getURI(),v=c("ActorURI").create(u,t.actorID);return new(c("Promise"))(function(w,x){new(c("AsyncRequest"))(v).setHandler(function(y){w(y)}).send()})},m=function m(t){var u=c("XShowPagesVideoListsController").getURIBuilder().setFBID("page_id",t).getURI();new(c("AsyncRequest"))(u).setHandler(function(v){var w=v.payload.seasonOptions||{},x=v.payload.playlistOptions||{};c("VideoComposerDialogBasicActions").updateVideoListOptions(x,w)}).send()},n=function n(t){if(t.length<=0)return[];return t.filter(function(u){return!u.getAuxiliaryData().isFreeForm}).map(function(u){return u.getUniqueID()})},o=function o(t){__p&&__p();var u={},v=c("ReactComposerTaggerStore").getTaggerData(t,c("ReactComposerTaggerType").PEOPLE)||[],w=v.map(function(F){return F.getUniqueID()});Object.assign(u,{tags:w});var x=c("ReactComposerTaggerStore").getTaggerData(t,c("ReactComposerTaggerType").LOCATION)||{};x=x?x.place:{};var y=x?x.getUniqueID():null,z=x&&!x.getUniqueID()?x.getTitle():null;if(y)Object.assign(u,{place_id:y});else if(z)Object.assign(u,{place_name:z});var A=c("ReactComposerTaggerStore").getTaggerData(t,c("ReactComposerTaggerType").BACKDATE);if(A.year)Object.assign(u,{backtime_year:A.year});if(A.month)Object.assign(u,{backtime_month:A.month});if(A.day)Object.assign(u,{backtime_day:A.day});if(A.hour)Object.assign(u,{backtime_hour:A.hour});if(A.minute)Object.assign(u,{backtime_minute:A.minute});var B=c("ReactComposerTaggerStore").getTaggerData(t,c("ReactComposerTaggerType").SPONSOR)||{},C={directShareStatus:B.directShareStatus,sponsorRelationship:B.sponsorRelationship,sponsors:[]};(B.sponsors||[]).map(function(F){C.sponsors.push(F.getUniqueID())});if(C&&C.sponsors)Object.assign(u,{sponsor_tags:C.sponsors,direct_share_status:C.directShareStatus,sponsor_relationship:C.sponsorRelationship});var D=c("ReactComposerTaggerStore").getTaggerData(t,c("ReactComposerTaggerType").PRODUCT)||[],E=D.map(function(F){return F.getUniqueID()});if(E)Object.assign(u,{product_tags:E});return u},p=function p(){var t=c("XInterestTaxonomyTypeaheadDataSourceController").getURIBuilder().setEnum("app",c("InterestTaxonomyTypeaheadAppType").VIDEO_CREATION).getURI();return new(c("CompositeSearchSource"))([new(c("WebAsyncSearchSource"))({queryRequests:[{uri:t}]}),new(c("AnyTokenSearchSource"))(function(u){var v=h._("Add a new tag \"{free form tag}\"",[h._param("free form tag",u)]);return new(c("SearchableEntry"))({uniqueID:u,title:v,auxiliaryData:{isFreeForm:true}})})])},q=function q(t){var u=c("MentionsInputUtility").createFromTextWithMentions(t,c("getMentionsInputDecorator")());c("EditorState").moveFocusToEnd(u);return u},r=function r(t){if(t.length<=0)return[];return t.filter(function(u){return u.getAuxiliaryData().isFreeForm}).map(function(u){return u.getUniqueID()})},s=function s(t,u,v,w,x,y){__p&&__p();c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(t,c("ReactComposerTaggerType").PEOPLE,u);v=v?new(c("SearchableEntry"))(v):null;v=v?{place:v,implicitLocation:{}}:null;if(v)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(t,c("ReactComposerTaggerType").LOCATION,v);if(w)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(t,c("ReactComposerTaggerType").BACKDATE,w);if(x)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(t,c("ReactComposerTaggerType").SPONSOR,x);if(y)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(t,c("ReactComposerTaggerType").PRODUCT,y)};f.exports={beginBootloadingDefaultTab:i,beginBootloadingCrosspostDefaultTab:j,bootloadDefaultTab:function t(u){c("VideoComposerDialogBasicActions").bootloadDefaultTabParameters(u);c("VideoComposerDialogSphericalDirectorActions").bootloadSphericalContextConfig(u.composerConfig.contextConfig)},bootloadCrosspostDefaultTab:function t(u){c("VideoComposerDialogBasicActions").bootloadCrosspostDefaultTabParameters(u)},bootloadDefaultEditParams:function t(u){c("VideoComposerDialogBasicActions").bootloadDefaultEditParameters(u)},convertVideoTagsToEntryArray:k,fetchDefaultEditParams:l,fetchVideoListOptions:function t(u){m(u)},getComposerTaggerData:o,getContentTagEntryIDs:n,getContentTagSearchSource:p,getEditorStateForText:q,getFreeFormContentTags:r,setComposerTaggerData:s}}),null);
__d("VideoComposerDialogBasicTabConfig",["ix","fbt","React","SimpleNUXMessageTypes","VideoComposerDialogBasicContainer.react","VideoComposerDialogBasicStore","VideoComposerDialogBasicTabContainer.react","VideoComposerDialogBasicUtils","VideoComposerDialogTab","XUIText.react","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").BASIC,glyphSelected:h("401220"),glyphUnselected:h("401227"),title:i._("Video Details"),defaultDescription:i._("Add details to your video and create your video post."),tabContainer:c("VideoComposerDialogBasicTabContainer.react"),bodyContainer:c("VideoComposerDialogBasicContainer.react"),getCrosspostRequestDataToSend:function k(){return c("VideoComposerDialogBasicStore").getCrosspostRequestDataToSend()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogBasicStore").getEditRequestDataToSend()},getPostRequestDataToSend:function k(){return c("VideoComposerDialogBasicStore").getPostRequestDataToSend()},fetchCrosspostData:function k(l){return c("VideoComposerDialogBasicUtils").beginBootloadingCrosspostDefaultTab(l.actorID,l.videoAssetID)},fetchEditPostData:function k(l){return c("VideoComposerDialogBasicUtils").fetchDefaultEditParams(l)},nuxMessage:c("SimpleNUXMessageTypes").VIDEO_COMPOSER_V2_INTRO,nuxWidth:290,renderNuxMessage:function k(){return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{display:"block",size:"header4"},i._("Welcome to the New Video Uploader")),c("React").createElement(c("XUIText.react"),{size:"meta1"},i._("Access all of the tools you need to upload your video in one place.")))}};f.exports=j}),null);
__d("VideoComposerDialogCaptionsTabConfig",["ix","fbt","Promise","VideoComposerDialogCaptionEditorMasterContainer.react","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabContainer.react","VideoComposerDialogTab","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={key:c("VideoComposerDialogTab").CAPTIONS,glyphSelected:h("401199"),glyphUnselected:h("401202"),title:i._("Subtitles & Captions(CC)"),defaultDescription:i._("Add subtitles in multiple languages to your video."),tabContainer:c("VideoComposerDialogCaptionsTabContainer.react"),bodyContainer:c("VideoComposerDialogCaptionEditorMasterContainer.react"),getCrosspostRequestDataToSend:function k(){return c("VideoComposerDialogCaptionsStore").getCrosspostPostData()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogCaptionsStore").getPostDataForEdit()},getPostRequestDataToSend:function k(){return c("VideoComposerDialogCaptionsStore").getPostRequestDataToSend()},fetchCrosspostData:function k(l){if(l.showCaptionsTab)return c("VideoComposerDialogCaptionEditorUtils").fetchCrosspostData(l);else return c("Promise").resolve()},fetchEditPostData:function k(l){if(l.showCaptionsTab)return c("VideoComposerDialogCaptionEditorUtils").fetchEditData(l);return c("Promise").resolve()}};f.exports=j}),null);
__d("XVideoComposerDialogBootloadDistributionTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_distribution_tab/",{})}),null);
__d("XVideoComposerDialogBootloadEditDistributionTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/distribution/",{video_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogDistributionUtils",["ActorURI","AsyncRequest","VideoComposerDialogDistributionActions","XVideoComposerDialogBootloadDistributionTabController","XVideoComposerDialogBootloadEditDistributionTabController"],(function a(b,c,d,e,f,g){"use strict";var h=function h(j){var k=c("XVideoComposerDialogBootloadDistributionTabController").getURIBuilder().getURI(),l=c("ActorURI").create(k,j);new(c("AsyncRequest"))(l).setHandler(function(m){c("VideoComposerDialogDistributionActions").bootloadTab(m.payload)}).send()},i=function i(j,k){var l=c("XVideoComposerDialogBootloadEditDistributionTabController").getURIBuilder().setFBID("video_id",k).getURI(),m=c("ActorURI").create(l,j);return new(c("AsyncRequest"))().setURI(m).exec().then(function(n){return c("VideoComposerDialogDistributionActions").bootloadTabForEdit(n.payload)})};f.exports={beginBootloadingDistributionTab:h,bootloadEditDistributionTab:i}}),null);
__d("VideoComposerDialogDistributionTabConfig",["ix","fbt","Promise","VideoComposerDialogDistributionContainer.react","VideoComposerDialogDistributionStore","VideoComposerDialogDistributionTabContainer.react","VideoComposerDialogDistributionUtils","VideoComposerDialogTab","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").DISTRIBUTION,glyphSelected:h("416637"),glyphUnselected:h("416644"),title:i._("Distribution"),defaultDescription:i._("Choose where your video will appear and who can watch or crosspost it."),tabContainer:c("VideoComposerDialogDistributionTabContainer.react"),bodyContainer:c("VideoComposerDialogDistributionContainer.react"),getCrosspostRequestDataToSend:function k(){return c("VideoComposerDialogDistributionStore").getCrosspostRequestDataToSend()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogDistributionStore").getEditRequestDataToSend()},getPostRequestDataToSend:function k(){return c("VideoComposerDialogDistributionStore").getPostRequestDataToSend()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("VideoComposerDialogDistributionUtils").bootloadEditDistributionTab(l.actorID,l.videoID)}};f.exports=j}),null);
__d("VideoComposerDialogMomentsOfInterestStore",["Promise","VideoComposerDialogActionTypes","FluxReduceStore","immutable","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={momentsOfInterest:[]};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.__moduleID=f.id,p}n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){switch(p.type){case c("VideoComposerDialogActionTypes").UPDATE_MOMENTS_OF_INTEREST:o=o.set("momentsOfInterest",p.momentsOfInterest);return o;default:return o}};n.prototype.getPostRequestDataToSend=function(){var o=this.getState(),p=o.momentsOfInterest;return c("Promise").resolve({moments_of_interest:p})};n.prototype.getEditRequestDataToSend=function(){return c("Promise").resolve({})};f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogMomentsOfInterestTabConfig",["ix","fbt","Promise","VideoComposerDialogMomentsOfInterestContainer.react","VideoComposerDialogMomentsOfInterestStore","VideoComposerDialogMomentsOfInterestTabContainer.react","VideoComposerDialogTab","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").MOMENTS_OF_INTEREST,glyphSelected:h("469684"),glyphUnselected:h("469685"),title:i._("Moments Of Interest"),defaultDescription:i._("Add Moments of Interest to your video."),tabContainer:c("VideoComposerDialogMomentsOfInterestTabContainer.react"),bodyContainer:c("VideoComposerDialogMomentsOfInterestContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("Promise").resolve()},getPostRequestDataToSend:function k(){return c("VideoComposerDialogMomentsOfInterestStore").getPostRequestDataToSend()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("Promise").resolve()}};f.exports=j}),null);
__d("VideoComposerDialogRightsActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_RIGHTS_PARAMETERS,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},i=function i(s){var t={type:c("VideoComposerDialogActionTypes").BOOTLOAD_EDIT_RIGHTS_PARAMETERS,data:s};c("VideoComposerDialogDispatcher").dispatch(t)},j=function j(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_MONITORING_TYPE,monitoringType:s};c("VideoComposerDialogDispatcher").dispatch(t)},k=function k(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_SHOULD_DETECT_MATCHES,shouldDetectMatches:s};c("VideoComposerDialogDispatcher").dispatch(t)},l=function l(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_FB_WHITELISTED_USERS,fbWhitelistedUsers:s};c("VideoComposerDialogDispatcher").dispatch(t)},m=function m(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_IG_WHITELISTED_USERS,igWhitelistedUsers:s};c("VideoComposerDialogDispatcher").dispatch(t)},n=function n(s,t){var u={type:c("VideoComposerDialogActionTypes").UPDATE_OWNERSHIP_COUNTRIES,ownershipCountries:s,areCountriesIncluded:t};c("VideoComposerDialogDispatcher").dispatch(u)},o=function o(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_MATCH_RULE,matchRuleID:s};c("VideoComposerDialogDispatcher").dispatch(t)},p=function p(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_ATTRIBUTION,attributionID:s};c("VideoComposerDialogDispatcher").dispatch(t)},q=function q(s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_CATEGORY,category:s};c("VideoComposerDialogDispatcher").dispatch(t)},r=function r(){var s={type:c("VideoComposerDialogActionTypes").UPDATE_CATEGORY_REQUIRED_ERROR};c("VideoComposerDialogDispatcher").dispatch(s)};f.exports={bootloadParameters:h,bootloadEditParameters:i,updateAttribution:p,updateCategory:q,updateFBWhitelistedUsers:l,updateIGWhitelistedUsers:m,updateMatchRule:o,updateMonitoringType:j,updateOwnershipCountries:n,updateShouldDetectMatches:k,updateShowCategoryRequiredError:r}}),null);
__d("XVideoComposerDialogBootloadRightsTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_rights/",{target_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogEditRightsTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/rights/",{actor_id:{type:"FBID",required:true},video_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogRightsUtils",["Promise","ActorURI","AsyncRequest","VideoComposerDialogRightsActions","XVideoComposerDialogBootloadRightsTabController","XVideoComposerDialogEditRightsTabController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(k){var l=c("XVideoComposerDialogBootloadRightsTabController").getURIBuilder().setFBID("target_id",k).getURI(),m=c("ActorURI").create(l,k);new(c("AsyncRequest"))(m).setHandler(function(n){c("VideoComposerDialogRightsActions").bootloadParameters(n.payload)}).send()},i=function i(k){c("VideoComposerDialogRightsActions").bootloadEditParameters(k)},j=function j(k){var l=c("XVideoComposerDialogEditRightsTabController").getURIBuilder().setFBID("actor_id",k.actorID).setFBID("video_id",k.videoID).getURI(),m=c("ActorURI").create(l,k.actorID);return new(c("Promise"))(function(n,o){new(c("AsyncRequest"))(m).setHandler(function(p){n(p)}).send()})};f.exports={beginBootloadingRightsTab:h,bootloadEditParams:i,fetchEditParams:j}}),null);
__d("VideoComposerDialogRightsTabConfig",["ix","fbt","Promise","VideoComposerDialogRightsContainer.react","VideoComposerDialogRightsStore","VideoComposerDialogRightsTabContainer.react","VideoComposerDialogRightsUtils","VideoComposerDialogTab","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").RIGHTS,glyphSelected:h("426191"),glyphUnselected:h("426199"),title:i._("Rights"),defaultDescription:i._("Use Rights Manager to protect and get credit for your content."),tabContainer:c("VideoComposerDialogRightsTabContainer.react"),bodyContainer:c("VideoComposerDialogRightsContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogRightsStore").getPostRequestDataToSend()},getPostRequestDataToSend:function k(){return c("VideoComposerDialogRightsStore").getPostRequestDataToSend()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("VideoComposerDialogRightsUtils").fetchEditParams(l)}};f.exports=j}),null);
__d("ComposerVideoUploadSphericalActionType",[],(function a(b,c,d,e,f,g){f.exports={RESET_VIDEO_PLAYER_CONTROLLER:"RESET_VIDEO_PLAYER_CONTROLLER",SET_VIDEO_PLAYER_CONTROLLER:"SET_VIDEO_PLAYER_CONTROLLER",SET_VIDEO_UNAVAILABLE:"SET_VIDEO_UNAVAILABLE",UPDATE_ACTIVE_GUIDE_KEYFRAME:"UPDATE_ACTIVE_GUIDE_KEYFRAME",UPDATE_ADD_GUIDE_KEYFRAME:"UPDATE_ADD_GUIDE_KEYFRAME",UPDATE_SAVE_GUIDE_KEYFRAME:"UPDATE_SAVE_GUIDE_KEYFRAME",UPDATE_REMOVE_GUIDE_KEYFRAME:"UPDATE_REMOVE_GUIDE_KEYFRAME",UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES:"UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES",UPDATE_CLEAR_GUIDE_KEYFRAMES:"UPDATE_CLEAR_GUIDE_KEYFRAMES",UPDATE_CURRENT_VIEWPORT:"UPDATE_CURRENT_VIEWPORT",UPDATE_ENABLE_OMNISTAB:"UPDATE_ENABLE_OMNISTAB",UPDATE_ERROR_MESSAGE_INFO:"UPDATE_ERROR_MESSAGE_INFO",UPDATE_FOV:"UPDATE_FOV",UPDATE_GUIDE_ENABLED:"UPDATE_GUIDE_ENABLED",UPDATE_GUIDE_VISIBILITY:"UPDATE_GUIDE_VISIBILITY",UPDATE_GUIDE_KEYFRAMES:"UPDATE_GUIDE_KEYFRAMES",UPDATE_SUGGESTED_GUIDE_KEYFRAMES:"UPDATE_SUGGESTED_GUIDE_KEYFRAMES",UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION:"UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION",UPDATE_IS_EDITING_POINT_OF_INTEREST:"UPDATE_IS_EDITING_POINT_OF_INTEREST",UPDATE_SECTION_STATUS:"UPDATE_SECTION_STATUS",UPDATE_TAB_VISIBILITY:"UPDATE_TAB_VISIBILITY",UPDATE_ORIGINAL_SPHERICAL_METADATA:"UPDATE_ORIGINAL_SPHERICAL_METADATA",UPDATE_PROJECTION:"UPDATE_PROJECTION",UPDATE_STEREO_MODE:"UPDATE_STEREO_MODE",UPDATE_HAS_SPATIAL_AUDIO:"UPDATE_HAS_SPATIAL_AUDIO",UPDATE_ADD_HOTSPOT:"UPDATE_ADD_HOTSPOT",UPDATE_DELETE_HOTSPOT:"UPDATE_DELETE_HOTSPOT",UPDATE_HOTSPOTS:"UPDATE_HOTSPOTS"}}),null);
__d("ComposerVideoUploadSphericalErrorUtils",["fbt","React","SimpleXUIDialog","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,j=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,k=h._("Guide points need to be at least {seconds} seconds apart.",[h._param("seconds",j/i+1)]),l=h._("Not Enough Time Between Guide Points"),m={getAddPointMessage:function n(){return k},getAddPointTitle:function n(){return l},showAddPointDialog:function n(o){c("SimpleXUIDialog").show(this.getAddPointMessage(),this.getAddPointTitle(),o);return},showFileExtensionDialog:function n(o,p,q){var r=h._("Unsupported file extension: {file extension}.",[h._param("file extension",o)]),s=h._("Supported file extensions are {list of supported file extensions}.",[h._param("list of supported file extensions",p)]);c("SimpleXUIDialog").show(c("React").createElement("div",null,c("React").createElement("div",null,r),c("React").createElement("div",null,s)),h._("File Extension Not Supported"),q);return},showFileUploadErrorDialog:function n(o,p){c("SimpleXUIDialog").show(h._("There was an error while uploading your file: {file name}. Please try again.",[h._param("file name",o)]),h._("Image Upload Error"),p);return},showImageTooLargeDialog:function n(o,p){c("SimpleXUIDialog").show(h._("We currently only support image uploads of {max size in mb} MB or less. Please try again with a smaller image file.",[h._param("max size in mb",o)]),h._("Image File Too Large"),p);return},showLastFrameDialog:function n(o){c("SimpleXUIDialog").show(h._("Text and image overlays cannot be added to the last frame of your video. Please add your text or image earlier in the video."),h._("End of Video"),o);return},showUnsupportedCharsDialog:function n(o){c("SimpleXUIDialog").show(h._("We currently support only Latin characters in text annotations. Unsupported characters will not be displayed."),h._("Unsupported Characters"),o);return}};f.exports=m}),null);
__d("ComposerVideoUploadSphericalGuideKeyframeData",["immutable","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,k={fieldOfViewDegrees:60,isSelected:false,isSelectedForDeletion:false,pitch:0,thumbnailURI:"",timestamp:0,yaw:0};h=babelHelpers.inherits(l,c("immutable").Record(k));i=h&&h.prototype;l.getFromLegacyParams=function(m){return new l({timestamp:m[0],pitch:m[1],yaw:m[2]})};l.prototype.compare=function(m){return this.get("timestamp")-m.get("timestamp")};l.prototype.getLegacyParams=function(){return[this.timestamp,this.pitch,this.yaw]};l.prototype.isTooCloseTo=function(m){var n=Math.abs(this.get("timestamp")-m.get("timestamp"));return n<j};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("FBHotspotMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({hotspots:[]});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalStore",["ComposerVideoUploadSphericalActionType","ReactComposerStoreBase","ComposerVideoUploadSphericalErrorUtils","FBHotspotMetadata","ComposerVideoUploadSphericalGuideKeyframeData","immutable","VideoProjection","VideoStereoFormat"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("immutable").Set,k=c("immutable").List;h=babelHelpers.inherits(l,c("ReactComposerStoreBase"));i=h&&h.prototype;function l(){"use strict";__p&&__p();var m=void 0;i.constructor.call(this,function(){return{guideEnabled:false,guideVisibility:true,guideKeyframes:k([c("ComposerVideoUploadSphericalGuideKeyframeData").getFromLegacyParams([0,0,0])]),suggestedGuideKeyframes:k([c("ComposerVideoUploadSphericalGuideKeyframeData").getFromLegacyParams([0,0,0])]),hotspots:new(c("FBHotspotMetadata"))({hotspots:[]}),nextHotspotId:0,fov:60,projection:c("VideoProjection").EQUIRECTANGULAR,stereoMode:c("VideoStereoFormat").MONO,hasSpatialAudio:false,currentViewport:{yaw:0,pitch:0},enableOmnistab:false,visible:false,controller:null,unavailable:false,expandedSections:j(),isEditingPointOfInterest:false,originalSphericalMetadata:{},errorInfo:null}},function(n){__p&&__p();switch(n.type){case c("ComposerVideoUploadSphericalActionType").UPDATE_CURRENT_VIEWPORT:m&&m.$ComposerVideoUploadSphericalStore1(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_FOV:m&&m.$ComposerVideoUploadSphericalStore2(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_ENABLED:m&&m.$ComposerVideoUploadSphericalStore3(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_VISIBILITY:m&&m.$ComposerVideoUploadSphericalStore4(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_KEYFRAMES:m&&m.$ComposerVideoUploadSphericalStore5(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_SUGGESTED_GUIDE_KEYFRAMES:m&&m.$ComposerVideoUploadSphericalStore6(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ADD_GUIDE_KEYFRAME:m&&m.$ComposerVideoUploadSphericalStore7(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_SAVE_GUIDE_KEYFRAME:m&&m.$ComposerVideoUploadSphericalStore8(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_REMOVE_GUIDE_KEYFRAME:m&&m.$ComposerVideoUploadSphericalStore9(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES:m&&m.$ComposerVideoUploadSphericalStore10(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_CLEAR_GUIDE_KEYFRAMES:m&&m.$ComposerVideoUploadSphericalStore11(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ENABLE_OMNISTAB:m&&m.$ComposerVideoUploadSphericalStore12(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_TAB_VISIBILITY:m&&m.$ComposerVideoUploadSphericalStore13(n);break;case c("ComposerVideoUploadSphericalActionType").SET_VIDEO_PLAYER_CONTROLLER:m&&m.$ComposerVideoUploadSphericalStore14(n);break;case c("ComposerVideoUploadSphericalActionType").SET_VIDEO_UNAVAILABLE:m&&m.$ComposerVideoUploadSphericalStore15(n);break;case c("ComposerVideoUploadSphericalActionType").RESET_VIDEO_PLAYER_CONTROLLER:m&&m.$ComposerVideoUploadSphericalStore16(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_SECTION_STATUS:m&&m.$ComposerVideoUploadSphericalStore17(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ACTIVE_GUIDE_KEYFRAME:m&&m.$ComposerVideoUploadSphericalStore18(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION:m&&m.$ComposerVideoUploadSphericalStore19(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_IS_EDITING_POINT_OF_INTEREST:m&&m.$ComposerVideoUploadSphericalStore20(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ERROR_MESSAGE_INFO:m&&m.$ComposerVideoUploadSphericalStore21(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ORIGINAL_SPHERICAL_METADATA:m&&m.$ComposerVideoUploadSphericalStore22(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_PROJECTION:m&&m.$ComposerVideoUploadSphericalStore23(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_STEREO_MODE:m&&m.$ComposerVideoUploadSphericalStore24(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_HAS_SPATIAL_AUDIO:m&&m.$ComposerVideoUploadSphericalStore25(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ADD_HOTSPOT:m&&m.$ComposerVideoUploadSphericalStore26(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_DELETE_HOTSPOT:m&&m.$ComposerVideoUploadSphericalStore27(n);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_HOTSPOTS:m&&m.$ComposerVideoUploadSphericalStore28(n)}});m=this}l.prototype.getErrorMessageInfo=function(m){"use strict";return this.getComposerData(m).errorInfo};l.prototype.getCurrentViewport=function(m){"use strict";return this.getComposerData(m).currentViewport};l.prototype.getFOV=function(m){"use strict";return this.getComposerData(m).fov};l.prototype.getIsEditingPointOfInterest=function(m){"use strict";return this.getComposerData(m).isEditingPointOfInterest};l.prototype.getGuideEnabled=function(m){"use strict";return this.getComposerData(m).guideEnabled};l.prototype.getGuideVisibility=function(m){"use strict";return this.getComposerData(m).guideVisible};l.prototype.getEnableOmnistab=function(m){"use strict";return this.getComposerData(m).enableOmnistab};l.prototype.getGuideKeyframesLegacy=function(m){"use strict";return this.getComposerData(m).guideKeyframes.map(function(n){return n.getLegacyParams()}).toJS()};l.prototype.getActiveGuideKeyframe=function(m){"use strict";__p&&__p();var n=this.getGuideKeyframes(m);for(var o=n,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(s.isSelected)return s}return null};l.prototype.getGuideKeyframes=function(m){"use strict";return this.getComposerData(m).guideKeyframes};l.prototype.getSuggestedGuideKeyframes=function(m){"use strict";return this.getComposerData(m).suggestedGuideKeyframes};l.prototype.getSphericalHotspots=function(m){"use strict";return this.getComposerData(m).hotspots};l.prototype.getNextHotspotId=function(m){"use strict";return this.getComposerData(m).nextHotspotId};l.prototype.getTabVisibility=function(m){"use strict";return this.getComposerData(m).visible};l.prototype.getVideoPlayerController=function(m){"use strict";return this.getComposerData(m).controller};l.prototype.getVideoUnavailable=function(m){"use strict";return this.getComposerData(m).unavailable};l.prototype.getExpandedSections=function(m){"use strict";return this.getComposerData(m).expandedSections};l.prototype.getOriginalSphericalMetadata=function(m){"use strict";return this.getComposerData(m).originalSphericalMetadata};l.prototype.getProjection=function(m){"use strict";return this.getComposerData(m).projection};l.prototype.getStereoMode=function(m){"use strict";return this.getComposerData(m).stereoMode};l.prototype.getHasSpatialAudio=function(m){"use strict";return this.getComposerData(m).hasSpatialAudio};l.prototype.$ComposerVideoUploadSphericalStore1=function(m){"use strict";var n=this.getComposerData(m.composerID);n.currentViewport.pitch=m.pitch;n.currentViewport.yaw=m.yaw;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore2=function(m){"use strict";var n=this.getComposerData(m.composerID);n.fov=m.fov;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore3=function(m){"use strict";var n=this.getComposerData(m.composerID);n.guideEnabled=m.guideEnabled;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore4=function(m){"use strict";var n=this.getComposerData(m.composerID);n.guideVisible=m.guideVisible;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore12=function(m){"use strict";var n=this.getComposerData(m.composerID);n.enableOmnistab=m.enableOmnistab;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore5=function(m){"use strict";var n=this.getComposerData(m.composerID);n.guideKeyframes=m.guideKeyframes;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore6=function(m){"use strict";var n=this.getComposerData(m.composerID);n.suggestedGuideKeyframes=m.suggestedGuideKeyframes;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore11=function(m){"use strict";var n=this.getComposerData(m.composerID);n.guideKeyframes=k([]);this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore9=function(m){"use strict";var n=this.getComposerData(m.composerID),o=n.guideKeyframes,p=o.findIndex(function(q){return q.timestamp===m.timestamp});if(o.get(p).isSelected)n.isEditingPointOfInterest=false;o=o.splice(p,1);n.guideKeyframes=o;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore7=function(m){"use strict";__p&&__p();var n=this.getComposerData(m.composerID),o=n.guideKeyframes,p=m.guideKeyframe;o=o.map(function(s){return s.set("isSelected",false)});var q=o.findIndex(function(s,t){return s.compare(p)>0});if(q<0)q=o.size;if(this.$ComposerVideoUploadSphericalStore29(o,p,q)){var r=o.splice(q,0,p);n.guideKeyframes=r;n.isEditingPointOfInterest=true}else n.errorInfo={text:c("ComposerVideoUploadSphericalErrorUtils").getAddPointMessage(),title:c("ComposerVideoUploadSphericalErrorUtils").getAddPointTitle(),callback:function s(){},confirmOnly:true};this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore8=function(m){"use strict";var n=this.getComposerData(m.composerID),o=n.guideKeyframes,p=m.guideKeyframe;o=o.map(function(q){return q.compare(p)===0?p:q});n.guideKeyframes=o;n.isEditingPointOfInterest=false;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore29=function(m,n,o){"use strict";var p=o<m.size?!m.get(o).isTooCloseTo(n):true,q=o>0?!m.get(o-1).isTooCloseTo(n):true;return p&&q};l.prototype.$ComposerVideoUploadSphericalStore13=function(m){"use strict";var n=this.getComposerData(m.composerID);n.visible=m.visible;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore14=function(m){"use strict";var n=this.getComposerData(m.composerID);n.controller=m.controller;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore15=function(m){"use strict";var n=this.getComposerData(m.composerID);n.unavailable=m.unavailable;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore16=function(m){"use strict";var n=this.getComposerData(m.composerID);if(n.controller){n.controller.destroy();n.controller=null}n.unavailable=false};l.prototype.$ComposerVideoUploadSphericalStore17=function(m){"use strict";var n=this.getComposerData(m.composerID);if(n.expandedSections.has(m.sectionName))n.expandedSections=n.expandedSections.remove(m.sectionName);else n.expandedSections=n.expandedSections.add(m.sectionName);this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore18=function(m){"use strict";var n=m.composerID,o=m.timestamp,p=this.getComposerData(n),q=p.guideKeyframes;q=q.map(function(r){return r.set("isSelected",r.timestamp===o)});p.guideKeyframes=q;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore19=function(m){"use strict";var n=m.composerID,o=m.timestamp,p=this.getComposerData(n),q=p.guideKeyframes;q=q.map(function(r){if(r.timestamp===o)return r.set("isSelectedForDeletion",!r.isSelectedForDeletion);else return r});p.guideKeyframes=q;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore20=function(m){"use strict";var n=m.composerID,o=m.value,p=this.getComposerData(n);p.isEditingPointOfInterest=o;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore21=function(m){"use strict";var n=m.composerID,o=m.error,p=this.getComposerData(n);p.errorInfo=o;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore10=function(m){"use strict";var n=m.composerID,o=this.getComposerData(n),p=o.guideKeyframes;p=p.filter(function(q){if(q.isSelected&&q.isSelectedForDeletion)o.isEditingPointOfInterest=false;return!q.isSelectedForDeletion});o.guideKeyframes=p;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore22=function(m){"use strict";var n=this.getComposerData(m.composerID);n.originalSphericalMetadata=m.originalSphericalMetadata;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore23=function(m){"use strict";var n=this.getComposerData(m.composerID);n.projection=m.projection;if(n.projection!==c("VideoProjection").EQUIRECTANGULAR)n.stereoMode=c("VideoStereoFormat").MONO;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore24=function(m){"use strict";var n=this.getComposerData(m.composerID);n.stereoMode=m.stereoMode;if(n.stereoMode!==c("VideoStereoFormat").MONO)n.enableOmnistab=false;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore25=function(m){"use strict";var n=this.getComposerData(m.composerID);n.hasSpatialAudio=m.hasSpatialAudio;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore26=function(m){"use strict";var n=this.getComposerData(m.composerID);n.hotspots=n.hotspots.set("hotspots",n.hotspots.hotspots.concat([m.hotspotData]));if(m.shouldIncrementId)n.nextHotspotId+=1;this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore27=function(m){"use strict";var n=this.getComposerData(m.composerID),o=n.hotspots.hotspots.findIndex(function(p){return p.content.id===m.hotspotId});if(o!==-1)n.hotspots.hotspots.splice(o,1);this.emitChange(m.composerID)};l.prototype.$ComposerVideoUploadSphericalStore28=function(m){"use strict";__p&&__p();var n=this.getComposerData(m.composerID),o=-1;m.hotspots.hotspots.forEach(function(p){var q=parseInt(p.content.id,10);if(!isNaN(q))o=Math.max(o,q)});o++;n.nextHotspotId=o;n.hotspots=m.hotspots;this.emitChange(m.composerID)};l.prototype.clearComposerData=function(m){"use strict";var n=this.getComposerData(m);if(n.controller)n.controller.destroy();i.clearComposerData.call(this,m)};l.prototype.getPostData=function(m){"use strict";var n=this.getComposerData(m),o=this.getGuideKeyframesLegacy(m),p=o[0][1],q=o[0][2];o.shift();var r={initialHeading:Math.round(q),initialPitch:Math.round(p),fov:Math.round(n.fov),guide_enabled:o.length>0,guide_keyframes:o,enable_omnistab:n.enableOmnistab,projection:n.projection,stereoMode:n.stereoMode,hotspots:n.hotspots.hotspots.length>0?n.hotspots:null,hasSpatialAudio:n.hasSpatialAudio};return r};f.exports=new l()}),null);
__d("ComposerVideoUploadSphericalAction",["ComposerVideoUploadSphericalActionType","ReactComposerDispatcher","ComposerVideoUploadSphericalStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ComposerVideoUploadSphericalStore");h.prototype.updateCurrentViewport=function(i,j,k){"use strict";var l={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_CURRENT_VIEWPORT,pitch:j,yaw:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateFOV=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_FOV,fov:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGuideEnabled=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_ENABLED,guideEnabled:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGuideVisibility=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_VISIBILITY,guideVisible:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateEnableOmnistab=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ENABLE_OMNISTAB,enableOmnistab:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGuideKeyframes=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_KEYFRAMES,guideKeyframes:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateSuggestedGuideKeyframes=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_SUGGESTED_GUIDE_KEYFRAMES,suggestedGuideKeyframes:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateAddGuideKeyframe=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ADD_GUIDE_KEYFRAME,guideKeyframe:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateSaveGuideKeyframe=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_SAVE_GUIDE_KEYFRAME,guideKeyframe:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateRemoveGuideKeyframe=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_REMOVE_GUIDE_KEYFRAME,timestamp:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateClearGuideKeyframes=function(i){"use strict";var j={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_CLEAR_GUIDE_KEYFRAMES};c("ReactComposerDispatcher").dispatch(j)};h.prototype.updateTabVisibility=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_TAB_VISIBILITY,visible:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setVideoPlayerController=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").SET_VIDEO_PLAYER_CONTROLLER,controller:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setVideoUnavailable=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").SET_VIDEO_UNAVAILABLE,unavailable:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.resetVideoPlayerController=function(i){"use strict";var j={composerID:i,type:c("ComposerVideoUploadSphericalActionType").RESET_VIDEO_PLAYER_CONTROLLER};c("ReactComposerDispatcher").dispatch(j)};h.prototype.updateSectionStatus=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_SECTION_STATUS,sectionName:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateActiveGuideKeyframe=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ACTIVE_GUIDE_KEYFRAME,timestamp:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateIsEditingPointOfInterest=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_IS_EDITING_POINT_OF_INTEREST,value:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateErrorMessage=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ERROR_MESSAGE_INFO,error:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateToggleGuideKeyframeForDeletion=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION,timestamp:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateDeleteSelectedGuideKeyframes=function(i){"use strict";var j={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES};c("ReactComposerDispatcher").dispatch(j)};h.prototype.updateOriginalSphericalMetadata=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ORIGINAL_SPHERICAL_METADATA,originalSphericalMetadata:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateProjection=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_PROJECTION,projection:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateStereoMode=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_STEREO_MODE,stereoMode:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateHasSpatialAudio=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_HAS_SPATIAL_AUDIO,hasSpatialAudio:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateAddHotspot=function(i,j,k){"use strict";var l={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ADD_HOTSPOT,hotspotData:j,shouldIncrementId:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateDeleteHotspot=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_DELETE_HOTSPOT,hotspotId:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateHotspots=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_HOTSPOTS,hotspots:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("SphericalVideoHotspotAnimation",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NO_ANIM:"no_anim",DISSOLVE:"dissolve"})}),null);
__d("SphericalVideoHotspotTextAlignment",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right"})}),null);
__d("SphericalVideoHotspotType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({TEXT:"text",IMAGE:"image"})}),null);
__d("FBHotspot",["immutable","SphericalVideoHotspotAnimation","SphericalVideoHotspotTextAlignment","SphericalVideoHotspotType"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({yaw:0,pitch:0,startTime:0,endTime:0,content:{id:"default_id",width:0,height:0,animation:c("SphericalVideoHotspotAnimation").NO_ANIM,type:c("SphericalVideoHotspotType").TEXT,text:"",alignment:c("SphericalVideoHotspotTextAlignment").CENTER,color:"",fontWeight:"",fontSize:0,fontFamily:"",backgroundColor:""}});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalMetadataUtils",["ComposerVideoUploadSphericalAction","FBHotspot","FBHotspotMetadata","ComposerVideoUploadSphericalGuideKeyframeData","immutable","ComposerVideoUploadSphericalStore","SphericalVideoHotspotType"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("immutable").List,i=40,j=90,k={convertHotspotRawDataToFBHotspot:function l(m){__p&&__p();var n={};n.yaw=m.yaw;n.pitch=m.pitch;n.startTime=m.start_time;n.endTime=m.end_time;if(Object.prototype.hasOwnProperty.call(m,"text_content")&&m.text_content)n.content=this.formatHotspotRawTextContent(m.text_content);else if(Object.prototype.hasOwnProperty.call(m,"image_content")&&m.image_content)n.content=this.formatHotspotRawImageContent(m.image_content);return new(c("FBHotspot"))(n)},formatHotspotRawImageContent:function l(m){__p&&__p();var n={};n.type=c("SphericalVideoHotspotType").IMAGE;n.id=m.id;n.width=m.width;n.height=m.height;n.animation=m.animation;n.imageData=m.image_data;if(Object.prototype.hasOwnProperty.call(m,"link_action")&&m.link_action)n.linkAction=m.link_action;return n},formatHotspotRawTextContent:function l(m){__p&&__p();var n={};n.type=c("SphericalVideoHotspotType").TEXT;n.id=m.id;n.width=m.width;n.height=m.height;n.animation=m.animation;n.alignment=m.alignment;n.color=m.color;n.fontWeight=m.font_weight;n.fontSize=m.font_size;n.fontFamily=m.font_family;n.backgroundColor=m.background_color;n.text=m.text;if(Object.prototype.hasOwnProperty.call(m,"link_action")&&m.link_action)n.linkAction=m.link_action;return n},convertHotspotsRawDataToFBHotspotMetadata:function l(m){var n=m.map(function(o){return this.convertHotspotRawDataToFBHotspot(o)}.bind(this));return new(c("FBHotspotMetadata"))({hotspots:n})},initWithParams:function l(m,n,o,p,q,r,s,t,u,v,w){__p&&__p();c("ComposerVideoUploadSphericalStore").clearComposerData(m);c("ComposerVideoUploadSphericalAction").updateEnableOmnistab(m,v);c("ComposerVideoUploadSphericalAction").updateFOV(m,p);c("ComposerVideoUploadSphericalAction").updateCurrentViewport(m,o,n);c("ComposerVideoUploadSphericalAction").updateGuideEnabled(m,q);c("ComposerVideoUploadSphericalAction").updateProjection(m,s);c("ComposerVideoUploadSphericalAction").updateStereoMode(m,t);c("ComposerVideoUploadSphericalAction").updateHasSpatialAudio(m,u);var x=[[0,o,n]].concat(r).map(function(y){return c("ComposerVideoUploadSphericalGuideKeyframeData").getFromLegacyParams(y)});c("ComposerVideoUploadSphericalAction").updateGuideKeyframes(m,h(x));if(w)c("ComposerVideoUploadSphericalAction").updateHotspots(m,w);else c("ComposerVideoUploadSphericalAction").updateHotspots(m,new(c("FBHotspotMetadata"))({hotspots:[]}))},initWithOriginalSphericalMetadata:function l(m,n){__p&&__p();if(n.stereoMode)c("ComposerVideoUploadSphericalAction").updateStereoMode(m,n.stereoMode);if(n.projectionType)c("ComposerVideoUploadSphericalAction").updateProjection(m,n.projectionType);if(n.fbSpatialAudioMetadata||n.ytSpatialAudioMetadata)c("ComposerVideoUploadSphericalAction").updateHasSpatialAudio(m,true);if(n.initialFOV&&n.initialFOV>=i&&n.initialFOV<=j)c("ComposerVideoUploadSphericalAction").updateFOV(m,n.initialFOV);var o=n.initialPitch&&Number.isFinite(n.initialPitch)?n.initialPitch:0,p=n.initialYaw&&Number.isFinite(n.initialYaw)?n.initialYaw:0;c("ComposerVideoUploadSphericalAction").updateCurrentViewport(m,o,p);var q=new(c("ComposerVideoUploadSphericalGuideKeyframeData"))({timestamp:0,yaw:Math.round(p),pitch:Math.round(o),thumbnailURI:null,isSelected:true});c("ComposerVideoUploadSphericalAction").updateSaveGuideKeyframe(m,q);var r=void 0;if(n.guideData){var s=n.guideData.keyframes.map(function(t){return new(c("ComposerVideoUploadSphericalGuideKeyframeData"))({timestamp:t.timestamp,yaw:t.yaw,pitch:t.pitch,thumbnailURI:null,isSelected:false})});r=h([q].concat(s));c("ComposerVideoUploadSphericalAction").updateGuideKeyframes(m,r)}else r=h([q]);if(n.fbHotspotMetadata)c("ComposerVideoUploadSphericalAction").updateHotspots(m,n.fbHotspotMetadata);else c("ComposerVideoUploadSphericalAction").updateHotspots(m,new(c("FBHotspotMetadata"))({hotspots:[]}));c("ComposerVideoUploadSphericalAction").updateOriginalSphericalMetadata(m,n)}};f.exports=k}),null);
__d("ISOVideoBoxFieldDefinition",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({NUMBER:10,FIELD:11,REMAINING_SPACE:12}),i=Object.freeze({NUMBER:100,STRING:101,ARRAY_OF_NUMBERS:102,ARRAY_OF_STRINGS:103,ARRAY_BUFFER:104}),j=Object.freeze({INT_8_SIZE:1,INT_16_SIZE:2,ATOM_LENGTH_BYTES:4,ATOM_NAME_BYTES:4,INT_32_SIZE:4});f.exports=Object.freeze({ISOVideoBoxFieldType:i,ISOVideoBoxFieldSize:j,ISOVideoBoxFieldLength:h})}),null);
__d("ISOVideoBoxUtils",["ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i={readString:function j(k,l,m){var n=[];for(var o=0;o<m;o++)n.push(String.fromCharCode(k.getUint8(l+o)));return n.join("")},readNumber:function j(k,l,m){switch(m){case h.INT_8_SIZE:return k.getUint8(l);case h.INT_16_SIZE:return k.getUint16(l);case h.ATOM_LENGTH_BYTES:case h.ATOM_NAME_BYTES:case h.INT_32_SIZE:return k.getUint32(l);default:throw new Error("Unexpected field size: "+m)}},writeString:function j(k,l,m){for(var n=0;n<m.length;n++){var o=m.charCodeAt(n);k.setUint8(l+n,o)}},writeNumber:function j(k,l,m,n){switch(m){case h.INT_8_SIZE:return k.setUint8(l,n);case h.INT_16_SIZE:return k.setUint16(l,n);case h.ATOM_LENGTH_BYTES:case h.ATOM_NAME_BYTES:case h.INT_32_SIZE:return k.setUint32(l,n);default:throw new Error("Unexpected field size: "+m)}},writeArrayBuffer:function j(k,l,m){var n=new DataView(m);for(var o=0;o<m.byteLength;o++)k.setUint8(l+o,n.getUint8(o))}};f.exports=i}),null);
__d("ISOVideoBox",["Promise","ISOVideoBoxFieldDefinition","Int64","ISOVideoBoxConstants","ISOVideoBoxUtils","fileSlice"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;function j(k){__p&&__p();this.__size=k.size||c("ISOVideoBoxConstants").BOX_BASE_SIZE;this.__boxtype=k.boxtype;this.__extraFields=k.extraFields;if(k.isLargeSize)this.__isLargeSize=true;else this.__isLargeSize=false;this.__parent=null;this.__children=[];this.__size=k.size||this.getFieldsSize();if(k.source)this.__source=k.source}j.getExtraFieldDefinitions=function(){return[]};j.prototype.getBoxtype=function(){return this.__boxtype};j.prototype.getSize=function(){return this.__size};j.prototype.getExtraFields=function(){return this.__extraFields};j.prototype.getChildren=function(){return this.__children};j.prototype.getParent=function(){return this.__parent};j.prototype.getSource=function(){return this.__source};j.prototype.getBuffer=function(k){__p&&__p();return new(c("Promise"))(function(l,m){__p&&__p();var n,o=this,p=this.getExtraFields()[k];if(!p){m(k+" was not found in box fields");return}if(p.type==="buffer"){l(p.buffer);return}if(p.type==="info"){if(!this.__source){m("buffer was requested but source is missing from box");return}var q=p.startOffset,r=q+p.length;if(this.__source instanceof File)(function(){var s=new FileReader();s.onload=function(event){var t=s.result;l(t)};s.onerror=function(t){m(t)};s.readAsArrayBuffer(c("fileSlice").call(o.__source,q,r))})();else l(this.__source.slice(q,r));return}m(k+" is not a buffer type")}.bind(this))};j.prototype.getFieldsSize=function(){__p&&__p();var k=2*h.INT_32_SIZE;if(this.__isLargeSize)k+=2*h.INT_32_SIZE;var l=this.constructor.getExtraFieldDefinitions();l.forEach(function(m){__p&&__p();var n=void 0;switch(m.type){case i.NUMBER:k+=m.size;break;case i.STRING:n=m.requiredValue!==undefined?m.requiredValue:this.__extraFields[m.name];if(!(typeof n==="string"))throw new Error("Field "+m.name+" is not a string");k+=n.length;break;case i.ARRAY_OF_NUMBERS:case i.ARRAY_OF_STRINGS:n=m.requiredValue!==undefined?m.requiredValue:this.__extraFields[m.name];if(!Array.isArray(n))throw new Error("Field "+m.name+" is not an array");k+=n.length*m.size;break;case i.ARRAY_BUFFER:n=this.__extraFields[m.name];if(n instanceof ArrayBuffer)k+=n.byteLength;else if(typeof n.startOffset==="number"&&typeof n.length==="number")k+=n.length;else throw new Error("Field '"+m.name+"' is not an ArrayBuffer or an ArrayBuffer reference");break;default:throw new Error("Unexpected field type: "+m.type)}}.bind(this));return k};j.prototype.$ISOVideoBox1=function(k){this.__size+=k;if(this.__parent)this.__parent.$ISOVideoBox1(k)};j.prototype.addChild=function(k){var l=arguments.length<=1||arguments[1]===undefined?true:arguments[1],m=k.getSize();k.$ISOVideoBox2(this);this.__children.push(k);if(l)this.$ISOVideoBox1(m)};j.prototype.$ISOVideoBox2=function(k){this.__parent=k};j.prototype.removeChild=function(k){__p&&__p();var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1];for(var m=0;m<this.__children.length;m++)if(this.__children[m].getBoxtype()===k)if(l===0){var n=this.__children[m].getSize();this.__children.splice(m,1);this.$ISOVideoBox1(-n);return true}else l-=1;return false};j.prototype.$ISOVideoBox3=function(k){for(var l=0;l<this.__children.length;l++)if(this.__children[l]===k){var m=this.__children[l].getSize();this.__children.splice(l,1);this.$ISOVideoBox1(-m);return}};j.prototype.remove=function(){if(!this.__parent)return;this.__parent.$ISOVideoBox3(this)};j.prototype.setSource=function(k){this.__source=k};j.prototype.boxToArrayBuffer=function(k,l,m){this.__boxToArrayBufferImpl(k,l,m)};j.prototype.__boxToArrayBufferImpl=function(k,l,m){__p&&__p();this.__headerToArrayBuffer(k,l,m);for(var n=this.__children,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;r.__boxToArrayBufferImpl(k,l,m)}};j.prototype.__headerToArrayBuffer=function(k,l,m){__p&&__p();if(this.__isLargeSize)k.setUint32(l.getOffset(),1);else k.setUint32(l.getOffset(),this.__size);l.incrementOffset(h.INT_32_SIZE);c("ISOVideoBoxUtils").writeString(k,l.getOffset(),this.__boxtype);l.incrementOffset(h.INT_32_SIZE);if(this.__isLargeSize){var n=c("Int64").fromNumber(this.__size);k.setUint32(l.getOffset(),n.getHighBits());k.setUint32(l.getOffset()+h.INT_32_SIZE,n.getLowBitsUnsigned());l.incrementOffset(h.INT_32_SIZE*2)}this.__extraHeaderToArrayBuffer(k,l,m)};j.prototype.__extraHeaderToArrayBuffer=function(k,l,m){__p&&__p();this.constructor.getExtraFieldDefinitions().forEach(function(n){__p&&__p();var o=this.__extraFields[n.name];switch(n.type){case i.NUMBER:o=n.requiredValue!==undefined?n.requiredValue:o;if(typeof o!=="number")throw new Error("Field '"+n.name+"' is not a number");c("ISOVideoBoxUtils").writeNumber(k,l.getOffset(),n.size,o);l.incrementOffset(n.size);break;case i.STRING:o=n.requiredValue!==undefined?n.requiredValue:o;if(typeof o!=="string")throw new Error("Field '"+n.name+"' is not a string");c("ISOVideoBoxUtils").writeString(k,l.getOffset(),o);l.incrementOffset(o.length);break;case i.ARRAY_OF_NUMBERS:o=n.requiredValue!==undefined?n.requiredValue:o;if(!Array.isArray(o))throw new Error("Field '"+n.name+"' is not an array");var p=n.size;o.forEach(function(v){if(typeof v!=="number")throw new Error("An array entry of '"+n.name+"' is not a number");c("ISOVideoBoxUtils").writeNumber(k,l.getOffset(),p,v);l.incrementOffset(p)});break;case i.ARRAY_OF_STRINGS:o=n.requiredValue!==undefined?n.requiredValue:o;if(!Array.isArray(o))throw new Error("Field '"+n.name+"' is not an array");var q=n.size;o.forEach(function(v){if(typeof v!=="string")throw new Error("An array entry of '"+n.name+"' is not a number");c("ISOVideoBoxUtils").writeString(k,l.getOffset(),v);l.incrementOffset(q)});break;case i.ARRAY_BUFFER:if(o instanceof ArrayBuffer){c("ISOVideoBoxUtils").writeArrayBuffer(k,l.getOffset(),o);l.incrementOffset(o.byteLength)}else if(typeof o.startOffset==="number"&&typeof o.length==="number"){var r=o,s=r.startOffset,t=r.length;if(!m)throw new Error("Original file buffer is not provided");for(var u=0;u<t;u++){k.setUint8(l.getOffset(),m.getUint8(s+u));l.incrementOffset(h.INT_8_SIZE)}}else throw new Error("Field '"+n.name+"' is not an ArrayBuffer or an ArrayBuffer reference");break;default:throw new Error("Unexpected field type: "+n.type)}}.bind(this))};j.prototype.toSimpleObject=function(k){__p&&__p();var l,m=this;if(k)(function(){var t=k;Object.keys(m.__extraFields).forEach(function(u){var v=this.__extraFields[u];if(v instanceof ArrayBuffer)t.push(v)}.bind(m))})();var n=[];for(var o=this.__children,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n.push(s.toSimpleObject(k))}return{children:n,size:this.__size,isLargeSize:this.__isLargeSize,boxtype:this.__boxtype,extraFields:this.__extraFields}};f.exports=j}),null);
__d("FullBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"version",type:k.NUMBER,size:j.INT_8_SIZE},{name:"flags",type:k.ARRAY_OF_NUMBERS,size:j.INT_8_SIZE,length:{type:l.NUMBER,value:3}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("HDLRBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("FullBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"pre_defined",type:k.NUMBER,size:j.INT_32_SIZE,requiredValue:0},{name:"handler_type",type:k.STRING,length:{type:l.NUMBER,value:j.INT_32_SIZE}},{name:"reserved",type:k.ARRAY_OF_NUMBERS,size:j.INT_32_SIZE,length:{type:l.NUMBER,value:3},requiredValue:[0,0,0]},{name:"name",type:k.STRING,length:{type:l.REMAINING_SPACE}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("ISOVideoBoxPath",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$ISOVideoBoxPath1=[]}h.prototype.addPath=function(i,j){this.$ISOVideoBoxPath1.push({boxtype:i,index:j||0});return this};h.prototype.addWildCardPath=function(){this.$ISOVideoBoxPath1.push({boxtype:"",index:0});return this};h.prototype.clearPath=function(){this.$ISOVideoBoxPath1=[]};h.prototype.getPath=function(){return this.$ISOVideoBoxPath1};f.exports=h}),null);
__d("FTYPBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"major_brand",type:k.STRING,length:{type:l.NUMBER,value:j.INT_32_SIZE}},{name:"minor_version",type:k.NUMBER,size:j.INT_32_SIZE},{name:"compatible_brands",type:k.ARRAY_OF_STRINGS,size:j.INT_32_SIZE,length:{type:l.REMAINING_SPACE}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("SA3DBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"version",type:k.NUMBER,size:j.INT_8_SIZE},{name:"ambisonic_type",type:k.NUMBER,size:j.INT_8_SIZE},{name:"ambisonic_order",type:k.NUMBER,size:j.INT_32_SIZE},{name:"ambisonic_channel_ordering",type:k.NUMBER,size:j.INT_8_SIZE},{name:"ambisonic_normalization",type:k.NUMBER,size:j.INT_8_SIZE},{name:"num_channels",type:k.NUMBER,size:j.INT_32_SIZE},{name:"channel_map",type:k.ARRAY_OF_NUMBERS,size:j.INT_32_SIZE,length:{type:l.FIELD,definition:{name:"num_channels",type:k.NUMBER,size:j.INT_32_SIZE}}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("SSDBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"reserved",type:k.ARRAY_OF_NUMBERS,size:j.INT_8_SIZE,length:{type:l.NUMBER,value:6},requiredValue:[0,0,0,0,0,0]},{name:"drefIndex",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioEncodingVersion",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioEncodingRevision",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioEncodingVendor",type:k.STRING,length:{type:l.NUMBER,value:j.INT_32_SIZE}},{name:"channelCount",type:k.NUMBER,size:j.INT_16_SIZE},{name:"sampleSize",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioCompressionID",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioPacketSize",type:k.NUMBER,size:j.INT_16_SIZE,requiredValue:0},{name:"sampleRate",type:k.NUMBER,size:j.INT_16_SIZE},{name:"sampleRateLowerBits",type:k.NUMBER,size:j.INT_16_SIZE,requiredValue:0}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("STCOBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("FullBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"entry_count",type:k.NUMBER,size:j.INT_32_SIZE},{name:"chunk_offsets",type:k.ARRAY_OF_NUMBERS,length:{type:l.FIELD,definition:{name:"entry_count",type:k.NUMBER,size:j.INT_32_SIZE}},size:j.INT_32_SIZE}])};m.prototype.updateChunkOffsets=function(n){var o=this.__extraFields.chunk_offsets;for(var p=0,q=o.length;p<q;p++)o[p]+=n};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("STSDBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;h=babelHelpers.inherits(l,c("FullBox"));i=h&&h.prototype;l.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"num_descriptions",type:k.NUMBER,size:j.INT_32_SIZE}])};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("TKHDBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,m=4,n=8,o=2,p=36;h=babelHelpers.inherits(q,c("FullBox"));i=h&&h.prototype;q.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"creation_time",type:k.NUMBER,size:j.INT_32_SIZE},{name:"modification_time",type:k.NUMBER,size:j.INT_32_SIZE},{name:"track_id",type:k.NUMBER,size:j.INT_32_SIZE},{name:"reserved_1",type:k.ARRAY_BUFFER,length:{type:l.NUMBER,value:m}},{name:"duration",type:k.NUMBER,size:j.INT_32_SIZE},{name:"reserved_2",type:k.ARRAY_BUFFER,length:{type:l.NUMBER,value:n}},{name:"layer",type:k.NUMBER,size:j.INT_16_SIZE},{name:"alternate_group",type:k.NUMBER,size:j.INT_16_SIZE},{name:"volume",type:k.NUMBER,size:j.INT_16_SIZE},{name:"reserved_3",type:k.ARRAY_BUFFER,length:{type:l.NUMBER,value:o}},{name:"matrix_structure",type:k.ARRAY_BUFFER,length:{type:l.NUMBER,value:p}},{name:"track_width",type:k.NUMBER,size:j.INT_32_SIZE},{name:"track_height",type:k.NUMBER,size:j.INT_32_SIZE}])};function q(){h.apply(this,arguments)}f.exports=q}),null);
__d("UUIDBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"usertype",type:k.ARRAY_OF_NUMBERS,size:j.INT_8_SIZE,length:{type:l.NUMBER,value:16}},{name:"data",type:k.ARRAY_BUFFER,length:{type:l.REMAINING_SPACE}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("UnformedBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(l,c("ISOVideoBox"));i=h&&h.prototype;l.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"unformed_data",type:j.ARRAY_BUFFER,length:{type:k.REMAINING_SPACE}}])};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("XMLBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(l,c("FullBox"));i=h&&h.prototype;l.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"xml_string",type:j.STRING,length:{type:k.REMAINING_SPACE}}])};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("ISOVideoBoxTypeMap",["FTYPBox","FullBox","HDLRBox","ISOVideoBox","SA3DBox","SSDBox","STCOBox","STSDBox","TKHDBox","UnformedBox","UUIDBox","XMLBox"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({mdia:c("ISOVideoBox"),minf:c("ISOVideoBox"),moov:c("ISOVideoBox"),stbl:c("ISOVideoBox"),trak:c("ISOVideoBox"),meta:c("FullBox"),ftyp:c("FTYPBox"),hdlr:c("HDLRBox"),stco:c("STCOBox"),uuid:c("UUIDBox"),"xml ":c("XMLBox"),stsd:c("STSDBox"),mp4a:c("SSDBox"),SA3D:c("SA3DBox"),tkhd:c("TKHDBox")}),i={getBoxType:function j(k){return h[k]||c("UnformedBox")}};f.exports=i}),null);
__d("ISOVideoReader",["ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize;function i(j){var k=arguments.length<=1||arguments[1]===undefined?0:arguments[1];this.$ISOVideoReader1=j;this.$ISOVideoReader2=k}i.prototype.outOfBounds=function(j){return this.$ISOVideoReader2+j>this.$ISOVideoReader1.byteLength};i.prototype.getOffset=function(){return this.$ISOVideoReader2};i.prototype.incrementOffset=function(j){this.$ISOVideoReader2+=j};i.prototype.$ISOVideoReader3=function(j){switch(j){case h.INT_8_SIZE:return this.$ISOVideoReader1.getUint8(this.$ISOVideoReader2);case h.INT_16_SIZE:return this.$ISOVideoReader1.getUint16(this.$ISOVideoReader2);case h.ATOM_LENGTH_BYTES:case h.ATOM_NAME_BYTES:case h.INT_32_SIZE:return this.$ISOVideoReader1.getUint32(this.$ISOVideoReader2);default:throw new Error("Unexpected field size: "+j)}};i.prototype.readNumber=function(j){var k=this.$ISOVideoReader3(j);this.incrementOffset(j);return k};i.prototype.readString=function(j){var k=[];for(var l=this.$ISOVideoReader2;l<this.$ISOVideoReader2+j;l++)k.push(String.fromCharCode(this.$ISOVideoReader1.getUint8(l)));this.incrementOffset(j);return k.join("")};i.prototype.readNumberArray=function(j,k){var l=[];for(var m=0;m<k;m++){l.push(this.$ISOVideoReader3(j));this.incrementOffset(j)}return l};i.prototype.readStringArray=function(j,k){var l=[];for(var m=0;m<k;m++){var n=[];for(var o=this.$ISOVideoReader2;o<this.$ISOVideoReader2+j;o++)n.push(String.fromCharCode(this.$ISOVideoReader1.getUint8(o)));l.push(n.join(""));this.incrementOffset(j)}return l};i.prototype.readArrayBuffer=function(j){var k=new ArrayBuffer(j),l=new DataView(k);for(var m=0;m<j;m++)l.setUint8(m,this.$ISOVideoReader1.getUint8(this.$ISOVideoReader2+m));this.incrementOffset(j);return k};f.exports=i}),null);
__d("ISOVideoBoxParser",["invariant","regeneratorRuntime","Promise","fileSlice","Int64","ISOVideoBoxFieldDefinition","ISOVideoBox","ISOVideoBoxTypeMap","ISOVideoFile","ISOVideoReader"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,l=5242880;function m(n){__p&&__p();var o=arguments.length<=1||arguments[1]===undefined?true:arguments[1];this.$ISOVideoBoxParser5=n;this.$ISOVideoBoxParser2=o;this.$ISOVideoBoxParser9=[];this.$ISOVideoBoxParser10=[];this.$ISOVideoBoxParser12();if(n instanceof File){this.$ISOVideoBoxParser7=0;this.$ISOVideoBoxParser8=Math.min(n.size,l);this.$ISOVideoBoxParser6=n.size;this.$ISOVideoBoxParser3=n}else{this.$ISOVideoBoxParser7=0;this.$ISOVideoBoxParser8=n.byteLength;this.$ISOVideoBoxParser6=n.byteLength;this.$ISOVideoBoxParser4=n}}m.prototype.parse=function n(){__p&&__p();return c("regeneratorRuntime").async(function o(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:if(!(this.$ISOVideoBoxParser5 instanceof File)){p.next=5;break}p.next=3;return c("regeneratorRuntime").awrap(this.$ISOVideoBoxParser13());case 3:p.next=6;break;case 5:this.$ISOVideoBoxParser14();case 6:return p.abrupt("return",new(c("ISOVideoFile"))(this.$ISOVideoBoxParser9,this.$ISOVideoBoxParser5));case 7:case"end":return p.stop()}},null,this)};m.prototype.$ISOVideoBoxParser13=function n(){__p&&__p();return c("regeneratorRuntime").async(function o(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:return p.abrupt("return",new(c("Promise"))(function(q,r){__p&&__p();var s=new FileReader();s.onload=function t(event){__p&&__p();return c("regeneratorRuntime").async(function u(v){__p&&__p();while(1)switch(v.prev=v.next){case 0:if(s.result instanceof ArrayBuffer){v.next=2;break}throw new Error("File reading failed");case 2:this.$ISOVideoBoxParser1=new(c("ISOVideoReader"))(new DataView(s.result));this.$ISOVideoBoxParser15();if(!(this.$ISOVideoBoxParser7>=this.$ISOVideoBoxParser6)){v.next=7;break}q();return v.abrupt("return");case 7:v.next=9;return c("regeneratorRuntime").awrap(this.$ISOVideoBoxParser13());case 9:q();case 10:case"end":return v.stop()}},null,this)}.bind(this);s.onerror=function(t){r(t)};s.readAsArrayBuffer(c("fileSlice").call(this.$ISOVideoBoxParser3,this.$ISOVideoBoxParser7,this.$ISOVideoBoxParser8))}.bind(this)));case 1:case"end":return p.stop()}},null,this)};m.prototype.$ISOVideoBoxParser14=function(){this.$ISOVideoBoxParser1=new(c("ISOVideoReader"))(new DataView(this.$ISOVideoBoxParser4));this.$ISOVideoBoxParser15()};m.prototype.$ISOVideoBoxParser15=function(){__p&&__p();while(true){var n=this.$ISOVideoBoxParser16();if(n===null)break;n instanceof c("ISOVideoBox")||h(0);this.$ISOVideoBoxParser10.push(n);while(true){var o=this.$ISOVideoBoxParser10[this.$ISOVideoBoxParser10.length-1],p=o.getFieldsSize();for(var q=o.getChildren(),r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;p+=u.getSize()}if(p===o.getSize())this.$ISOVideoBoxParser10.pop();else break;if(this.$ISOVideoBoxParser10.length===0){this.$ISOVideoBoxParser9.push(o);break}else{var v=this.$ISOVideoBoxParser10[this.$ISOVideoBoxParser10.length-1];v.addChild(o,false)}}}};m.prototype.$ISOVideoBoxParser16=function(){__p&&__p();if(this.$ISOVideoBoxParser11.size===null){if(this.$ISOVideoBoxParser1.outOfBounds(i.ATOM_LENGTH_BYTES)){this.$ISOVideoBoxParser17(i.ATOM_LENGTH_BYTES);return null}this.$ISOVideoBoxParser11.offset+=i.ATOM_LENGTH_BYTES;this.$ISOVideoBoxParser11.size=this.$ISOVideoBoxParser1.readNumber(i.ATOM_LENGTH_BYTES)}if(this.$ISOVideoBoxParser11.boxType===null){if(this.$ISOVideoBoxParser1.outOfBounds(i.ATOM_NAME_BYTES)){this.$ISOVideoBoxParser17(i.ATOM_NAME_BYTES);return null}this.$ISOVideoBoxParser11.offset+=i.ATOM_NAME_BYTES;this.$ISOVideoBoxParser11.boxType=this.$ISOVideoBoxParser1.readString(i.ATOM_NAME_BYTES)}if(this.$ISOVideoBoxParser11.size===1&&this.$ISOVideoBoxParser11.isLargeSize===false){if(this.$ISOVideoBoxParser1.outOfBounds(i.INT_32_SIZE*2)){this.$ISOVideoBoxParser17(i.INT_32_SIZE*2);return null}this.$ISOVideoBoxParser11.offset+=i.INT_32_SIZE*2;var n=this.$ISOVideoBoxParser1.readNumber(i.INT_32_SIZE),o=this.$ISOVideoBoxParser1.readNumber(i.INT_32_SIZE);this.$ISOVideoBoxParser11.size=new(c("Int64"))(o,n).toNumber();this.$ISOVideoBoxParser11.isLargeSize=true}typeof this.$ISOVideoBoxParser11.boxType==="string"||h(0);var p=c("ISOVideoBoxTypeMap").getBoxType(this.$ISOVideoBoxParser11.boxType);if(this.$ISOVideoBoxParser11.definitions===null)this.$ISOVideoBoxParser11.definitions=p.getExtraFieldDefinitions();if(!this.$ISOVideoBoxParser18())return null;typeof this.$ISOVideoBoxParser11.boxType==="string"&&typeof this.$ISOVideoBoxParser11.size==="number"||h(0);var q={boxtype:this.$ISOVideoBoxParser11.boxType,size:this.$ISOVideoBoxParser11.size,isLargeSize:this.$ISOVideoBoxParser11.isLargeSize,extraFields:this.$ISOVideoBoxParser11.extraFields,source:this.$ISOVideoBoxParser5};this.$ISOVideoBoxParser12();return new p(q)};m.prototype.$ISOVideoBoxParser18=function(){__p&&__p();this.$ISOVideoBoxParser11.definitions||h(0);if(this.$ISOVideoBoxParser11.index===this.$ISOVideoBoxParser11.definitions.length)return true;var n=this.$ISOVideoBoxParser11.definitions[this.$ISOVideoBoxParser11.index],o=this.$ISOVideoBoxParser19(n);if(this.$ISOVideoBoxParser2&&n.type===j.ARRAY_BUFFER){this.$ISOVideoBoxParser11.extraFields[n.name]={type:"info",startOffset:this.$ISOVideoBoxParser7+this.$ISOVideoBoxParser1.getOffset(),length:o};this.$ISOVideoBoxParser1.incrementOffset(o)}else{var p=this.$ISOVideoBoxParser20(n);if(p===null)return false;if(n.type===j.ARRAY_BUFFER)this.$ISOVideoBoxParser11.extraFields[n.name]={type:"buffer",buffer:p};else this.$ISOVideoBoxParser11.extraFields[n.name]=p}this.$ISOVideoBoxParser11.offset+=o;this.$ISOVideoBoxParser11.index+=1;return this.$ISOVideoBoxParser18()};m.prototype.$ISOVideoBoxParser20=function(n){__p&&__p();var o=this.$ISOVideoBoxParser1,p=this.$ISOVideoBoxParser19(n),q=this.$ISOVideoBoxParser21(n);if(n.requiredValue!==undefined){o.incrementOffset(p);return n.requiredValue}if(o.outOfBounds(p)){this.$ISOVideoBoxParser17(p);return null}switch(n.type){case j.NUMBER:return o.readNumber(n.size);case j.STRING:return o.readString(q);case j.ARRAY_OF_NUMBERS:return o.readNumberArray(n.size,q);case j.ARRAY_OF_STRINGS:return o.readStringArray(n.size,q);case j.ARRAY_BUFFER:return o.readArrayBuffer(q);default:throw new Error("Unexpected field type: "+n.type)}};m.prototype.$ISOVideoBoxParser12=function(){this.$ISOVideoBoxParser11={size:null,offset:0,boxType:null,isLargeSize:false,extraFields:{},index:0,definitions:null}};m.prototype.$ISOVideoBoxParser17=function(n){if(!this.$ISOVideoBoxParser3){if(this.$ISOVideoBoxParser1.getOffset()<this.$ISOVideoBoxParser6)throw new Error("Reader went out of bounds with ArrayBuffer");return}this.$ISOVideoBoxParser7=this.$ISOVideoBoxParser7+this.$ISOVideoBoxParser1.getOffset();this.$ISOVideoBoxParser8=Math.min(this.$ISOVideoBoxParser6,Math.max(this.$ISOVideoBoxParser7+l,this.$ISOVideoBoxParser7+n))};m.prototype.$ISOVideoBoxParser19=function(n){var o=this.$ISOVideoBoxParser21(n);switch(n.type){case j.NUMBER:return n.size;case j.STRING:case j.ARRAY_BUFFER:return o;case j.ARRAY_OF_NUMBERS:case j.ARRAY_OF_STRINGS:return n.size*o;default:throw new Error("Unexpected field type: "+n.type)}};m.prototype.$ISOVideoBoxParser21=function(n){__p&&__p();if(n.type===j.NUMBER)return-1;switch(n.length.type){case k.NUMBER:return n.length.value;case k.FIELD:return this.$ISOVideoBoxParser11.extraFields[n.length.definition.name];case k.REMAINING_SPACE:typeof this.$ISOVideoBoxParser11.size==="number"||h(0);var o=this.$ISOVideoBoxParser11.size-this.$ISOVideoBoxParser11.offset;if(n.type===j.ARRAY_OF_NUMBERS||n.type===j.ARRAY_OF_STRINGS)return o/n.size;return o;default:throw new Error("Field "+n.name+" of type "+n.type+" "+("cannot have length type "+n.length.type))}};m.prototype.getBoxes=function(){return this.$ISOVideoBoxParser9};m.parseFromSimpleObject=function(n,o,p){var q=c("ISOVideoBoxTypeMap").getBoxType(n.boxtype),r=new q(n);if(p)r.setSource(p);return r};m.parseFromSimpleObjectRecursive=function(n,o,p){__p&&__p();var q=this.parseFromSimpleObject(n,o,p),r=n.children||[];for(var s=r,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v,x=this.parseFromSimpleObjectRecursive(w,o,p);q.addChild(x,false)}return q};f.exports=m}),null);
__d("ISOVideoFileEvent",[],(function a(b,c,d,e,f,g){"use strict";f.exports=Object.freeze({BUILD_PROGRESS:"buildProgress"})}),null);
__d("ISOVideoOffsetManager",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=1024*100,j=1024;function k(){this.$ISOVideoOffsetManager1=0;this.$ISOVideoOffsetManager2=0;this.$ISOVideoOffsetManager3=i;this.$ISOVideoOffsetManager4=[]}k.prototype.addOnUpdateCallback=function(l){this.$ISOVideoOffsetManager4.push(l);return this};k.prototype.setMinUpdateInterval=function(l){this.$ISOVideoOffsetManager3=Math.max(l,j);return this};k.prototype.getOffset=function(){return this.$ISOVideoOffsetManager1};k.prototype.getMinUpdateInterval=function(){return this.$ISOVideoOffsetManager3};k.prototype.incrementOffset=function(l){this.$ISOVideoOffsetManager1+=l;if(this.$ISOVideoOffsetManager1>=this.$ISOVideoOffsetManager2+this.$ISOVideoOffsetManager3){this.$ISOVideoOffsetManager2=this.$ISOVideoOffsetManager1;this.$ISOVideoOffsetManager4.forEach(function(m){return m()})}};f.exports=k}),null);
__d("ISOVideoFile",["regeneratorRuntime","Promise","EventEmitter","ISOVideoBox","ISOVideoBoxPath","ISOVideoFileEvent","ISOVideoOffsetManager","ISOVideoBoxParser","STCOBox"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=1e3;h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(l,m){__p&&__p();i.constructor.call(this);this.$ISOVideoFile1=l;this.$ISOVideoFile2=this.$ISOVideoFile5();if(m)if(m instanceof ArrayBuffer){this.$ISOVideoFile4=m;this.$ISOVideoFile3=null}else{this.$ISOVideoFile3=m;this.$ISOVideoFile4=null}}k.prototype.getBoxes=function(){return this.$ISOVideoFile1};k.prototype.findBoxes=function(l){return this.$ISOVideoFile6(this.$ISOVideoFile1,[],l)};k.prototype.$ISOVideoFile6=function(l,m,n){__p&&__p();for(var o=l,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(s.getBoxtype()===n)m.push(s);this.$ISOVideoFile6(s.getChildren(),m,n)}return m};k.prototype.$ISOVideoFile7=function(l,m){return m===""||l.getBoxtype()===m};k.prototype.findBoxAtExactLocation=function(l){__p&&__p();var m,n=this,o=this.$ISOVideoFile1,p=l.getPath(),q=function q(r){__p&&__p();var s=p[r].boxtype;if(s==="")throw new Error("Wildcard path is not allowed in exact location match");var t=p[r].index,u=o.filter(function(v){return this.$ISOVideoFile7(v,s)}.bind(n));if(u.length>t){if(r===p.length-1)return{v:u[t]};o=u[t].getChildren()}else return{v:null}};for(var r=0;r<p.length;r++){var m=q(r);if(typeof m==="object")return m.v}return null};k.prototype.findBoxesMatchingPath=function(l){var m=[];if(l.getPath().length===0)return m;this.$ISOVideoFile8(l,0,this.$ISOVideoFile1,m);return m};k.prototype.$ISOVideoFile8=function(l,m,n,o){var p=l.getPath(),q=p[m].boxtype,r=n.filter(function(s){return this.$ISOVideoFile7(s,q)}.bind(this));if(m===p.length-1)r.forEach(function(s){return o.push(s)});else r.forEach(function(s){return this.$ISOVideoFile8(l,m+1,s.getChildren(),o)}.bind(this))};k.prototype.injectBoxAtLocation=function(l,m){var n=this.findBoxAtExactLocation(m);if(n){n.addChild(l);this.$ISOVideoFile9(l.getSize());return true}else return false};k.prototype.removeBoxAtLocation=function(l){__p&&__p();var m=l.getPath(),n=m[m.length-1].boxtype,o=m[m.length-1].index;if(m.length===1){for(var p=0;p<this.$ISOVideoFile1.length;p++)if(this.$ISOVideoFile7(this.$ISOVideoFile1[p],n))if(o===0){var q=this.$ISOVideoFile1[p].getSize();this.$ISOVideoFile1.splice(p,1);this.$ISOVideoFile9(-q);return true}else o-=1;return false}var r=this.findBoxAtExactLocation(l);if(r){var s=r.getSize();r.remove();this.$ISOVideoFile9(-s);return true}return false};k.prototype.$ISOVideoFile5=function(){__p&&__p();var l=false;for(var m=this.$ISOVideoFile1,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(q.getBoxtype()==="mdat")l=true;if(q.getBoxtype()==="moov")return!l}return false};k.prototype.$ISOVideoFile9=function(l){__p&&__p();if(!this.$ISOVideoFile2)return;var m=this.findBoxes("stco");for(var n=m,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;if(!(r instanceof c("STCOBox")))throw new Error("found non-stco boxes when updating offsets");r.updateChunkOffsets(l)}};k.fromFile=function l(m){var n=arguments.length<=1||arguments[1]===undefined?true:arguments[1],o;return c("regeneratorRuntime").async(function p(q){while(1)switch(q.prev=q.next){case 0:o=new(c("ISOVideoBoxParser"))(m,n);q.next=3;return c("regeneratorRuntime").awrap(o.parse());case 3:return q.abrupt("return",q.sent);case 4:case"end":return q.stop()}},null,this)};k.fromArrayBuffer=function l(m){var n=arguments.length<=1||arguments[1]===undefined?true:arguments[1],o;return c("regeneratorRuntime").async(function p(q){while(1)switch(q.prev=q.next){case 0:o=new(c("ISOVideoBoxParser"))(m,n);q.next=3;return c("regeneratorRuntime").awrap(o.parse());case 3:return q.abrupt("return",q.sent);case 4:case"end":return q.stop()}},null,this)};k.prototype.toArrayBuffer=function l(){__p&&__p();return c("regeneratorRuntime").async(function m(n){__p&&__p();while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new(c("Promise"))(function(o,p){__p&&__p();var q,r=this,s=0;for(var t=this.$ISOVideoFile1,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;s+=x.getSize()}var y=new ArrayBuffer(s),z=new DataView(y),A=new(c("ISOVideoOffsetManager"))();A.setMinUpdateInterval(Math.ceil(s/j)).addOnUpdateCallback(function(){var M=A.getOffset();this.emit(c("ISOVideoFileEvent").BUILD_PROGRESS,M/s)}.bind(this));var B=void 0;if(this.$ISOVideoFile4){B=new DataView(this.$ISOVideoFile4);for(var C=this.$ISOVideoFile1,D=Array.isArray(C),E=0,C=D?C:C[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var F;if(D){if(E>=C.length)break;F=C[E++]}else{E=C.next();if(E.done)break;F=E.value}var G=F;G.boxToArrayBuffer(z,A,B)}o(y)}else if(this.$ISOVideoFile3)(function(){__p&&__p();var M=r.$ISOVideoFile3,N=new FileReader();N.onload=function(){__p&&__p();if(!(N.result instanceof ArrayBuffer))throw new Error("File reading failed");B=new DataView(N.result);for(var O=this.$ISOVideoFile1,P=Array.isArray(O),Q=0,O=P?O:O[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var R;if(P){if(Q>=O.length)break;R=O[Q++]}else{Q=O.next();if(Q.done)break;R=Q.value}var S=R;S.boxToArrayBuffer(z,A,B)}o(y)}.bind(r);N.readAsArrayBuffer(M)})();else{for(var H=this.$ISOVideoFile1,I=Array.isArray(H),J=0,H=I?H:H[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var K;if(I){if(J>=H.length)break;K=H[J++]}else{J=H.next();if(J.done)break;K=J.value}var L=K;L.boxToArrayBuffer(z,A)}o(y)}}.bind(this)));case 1:case"end":return n.stop()}},null,this)};k.prototype.toSimpleObject=function(l){__p&&__p();var m=[];for(var n=this.$ISOVideoFile1,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;m.push(r.toSimpleObject(l))}if(l&&this.$ISOVideoFile4)l.push(this.$ISOVideoFile4);var s={boxes:m,mustUpdateOffsetsOnEdit:this.$ISOVideoFile2,originalFileBuffer:this.$ISOVideoFile4,file:this.$ISOVideoFile3};return s};k.fromSimpleObject=function(l){__p&&__p();var m=[],n=false,o=null;if(l.file){o=l.file;n=true}else if(l.originalFileBuffer){o=l.originalFileBuffer;n=true}for(var p=l.boxes,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=o?c("ISOVideoBoxParser").parseFromSimpleObjectRecursive(t,n,o):c("ISOVideoBoxParser").parseFromSimpleObjectRecursive(t,n);m.push(u)}var v=new k(m,o);v.$ISOVideoFile2=l.mustUpdateOffsetsOnEdit;return v};f.exports=k}),null);
__d("VideoSphericalMetadataInjector",["FullBox","HDLRBox","ISOVideoBox","ISOVideoBoxConstants","ISOVideoBoxPath","ISOVideoFile","SphericalVideoHotspotType","SphericalVideoMetadataTags","UUIDBox","VideoSphericalMetadataUtil","XMLBox","shallowArrayEqual"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h='<?xml version="1.0"?><rdf:SphericalVideo xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:GSpherical="http://ns.google.com/videos/1.0/spherical/">',i='<?xml version="1.0"?><rdf:SphericalVideo xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:FBSpherical="https://www.facebook.com/help/828417127257368">',j="</rdf:SphericalVideo>",k="face",l="GPAC face Handler",m={convertVerticalFOVToXML:function n(o){if(o)return"<"+c("SphericalVideoMetadataTags").FBSPHERICAL.INITIAL_VERTICAL_FOV_DEGREES+">"+(""+o)+("</"+c("SphericalVideoMetadataTags").FBSPHERICAL.INITIAL_VERTICAL_FOV_DEGREES+">");return null},convertUsed360DirectorToXML:function n(o){if(o===true||o===false)return"<"+c("SphericalVideoMetadataTags").FBSPHERICAL.USED_360_DIRECTOR+">"+(""+o.toString())+("</"+c("SphericalVideoMetadataTags").FBSPHERICAL.USED_360_DIRECTOR+">");return null},convertFBGuideMetadataToXML:function n(o){__p&&__p();var p=null;if(o&&o.keyframes.length>0){p="";for(var q=o.keyframes,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;p+="<Keyframe>"+("<yaw>"+u.yaw+"</yaw>")+("<pitch>"+u.pitch+"</pitch>")+("<fov>"+u.fov+"</fov>")+("<timestamp>"+u.timestamp+"</timestamp>")+"</Keyframe>"}p="<"+c("SphericalVideoMetadataTags").FBSPHERICAL.GUIDE+">"+(""+p)+("</"+c("SphericalVideoMetadataTags").FBSPHERICAL.GUIDE+">")}return p},convertFBHotspotMetadataToXML:function n(o){__p&&__p();var p=null;if(o&&o.hotspots&&o.hotspots.length>0){var q=o.hotspots;p="";for(var r=q,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u,w=v.content,x="",y="";if(Object.prototype.hasOwnProperty.call(w,"linkAction")&&w.linkAction)y="<LinkAction"+(' url="'+w.linkAction.url+'"')+(' trigger="'+w.linkAction.trigger+'"')+" />";switch(w.type){case c("SphericalVideoHotspotType").TEXT:var z=w.text.replace(/[\u00A0-\u9999\<\>\&\"\'\/]/g,function(A){return"&#"+A.charCodeAt(0)+";"});x="<Text"+(' id="'+w.id+'"')+(' alignment="'+w.alignment+'"')+(' width="'+w.width+'"')+(' height="'+w.height+'"')+(' color="'+w.color+'"')+(' fontWeight="'+w.fontWeight+'"')+(' fontSize="'+w.fontSize+'"')+(' fontFamily="'+w.fontFamily+'"')+(' backgroundColor="'+w.backgroundColor+'"')+(' animation="'+w.animation+'">')+(""+z)+(""+y)+"</Text>";break;case c("SphericalVideoHotspotType").IMAGE:x="<Image"+(' id="'+w.id+'"')+(' width="'+w.width+'"')+(' height="'+w.height+'"')+(' animation="'+w.animation+'">')+(""+w.imageData)+(""+y)+"</Image>";break}p+="<Hotspot"+(' yaw="'+v.yaw+'"')+(' pitch="'+v.pitch+'"')+(' startTime="'+v.startTime+'"')+(' endTime="'+v.endTime+'">')+(""+x)+"</Hotspot>"}p="<"+c("SphericalVideoMetadataTags").FBSPHERICAL.HOTSPOT+">"+(""+p)+("</"+c("SphericalVideoMetadataTags").FBSPHERICAL.HOTSPOT+">")}return p},convertSphericalMetadataToXML:function n(o){__p&&__p();var p=new Map().set(c("SphericalVideoMetadataTags").GSPHERICAL.INITIAL_VIEW_PITCH_DEGREES,o.initialPitch).set(c("SphericalVideoMetadataTags").GSPHERICAL.INITIAL_VIEW_HEADING_DEGREES,o.initialYaw).set(c("SphericalVideoMetadataTags").GSPHERICAL.PROJECTION_TYPE,o.projectionType).set(c("SphericalVideoMetadataTags").GSPHERICAL.SPHERICAL,"true").set(c("SphericalVideoMetadataTags").GSPHERICAL.STEREO_MODE,o.stereoMode).set(c("SphericalVideoMetadataTags").GSPHERICAL.STITCHED,"true").set(c("SphericalVideoMetadataTags").GSPHERICAL.STITCHING_SOFTWARE,o.stitchingSoftware),q="";for(var r=p.entries(),s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u,w=v[0],x=v[1];if(x!==null&&x!==undefined)q+="<"+w+">"+x+"</"+w+">"}var y="",z=o.extraTagXML||"";if(q)y=h+q+z+j;var A=void 0,B=this.convertVerticalFOVToXML(o.initialFOV),C=this.convertFBGuideMetadataToXML(o.guideData),D=this.convertFBHotspotMetadataToXML(o.fbHotspotMetadata),E=this.convertUsed360DirectorToXML(o.used360Director);if(B||C||D||E)A=i+("<"+c("SphericalVideoMetadataTags").FBSPHERICAL.SPHERICAL+">true</"+c("SphericalVideoMetadataTags").FBSPHERICAL.SPHERICAL+">")+(B||"")+(C||"")+(D||"")+(E||"")+j;return{GSphericalXML:y,FBSphericalXML:A}},injectMetadata:function n(o,p,q){__p&&__p();var r=this.convertSphericalMetadataToXML(p),s=r.GSphericalXML,t=r.FBSphericalXML,u=new(c("UUIDBox"))({boxtype:"uuid",extraFields:{usertype:c("ISOVideoBoxConstants").GSPHERICAL_UUID,data:c("VideoSphericalMetadataUtil").stringToArrayBuffer(s)}});if(t){var v=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak").addPath("uuid",1),w=o.findBoxAtExactLocation(v);if(w instanceof c("UUIDBox")&&c("shallowArrayEqual")(w.getExtraFields().usertype,c("ISOVideoBoxConstants").FBSPHERICAL_UUID))o.removeBoxAtLocation(v)}var x=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak").addPath("uuid",0),y=o.findBoxAtExactLocation(x);if(y instanceof c("UUIDBox")&&c("shallowArrayEqual")(y.getExtraFields().usertype,c("ISOVideoBoxConstants").GSPHERICAL_UUID))o.removeBoxAtLocation(x);var z=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak");o.injectBoxAtLocation(u,z);if(t){var A=new(c("UUIDBox"))({boxtype:"uuid",extraFields:{usertype:c("ISOVideoBoxConstants").FBSPHERICAL_UUID,data:c("VideoSphericalMetadataUtil").stringToArrayBuffer(t)}}),B=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak");o.injectBoxAtLocation(A,B)}if(q&&!p.fbSpatialAudioMetadata&&!p.ytSpatialAudioMetadata)this.injectBasicSpatialAudioMetadata(o)},injectBasicSpatialAudioMetadata:function n(o){__p&&__p();var p=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak",1),q=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak",2),r=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak",3),s=o.findBoxAtExactLocation(p),t=o.findBoxAtExactLocation(q),u=o.findBoxAtExactLocation(r);if(!s||!t||!u)return false;var v=o.findBoxes("meta");for(var w=v,x=Array.isArray(w),y=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(x){if(y>=w.length)break;z=w[y++]}else{y=w.next();if(y.done)break;z=y.value}var A=z,B=A.getChildren();if(B.length===2&&B[0]instanceof c("HDLRBox")&&B[0].getExtraFields().handler_type===k&&B[0].getExtraFields().name()===l)return false}var C=this.createBasicSpatialAudioBoxes();o.injectBoxAtLocation(C[0],new(c("ISOVideoBoxPath"))().addPath("moov"));o.injectBoxAtLocation(C[1],p);o.injectBoxAtLocation(C[2],q);o.injectBoxAtLocation(C[3],r);return true},createBasicSpatialAudioBoxes:function n(){__p&&__p();var o="<fb360>\n\t<audio>",p="\t</audio>\n</fb360>",q=o+'\t\t<encoder_metadata name="FB Metadata Injector">\n</encoder_metadata>'+p,r=o+'\t\t<AudioChannelConfiguration schemeIdUri="tag:facebook.com,2016-08-16:fb360:audio:channel_layout" value="tbe_8a" />'+p,s=o+'\t\t<AudioChannelConfiguration schemeIdUri="tag:facebook.com,2016-08-16:fb360:audio:channel_layout" value="tbe_8b" />'+p,t=o+'\t\t<AudioChannelConfiguration schemeIdUri="tag:facebook.com,2016-08-16:fb360:audio:channel_layout" value="nda" />'+p,u={boxtype:"meta",extraFields:{}},v=new(c("FullBox"))(u),w=new(c("FullBox"))(u),x=new(c("FullBox"))(u),y=new(c("FullBox"))(u),z={boxtype:"hdlr",extraFields:{handler_type:k,name:l}},A=new(c("HDLRBox"))(z),B=new(c("HDLRBox"))(z),C=new(c("HDLRBox"))(z),D=new(c("HDLRBox"))(z),E={boxtype:"xml ",extraFields:{xml_string:q}},F={boxtype:"xml ",extraFields:{xml_string:r}},G={boxtype:"xml ",extraFields:{xml_string:s}},H={boxtype:"xml ",extraFields:{xml_string:t}},I=new(c("XMLBox"))(E),J=new(c("XMLBox"))(F),K=new(c("XMLBox"))(G),L=new(c("XMLBox"))(H);v.addChild(A);v.addChild(I);w.addChild(B);w.addChild(J);x.addChild(C);x.addChild(K);y.addChild(D);y.addChild(L);return[v,w,x,y]}};f.exports=m}),null);
__d("SphericalMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({fbSpatialAudioMetadata:undefined,ytSpatialAudioMetadata:undefined,fbHotspotMetadata:undefined,guideData:undefined,mayHaveSpatialAudio:undefined,initialPitch:undefined,initialYaw:undefined,initialFOV:undefined,projectionType:undefined,spherical:undefined,stereoMode:undefined,stitched:undefined,stitchingSoftware:undefined,extraTagXML:undefined,used360Director:undefined});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("VideoSphericalMetadataGatherer",["regeneratorRuntime","ISOVideoBoxConstants","checkForSphericalTag","VideoSphericalMetadataUtil"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$VideoRawSphericalMetadataGatherer5=i;this.$VideoRawSphericalMetadataGatherer1=null;this.$VideoRawSphericalMetadataGatherer2=null;this.$VideoRawSphericalMetadataGatherer3=null;this.$VideoRawSphericalMetadataGatherer4=null;this.$VideoRawSphericalMetadataGatherer6=false;this.$VideoRawSphericalMetadataGatherer7=false;this.$VideoRawSphericalMetadataGatherer8=0}h.prototype.gatherRawSphericalMetadata=function i(){return c("regeneratorRuntime").async(function j(k){while(1)switch(k.prev=k.next){case 0:k.next=2;return c("regeneratorRuntime").awrap(this.$VideoRawSphericalMetadataGatherer9());case 2:this.$VideoRawSphericalMetadataGatherer10();this.$VideoRawSphericalMetadataGatherer11();this.$VideoRawSphericalMetadataGatherer7=true;case 5:case"end":return k.stop()}},null,this)};h.prototype.getRawSphericalMetadata=function(){__p&&__p();if(!this.$VideoRawSphericalMetadataGatherer7)throw new Error("spherical metadata has not been gathered yet");var i={isSpherical:this.$VideoRawSphericalMetadataGatherer6,numAudioTracks:this.$VideoRawSphericalMetadataGatherer8};if(this.$VideoRawSphericalMetadataGatherer3)this.$VideoRawSphericalMetadataGatherer3="<fb360_spatial_audio>"+this.$VideoRawSphericalMetadataGatherer3+"</fb360_spatial_audio>";if(this.$VideoRawSphericalMetadataGatherer1!==null)i.FBSphericalMetadataXML=this.$VideoRawSphericalMetadataGatherer1;if(this.$VideoRawSphericalMetadataGatherer2!==null)i.GSphericalMetadataXML=this.$VideoRawSphericalMetadataGatherer2;if(this.$VideoRawSphericalMetadataGatherer3!==null)i.FBSpatialAudioMetadataXML=this.$VideoRawSphericalMetadataGatherer3;if(this.$VideoRawSphericalMetadataGatherer4!==null)i.YTSA3DMetadataJSON=this.$VideoRawSphericalMetadataGatherer4;return i};h.prototype.hasGathered=function(){return this.$VideoRawSphericalMetadataGatherer7};h.prototype.$VideoRawSphericalMetadataGatherer9=function i(){__p&&__p();var j,k,l,m,n,o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:j=this.$VideoRawSphericalMetadataGatherer5.findBoxes("uuid");k=j,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 2:if(!l){q.next=8;break}if(!(m>=k.length)){q.next=5;break}return q.abrupt("break",17);case 5:n=k[m++];q.next=12;break;case 8:m=k.next();if(!m.done){q.next=11;break}return q.abrupt("break",17);case 11:n=m.value;case 12:o=n;q.next=15;return c("regeneratorRuntime").awrap(this.$VideoRawSphericalMetadataGatherer12(o));case 15:q.next=2;break;case 17:case"end":return q.stop()}},null,this)};h.prototype.$VideoRawSphericalMetadataGatherer12=function i(j){__p&&__p();var k,l,m,n,o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:k=c("VideoSphericalMetadataUtil").uuidArrayEquals(j.getExtraFields().usertype,c("ISOVideoBoxConstants").GSPHERICAL_UUID);l=c("VideoSphericalMetadataUtil").uuidArrayEquals(j.getExtraFields().usertype,c("ISOVideoBoxConstants").FBSPHERICAL_UUID);if(!(k||l)){q.next=11;break}q.t0=Uint8Array;q.next=6;return c("regeneratorRuntime").awrap(j.getBuffer("data"));case 6:q.t1=q.sent;m=new q.t0(q.t1);n="";for(o=0;o<m.length;o++)n+=String.fromCharCode(m[o]);if(c("checkForSphericalTag")(n)){this.$VideoRawSphericalMetadataGatherer6=true;if(l)this.$VideoRawSphericalMetadataGatherer1=n;if(k)this.$VideoRawSphericalMetadataGatherer2=n}case 11:case"end":return q.stop()}},null,this)};h.prototype.$VideoRawSphericalMetadataGatherer10=function(){__p&&__p();var i=this.$VideoRawSphericalMetadataGatherer5.findBoxes("meta");for(var j=i,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}var n=m;this.$VideoRawSphericalMetadataGatherer13(n)}};h.prototype.$VideoRawSphericalMetadataGatherer13=function(i){__p&&__p();var j=i.getChildren(),k=null,l=null;for(var m=j,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(q.getBoxtype()==="hdlr")k=q;if(q.getBoxtype()==="xml ")l=q}if(k===null||l===null||k.getExtraFields().handler_type!=="face")return;var r=l.getExtraFields().xml_string,s=null,t=null,u=i.getParent();if(u&&u.getBoxtype()==="trak"){for(var v=u.getChildren(),w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y;if(z.getBoxtype()==="tkhd")s=z}if(s!==null){t=s.getExtraFields().track_id;this.$VideoRawSphericalMetadataGatherer8++}}if(!this.$VideoRawSphericalMetadataGatherer3)this.$VideoRawSphericalMetadataGatherer3="";if(t!==null)this.$VideoRawSphericalMetadataGatherer3+='<track id="'+t.toString()+'">'+r+"</track>";else this.$VideoRawSphericalMetadataGatherer3+="<spatial_audio_formatting>"+r+"</spatial_audio_formatting>"};h.prototype.$VideoRawSphericalMetadataGatherer11=function(){__p&&__p();var i=this.$VideoRawSphericalMetadataGatherer5.findBoxes("SA3D");for(var j=i,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}var n=m;this.$VideoRawSphericalMetadataGatherer14(n)}};h.prototype.$VideoRawSphericalMetadataGatherer14=function(i){if(this.$VideoRawSphericalMetadataGatherer4!==null)return;var j=JSON.stringify(i.getExtraFields());this.$VideoRawSphericalMetadataGatherer4=j};f.exports=h}),null);
__d("FBGuideMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({keyframes:undefined});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("FBSpatialAudioMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({encoderMetadata:null,focusData:null,headlockedData:null,spatialData:null,trackData:null});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("YTSpatialAudioMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({ambisonic_channel_ordering:-1,ambisonic_normalization:-1,ambisonic_order:-1,ambisonic_type:-1,channel_map:[],num_channels:-1,version:-1});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("VideoSphericalMetadataReader",["FBGuideMetadata","FBHotspot","FBHotspotMetadata","FBSpatialAudioMetadata","SphericalMetadata","SphericalVideoHotspotType","VideoSphericalMetadataUtil","YTSpatialAudioMetadata"],(function aa(ba,a,ca,da,b,ea){"use strict";__p&&__p();var c={parseGSphericalMetadataXML:function d(e,f){__p&&__p();var g=a("VideoSphericalMetadataUtil").parseXMLToDocument(e);if(!g)return f;var h=a("VideoSphericalMetadataUtil").getUnsupportedGSphericalTagsXML(g),i=g.getElementsByTagNameNS("*","Spherical")[0],j=g.getElementsByTagNameNS("*","InitialViewHeadingDegrees")[0],k=g.getElementsByTagNameNS("*","InitialViewPitchDegrees")[0],l=g.getElementsByTagNameNS("*","Stitched")[0],m=g.getElementsByTagNameNS("*","StitchingSoftware")[0],n=g.getElementsByTagNameNS("*","StereoMode")[0],o=g.getElementsByTagNameNS("*","ProjectionType")[0],p=null;if(j){var q=parseInt(j.childNodes[0].nodeValue,10);if(!isNaN(q))p=q}var r=null;if(k){var s=parseInt(k.childNodes[0].nodeValue,10);if(!isNaN(s))r=s}var t=i?i.childNodes[0].nodeValue.toLowerCase()==="true":null,u=l?l.childNodes[0].nodeValue.toLowerCase()==="true":null,v=m?m.childNodes[0].nodeValue:null,w=n?a("VideoSphericalMetadataUtil").stringToStereoMode(n.childNodes[0].nodeValue):null,x=o?a("VideoSphericalMetadataUtil").stringToProjectionType(o.childNodes[0].nodeValue):null;if(p!==null)f=f.set("initialYaw",p);if(r!==null)f=f.set("initialPitch",r);if(u!==null)f=f.set("stitched",u);if(v!==null)f=f.set("stitchingSoftware",v);if(t)f=f.set("spherical",t);if(w)f=f.set("stereoMode",w);if(x)f=f.set("projectionType",x);if(h)f=f.set("extraTagXML",h);return f},parseFBSphericalMetadataXML:function d(e,f){__p&&__p();var g,h=a("VideoSphericalMetadataUtil").parseXMLToDocument(e);if(!h)return f;var i=null,j=null,k=null,l=null,m=h.getElementsByTagNameNS("*","InitialVerticalFOVDegrees")[0];if(m){var n=parseInt(m.childNodes[0].nodeValue,10);if(!isNaN(n))i=n}var o=h.getElementsByTagNameNS("*","Used360Director")[0];if(o)l=o.childNodes[0].nodeValue==="true";var p=h.getElementsByTagNameNS("*","Guide")[0];if(p){var q=p.getElementsByTagName("Keyframe"),r=function r(w){__p&&__p();var Q=w.getElementsByTagName("pitch"),R=w.getElementsByTagName("yaw"),m=w.getElementsByTagName("fov"),S=w.getElementsByTagName("timestamp"),T=void 0;if(Q.length>0){var U=parseFloat(Q[0].textContent);if(!isNaN(U))T=U}var V=void 0;if(R.length>0){var W=parseFloat(R[0].textContent);if(!isNaN(W))V=W}var X=void 0;if(m.length>0){var Y=parseInt(m[0].textContent,10);if(!isNaN(Y))X=Y}var Z=void 0;if(S.length>0){var $=parseInt(S[0].textContent,10);if(!isNaN($))Z=$}if(T==null||V==null||X==null||Z==null)return"continue";if(!j)j=new(a("FBGuideMetadata"))({keyframes:[]});j=j.update("keyframes",function(va){return va.concat([{pitch:T,yaw:V,fov:X,timestamp:Z}])})};for(var s=q,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v,g=r(w);if(g==="continue")continue}}var x=h.getElementsByTagNameNS("*","HotspotMetadata")[0];if(x){var y=x.getElementsByTagName("Hotspot"),z=[];for(var A=y,B=Array.isArray(A),C=0,A=B?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(B){if(C>=A.length)break;D=A[C++]}else{C=A.next();if(C.done)break;D=C.value}var E=D,F=E.attributes,G=Number.parseFloat(F.getNamedItem("yaw").nodeValue),fa=Number.parseFloat(F.getNamedItem("pitch").nodeValue),ga=Number.parseInt(F.getNamedItem("startTime").nodeValue,10),ha=Number.parseInt(F.getNamedItem("endTime").nodeValue,10),H=void 0;for(var I=E.children,J=Array.isArray(I),K=0,I=J?I:I[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var L;if(J){if(K>=I.length)break;L=I[K++]}else{K=I.next();if(K.done)break;L=K.value}var M=L;if(H)throw new Error("Only one content type allowed per hotspot.");var N=M.attributes,ia=N.getNamedItem("id").nodeValue,ja=Number.parseFloat(N.getNamedItem("width").nodeValue),ka=Number.parseFloat(N.getNamedItem("height").nodeValue),la=N.getNamedItem("animation").nodeValue,O={id:ia,width:ja,height:ka,animation:la},P=M.getElementsByTagName("LinkAction");if(P.length>0){var ma={url:P[0].attributes.getNamedItem("url").nodeValue,trigger:P[0].attributes.getNamedItem("trigger").nodeValue};O=babelHelpers["extends"]({},O,{linkAction:ma})}switch(M.tagName){case"Text":var na=N.getNamedItem("alignment").nodeValue,oa=N.getNamedItem("color").nodeValue,pa=N.getNamedItem("fontWeight").nodeValue,qa=Number.parseInt(N.getNamedItem("fontSize").nodeValue,10),ra=N.getNamedItem("fontFamily").nodeValue,sa=N.getNamedItem("backgroundColor").nodeValue,ta=M.textContent.trim();H=babelHelpers["extends"]({type:a("SphericalVideoHotspotType").TEXT,color:oa,fontWeight:pa,fontSize:qa,fontFamily:ra,backgroundColor:sa,alignment:na,text:ta},O);break;case"Image":var ua=M.textContent.trim();H=babelHelpers["extends"]({type:a("SphericalVideoHotspotType").IMAGE,imageData:ua},O);break}}if(H)z.push(new(a("FBHotspot"))({yaw:G,pitch:fa,startTime:ga,endTime:ha,content:H}))}k=new(a("FBHotspotMetadata"))({hotspots:z})}if(i||j||k||l){if(i!==null)f=f.set("initialFOV",i);if(j!==null)f=f.set("guideData",j);if(k!==null)f=f.set("fbHotspotMetadata",k);if(l!==null)f=f.set("used360Director",l)}return f},parseFBSpatialAudioXML:function d(e){__p&&__p();var f=a("VideoSphericalMetadataUtil").parseXMLToDocument(e);if(!f)return null;var g=f.getElementsByTagName("encoder_metadata")[0],h=f.getElementsByTagName("spatial")[0],i=f.getElementsByTagName("headlocked")[0],j=f.getElementsByTagName("focus")[0],k=f.getElementsByTagName("track"),l=new(a("FBSpatialAudioMetadata"))();if(g)l=l.set("encoderMetadata",{gitCommitDate:g.getAttribute("git_commit_date"),gitHash:g.getAttribute("git_hash"),is64Bit:g.getAttribute("is64bit")==="yes",name:g.getAttribute("name"),osName:g.getAttribute("osName"),version:g.getAttribute("version")});if(h){var m=h.getAttribute("format"),n=h.getAttribute("channel_map"),o=[];if(n){var p=n.split(" ");for(var q=p,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;o.push(parseInt(u,10))}}l=l.set("spatialData",{bitDepth:parseInt(h.getAttribute("bit_depth"),10),channelMap:o,format:m?m:"",sampleRate:parseInt(h.getAttribute("sample_rate"),10)})}if(i)l=l.set("headlockedData",{bitDepth:parseInt(h.getAttribute("bit_depth"),10),sampleRate:parseInt(h.getAttribute("sample_rate"),10)});if(j){var v=j.getAttribute("schemeIdUri");l=l.set("focusData",{enabled:j.getAttribute("enabled")==="true",focusWidthDegrees:parseFloat(j.getAttribute("focusWidthDegrees")),offFocusLevel:parseFloat(j.getAttribute("offFocusLevel")),offFocusLevelDB:parseFloat(j.getAttribute("offFocusLevelDB")),schemeIDUri:v?v:""})}if(k){var w=[];for(var x=k,y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}var B=A,C=B.getElementsByTagName("AudioChannelConfiguration"),D=void 0;if(C.length>1)D=C[1];else D=C[0];var E=D.getAttribute("schemeIdUri"),F=D.getAttribute("value");w.push({schemeIDUri:E?E:"",trackID:parseInt(B.getAttribute("id"),10),value:F?F:""})}l=l.set("trackData",w)}return l},parseYTSpatialAudioJSON:function d(e){var f=JSON.parse(e),g=f.ambisonic_channel_ordering,h=f.ambisonic_normalization,i=f.ambisonic_order,j=f.ambisonic_type,k=f.channel_map,l=f.num_channels,m=f.version;return new(a("YTSpatialAudioMetadata"))({ambisonic_channel_ordering:g,ambisonic_normalization:h,ambisonic_order:i,ambisonic_type:j,channel_map:k,num_channels:l,version:m})}};b.exports=c}),null);
__d("VideoSphericalMetadataReaderController",["regeneratorRuntime","ISOVideoFile","VideoSphericalMetadataGatherer","VideoSphericalMetadataReader","SphericalMetadata","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=3;function i(j){this.$VideoSphericalMetadataReaderController2=new(c("SphericalMetadata"))();this.$VideoSphericalMetadataReaderController3=false;switch(j.sourceType){case"fileObject":this.$VideoSphericalMetadataReaderController5=j.fileObject;this.$VideoSphericalMetadataReaderController4=new(c("VideoSphericalMetadataGatherer"))(this.$VideoSphericalMetadataReaderController5);break;case"metadata":this.$VideoSphericalMetadataReaderController1=j.metadata;break;default:throw new Error("Unrecognized source type")}}i.prototype.$VideoSphericalMetadataReaderController6=function(){__p&&__p();if(!this.$VideoSphericalMetadataReaderController1)return;if(!this.$VideoSphericalMetadataReaderController1.isSpherical)return;if(this.$VideoSphericalMetadataReaderController1.GSphericalMetadataXML)this.$VideoSphericalMetadataReaderController2=c("VideoSphericalMetadataReader").parseGSphericalMetadataXML(this.$VideoSphericalMetadataReaderController1.GSphericalMetadataXML,this.$VideoSphericalMetadataReaderController2);if(this.$VideoSphericalMetadataReaderController1.FBSphericalMetadataXML)this.$VideoSphericalMetadataReaderController2=c("VideoSphericalMetadataReader").parseFBSphericalMetadataXML(this.$VideoSphericalMetadataReaderController1.FBSphericalMetadataXML,this.$VideoSphericalMetadataReaderController2);if(this.$VideoSphericalMetadataReaderController1.FBSpatialAudioMetadataXML){var j=c("VideoSphericalMetadataReader").parseFBSpatialAudioXML(this.$VideoSphericalMetadataReaderController1.FBSpatialAudioMetadataXML);if(j)this.$VideoSphericalMetadataReaderController2=this.$VideoSphericalMetadataReaderController2.set("fbSpatialAudioMetadata",j)}if(this.$VideoSphericalMetadataReaderController1.YTSA3DMetadataJSON){var k=c("VideoSphericalMetadataReader").parseYTSpatialAudioJSON(this.$VideoSphericalMetadataReaderController1.YTSA3DMetadataJSON);this.$VideoSphericalMetadataReaderController2=this.$VideoSphericalMetadataReaderController2.set("ytSpatialAudioMetadata",k)}this.$VideoSphericalMetadataReaderController2=this.$VideoSphericalMetadataReaderController2.set("mayHaveSpatialAudio",this.$VideoSphericalMetadataReaderController1.numAudioTracks===h);this.$VideoSphericalMetadataReaderController3=true};i.objectToRawSphericalMetadata=function(j){__p&&__p();var k,l,m,n,o,p=j.streams.numAudioTracks,q=!!((k=j)!=null?(k=k.format)!=null?k.isSpherical:k:k),r={isSpherical:q,numAudioTracks:p};if(!q)return r;var s=(l=j)!=null?(l=l.metadata)!=null?l.sphericalMetadataXml:l:l;if(s)r.GSphericalMetadataXML=s;var t=(m=j)!=null?(m=m.metadata)!=null?m.FBSphericalMetadataXML:m:m;if(t)r.FBSphericalMetadataXML=t;var u=(n=j)!=null?(n=n.metadata)!=null?n.fbSpatialAudioMetadataXml:n:n;if(u)r.FBSpatialAudioMetadataXML=u;var v=(o=j)!=null?(o=o.metadata)!=null?o.ytSa3dMetadataJson:o:o;if(v)r.YTSA3DMetadataJSON=v;return r};i.prototype.getFileMetadata=function j(){__p&&__p();var k;return c("regeneratorRuntime").async(function l(m){__p&&__p();while(1)switch(m.prev=m.next){case 0:if(this.$VideoSphericalMetadataReaderController3){m.next=15;break}if(this.$VideoSphericalMetadataReaderController1){m.next=14;break}m.prev=2;k=this.$VideoSphericalMetadataReaderController4;if(!k){m.next=9;break}if(k.hasGathered()){m.next=8;break}m.next=8;return c("regeneratorRuntime").awrap(k.gatherRawSphericalMetadata());case 8:this.$VideoSphericalMetadataReaderController1=k.getRawSphericalMetadata();case 9:m.next=14;break;case 11:m.prev=11;m.t0=m["catch"](2);return m.abrupt("return",this.$VideoSphericalMetadataReaderController2);case 14:this.$VideoSphericalMetadataReaderController6();case 15:return m.abrupt("return",this.$VideoSphericalMetadataReaderController2);case 16:case"end":return m.stop()}},null,this,[[2,11]])};f.exports=i}),null);
__d("VideoComposerDialogSphericalDirectorStore",["Promise","ComposerVideoUploadSphericalMetadataUtils","ComposerVideoUploadSphericalStore","FluxReduceStore","immutable","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoSphericalMetadataInjector","VideoSphericalMetadataReaderController","flattenPHPQueryData"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={bootloadedParams:null,contextConfig:null,metadata:null,omnistabEnabled:false,showOmnistabSection:false,spherical:false};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.__moduleID=f.id,p}n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").RESET_COMPOSER:o=this.$VideoComposerDialogSphericalDirectorStore1(o);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_CROSSPOST_PARAMETERS:o=this.$VideoComposerDialogSphericalDirectorStore2(o,p.data);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS:var q=p.data,r=q.showOmnistabSection,s=q.hasOmnistabEncoding,t=q.omnistabEnabled,u=babelHelpers.objectWithoutProperties(q,["showOmnistabSection","hasOmnistabEncoding","omnistabEnabled"]);o=o.set("omnistabEnabled",t);o=o.set("showOmnistabSection",r&&s);o=this.$VideoComposerDialogSphericalDirectorStore2(o,u);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS:o=o.set("showOmnistabSection",p.data.showOmnistabSection);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_DEFAULT_TAB:o=this.$VideoComposerDialogSphericalDirectorStore3(o,p.data.composerConfig.contextConfig);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_EDIT_PARAMS:o=this.$VideoComposerDialogSphericalDirectorStore3(o,p.data.composerConfig.contextConfig);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_CONTEXT_CONFIG:o=this.$VideoComposerDialogSphericalDirectorStore4(o,p.data);return o;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER:o=this.$VideoComposerDialogSphericalDirectorStore5(o,p.data);return o;case c("VideoComposerDialogActionTypes").TOGGLE_SPHERICAL:o=o.set("spherical",p.data);return o;default:return o}};n.prototype.$VideoComposerDialogSphericalDirectorStore3=function(o,p){o=o.set("contextConfig",p);var q=this.getState().get("bootloadedParams");if(q)o=this.$VideoComposerDialogSphericalDirectorStore6(o,p.composerID,q);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore4=function(o,p){o=o.set("contextConfig",p);var q=this.getState().get("metadata");if(q)o=this.$VideoComposerDialogSphericalDirectorStore7(o,p.composerID,q);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore2=function(o,p){o=o.set("bootloadedParams",p);var q=this.getState().get("contextConfig");if(q)o=this.$VideoComposerDialogSphericalDirectorStore6(o,q.composerID,p);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore5=function(o,p){o=o.set("metadata",p);var q=this.getState().get("contextConfig");if(q)o=this.$VideoComposerDialogSphericalDirectorStore7(o,q.composerID,p);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore1=function(o){var p=this.getState().get("contextConfig");if(p)c("ComposerVideoUploadSphericalStore").clearComposerData(p.composerID);o=this.getInitialState();return o};n.prototype.$VideoComposerDialogSphericalDirectorStore6=function(o,p,q){var r=this.getState().get("omnistabEnabled"),s=c("ComposerVideoUploadSphericalMetadataUtils").convertHotspotsRawDataToFBHotspotMetadata(q.hotspotRawData);c("ComposerVideoUploadSphericalMetadataUtils").initWithParams(p,q.initialHeading,q.initialPitch,q.fov,q.guideEnabled,q.guideKeyframes,q.projection,q.stereoMode,q.hasSpatialAudio,r,s);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore7=function(o,p,q){__p&&__p();if(q&&q.format){var r=q.format.isSpherical;o=o.set("spherical",r);if(r){var s=c("VideoSphericalMetadataReaderController").objectToRawSphericalMetadata(q);new(c("VideoSphericalMetadataReaderController"))({sourceType:"metadata",metadata:s}).getFileMetadata().then(function(t){c("ComposerVideoUploadSphericalMetadataUtils").initWithOriginalSphericalMetadata(p,t)}).done()}}return o};n.prototype.getEditAndCrosspostRequestData=function(){__p&&__p();var o=this.getState().get("contextConfig"),p=this.getState().get("spherical");if(!o||!p)return c("Promise").resolve({});var q=c("ComposerVideoUploadSphericalStore").getPostData(o.composerID),r={};r.spherical=p;r.initial_heading=q.initialHeading;r.initial_pitch=q.initialPitch;r.fov=q.fov;r.guide_enabled=!!q.guide_enabled;r.enable_omnistab=!!q.enable_omnistab;var s=c("flattenPHPQueryData")({guide:q.guide_keyframes});Object.keys(s).forEach(function(u){r[u]=s[u]});if(q.hotspots){var t=c("VideoSphericalMetadataInjector").convertFBHotspotMetadataToXML(q.hotspots);if(t)r.hotspots_xml=new Blob([t],{type:"text/xml"})}return c("Promise").resolve(r)};n.prototype.getPostRequestDataToSend=function(){__p&&__p();var o=this.getState().get("contextConfig");if(!o)return c("Promise").resolve({});var p=["enable_omnistab","guide_enabled","guide_keyframes","fov","hotspotXML","initialHeading","initialPitch","projection","spherical","stereoMode"],q=Object.assign({},c("ComposerVideoUploadSphericalStore").getPostData(o.composerID));q.spherical=this.getState().get("spherical");if(q.hotspots){var r=c("VideoSphericalMetadataInjector").convertFBHotspotMetadataToXML(q.hotspots);if(r)q.hotspotXML=new Blob([r],{type:"text/xml"})}var s=p.reduce(function(t,u){if(u in q)t[u]=q[u];return t},{});return c("Promise").resolve(s)};f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("XVideoComposerDialogBootloadSphericalDirectorCrosspostTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/crosspost/bootload_spherical_director/",{video_asset_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogBootloadSphericalDirectorEditTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_spherical_director_edit/",{video_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogBootloadSphericalDirectorUploadTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_spherical_director_upload/",{target_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogSphericalDirectorUtils",["ActorURI","AsyncRequest","VideoComposerDialogSphericalDirectorActions","XVideoComposerDialogBootloadSphericalDirectorCrosspostTabController","XVideoComposerDialogBootloadSphericalDirectorEditTabController","XVideoComposerDialogBootloadSphericalDirectorUploadTabController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(k,l){var m=c("XVideoComposerDialogBootloadSphericalDirectorCrosspostTabController").getURIBuilder().setFBID("video_asset_id",l).getURI(),n=c("ActorURI").create(m,k);return new(c("AsyncRequest"))(n).exec()},i=function i(k,l){var m=c("XVideoComposerDialogBootloadSphericalDirectorEditTabController").getURIBuilder().setFBID("video_id",l).getURI(),n=c("ActorURI").create(m,k);return new(c("AsyncRequest"))(n).exec()},j=function j(k){var l=c("XVideoComposerDialogBootloadSphericalDirectorUploadTabController").getURIBuilder().setFBID("target_id",k).getURI(),m=c("ActorURI").create(l,k);new(c("AsyncRequest"))(m).send()};f.exports={beginBootloadingSphericalDirectorCrosspostTab:h,beginBootloadingSphericalDirectorEditTab:i,beginBootloadingSphericalDirectorUploadTab:j,bootloadSphericalDirectorUploadTab:function k(l){c("VideoComposerDialogSphericalDirectorActions").bootloadUploadParameters(l)}}}),null);
__d("VideoComposerDialogSphericalDirectorTabConfig",["ix","fbt","Promise","SphericalVideoExperiments","VideoComposerDialogSphericalDirectorActions","VideoComposerDialogSphericalDirectorContainer.react","VideoComposerDialogSphericalDirectorStore","VideoComposerDialogSphericalDirectorTabContainer.react","VideoComposerDialogSphericalDirectorUtils","VideoComposerDialogTab","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=i._("Add more detail to your 360 video with guide points."),k=i._("Add more detail to your 360 video with guide points and text."),l=i._("Add more detail to your 360 video with guide points and images."),m=i._("Add more detail to your 360 video with guide points, text, and images."),n={key:c("VideoComposerDialogTab").SPHERICAL_DIRECTOR,glyphSelected:h("426964"),glyphUnselected:h("426965"),title:i._("360 Director Tools"),defaultDescription:c("SphericalVideoExperiments").enableTextHotspots?c("SphericalVideoExperiments").enableImageHotspots?m:k:c("SphericalVideoExperiments").enableImageHotspots?l:j,tabContainer:c("VideoComposerDialogSphericalDirectorTabContainer.react"),bodyContainer:c("VideoComposerDialogSphericalDirectorContainer.react"),getCrosspostRequestDataToSend:function o(){return c("VideoComposerDialogSphericalDirectorStore").getEditAndCrosspostRequestData()},getEditRequestDataToSend:function o(){return c("VideoComposerDialogSphericalDirectorStore").getEditAndCrosspostRequestData()},getPostRequestDataToSend:function o(){return c("VideoComposerDialogSphericalDirectorStore").getPostRequestDataToSend()},fetchCrosspostData:function o(p){if(!p.isSpherical)return c("Promise").resolve();if(!p.actorID||!p.videoAssetID)return c("Promise").reject();return c("VideoComposerDialogSphericalDirectorUtils").beginBootloadingSphericalDirectorCrosspostTab(p.actorID,p.videoAssetID).then(function(q){c("VideoComposerDialogSphericalDirectorActions").toggleSpherical(p.isSpherical);return q}).then(function(q){c("VideoComposerDialogSphericalDirectorActions").bootloadCrosspostParameters(q.payload);return})},fetchEditPostData:function o(p){if(!p.isSpherical)return c("Promise").resolve();if(!p.actorID||!p.videoID)return c("Promise").reject();return c("VideoComposerDialogSphericalDirectorUtils").beginBootloadingSphericalDirectorEditTab(p.actorID,p.videoID).then(function(q){c("VideoComposerDialogSphericalDirectorActions").toggleSpherical(p.isSpherical);return q}).then(function(q){c("VideoComposerDialogSphericalDirectorActions").bootloadEditParameters(q.payload);return})}};f.exports=n}),null);
__d("VideoComposerDialogTabs",["immutable","VideoComposerDialogAdBreaksTabConfig","VideoComposerDialogBasicTabConfig","VideoComposerDialogCaptionsTabConfig","VideoComposerDialogDistributionTabConfig","VideoComposerDialogMomentsOfInterestTabConfig","VideoComposerDialogRightsTabConfig","VideoComposerDialogSphericalDirectorTabConfig","VideoComposerDialogTrackingTabConfig","VideoComposerDialogThumbnailsTabConfig"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").Map({basic:c("VideoComposerDialogBasicTabConfig"),distribution:c("VideoComposerDialogDistributionTabConfig"),captions:c("VideoComposerDialogCaptionsTabConfig"),ad_breaks:c("VideoComposerDialogAdBreaksTabConfig"),tracking:c("VideoComposerDialogTrackingTabConfig"),thumbnails:c("VideoComposerDialogThumbnailsTabConfig"),spherical_director:c("VideoComposerDialogSphericalDirectorTabConfig"),rights:c("VideoComposerDialogRightsTabConfig"),moments_of_interest:c("VideoComposerDialogMomentsOfInterestTabConfig")});f.exports=h}),null);
__d("VideoComposerDialogThumbnailActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(p){var q={type:c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_THUMBNAILS,data:p};c("VideoComposerDialogDispatcher").dispatch(q)},i=function i(p){var q={type:c("VideoComposerDialogActionTypes").BOOTLOAD_THUMBNAILS_FOR_EDIT,data:p};c("VideoComposerDialogDispatcher").dispatch(q)},j=function j(p){var q={type:c("VideoComposerDialogActionTypes").GENERATED_THUMBNAILS,data:p};c("VideoComposerDialogDispatcher").dispatch(q)},k=function k(p){var q={type:c("VideoComposerDialogActionTypes").SELECT_SECTION,section:p};c("VideoComposerDialogDispatcher").dispatch(q)},l=function l(p){var q={type:c("VideoComposerDialogActionTypes").TOGGLE_SELECTED_GENERATED_THUMBNAIL,index:p};c("VideoComposerDialogDispatcher").dispatch(q)},m=function m(p){var q={type:c("VideoComposerDialogActionTypes").UPDATE_CUSTOM_THUMBNAIL,thumbnail:p};c("VideoComposerDialogDispatcher").dispatch(q)},n=function n(p){var q={type:c("VideoComposerDialogActionTypes").UPDATE_SCRUBBED_THUMBNAIL,thumbnail:p};c("VideoComposerDialogDispatcher").dispatch(q)},o=function o(p){var q={type:c("VideoComposerDialogActionTypes").UPDATE_SELECTED_THUMBNAIL,thumbnail:p};c("VideoComposerDialogDispatcher").dispatch(q)};f.exports={bootloadCrosspostThumbnails:h,bootloadThumbnailsForEdit:i,generatedThumbnails:j,selectThumbnailSection:k,toggleSelectedGeneratedThumbnail:l,updateCustomThumbnail:m,updateScrubbedThumbnail:n,updateSelectedThumbnail:o}}),null);
__d("XVideoComposerDialogCrosspostBootloadThumbnailsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/crosspost/bootload_thumbnails/",{video_asset_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogEditThumbnailsTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/thumbnails/",{video_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogThumbnailUtils",["ActorURI","AsyncRequest","UserAgent","VideoComposerDialogConstants","VideoComposerDialogMode","VideoComposerDialogThumbnailActions","XVideoComposerDialogCrosspostBootloadThumbnailsController","XVideoComposerDialogEditThumbnailsTabController","generateVideoThumbnails"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(m){if(!l(c("VideoComposerDialogMode").VIDEO_UPLOAD))return;var n=c("generateVideoThumbnails")(m,m.videoWidth?m.videoWidth:0,m.videoHeight?m.videoHeight:0,c("VideoComposerDialogConstants").GENERATED_THUMBNAILS,"contain");n.done(function(o){c("VideoComposerDialogThumbnailActions").generatedThumbnails(o)})},i=function i(m,n){var o=c("XVideoComposerDialogCrosspostBootloadThumbnailsController").getURIBuilder().setFBID("video_asset_id",n).getURI(),p=c("ActorURI").create(o,m);return new(c("AsyncRequest"))().setURI(p).exec().then(function(q){c("VideoComposerDialogThumbnailActions").bootloadCrosspostThumbnails(q.payload)})},j=function j(m,n){var o=c("XVideoComposerDialogEditThumbnailsTabController").getURIBuilder().setFBID("video_id",n).getURI(),p=c("ActorURI").create(o,m);return new(c("AsyncRequest"))().setURI(p).exec().then(function(q){c("VideoComposerDialogThumbnailActions").bootloadThumbnailsForEdit(q.payload)})},k=function k(m){return m===c("VideoComposerDialogMode").VIDEO_UPLOAD&&(c("UserAgent").isBrowser("Firefox >= 14")||c("UserAgent").isBrowser("Chrome"))},l=function l(m){if(m===c("VideoComposerDialogMode").VIDEO_UPLOAD)return c("UserAgent").isBrowser("Firefox >= 14")||c("UserAgent").isBrowser("Chrome");return true};f.exports={beginBootloadingCrosspostThumbnailsTab:i,beginBootloadingEditThumbnailsTab:j,onMetadataLoaded:h,showGeneratedSection:l,showScrubberSection:k}}),null);
__d("URLVideoThumbnail",["VideoThumbnail"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("VideoThumbnail"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this,k)}f.exports=j}),null);
__d("VideoComposerDialogThumbnailTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({GENERATED:"",CUSTOM:"",VIDEO_FRAME:""});f.exports={ThumbnailSection:h}}),null);
__d("VideoThumbnailSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CUSTOM:"custom",GENERATED_DEFAULT:"generated_default",GENERATED_SELECTED:"generated_selected",SCRUBBER_SELECTED:"scrubber_selected"})}),null);
__d("VideoComposerDialogThumbnailsStore",["Promise","FileVideoThumbnail","FluxReduceStore","immutable","URLVideoThumbnail","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogThumbnailTypes","VideoComposerDialogThumbnailUtils","VideoThumbnailSource"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=10,m={customThumbnail:null,displayOrder:[],generatedThumbnails:[],hasSelectedGeneratedThumb:false,newFileAdded:false,scrubbedThumbnail:null,selectedGeneratedIndex:0,selectedSection:c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED,selectedThumbnail:null,videoMetadataUnavailable:false};h=babelHelpers.inherits(n,c("immutable").Record(m));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.__moduleID=f.id,q}o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){__p&&__p();var r=this.getState(),s=r.customThumbnail,t=r.generatedThumbnails,u=r.scrubbedThumbnail,v=r.selectedGeneratedIndex;switch(q.type){case c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_THUMBNAILS:case c("VideoComposerDialogActionTypes").BOOTLOAD_THUMBNAILS_FOR_EDIT:p=this.$VideoComposerDialogThumbnailsStore1(p,q.data.selectedThumbnail,q.data.thumbnails);return p;case c("VideoComposerDialogActionTypes").GENERATED_THUMBNAILS:var w=q.data.selectedThumbnail,x=q.data.thumbnails,y=x.findIndex(function(z){return z.getURL()===w.getURL()})||0;if(y>0){x.splice(y,1);x.unshift(w)}p=p.set("selectedThumbnail",w);p=p.set("generatedThumbnails",x);return p;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_HTML_PLAYER:if(p.generatedThumbnails.length===0||p.newFileAdded){c("VideoComposerDialogThumbnailUtils").onMetadataLoaded(q.videoPlayer);p=p.set("newFileAdded",false)}return p;case c("VideoComposerDialogActionTypes").FILE_ADDED:p=p.set("newFileAdded",true);p=p.set("scrubbedThumbnail",null);return p;case c("VideoComposerDialogActionTypes").SELECT_SECTION:p=p.set("selectedSection",q.section);switch(q.section){case c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED:p=p.set("selectedThumbnail",t[v]);break;case c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM:if(s!==null)p=p.set("selectedThumbnail",s);break;case c("VideoComposerDialogThumbnailTypes").ThumbnailSection.VIDEO_FRAME:if(u!==null)p=p.set("selectedThumbnail",u);break;default:break}return p;case c("VideoComposerDialogActionTypes").TOGGLE_SELECTED_GENERATED_THUMBNAIL:p=p.set("hasSelectedGeneratedThumb",true);p=p.set("selectedGeneratedIndex",q.index);p=p.set("selectedThumbnail",t[q.index]);return p;case c("VideoComposerDialogActionTypes").UPDATE_CUSTOM_THUMBNAIL:p=p.set("customThumbnail",q.thumbnail);p=p.set("selectedThumbnail",q.thumbnail);return p;case c("VideoComposerDialogActionTypes").UPDATE_SCRUBBED_THUMBNAIL:p=p.set("scrubbedThumbnail",q.thumbnail);p=p.set("selectedThumbnail",q.thumbnail);return p;case c("VideoComposerDialogActionTypes").UPDATE_SELECTED_THUMBNAIL:p=p.set("selectedThumbnail",q.thumbnail);return p;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER:if(!q.data)p=p.set("videoMetadataUnavailable",true);return p;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:p=this.getInitialState();return p;default:return p}};o.prototype.$VideoComposerDialogThumbnailsStore1=function(p,q,r){__p&&__p();var s=[],t=[];for(var u=r.length-1;u>=l;u--){s.push(u);t.push(r[u])}for(var v=0;v<Math.min(r.length,l);v++){s.push(v);t.push(r[v])}p=p.set("displayOrder",s);p=p.set("generatedThumbnails",t.map(function(w){return new(c("URLVideoThumbnail"))(w)}));p=p.set("selectedThumbnail",new(c("URLVideoThumbnail"))(q));p=p.set("selectedGeneratedIndex",t.findIndex(function(w){return w===q}));return p};o.prototype.getPostRequestDataToSend=function(){__p&&__p();var p=this.getState(),q=p.hasSelectedGeneratedThumb,r=p.scrubbedThumbnail,s=p.selectedThumbnail,t={};if(s){if(s instanceof c("FileVideoThumbnail"))t.thumbnail_type=c("VideoThumbnailSource").CUSTOM;else if(r!==null&&r===s){t.thumbnail_type=c("VideoThumbnailSource").SCRUBBER_SELECTED;t.user_scrubbed_thumbnail_timestamp=s.getTime()}else t.thumbnail_type=q?c("VideoThumbnailSource").GENERATED_SELECTED:c("VideoThumbnailSource").GENERATED_DEFAULT;return s.getData().then(function(u){t.thumb=u;return t})}return c("Promise").resolve(t)};o.prototype.getCrosspostRequestDataToSend=function(){return this.$VideoComposerDialogThumbnailsStore2("thumb")};o.prototype.getEditRequestDataToSend=function(){return this.$VideoComposerDialogThumbnailsStore2("custom_thumbnail")};o.prototype.$VideoComposerDialogThumbnailsStore2=function(p){__p&&__p();var q=this.getState(),r=q.generatedThumbnails,s=q.selectedThumbnail,t=q.displayOrder,u={},v=-1;if(s instanceof c("URLVideoThumbnail")){r.forEach(function(x,y){if(x.getURL()===s.getURL())v=y});if(v!=-1)Object.assign(u,{preferred_thumbnail_index:t[v]+1})}if(s instanceof c("FileVideoThumbnail")){var w=s.getData();Object.assign(u,{preferred_thumbnail_index:r.length+1});return w.then(function(x){if(x)u[p]=x;return u})}return c("Promise").resolve(u)};f.exports=new o(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogThumbnailsTabConfig",["ix","fbt","React","VideoComposerDialogTab","VideoComposerDialogThumbnailsContainer.react","VideoComposerDialogThumbnailsStore","VideoComposerDialogThumbnailsTabContainer.react","VideoComposerDialogThumbnailUtils","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").THUMBNAILS,glyphSelected:h("425096"),glyphUnselected:h("425099"),title:i._("Thumbnail"),defaultDescription:c("React").createElement("div",null),tabContainer:c("VideoComposerDialogThumbnailsTabContainer.react"),bodyContainer:c("VideoComposerDialogThumbnailsContainer.react"),getCrosspostRequestDataToSend:function k(){return c("VideoComposerDialogThumbnailsStore").getCrosspostRequestDataToSend()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogThumbnailsStore").getEditRequestDataToSend()},getPostRequestDataToSend:function k(){return c("VideoComposerDialogThumbnailsStore").getPostRequestDataToSend()},fetchCrosspostData:function k(l){return c("VideoComposerDialogThumbnailUtils").beginBootloadingCrosspostThumbnailsTab(l.actorID,l.videoAssetID)},fetchEditPostData:function k(l){return c("VideoComposerDialogThumbnailUtils").beginBootloadingEditThumbnailsTab(l.actorID,l.videoID)}};f.exports=j}),null);
__d("VideoComposerDialogTrackingStore",["Promise","FluxReduceStore","immutable","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","flattenPHPQueryData"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={customLabels:[],universalID:""};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.__moduleID=f.id,p}n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").BOOTLOAD_TRACKING_EDIT_PARAMS:o=o.set("customLabels",p.data.customLabels);o=o.set("universalID",p.data.universalID);return o;case c("VideoComposerDialogActionTypes").UPDATE_CUSTOM_LABELS:o=o.set("customLabels",p.customLabels);return o;case c("VideoComposerDialogActionTypes").UPDATE_UNIVERSAL_ID:o=o.set("universalID",p.universalID);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:o=this.getInitialState();return o;default:return o}};n.prototype.getPostRequestDataToSend=function(){var o=this.getState(),p=o.customLabels,q=o.universalID;return c("Promise").resolve({custom_labels:p,external_video_id:q})};n.prototype.getEditRequestDataToSend=function(){return this.getPostRequestDataToSend().then(function(o){return c("Promise").resolve(c("flattenPHPQueryData")(o))})};f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogTrackingActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h=function h(k){var l={type:c("VideoComposerDialogActionTypes").BOOTLOAD_TRACKING_EDIT_PARAMS,data:k};c("VideoComposerDialogDispatcher").dispatch(l)},i=function i(k){var l={type:c("VideoComposerDialogActionTypes").UPDATE_CUSTOM_LABELS,customLabels:k};c("VideoComposerDialogDispatcher").dispatch(l)},j=function j(k){var l={type:c("VideoComposerDialogActionTypes").UPDATE_UNIVERSAL_ID,universalID:k};c("VideoComposerDialogDispatcher").dispatch(l)};f.exports={bootloadTrackingEditParams:h,updateCustomLabels:i,updateUniversalID:j}}),null);
__d("XVideoComposerDialogEditTrackingTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/tracking/",{video_id:{type:"FBID",required:true}})}),null);
__d("XVideoCustomLabelsTypeaheadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/custom_labels/typeahead/",{profile_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogTrackingUtils",["ActorURI","AsyncRequest","VideoComposerDialogTrackingActions","WebAsyncSearchSource","XVideoComposerDialogEditTrackingTabController","XVideoCustomLabelsTypeaheadController"],(function a(b,c,d,e,f,g){"use strict";var h=function h(j){var k=c("XVideoComposerDialogEditTrackingTabController").getURIBuilder().setFBID("video_id",j.videoID).getURI(),l=c("ActorURI").create(k,j.actorID);return new(c("AsyncRequest"))().setURI(l).exec().then(function(m){c("VideoComposerDialogTrackingActions").bootloadTrackingEditParams(m.payload)})},i=function i(j){var k=c("XVideoCustomLabelsTypeaheadController").getURIBuilder().setFBID("profile_id",j).getURI();return new(c("WebAsyncSearchSource"))({bootstrapRequests:[{uri:k}],getAllForEmptyQuery:true})};f.exports={beginBootloadingEditTrackingTab:h,loadCustomLabelsSearchSource:i}}),null);
__d("VideoComposerDialogTrackingTabConfig",["ix","fbt","Promise","VideoComposerDialogTab","VideoComposerDialogTrackingContainer.react","VideoComposerDialogTrackingStore","VideoComposerDialogTrackingTabContainer.react","VideoComposerDialogTrackingUtils","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").TRACKING,glyphSelected:h("401232"),glyphUnselected:h("401239"),title:i._("Tracking"),defaultDescription:i._("Add labels to help you manage and search for your video."),tabContainer:c("VideoComposerDialogTrackingTabContainer.react"),bodyContainer:c("VideoComposerDialogTrackingContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogTrackingStore").getEditRequestDataToSend()},getPostRequestDataToSend:function k(){return c("VideoComposerDialogTrackingStore").getPostRequestDataToSend()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("VideoComposerDialogTrackingUtils").beginBootloadingEditTrackingTab(l)}};f.exports=j}),null);
__d("PagesSettingsInstreamAdsBlockListImportDialog.react",["cx","fbt","FileInput.react","LayerFadeOnHide","LayerFadeOnShow","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIRadioList.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("XUIRadioList.react").Item;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.$PagesSettingsInstreamAdsBlockListImportDialog2=function(o){if(!o)this.props.onCancel()}.bind(this);this.$PagesSettingsInstreamAdsBlockListImportDialog3=function(event){var o=false;if(this.state.radioState==="replace")o=true;this.props.onImportBlockLists(o,event.target);this.props.onConfirm()}.bind(this);this.$PagesSettingsInstreamAdsBlockListImportDialog1=function(o){this.setState({radioState:o})}.bind(this);this.state={radioState:"add"}}m.prototype.render=function(){if(!this.props.isShown)return null;var n=null;if(this.props.showRadioList)n=c("React").createElement(c("XUIRadioList.react"),{className:"_5_qk",onValueChange:this.$PagesSettingsInstreamAdsBlockListImportDialog1,selectedValue:this.state.radioState},c("React").createElement(l,{value:"add"},i._("Add as a new block list")),c("React").createElement(l,{value:"replace"},i._("Replace current block lists")));return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide"),LayerFadeOnShow:c("LayerFadeOnShow")},onToggle:this.$PagesSettingsInstreamAdsBlockListImportDialog2,shown:this.props.isShown,width:500},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Import Block Lists")),c("React").createElement(c("XUIDialogBody.react"),null,i._("Import an existing block list (.csv) from another Page to use it on this Page."),n),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("FileInput.react"),{ref:"fileInput",onChange:this.$PagesSettingsInstreamAdsBlockListImportDialog3,name:"csv_file",accept:"text/csv"},c("React").createElement(c("XUIButton.react"),{use:"confirm",label:i._("Upload CSV"),href:"#"}))))};f.exports=m}),null);
__d("PagesSettingsInstreamAdsBlockListGlyphButton.react",["cx","React","SUIGlyphIcon.react","Tooltip"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.state={hover:false}}k.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({className:"_3es_"+(this.props.disabled?" _b9s":"")+(this.props.hidden?" _b9t":""),onMouseEnter:this.$PagesSettingsInstreamAdsBlockListGlyphButton1.bind(this),onMouseLeave:this.$PagesSettingsInstreamAdsBlockListGlyphButton2.bind(this)},c("Tooltip").propsFor(this.props.tooltip)),c("React").createElement(c("SUIGlyphIcon.react"),{active:this.props.active,hover:this.state.hover,srcActive:this.props.srcActive,srcDefault:this.props.srcDefault,srcHover:this.props.srcHover,onClick:this.props.disabled?null:this.props.onClick}))};k.prototype.$PagesSettingsInstreamAdsBlockListGlyphButton1=function(){this.setState({hover:true})};k.prototype.$PagesSettingsInstreamAdsBlockListGlyphButton2=function(){this.setState({hover:false})};k.defaultProps={active:false,disabled:false,hidden:false};f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListItem.react",["ix","cx","fbt","InstreamAdsBlockListState","React","SimpleXUIDialog","PagesSettingsInstreamAdsBlockListGlyphButton.react","Tooltip","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n);this.state={isActive:false}}m.prototype.render=function(){__p&&__p();var n=null,o=null,p=null,q=null;if(!this.props.requestSent&&this.state.isActive){var r=this.props.editable?h("126554"):h("126072"),s=this.props.editable?h("128156"):h("127674"),t=this.props.editable?j._("Edit"):j._("Open");o=c("React").createElement("div",{className:"_3-9c"},c("React").createElement(c("PagesSettingsInstreamAdsBlockListGlyphButton.react"),{srcDefault:r,srcHover:s,tooltip:t,onClick:this.$PagesSettingsInstreamAdsBlockListItem1.bind(this)}));if(this.props.editable)p=c("React").createElement("div",{className:"_3-9c"},c("React").createElement(c("PagesSettingsInstreamAdsBlockListGlyphButton.react"),{srcDefault:h("125921"),srcHover:h("127523"),tooltip:j._("Delete"),onClick:this.$PagesSettingsInstreamAdsBlockListItem2.bind(this)}));if(this.props.enableBlockListExportButton)q=c("React").createElement(c("PagesSettingsInstreamAdsBlockListGlyphButton.react"),{srcDefault:h("126026"),srcHover:h("127628"),tooltip:j._("Export"),onClick:this.$PagesSettingsInstreamAdsBlockListItem3.bind(this)})}if(this.props.appliable){var u=this.$PagesSettingsInstreamAdsBlockListItem4()?h("122578"):h("123261"),v=this.props.blockList.isPageLevel,w=null;if(!v)w=this.$PagesSettingsInstreamAdsBlockListItem4()?j._("Cancel"):j._("Apply");n=c("React").createElement(c("PagesSettingsInstreamAdsBlockListGlyphButton.react"),{active:this.$PagesSettingsInstreamAdsBlockListItem4()||this.$PagesSettingsInstreamAdsBlockListItem5(),disabled:v,hidden:!this.state.isActive&&!this.$PagesSettingsInstreamAdsBlockListItem4()&&!this.$PagesSettingsInstreamAdsBlockListItem5(),srcActive:u,srcDefault:h("125782"),srcHover:h("127384"),tooltip:w,onClick:this.$PagesSettingsInstreamAdsBlockListItem6.bind(this)})}return c("React").createElement("li",{className:"_apd"+(this.state.isActive?" _2hpc":""),key:this.props.blockList.id,onMouseEnter:this.$PagesSettingsInstreamAdsBlockListItem7.bind(this),onMouseLeave:this.$PagesSettingsInstreamAdsBlockListItem8.bind(this)},n,c("React").createElement("div",{className:"_2hpd"},c("React").createElement("div",{className:"_apj"},this.props.blockList.name),c("React").createElement("div",{className:"_apk"},this.$PagesSettingsInstreamAdsBlockListItem9())),q,o,p)};m.prototype.$PagesSettingsInstreamAdsBlockListItem9=function(){if(this.props.blockList.isPageLevel)return c("React").createElement("span",null,this.$PagesSettingsInstreamAdsBlockListItem10(),j._("Page-level block list")," \xb7 ",j._("Applied to all videos"));else if(this.props.blockList.numVideosApplied>0)return c("React").createElement("span",null,this.$PagesSettingsInstreamAdsBlockListItem10(),j._({"*":"Applied to {number} videos","_1":"Applied to 1 video"},[j._plural(this.props.blockList.numVideosApplied,"number")]));return c("React").createElement("span",null,this.$PagesSettingsInstreamAdsBlockListItem10(),j._("Not yet applied"))};m.prototype.$PagesSettingsInstreamAdsBlockListItem10=function(){if(!this.props.blockList.isBusinessLevel)return null;return c("React").createElement("span",babelHelpers["extends"]({className:"_1nt2"},c("Tooltip").propsFor(j._("This block list was added by a Business Manager admin and can't be edited. Contact your Business Manager admin for more info."))),j._("Business"))};m.prototype.$PagesSettingsInstreamAdsBlockListItem7=function(){this.setState({isActive:true})};m.prototype.$PagesSettingsInstreamAdsBlockListItem8=function(){this.setState({isActive:false})};m.prototype.$PagesSettingsInstreamAdsBlockListItem3=function(){this.props.onClickExportSingleBlockList(this.props.blockList.id)};m.prototype.$PagesSettingsInstreamAdsBlockListItem1=function(){this.props.onClickItem(this.props.blockList)};m.prototype.$PagesSettingsInstreamAdsBlockListItem2=function(){var n=c("React").createElement("div",{className:"_4xfq"},j._("Are you sure you want to delete the block list {name}?",[j._param("name",this.props.blockList.name)]));c("SimpleXUIDialog").showConfirm(n,j._("Delete"),function(o){if(o)this.props.onDeleteItem(this.props.blockList.id)}.bind(this))};m.prototype.$PagesSettingsInstreamAdsBlockListItem4=function(){return this.props.state===c("InstreamAdsBlockListState").APPLIED||this.props.blockList.isPageLevel};m.prototype.$PagesSettingsInstreamAdsBlockListItem5=function(){return this.props.state===c("InstreamAdsBlockListState").PARTIALLY_APPLIED};m.prototype.$PagesSettingsInstreamAdsBlockListItem6=function(){if(this.$PagesSettingsInstreamAdsBlockListItem4())this.props.onUnapplyBlockList(this.props.blockList.id);else this.props.onApplyBlockList(this.props.blockList.id);this.props.onApplyOrUnapply&&this.props.onApplyOrUnapply()};f.exports=m}),null);
__d("PagesSettingsInstreamAdsBlockListView.react",["ix","cx","fbt","Image.react","InfiniteScroll.react","Link.react","PagesSettingsInstreamAdsBlockListContentContainer","PagesSettingsInstreamAdsBlockListImportDialog.react","PagesSettingsInstreamAdsBlockListItem.react","PopoverMenu.react","React","ReactXUIMenu","SimpleXUIDialog","Tooltip","XUIButton.react","XUIDialogCloseButton.react","XUINotice.react","XUIText.react","XUISpinner.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.renderBlockListItem=function(p){return c("React").createElement(c("PagesSettingsInstreamAdsBlockListItem.react"),{appliable:this.props.appliable,blockList:p,editable:p.editable,enableBlockListExportButton:this.props.enableBlockListExportButton,key:p.id,requestSent:this.props.requestSent,state:this.props.blockListStates.get(p.id),onApplyBlockList:this.props.onApplyBlockList,onApplyOrUnapply:this.props.onApplyOrUnapply,onClickExportSingleBlockList:this.onClickExportSingleBlockList.bind(this),onClickItem:this.onClickBlockListItem.bind(this),onDeleteItem:this.onDeleteBlockListItem.bind(this),onUnapplyBlockList:this.props.onUnapplyBlockList})}.bind(this);this.state={showBlockListContentDialog:false,showImportDialog:false}}n.prototype.render=function(){return c("React").createElement("div",null,this.renderContent.bind(this)(),this.renderBlockListContentDialog.bind(this)(),this.renderImportDialog.bind(this)())};n.prototype.renderContent=function(){__p&&__p();if(!this.props.allBlockListsLoaded)return c("React").createElement("div",{className:"_5-ex"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));if(!this.props.blockLists||this.props.blockLists.length===0){var o=null;if(!this.props.editable)o=c("Tooltip").propsFor(j._("Only Page admins can create new block lists."));var p=null;if(this.props.enableBlockListExportButton&&this.props.editable)p=c("React").createElement(c("XUIButton.react"),{label:j._("Import"),use:"default",onClick:this.onClickShowImportDialog.bind(this),type:"button"});return c("React").createElement("div",null,c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({action:"button",disabled:!this.props.editable,label:j._("Create New"),type:"button",use:"confirm",onClick:this.onClickCreateNewButton.bind(this)},o)),p)}var q=null,r=null;if(this.props.editable){q=c("React").createElement("div",{className:"_ehp"},c("React").createElement(c("Link.react"),{onClick:this.onClickCreateNewButton.bind(this)},j._("Create New")));r=c("React").createElement(m,{onClick:this.onClickShowImportDialog.bind(this)},j._("Import Block Lists"))}var s=null;if(this.props.enableBlockListExportButton){var t=c("React").createElement(c("ReactXUIMenu"),null,r,c("React").createElement(m,{onClick:this.onClickExportAllBlockListsButton.bind(this)},j._("Export Block Lists")));s=c("React").createElement(c("PopoverMenu.react"),{alignh:"right",className:"_4y3o",label:"Options",menu:t},c("React").createElement(c("XUIButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("123028")}),label:"Settings",labelIsHidden:true}))}var u=null;if(this.props.didImportBlockLists)u=c("React").createElement(c("XUINotice.react"),{className:"_334k",use:"success"},c("React").createElement(c("XUIText.react"),{size:"header4"},j._("Block Lists Updated")),c("React").createElement("br",null),c("React").createElement(c("XUIText.react"),{size:"meta1"},j._("The CSV has been applied to your block lists.")));var v=null;if(this.props.showLowFillRateWarning)v=c("React").createElement(c("XUINotice.react"),{className:"_334k",size:"small",use:"notify"},j._("Blocking too many Pages or categories could significantly reduce the availability of ads that are eligible for your videos."));return c("React").createElement("div",null,c("React").createElement("div",null,u,v),c("React").createElement("div",{className:"_ehn _eho"},c("React").createElement(c("InfiniteScroll.react"),{distanceToEnd:5},this.props.blockLists.map(this.renderBlockListItem,this))),c("React").createElement("div",{className:"_3et1"},q,s))};n.prototype.renderBlockListContentDialog=function(){if(!this.state.showBlockListContentDialog)return null;var o=this.props.editable,p=null;if(this.props.selectedBlockList){o=this.props.selectedBlockList.editable&&this.props.editable;p=this.props.selectedBlockList.id}return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentContainer"),{onToggle:this.onToggle.bind(this),editable:o,enableSubcategories:this.props.enableSubcategories,blockListId:p})};n.prototype.renderImportDialog=function(){var o=true;if(!this.props.blockLists||this.props.blockLists.length===0)o=false;return c("React").createElement(c("PagesSettingsInstreamAdsBlockListImportDialog.react"),{isShown:this.state.showImportDialog,onCancel:this.onClickCloseImportDialog.bind(this),onConfirm:this.onClickImportBlockListButton.bind(this),onImportBlockLists:this.props.onImportBlockLists,showRadioList:o})};n.prototype.onToggle=function(o){this.setState({showBlockListContentDialog:o})};n.prototype.onClickCreateNewButton=function(){this.props.onSelectBlockList(null);this.setState({showBlockListContentDialog:true})};n.prototype.onClickBlockListItem=function(o){this.props.onSelectBlockList(o);this.setState({showBlockListContentDialog:true})};n.prototype.onDeleteBlockListItem=function(o){this.props.onDeleteBlockLists([o])};n.prototype.onClickShowImportDialog=function(){this.setState({showImportDialog:true})};n.prototype.onClickCloseImportDialog=function(){this.setState({showImportDialog:false})};n.prototype.onClickImportBlockListButton=function(){this.setState({showImportDialog:false})};n.prototype.onClickExportAllBlockListsButton=function(){this.props.onExportAllBlockLists();this.showExportDialog()};n.prototype.onClickExportSingleBlockList=function(o){this.props.onExportSingleBlockList(o);this.showExportDialog()};n.prototype.showExportDialog=function(){var o=j._("The block list is downloading. When it's ready, you can import the CSV file to another Page to use it."),p=c("React").createElement(c("XUIDialogCloseButton.react"),null),q=j._("Export Block Lists");c("SimpleXUIDialog").showEx(o,q,p)};f.exports=n}),null);
__d("VideoComposerDialogAdBreakBlockListItem.react",["cx","fbt","FBCheckbox.react","InstreamAdsBlockListState","Link.react","React","SimpleXUIDialog","Tooltip","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={hover:false},this.$VideoComposerDialogAdBreakBlockListItem1=function(){this.setState({hover:true})}.bind(this),this.$VideoComposerDialogAdBreakBlockListItem2=function(){this.setState({hover:false})}.bind(this),this.$VideoComposerDialogAdBreakBlockListItem3=function(){!this.props.requestSent&&this.props.onClickItem(this.props.blockList)}.bind(this),this.$VideoComposerDialogAdBreakBlockListItem4=function(){var t=c("React").createElement("div",{className:"_4xfq"},i._("Are you sure you want to delete the block list {name}?",[i._param("name",this.props.blockList.name)]));c("SimpleXUIDialog").showConfirm(t,i._("Delete"),function(u){if(u)this.props.onDeleteItem(this.props.blockList.id)}.bind(this))}.bind(this),this.$VideoComposerDialogAdBreakBlockListItem6=function(t){if(this.props.requestSent||this.props.blockList.isPageLevel)return;if(!this.$VideoComposerDialogAdBreakBlockListItem5())this.props.onApplyBlockList(this.props.blockList.id);else this.props.onUnapplyBlockList(this.props.blockList.id)}.bind(this),p}l.prototype.$VideoComposerDialogAdBreakBlockListItem5=function(){return this.props.state===c("InstreamAdsBlockListState").APPLIED||this.props.blockList.isPageLevel};l.prototype.$VideoComposerDialogAdBreakBlockListItem7=function(){if(this.props.blockList.isPageLevel)return null;return this.$VideoComposerDialogAdBreakBlockListItem5()?i._("Cancel"):i._("Apply")};l.prototype.render=function(){return c("React").createElement("div",{className:"_4vdl _29qc",onMouseEnter:this.$VideoComposerDialogAdBreakBlockListItem1,onMouseLeave:this.$VideoComposerDialogAdBreakBlockListItem2},c("React").createElement("div",{className:"_4vdp"+(this.props.isFirstItem?" _4vdr":"")+(this.props.isLastItem?" _4vds":"")},c("React").createElement("div",babelHelpers["extends"]({href:"#"},c("Tooltip").propsFor(this.$VideoComposerDialogAdBreakBlockListItem7())),c("React").createElement(c("FBCheckbox.react"),{checked:this.$VideoComposerDialogAdBreakBlockListItem5(),className:"_29qd"+(this.props.blockList.isPageLevel?" _29qg":""),onToggle:this.$VideoComposerDialogAdBreakBlockListItem6})),c("React").createElement("div",{className:"_23q-"},c("React").createElement(c("Link.react"),{onClick:this.$VideoComposerDialogAdBreakBlockListItem3},c("React").createElement(c("XUIText.react"),{className:"_23q_",display:"block",size:"meta1",weight:"bold"},this.props.blockList.name)),c("React").createElement(m,{blockList:this.props.blockList}))),c("React").createElement("div",{className:"_4vdv"},c("React").createElement("div",{className:"_4vdw"+(this.props.requestSent||!this.state.hover||!this.props.editable?" _4vdx":""),onClick:this.$VideoComposerDialogAdBreakBlockListItem4,role:"presentation"})))};function m(o){var p=null;if(o.blockList.isPageLevel)p=c("React").createElement("span",null,i._("Default")," \xb7 ",i._("Applied to all videos"));else if(o.blockList.numVideosApplied>0)p=i._({"*":"Applied to {number} videos","_1":"Applied to 1 video"},[i._plural(o.blockList.numVideosApplied,"number")]);else p=i._("Not yet applied");return c("React").createElement("div",null,o.blockList.isBusinessLevel?c("React").createElement(n,null):null,c("React").createElement(c("XUIGrayText.react"),{className:"_23q_",size:"meta1"},p))}function n(){return c("React").createElement("span",babelHelpers["extends"]({className:"_1nt2",href:"#"},c("Tooltip").propsFor(i._("This block list was added by a Business Manager admin and can't be edited. Contact your Business Manager admin for more info."))),i._("Business"))}f.exports=l}),null);
__d("VideoComposerDialogAdBreakBlockListView.react",["cx","fbt","InstreamAdsBlockListState","PagesSettingsInstreamAdsBlockListContentContainer","React","Tooltip","VideoComposerDialogAdBreakBlockListItem.react","XUIButton.react","XUINotice.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={showBlockListContentDialog:false},this.$VideoComposerDialogAdBreakBlockListView1=function(s){this.setState({showBlockListContentDialog:s})}.bind(this),this.$VideoComposerDialogAdBreakBlockListView2=function(){this.props.onSelectBlockList(null);this.setState({showBlockListContentDialog:true})}.bind(this),this.$VideoComposerDialogAdBreakBlockListView3=function(s){this.props.onSelectBlockList(s);this.setState({showBlockListContentDialog:true})}.bind(this),this.$VideoComposerDialogAdBreakBlockListView4=function(s){this.props.onDeleteBlockLists([s])}.bind(this),o}l.prototype.render=function(){__p&&__p();if(!this.props.allBlockListsLoaded)return c("React").createElement("div",{className:"_1fxr"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));var n=null;if(!this.props.editable)n=c("Tooltip").propsFor(i._("Only Page admins can create new block lists."));var o=null;if(this.props.showLowFillRateWarning)o=c("React").createElement(c("XUINotice.react"),{className:"_3-98",size:"small",use:"notify"},i._("Blocking too many Pages or categories could significantly reduce the availability of ads that are eligible for your videos."));return c("React").createElement("div",{className:"_4vdk"},c("React").createElement(m,{editable:this.props.editable,selectedBlockList:this.props.selectedBlockList,showBlockListContentDialog:this.state.showBlockListContentDialog,onToggleDialog:this.$VideoComposerDialogAdBreakBlockListView1}),c("React").createElement("div",null,o),this.props.blockLists.map(function(p,q){var r=this.props.blockListStates.get(p.id);return c("React").createElement(c("VideoComposerDialogAdBreakBlockListItem.react"),{blockList:p,editable:p.editable,isFirstItem:q===0,isLastItem:q===this.props.blockLists.length-1,key:p.id,requestSent:this.props.requestSent,state:r?r:c("InstreamAdsBlockListState").NOT_APPLIED,onApplyBlockList:this.props.onApplyBlockList,onClickItem:this.$VideoComposerDialogAdBreakBlockListView3,onDeleteItem:this.$VideoComposerDialogAdBreakBlockListView4,onUnapplyBlockList:this.props.onUnapplyBlockList})}.bind(this)),c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({className:"_4vdf _29qh",disabled:!this.props.editable,href:"#",label:i._("Create New"),use:"default",onClick:this.$VideoComposerDialogAdBreakBlockListView2},n)))};function m(n){if(!n.showBlockListContentDialog)return null;var o=n.editable,p=null;if(n.selectedBlockList){o=n.selectedBlockList.editable&&n.editable;p=n.selectedBlockList.id}return c("React").createElement(c("PagesSettingsInstreamAdsBlockListContentContainer"),{blockListId:p,editable:o,enableSubcategories:false,onToggle:n.onToggleDialog})}f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListContainer",["AdBreakPortalInstreamAdsBlockListView.react","FluxContainer","PagesSettingsInstreamAdsBlockListActions","PagesSettingsInstreamAdsBlockListContentStore","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListStore","PagesSettingsInstreamAdsBlockListView.react","React","VideoComposerDialogAdBreakBlockListView.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("PagesSettingsInstreamAdsBlockListStore")]};j.calculateState=function(k){var l=c("PagesSettingsInstreamAdsBlockListStore").getState();return{allBlockListsLoaded:l.allBlockListsLoaded,blockLists:Array.from(l.blockLists),blockListStates:new Map(l.blockListStates),didImportBlockLists:l.didImportBlockLists,editable:l.editable,enableSubcategories:l.enableSubcategories,pageId:l.pageId,requestSent:l.requestSent,selectedBlockList:l.selectedBlockList,showLowFillRateWarning:l.showLowFillRateWarning}};j.prototype.UNSAFE_componentWillMount=function(){c("PagesSettingsInstreamAdsBlockListDispatcher").explicitlyRegisterStores([c("PagesSettingsInstreamAdsBlockListStore"),c("PagesSettingsInstreamAdsBlockListContentStore")])};j.prototype.componentDidMount=function(){if(!this.props.shouldInitializeOnMount)return;var k=this.props.businessID;if(k)c("PagesSettingsInstreamAdsBlockListActions").initializeBlockListsOnBusinessLevel(k);else c("PagesSettingsInstreamAdsBlockListActions").initializeBlockLists(this.props.currentPageId,this.props.targetIsVideoAssetIds)};j.prototype.render=function(){if(this.props.businessID)return c("React").createElement(c("AdBreakPortalInstreamAdsBlockListView.react"),{blockLists:this.state.blockLists,businessId:this.props.businessID,editable:this.state.editable,enableSubcategories:this.state.enableSubcategories,isLoading:!this.state.allBlockListsLoaded||this.state.requestSent,onDeleteBlockLists:c("PagesSettingsInstreamAdsBlockListActions").deleteBlockLists,onSelectBlockList:c("PagesSettingsInstreamAdsBlockListActions").selectBlockList,selectedBlockList:this.state.selectedBlockList});else if(this.props.isNewComposerStyle)return c("React").createElement(c("VideoComposerDialogAdBreakBlockListView.react"),{allBlockListsLoaded:this.state.allBlockListsLoaded,blockListStates:this.state.blockListStates,blockLists:this.state.blockLists,editable:this.state.editable,onApplyBlockList:c("PagesSettingsInstreamAdsBlockListActions").applyBlockList,onDeleteBlockLists:c("PagesSettingsInstreamAdsBlockListActions").deleteBlockLists,onSelectBlockList:c("PagesSettingsInstreamAdsBlockListActions").selectBlockList,onUnapplyBlockList:c("PagesSettingsInstreamAdsBlockListActions").unapplyBlockList,requestSent:this.state.requestSent,selectedBlockList:this.state.selectedBlockList,showLowFillRateWarning:this.state.showLowFillRateWarning});return c("React").createElement(c("PagesSettingsInstreamAdsBlockListView.react"),{allBlockListsLoaded:this.state.allBlockListsLoaded,appliable:this.props.appliable,blockListStates:this.state.blockListStates,blockLists:this.state.blockLists,didImportBlockLists:this.state.didImportBlockLists,editable:this.state.editable,enableBlockListExportButton:this.props.enableBlockListExportButton,enableSubcategories:this.state.enableSubcategories,onApplyBlockList:c("PagesSettingsInstreamAdsBlockListActions").applyBlockList,onApplyOrUnapply:this.props.onApplyOrUnapply,onDeleteBlockLists:c("PagesSettingsInstreamAdsBlockListActions").deleteBlockLists,onExportAllBlockLists:c("PagesSettingsInstreamAdsBlockListActions").exportAllBlockLists,onExportSingleBlockList:c("PagesSettingsInstreamAdsBlockListActions").exportSingleBlockList,onImportBlockLists:c("PagesSettingsInstreamAdsBlockListActions").importBlockLists,onSelectBlockList:c("PagesSettingsInstreamAdsBlockListActions").selectBlockList,onUnapplyBlockList:c("PagesSettingsInstreamAdsBlockListActions").unapplyBlockList,pageId:this.state.pageId,requestSent:this.state.requestSent,selectedBlockList:this.state.selectedBlockList,showLowFillRateWarning:this.state.showLowFillRateWarning})};function j(){h.apply(this,arguments)}j.defaultProps={appliable:false,businessID:null,enableBlockListExportButton:false,isNewComposerStyle:false,shouldInitializeOnMount:true};f.exports=c("FluxContainer").create(j,{pure:false})}),null);
__d("VideoComposerDialogAdBreakBlockListField.react",["fbt","PagesSettingsInstreamAdsBlockListContainer","React","VideoComposerDialogField.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.pageID;if(l==null)return null;return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement(c("PagesSettingsInstreamAdsBlockListContainer"),{appliable:true,currentPageId:l,isNewComposerStyle:true,shouldInitializeOnMount:false}),inputPadding:true,subtitle:h._("Use block lists to prevent certain kinds of ads from appearing in your videos."),title:h._("Block Lists"),tooltip:h._("Use block lists to prevent certain types of ads from appearing in your videos. Block lists can be applied to specific videos or to all videos on your Page.")})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoAssetDemonetizationType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AD_BREAK_SRT_REVIEW:"ad_break_srt_review",AD_BREAK_PREREVIEW:"ad_break_prereview",NOT_DEMONETIZED:"not_demonetized"})}),null);
__d("VideoComposerDialogAdBreakDemonetizationNuxConfig",["fbt","Link.react","MonetizationEligibilityStandardsGuideLines","React"],(function a(b,c,d,e,f,g,h){"use strict";var i={title:h._("Video Doesn't Meet Guidelines"),text:c("React").createElement("div",null,h._("Ads have been reduced or stopped for this video because it contains content that does not meet Facebook's content guidelines for monetization.")," ",c("React").createElement(c("Link.react"),{href:c("MonetizationEligibilityStandardsGuideLines").contentGuideLines,target:"_blank"},h._("Learn more")),".")},j={title:h._("Ad Breaks Were Disabled"),text:c("React").createElement("div",null,h._("This video contains content that does not meet Facebook's monetization eligibility standards.")," ",c("React").createElement(c("Link.react"),{href:c("MonetizationEligibilityStandardsGuideLines").contentGuideLines,target:"_blank"},h._("Learn more.")))};f.exports={adBreakPrereview:j,adBreakSrtReview:i}}),null);
__d("XVideoComposerDialogAdBreakNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/nux/",{nux_id:{type:"Int",required:true}})}),null);
__d("VideoComposerDialogAdBreakNUX.react",["cx","AsyncRequest","ContextualLayerShowAndHideOnScrollOut","ContextualLayerUpdateOnScroll","React","XBasicFBNuxDismissController","XUIAmbientNUX.react","XUINotice.react","XUIText.react","XVideoComposerDialogAdBreakNuxController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={dismissed:!!this.props.nuxID},this.$VideoComposerDialogAdBreakNUX1=function(){this.setState({dismissed:true});if(this.props.nuxID){var q=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",this.props.nuxID).getURI();new(c("AsyncRequest"))().setURI(q).send()}}.bind(this),m}k.prototype.UNSAFE_componentWillMount=function(){if(this.props.nuxID){var l=c("XVideoComposerDialogAdBreakNuxController").getURIBuilder().setInt("nux_id",this.props.nuxID).getURI();new(c("AsyncRequest"))().setURI(l).setMethod("GET").setReadOnly(true).setHandler(function(m){if(m.getPayload()&&m.getPayload().shouldShowNux)this.setState({dismissed:false})}.bind(this)).send()}};k.prototype.render=function(){__p&&__p();if(this.state.dismissed)return null;if(this.props.style==="notice"){var l=this.props.dismissible?{onDismiss:this.$VideoComposerDialogAdBreakNUX1}:{};return c("React").createElement(c("XUINotice.react"),babelHelpers["extends"]({className:"_w68",use:"notify"},l),c("React").createElement("div",{className:"_w69"},c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},this.props.title),c("React").createElement("div",{className:"_w6p"},c("React").createElement(c("XUIText.react"),{size:"meta1"},this.props.description))))}if(this.props.style==="tooltip"){var m=this.props.dismissible?{onCloseButtonClick:this.$VideoComposerDialogAdBreakNUX1}:{};return c("React").createElement(c("XUIAmbientNUX.react"),babelHelpers["extends"]({behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll"),ContextualLayerShowAndHideOnScrollOut:c("ContextualLayerShowAndHideOnScrollOut")},contextRef:this.props.contextRef,customwidth:300,position:"above",shown:!this.state.dismissed,width:"custom"},m),c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},this.props.title),c("React").createElement("div",{className:"_w6p"},c("React").createElement(c("XUIText.react"),{size:"meta1"},this.props.description))))}return null};f.exports=k}),null);
__d("VideoComposerDialogAdBreakDemonetizationNotice.react",["PrereviewVideoBrandSafetyStatus","React","VideoAssetDemonetizationType","VideoComposerDialogAdBreakDemonetizationNuxConfig","VideoComposerDialogAdBreakNUX.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k){var l=j(k.isDemonetized,k.adBreakPrereviewStatus),m=i(l);if(m==null)return null;return c("React").createElement(c("VideoComposerDialogAdBreakNUX.react"),{description:m.text,dismissible:false,style:"notice",title:m.title})}function i(k){switch(k){case c("VideoAssetDemonetizationType").AD_BREAK_SRT_REVIEW:return c("VideoComposerDialogAdBreakDemonetizationNuxConfig").adBreakSrtReview;case c("VideoAssetDemonetizationType").AD_BREAK_PREREVIEW:return c("VideoComposerDialogAdBreakDemonetizationNuxConfig").adBreakPrereview;default:return null}}function j(k,l){if(!k)return c("VideoAssetDemonetizationType").NOT_DEMONETIZED;if(l===c("PrereviewVideoBrandSafetyStatus").REJECTED)return c("VideoAssetDemonetizationType").AD_BREAK_PREREVIEW;return c("VideoAssetDemonetizationType").AD_BREAK_SRT_REVIEW}f.exports=h}),null);
__d("VideoComposerDialogAdBreakSwitch.react",["cx","BUISwitch.react","React","Tooltip","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",babelHelpers["extends"]({className:"_3396"},c("Tooltip").propsFor(this.props.tooltip,"above","right")),c("React").createElement("div",{className:"_3-90"},c("React").createElement(c("BUISwitch.react"),{disabled:this.props.disabled,value:this.props.value,onToggle:this.props.onToggle})),this.props.value?c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold"},this.props.labelOn):c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold"},this.props.labelOff))};function k(){i.apply(this,arguments)}k.defaultProps={disabled:false};f.exports=k}),null);
__d("VideoComposerDialogAdBreakHoldoutTestField.react",["cx","fbt","HubbleConstants","Link.react","React","VideoComposerDialogAdBreakSwitch.react","VideoComposerDialogField.react","VideoComposerDialogRadioButton.react","XPagesManagerInsightsController","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$VideoComposerDialogAdBreakHoldoutTestField1=function(){this.props.onUpdateHoldoutTestStatus(true)}.bind(this),this.$VideoComposerDialogAdBreakHoldoutTestField2=function(){this.props.onUpdateHoldoutTestStatus(false)}.bind(this),o}l.prototype.render=function(){if(!this.props.holdoutTestPublicMetadata.isEligibleCreator||!this.props.hasEnabledAdBreaks)return null;return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement(m,{enabled:this.props.enabled,holdoutTestPublicMetadata:this.props.holdoutTestPublicMetadata,pageID:this.props.pageID,onDisableHoldoutTest:this.$VideoComposerDialogAdBreakHoldoutTestField2,onEnableHoldoutTest:this.$VideoComposerDialogAdBreakHoldoutTestField1,onUpdateHoldoutTestStatus:this.props.onUpdateHoldoutTestStatus}),inputPadding:true,subtitle:i._("Enable holdout testing to learn how your video performs when there are ad breaks."),title:i._("Viewer Holdout Testing"),tooltip:c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold"},i._("How Holdouts Work For Ad Breaks")),c("React").createElement("br",null),c("React").createElement(c("XUIText.react"),{display:"block"},i._("For this video, a small percentage of your viewers will be split into a group for the test. Some viewers will see ads and some won't. The remaining viewers are not affected.")),c("React").createElement("br",null),c("React").createElement(c("XUIText.react"),{display:"block"},i._("When you turn on holdout testing for a video, the test will run for 14 days or until the test group with ad breaks earns $100. Test results are available in your Page's Insights.")))})};function m(n){var o=c("XPagesManagerInsightsController").getURIBuilder().setString("page_token",n.pageID).setString("section",c("HubbleConstants").NAV_SECTIONS.AD_BREAKS).getURI();if(n.holdoutTestPublicMetadata.isExpired)return c("React").createElement(c("XUIText.react"),{size:"meta1"},i._("Test results are available in your {page insights link}",[i._param("page insights link",c("React").createElement(c("Link.react"),{href:o},i._("Page's Insights.")))]));if(n.holdoutTestPublicMetadata.isStarted)return c("React").createElement(c("VideoComposerDialogAdBreakSwitch.react"),{labelOff:i._("OFF"),labelOn:i._("ON"),tooltip:n.enabled?i._("Turn off test and disable holdout testing permanently for this video."):null,value:n.enabled,onToggle:n.onUpdateHoldoutTestStatus});return c("React").createElement("div",{className:"_4rzm"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:n.enabled,label:i._("Yes"),onSelect:n.onEnableHoldoutTest}),c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:!n.enabled,label:i._("No"),onSelect:n.onDisableHoldoutTest}))}f.exports=l}),null);
__d("VideoComposerDialogAdBreakAutoAdjustmentTooltip.react",["fbt","React","VideoComposerDialogAdBreakNUX.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=5575;function j(k){return c("React").createElement(c("VideoComposerDialogAdBreakNUX.react"),{contextRef:k.contextRef,description:c("React").createElement("div",null,h._("To give viewers the best possible experience, ad placements that interrupt speech in the video may be moved slightly earlier or later.")),dismissible:true,nuxID:i,style:"tooltip",title:h._("Optimized Ad Break Placements")})}f.exports=j}),null);
__d("VideoComposerDialogAdBreakAutoAdjustmentSettings.react",["cx","fbt","React","SUIBusinessTheme","SUIText.react","VideoComposerDialogAdBreakAutoAdjustmentTooltip.react","XUICheckboxInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakAutoAdjustmentSettings1=function(event){this.props.onEnableAdBreakAutoAdjustment(event.target.checked)}.bind(this),this.$VideoComposerDialogAdBreakAutoAdjustmentSettings2=function(){return this.refs.autoAdjustmentCheckbox}.bind(this),n}l.prototype.render=function(){return c("React").createElement("div",{className:"_65nk"},c("React").createElement("div",{className:"_3-90"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.props.isAdBreakAutoAdjustmentEnabled,ref:"autoAdjustmentCheckbox",onChange:this.$VideoComposerDialogAdBreakAutoAdjustmentSettings1}),c("React").createElement(c("VideoComposerDialogAdBreakAutoAdjustmentTooltip.react"),{contextRef:this.$VideoComposerDialogAdBreakAutoAdjustmentSettings2})),c("React").createElement(c("SUIText.react"),{color:"secondary",display:"block",size:"meta1",theme:c("SUIBusinessTheme")},i._("Automatically adjust ad break placements to improve your viewers' experience")))};f.exports=l}),null);
__d("VideoComposerDialogAdBreakInsertionButton.react",["cx","fbt","DateConsts","React","Tooltip","VideoInstreamAdsConstants","VideoInstreamUtils","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogAdBreakInsertionButton1=function(){__p&&__p();var m=this.props.insertedAdBreaks.map(function(s){return{thumbnailURL:s.thumbnailURL,timeOffset:s.timeOffset}}),n=c("VideoInstreamUtils").getEligibleTimeSegments(m,this.props.videoDuration,this.props.hasGapRule);if(n.length===0){var o=c("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration,this.props.hasGapRule);if(o>m.length)return i._({"*":"Ad breaks need to be at least {number} minutes apart. Based on where you've placed your current ad breaks, there isn't space for another one.","_1":"Ad breaks need to be at least 1 minute apart. Based on where you've placed your current ad breaks, there isn't space for another one."},[i._plural(c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/c("DateConsts").MS_PER_MIN,"number")]);return i._("You've reached your ad break limit for this video.")}var p=c("VideoInstreamUtils").isInEligibleTimeSegments(this.props.currentAdBreakTimeOffset,this.props.videoDuration,m,this.props.hasGapRule);if(p)return null;var q=c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC;if(this.props.currentAdBreakTimeOffset<q)return i._({"*":"Ad breaks cannot be placed in the first {number} seconds.","_1":"Ad breaks cannot be placed in the first 1 second."},[i._plural(q,"number")]);var r=c("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC;if(this.props.currentAdBreakTimeOffset>this.props.videoDuration-r)return i._({"*":"Ad breaks cannot be placed in the last {number} seconds.","_1":"Ad breaks cannot be placed in the last 1 second."},[i._plural(r,"number")]);return i._({"*":"Ad breaks cannot be placed less than {number} minutes apart.","_1":"Ad breaks cannot be placed less than 1 minute apart."},[i._plural(c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/c("DateConsts").MS_PER_MIN,"number")])};l.prototype.render=function(){return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({className:"_4vdf _3-8_",disabled:this.props.disabled||!c("VideoInstreamUtils").isInEligibleTimeSegments(this.props.currentAdBreakTimeOffset,this.props.videoDuration,this.props.insertedAdBreaks.map(function(m){return{timeOffset:m.timeOffset,thumbnailURL:m.thumbnailURL}}),this.props.hasGapRule),href:"#",label:this.props.hasGapRule?i._("Add"):i._("Insert"),labelIsHidden:false,type:"button",onClick:this.props.onInsertAdBreak},c("Tooltip").propsFor(this.$VideoComposerDialogAdBreakInsertionButton1(),"above","right")))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogAdBreakThumbnail.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogAdBreakThumbnail1=function(){if(this.props.isAdBreakDisabled)return;if(this.props.isPreviewingCurrentAdBreak)this.props.onCancelPreview();else if(!this.props.isPreviewingAdBreak&&this.props.adBreakIndex!=null)this.props.onPreviewAdBreak(this.props.adBreakIndex)}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_4vea"+(this.props.isAdBreakDisabled||!this.props.isPreviewingCurrentAdBreak&&this.props.isPreviewingAdBreak?" _4vdt":""),role:"presentation",onClick:this.$VideoComposerDialogAdBreakThumbnail1},c("React").createElement("div",{className:"_4vec"+(this.props.isAdBreakDisabled?" _4vdt":"")},c("React").createElement("div",{className:(!this.props.isPreviewingCurrentAdBreak&&!this.props.isAdBreakDisabled?"_4vee":"")+(this.props.isPreviewingCurrentAdBreak&&!this.props.isAdBreakDisabled?" _4vef":"")})),c("React").createElement(c("Image.react"),{className:"_4veg",src:this.props.thumbnailURL}))};f.exports=k}),null);
__d("VideoComposerDialogAdBreakTimeOffsetEditorArrow.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.disabled;return c("React").createElement("div",{className:"_4vd_"},c("React").createElement("div",{className:(!l?"_4ve1":"")+(l?" _4ve2":""),onMouseDown:this.props.onClickUpArrow}),c("React").createElement("div",{className:(!l?"_4ve4":"")+(l?" _4ve9":""),onMouseDown:this.props.onClickDownArrow}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakTimeOffsetEditor.react",["cx","AbstractTextInput.react","DateConsts","React","VideoComposerDialogAdBreakTimeOffsetEditorArrow.react","VideoInstreamUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=10/c("DateConsts").MS_PER_SEC;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={isInputtingCurrentAdBreak:false,timeOffsetString:"00:00.000"},this.$VideoComposerDialogAdBreakTimeOffsetEditor1=function(event){this.setState({isInputtingCurrentAdBreak:true});this.props.onSetCurrentAdBreak(this.props.adBreakTimeOffset,true,true)}.bind(this),this.$VideoComposerDialogAdBreakTimeOffsetEditor2=function(event){this.setState({isInputtingCurrentAdBreak:false,timeOffsetString:m(this.props.adBreakTimeOffset)})}.bind(this),this.$VideoComposerDialogAdBreakTimeOffsetEditor3=function(event){this.setState({timeOffsetString:event.target.value});var s=c("VideoInstreamUtils").convertFormattedTimeToSeconds(event.target.value);if(this.state.isInputtingCurrentAdBreak)this.props.onSetCurrentAdBreak(Number(s),true,true)}.bind(this),this.$VideoComposerDialogAdBreakTimeOffsetEditor4=function(){this.$VideoComposerDialogAdBreakTimeOffsetEditor5(k)}.bind(this),this.$VideoComposerDialogAdBreakTimeOffsetEditor6=function(){this.$VideoComposerDialogAdBreakTimeOffsetEditor5(-k)}.bind(this),o}l.prototype.componentDidMount=function(){this.setState({timeOffsetString:m(this.props.adBreakTimeOffset)})};l.prototype.UNSAFE_componentWillReceiveProps=function(n){if(!this.state.isInputtingCurrentAdBreak)this.setState({timeOffsetString:m(n.adBreakTimeOffset)})};l.prototype.$VideoComposerDialogAdBreakTimeOffsetEditor5=function(n){if(this.props.isPreviewingAdBreak)return;var o=this.props.adBreakTimeOffset+n;o=Math.max(o,0);o=Math.min(o,this.props.videoDuration);this.props.onSetCurrentAdBreak(o,true,true)};l.prototype.$VideoComposerDialogAdBreakTimeOffsetEditor7=function(){return this.props.adBreakIndex===null};l.prototype.render=function(){return c("React").createElement("div",{className:"_4vdy"},this.props.isIndexCircleVisible?c("React").createElement("div",{className:"_4vdz"},this.props.adBreakIndex!==null?this.props.adBreakIndex+1:null):null,c("React").createElement(c("AbstractTextInput.react"),{className:"_4vd-",disabled:this.props.isPreviewingAdBreak||!this.$VideoComposerDialogAdBreakTimeOffsetEditor7(),placeholder:"00:00.000",value:this.state.timeOffsetString,onBlur:this.$VideoComposerDialogAdBreakTimeOffsetEditor2,onChange:this.$VideoComposerDialogAdBreakTimeOffsetEditor3,onDownArrow:this.$VideoComposerDialogAdBreakTimeOffsetEditor6,onFocus:this.$VideoComposerDialogAdBreakTimeOffsetEditor1,onUpArrow:this.$VideoComposerDialogAdBreakTimeOffsetEditor4}),this.$VideoComposerDialogAdBreakTimeOffsetEditor7()?c("React").createElement(c("VideoComposerDialogAdBreakTimeOffsetEditorArrow.react"),{disabled:this.props.isPreviewingAdBreak,onClickDownArrow:this.$VideoComposerDialogAdBreakTimeOffsetEditor6,onClickUpArrow:this.$VideoComposerDialogAdBreakTimeOffsetEditor4}):null)};l.defaultProps={isIndexCircleVisible:true};var m=function m(n){return c("VideoInstreamUtils").convertTimestampToFormattedString(n)};f.exports=l}),null);
__d("VideoComposerDialogAdBreakDetailsItem.react",["cx","AdBreakStatus","React","VideoComposerDialogAdBreakInsertionButton.react","VideoComposerDialogAdBreakThumbnail.react","VideoComposerDialogAdBreakTimeOffsetEditor.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={hover:false},this.$VideoComposerDialogAdBreakDetailsItem1=function(){if(this.props.adBreakIndex!==null&&this.props.adBreakIndex!==undefined)this.props.onDeleteAdBreak(this.props.adBreakIndex)}.bind(this),this.$VideoComposerDialogAdBreakDetailsItem4=function(){this.setState({hover:true})}.bind(this),this.$VideoComposerDialogAdBreakDetailsItem5=function(){this.setState({hover:false})}.bind(this),m}k.prototype.$VideoComposerDialogAdBreakDetailsItem2=function(){return this.props.currentPreviewIndex!==null};k.prototype.$VideoComposerDialogAdBreakDetailsItem3=function(){return this.props.currentPreviewIndex!==null&&this.props.currentPreviewIndex===this.props.adBreakIndex};k.prototype.render=function(){return c("React").createElement("div",{className:"_4vdl _4vdo",onMouseEnter:this.$VideoComposerDialogAdBreakDetailsItem4,onMouseLeave:this.$VideoComposerDialogAdBreakDetailsItem5},c("React").createElement("div",{className:"_4vdp"+(this.props.adBreakIndex===0?" _4vdr":"")+(this.props.adBreakIndex===null?" _4vds":"")+(this.props.adBreak.status===c("AdBreakStatus").DISABLED||this.$VideoComposerDialogAdBreakDetailsItem2()&&!this.$VideoComposerDialogAdBreakDetailsItem3()?" _4vdt":"")+" _2pis"},c("React").createElement(c("VideoComposerDialogAdBreakTimeOffsetEditor.react"),{adBreakIndex:this.props.adBreakIndex,adBreakTimeOffset:this.props.adBreak.timeOffset,isPreviewingAdBreak:this.$VideoComposerDialogAdBreakDetailsItem2(),videoDuration:this.props.videoDuration,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),c("React").createElement("div",{className:"_4vdu"}),this.props.adBreakIndex!==null?c("React").createElement(c("VideoComposerDialogAdBreakThumbnail.react"),{adBreakIndex:this.props.adBreakIndex,isAdBreakDisabled:this.props.adBreak.status===c("AdBreakStatus").DISABLED,isPreviewingAdBreak:this.$VideoComposerDialogAdBreakDetailsItem2(),isPreviewingCurrentAdBreak:this.$VideoComposerDialogAdBreakDetailsItem3(),thumbnailURL:this.props.adBreak.thumbnailURL,onCancelPreview:this.props.onCancelPreview,onPreviewAdBreak:this.props.onPreviewAdBreak}):c("React").createElement(c("VideoComposerDialogAdBreakInsertionButton.react"),{currentAdBreakTimeOffset:this.props.adBreak.timeOffset,disabled:this.props.adBreak.status===c("AdBreakStatus").DISABLED||this.props.currentPreviewIndex!=null,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onInsertAdBreak:this.props.onInsertAdBreak})),c("React").createElement("div",{className:"_4vdv"},c("React").createElement("div",{className:"_4vdw"+(!this.state.hover||this.props.adBreakIndex===null||this.props.currentPreviewIndex!=null?" _4vdx":""),role:"presentation",onClick:this.$VideoComposerDialogAdBreakDetailsItem1})))};f.exports=k}),null);
__d("VideoComposerDialogAdBreakDetails.react",["cx","AdBreakStatus","React","VideoComposerDialogAdBreakDetailsItem.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_4vdk"},c("React").createElement(l,this.props),c("React").createElement(m,this.props))};function k(){i.apply(this,arguments)}function l(n){return n.insertedAdBreaks.map(function(o,p){return c("React").createElement(c("VideoComposerDialogAdBreakDetailsItem.react"),{adBreak:o,adBreakIndex:p,currentPreviewIndex:n.currentPreviewIndex,hasGapRule:n.hasGapRule,insertedAdBreaks:n.insertedAdBreaks,key:p,videoDuration:n.videoDuration,onCancelPreview:n.onCancelPreview,onDeleteAdBreak:n.onDeleteAdBreak,onInsertAdBreak:n.onInsertAdBreak,onPreviewAdBreak:n.onPreviewAdBreak,onSetCurrentAdBreak:n.onSetCurrentAdBreak})})}function m(n){return c("React").createElement(c("VideoComposerDialogAdBreakDetailsItem.react"),{adBreak:{status:n.adBreaksDisabled?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED,thumbnailURL:null,timeOffset:n.currentAdBreakTimeOffset},adBreakIndex:null,currentPreviewIndex:n.currentPreviewIndex,hasGapRule:n.hasGapRule,insertedAdBreaks:n.insertedAdBreaks,videoDuration:n.videoDuration,onCancelPreview:n.onCancelPreview,onDeleteAdBreak:n.onDeleteAdBreak,onInsertAdBreak:n.onInsertAdBreak,onPreviewAdBreak:n.onPreviewAdBreak,onSetCurrentAdBreak:n.onSetCurrentAdBreak})}f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertionField.react",["cx","fbt","BUISwitch.react","DateConsts","React","VideoComposerDialogAdBreakAutoAdjustmentSettings.react","VideoComposerDialogAdBreakDetails.react","VideoComposerDialogField.react","VideoInstreamAdsConstants","VideoInstreamUtils","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$VideoComposerDialogAdBreakInsertionField1=function(t){this.props.onUpdateAdBreakStatus(!t)}.bind(this),p}l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{footer:c("React").createElement("div",{className:"_1kta"},c("React").createElement("div",{className:"_3-90"},c("React").createElement(c("BUISwitch.react"),{disabled:this.props.currentPreviewIndex!==null,value:!this.props.adBreaksDisabled,onToggle:this.$VideoComposerDialogAdBreakInsertionField1})),this.props.adBreaksDisabled?c("React").createElement(n,null):c("React").createElement(m,null)),input:c("React").createElement("div",{className:"_3_dp"},c("React").createElement(c("VideoComposerDialogAdBreakDetails.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onInsertAdBreak:this.props.onInsertAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),this.props.isAdBreakInsertionRedesignV1?c("React").createElement(c("VideoComposerDialogAdBreakAutoAdjustmentSettings.react"),{isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment}):null),inputPadding:true,showTopBorder:false,subtitle:this.props.hasGapRule?i._({"*":"Place up to {number} ad breaks within the highlighted area of the video preview.","_1":"Place up to 1 ad break within the highlighted area of the video preview."},[i._plural(c("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration,this.props.hasGapRule),"number")]):i._({"*":"Select up to {number} places where an ad break may be played. Ad break placements will be filled for each individual viewer based on ad availability.","_1":"Select up to 1 place where an ad break may be played. Ad break placements will be filled for each individual viewer based on ad availability."},[i._plural(c("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration,this.props.hasGapRule),"number")]),title:this.props.hasGapRule?i._("Place Ad Breaks"):i._("Choose Ad Break Placements"),tooltip:this.props.hasGapRule?i._({"*":{"*":"Ad breaks can be placed after the first {start time offset} seconds and must be at least {insertion interval} minutes apart. When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys."}},[i._param("start time offset",c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC,[0]),i._param("insertion interval",c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/c("DateConsts").MS_PER_MIN,[0])]):i._({"*":{"*":"Videos need to be at least {min video length} minutes long, and ad breaks may only be placed after {min start time} seconds . When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys.","_1":"Videos need to be at least {min video length} minutes long, and ad breaks may only be placed after 1 second . When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys."},"_1":{"*":"Videos need to be at least 1 minute long, and ad breaks may only be placed after {min start time} seconds . When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys.","_1":"Videos need to be at least 1 minute long, and ad breaks may only be placed after 1 second . When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys."}},[i._plural(c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS/c("DateConsts").MS_PER_MIN,"min video length"),i._plural(c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC,"min start time")])})};function m(){return c("React").createElement(c("XUIText.react"),{size:"meta1",weight:"bold"},i._("AD BREAKS ON"))}function n(){return c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold"},i._("AD BREAKS OFF"))}f.exports=l}),null);
__d("VideoComposerDialogAdBreakStrings",["fbt","DateConsts","VideoInstreamAdsConstants","VideoInstreamUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i={AD_BREAK_TOGGLE_TITLE:h._("Take Ad Breaks"),AD_BREAK_TOGGLE_DESCRIPTION:h._("Place ad breaks in this video to make money from your content."),AD_BREAK_TOGGLE_TOOLTIP:h._({"*":{"*":"Videos need to be at least {min video length} minutes long, and ad breaks may only be placed after {min start time} seconds.","_1":"Videos need to be at least {min video length} minutes long, and ad breaks may only be placed after 1 second."},"_1":{"*":"Videos need to be at least 1 minute long, and ad breaks may only be placed after {min start time} seconds.","_1":"Videos need to be at least 1 minute long, and ad breaks may only be placed after 1 second."}},[h._plural(c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS/c("DateConsts").MS_PER_MIN,"min video length"),h._plural(c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC,"min start time")]),AUTO_INSERTION_TITLE:h._("Automatic Placements"),AUTO_INSERTION_DESCRIPTION:h._("Ads will be placed automatically at natural breaks in your video. Use automatic placements to save time and give viewers the best possible experience."),MANUAL_INSERTION_TITLE:h._("Choose Placements"),getManualInsertionDescription:function j(k,l){var m=c("VideoInstreamUtils").getMaxPossibleAdBreaks(k,l);return l?h._({"*":"This video can have {number} ad breaks placed within the highlighted area of the video preview.","_1":"This video can have 1 ad break placed within the highlighted area of the video preview."},[h._plural(m,"number")]):h._({"*":"Choose up to {number} possible placements for ad breaks in your video. If you choose multiple placements, viewers will see ads in different places depending on when they last watched an ad.","_1":"Choose up to 1 possible placement for ad breaks in your video. If you choose multiple placements, viewers will see ads in different places depending on when they last watched an ad."},[h._plural(m,"number")])},INSERTION_TIME_OFFSET_EDITOR_DESCRIPTION:h._("Enter a time or drag the circle in the preview to choose an ad break placement.")};f.exports=i}),null);
__d("VideoComposerDialogAdBreakAutoInsertionSelectionField.react",["cx","React","VideoComposerDialogAdBreakStrings","VideoComposerDialogRadioButton.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogAdBreakAutoInsertionSelectionField1=function(){this.props.onEnableAdBreakAutoInsertion(true)}.bind(this),this.$VideoComposerDialogAdBreakAutoInsertionSelectionField2=function(){this.props.onEnableAdBreakAutoInsertion(false)}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_n8d"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.isAdBreakAutoInsertionEnabled,className:"_n8a",label:c("React").createElement("div",null,c("React").createElement("div",{className:"_n88"},c("VideoComposerDialogAdBreakStrings").AUTO_INSERTION_TITLE),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1",weight:"normal"},c("VideoComposerDialogAdBreakStrings").AUTO_INSERTION_DESCRIPTION)),onSelect:this.$VideoComposerDialogAdBreakAutoInsertionSelectionField1}),c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:!this.props.isAdBreakAutoInsertionEnabled,className:"_n8a",label:c("React").createElement("div",null,c("React").createElement("div",{className:"_n88"},c("VideoComposerDialogAdBreakStrings").MANUAL_INSERTION_TITLE),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1",weight:"normal"},c("VideoComposerDialogAdBreakStrings").getManualInsertionDescription(this.props.videoDuration,this.props.hasGapRule))),onSelect:this.$VideoComposerDialogAdBreakAutoInsertionSelectionField2}))};f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertedAdBreaksItem.react",["cx","Image.react","React","VideoInstreamUtils","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogAdBreakInsertedAdBreaksItem1=function(){this.props.onSelect(this.props.adBreak.timeOffset)}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_n92"},c("React").createElement("div",{className:"_n93"+(this.props.selected?" _n94":""),ref:"insertedAdBreaksItem",role:"presentation",onClick:this.$VideoComposerDialogAdBreakInsertedAdBreaksItem1},c("React").createElement(c("Image.react"),{className:"_n95",src:this.props.adBreak.thumbnailURL}),c("React").createElement("div",{className:"_n9g"},c("React").createElement(c("XUIText.react"),null,c("VideoInstreamUtils").convertTimestampToFormattedString(this.props.adBreak.timeOffset)))))};f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertedAdBreaksSliderButtons.react",["ix","Image.react","React","XUIButton.react","XUIButtonGroup.react","asset"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("XUIButtonGroup.react"),null,c("React").createElement(c("XUIButton.react"),{disabled:this.props.currentSliderOffset<=0,image:c("React").createElement(c("Image.react"),{src:h("406776")}),label:"Previous",labelIsHidden:true,size:"small",onClick:this.props.onSlideLeft}),c("React").createElement(c("XUIButton.react"),{disabled:this.props.maxSliderOffset<=this.props.currentSliderOffset,image:c("React").createElement(c("Image.react"),{src:h("363528")}),label:"Next",labelIsHidden:true,size:"small",onClick:this.props.onSlideRight}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AdBreakAdminPreviewEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADMIN_SEND_NOTIFICATION:"admin_send_notification",ADMIN_SEND_NOTIFICATION_SUCCESS:"admin_send_notification_success",ADMIN_SEND_NOTIFICATION_FAILURE:"admin_send_notification_failure",ADMIN_REQUEST_SHAREABLE_LINK:"admin_request_shareable_link",ADMIN_REQUEST_SHAREABLE_LINK_SUCCESS:"admin_request_shareable_link_success",ADMIN_REQUEST_SHAREABLE_LINK_FAILURE:"admin_request_shareable_link_failure",SERVER_VIDEO_ENCODING_SUCCESS:"server_video_encoding_success",SERVER_VIDEO_ENCODING_FAILURE:"server_video_encoding_failure",NOTIFICATION_INVALIDATION:"notification_invalidation"})}),null);
__d("AdBreakAdminPreviewStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ENCODING:"encoding",NONE:"none",OK:"ok"})}),null);
__d("AdBreakAdminPreviewTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:AdBreakAdminPreviewLoggerConfig",this.$AdBreakAdminPreviewTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:AdBreakAdminPreviewLoggerConfig",this.$AdBreakAdminPreviewTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$AdBreakAdminPreviewTypedLogger1={};return this};h.prototype.updateData=function(j){this.$AdBreakAdminPreviewTypedLogger1=babelHelpers["extends"]({},this.$AdBreakAdminPreviewTypedLogger1,j);return this};h.prototype.setAdBreakTimeOffsets=function(j){this.$AdBreakAdminPreviewTypedLogger1.ad_break_time_offsets=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setEvent=function(j){this.$AdBreakAdminPreviewTypedLogger1.event=j;return this};h.prototype.setException=function(j){this.$AdBreakAdminPreviewTypedLogger1.exception=j;return this};h.prototype.setTimeConsumedInMs=function(j){this.$AdBreakAdminPreviewTypedLogger1.time_consumed_in_ms=j;return this};h.prototype.setVC=function(j){this.$AdBreakAdminPreviewTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$AdBreakAdminPreviewTypedLogger1.video_id=j;return this};var i={ad_break_time_offsets:true,event:true,exception:true,time_consumed_in_ms:true,vc:true,video_id:true};f.exports=h}),null);
__d("XAdBreakAdminPreviewNotificationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ad_breaks/admin_preview/notification/",{video_id:{type:"FBID",required:true},ad_break_time_offsets:{type:"IntVector"}})}),null);
__d("XAdBreakAdminPreviewShareController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ad_breaks/admin_preview/share/",{video_id:{type:"FBID",required:true},ad_break_time_offsets:{type:"IntVector"}})}),null);
__d("XAdBreakAdminPreviewStatusController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ad_breaks/admin_preview/status/",{video_id:{type:"FBID",required:true}})}),null);
__d("AdBreakAdminPreviewManager",["AdBreakAdminPreviewEvent","AdBreakAdminPreviewStatus","AdBreakAdminPreviewTypedLogger","AsyncRequest","AsyncResponse","XAdBreakAdminPreviewNotificationController","XAdBreakAdminPreviewShareController","XAdBreakAdminPreviewStatusController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=1e3;i.prototype.sendNotification=function(j,k,l,m){"use strict";__p&&__p();this.lastRequestTime=Date.now();new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_SEND_NOTIFICATION).setTimeConsumedInMs(null).log();var n=function(){new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_SEND_NOTIFICATION_SUCCESS).setTimeConsumedInMs(Date.now()-this.lastRequestTime).log();l()}.bind(this),o=function(){new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_SEND_NOTIFICATION_FAILURE).setTimeConsumedInMs(Date.now()-this.lastRequestTime).log();m()}.bind(this),p=c("XAdBreakAdminPreviewNotificationController").getURIBuilder().setFBID("video_id",j).setIntVector("ad_break_time_offsets",k).getURI();new(c("AsyncRequest"))(p).setHandler(function(q){if(q.payload.status===c("AdBreakAdminPreviewStatus").OK)n();else this.pollPreviewStatus(j,n,o)}.bind(this)).setErrorHandler(function(q){return o()}).send()};i.prototype.requestShareLink=function(j,k,l,m){"use strict";this.lastRequestTime=Date.now();new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_REQUEST_SHAREABLE_LINK).setTimeConsumedInMs(null).log();var n=function(p){new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_REQUEST_SHAREABLE_LINK_SUCCESS).setTimeConsumedInMs(Date.now()-this.lastRequestTime).log();l(p)}.bind(this),o=function(p){new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_REQUEST_SHAREABLE_LINK_FAILURE).setTimeConsumedInMs(Date.now()-this.lastRequestTime).log();m(p)}.bind(this);this.requestShareLinkWithoutLogging(j,k,n,o)};i.prototype.requestShareLinkWithoutLogging=function(j,k,l,m){"use strict";var n=c("XAdBreakAdminPreviewShareController").getURIBuilder().setFBID("video_id",j).setIntVector("ad_break_time_offsets",k).getURI();new(c("AsyncRequest"))(n).setHandler(function(o){if(o.payload.status===c("AdBreakAdminPreviewStatus").OK)l(o);else this.pollPreviewStatus(j,function(){return this.requestShareLinkWithoutLogging(j,k,l,m)}.bind(this),function(){return m(o)})}.bind(this)).setErrorHandler(function(o){return m(o)}).send()};i.prototype.pollPreviewStatus=function(j,k,l){"use strict";clearInterval(this.timer);this.timer=setInterval(function(){return this.getPreviewStatus(j,k,l)}.bind(this),h)};i.prototype.stopPolling=function(){"use strict";clearInterval(this.timer)};i.prototype.getPreviewStatus=function(j,k,l){"use strict";var m=c("XAdBreakAdminPreviewStatusController").getURIBuilder().setFBID("video_id",j).getURI();new(c("AsyncRequest"))(m).setHandler(function(n){if(n.payload.status===c("AdBreakAdminPreviewStatus").OK){clearInterval(this.timer);k()}}.bind(this)).setErrorHandler(function(n){clearInterval(this.timer);l()}.bind(this)).send()};function i(){"use strict"}f.exports=new i()}),null);
__d("ComposerVideoAdBreakAdminPreviewLoadingDialog.react",["cx","fbt","CenteredContainer.react","React","SUIBusinessTheme","SUISpinner.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCloseButton.react","XUIDialogFooter.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=475;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={shown:true},this.$ComposerVideoAdBreakAdminPreviewLoadingDialog1=function(){if(this.props.onClose)this.props.onClose()}.bind(this),o}m.prototype.show=function(){this.setState({shown:true})};m.prototype.hide=function(){this.setState({shown:false})};m.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{label:i._("Loading"),layerHideOnBlur:false,shown:this.state.shown,width:l},c("React").createElement(c("CenteredContainer.react"),null,c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_380g"},i._("Your preview is being prepared. This may take a moment..."),c("React").createElement(c("SUISpinner.react"),{className:"_3-9b",size:"small",theme:c("SUIBusinessTheme")})))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCloseButton.react"),{onClick:this.$ComposerVideoAdBreakAdminPreviewLoadingDialog1})))};f.exports=m}),null);
__d("ComposerVideoAdBreakAdminPreviewNotificationHandler",["fbt","AdBreakAdminPreviewManager","ComposerVideoAdBreakAdminPreviewLoadingDialog.react","DOM","React","ReactDOM","SimpleXUIDialog","XUIDialogCloseButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){__p&&__p();this.$ComposerVideoAdBreakAdminPreviewNotificationHandler2=function(){if(!this.loadingDialog)return;this.$ComposerVideoAdBreakAdminPreviewNotificationHandler4();var j=h._("A notification has been sent to your Facebook account. Please open Facebook on your phone to preview your video with ad breaks."),k=c("React").createElement(c("XUIDialogCloseButton.react"),null),l=h._("Mobile Ad Break Preview");c("SimpleXUIDialog").showEx(j,l,k)}.bind(this);this.$ComposerVideoAdBreakAdminPreviewNotificationHandler3=function(){if(!this.loadingDialog)return;this.$ComposerVideoAdBreakAdminPreviewNotificationHandler4();var j=h._("An error occurred while sending notification."),k=c("React").createElement(c("XUIDialogCloseButton.react"),null),l=h._("Mobile Ad Break Preview");c("SimpleXUIDialog").showEx(j,l,k)}.bind(this)}i.prototype.sendNotification=function(j,k){this.$ComposerVideoAdBreakAdminPreviewNotificationHandler1();c("AdBreakAdminPreviewManager").sendNotification(j,k,this.$ComposerVideoAdBreakAdminPreviewNotificationHandler2,this.$ComposerVideoAdBreakAdminPreviewNotificationHandler3)};i.prototype.$ComposerVideoAdBreakAdminPreviewNotificationHandler1=function(){var j=c("React").createElement(c("ComposerVideoAdBreakAdminPreviewLoadingDialog.react"),null);this.loadingDialog=c("ReactDOM").render(j,c("DOM").create("div"));this.loadingDialog.show()};i.prototype.$ComposerVideoAdBreakAdminPreviewNotificationHandler4=function(){if(this.loadingDialog){this.loadingDialog.hide();this.loadingDialog=null}};f.exports=new i()}),null);
__d("ComposerVideoAdBreakAdminPreviewShareDialog.react",["cx","fbt","AdBreakAdminPreviewManager","AsyncResponse","Clipboard","ComposerVideoAdBreakAdminPreviewLoadingDialog.react","FBClipboardLink.react","Image.react","Link.react","React","SUIBusinessTheme","SUIText.react","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={isLoading:false,shareURL:null,shown:false},this.hide=function(){this.setState({shown:false})}.bind(this),q}l.prototype.UNSAFE_componentWillMount=function(){if(this.props.videoID){this.setState({isLoading:true});c("AdBreakAdminPreviewManager").requestShareLink(this.props.videoID,this.props.adBreakTimeOffsets,function(p){this.setState({isLoading:false,shareURL:p.payload.url})}.bind(this),function(p){this.setState({isLoading:false})}.bind(this))}};l.prototype.show=function(){this.setState({shown:true})};l.prototype.render=function(){if(this.state.isLoading)return c("React").createElement(c("ComposerVideoAdBreakAdminPreviewLoadingDialog.react"),{onClose:this.hide});var p=null;if(!this.state.shareURL)p=i._("Failed to load share link.");else p=c("React").createElement("div",{className:"_40s0"},c("React").createElement("div",{className:"_40s1"},c("React").createElement(m,null),c("React").createElement(n,{shareURL:this.state.shareURL}),c("React").createElement(o,null)),c("React").createElement(c("Image.react"),{className:"_40s7",src:"/images/aet/ShareAdPreview.png"}));return c("React").createElement(c("XUIDialog.react"),{layerHideOnBlur:false,shown:this.state.shown,width:700},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Preview This Video with Ad Breaks")),c("React").createElement(c("XUIDialogBody.react"),null,p),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Done"),onClick:this.hide,use:"confirm"})))};function m(){return c("React").createElement("div",null,c("React").createElement(c("SUIText.react"),{display:"block",size:"meta1",theme:c("SUIBusinessTheme"),weight:"bold"},i._("Send Link")),c("React").createElement(c("SUIText.react"),{className:"_3-8x",display:"block",size:"meta1",theme:c("SUIBusinessTheme")},i._("Use this URL to preview this video with ad breaks on desktop. You can share this link with others.")))}function n(p){var q=null;if(c("Clipboard").isSupported())q=c("React").createElement(c("FBClipboardLink.react"),{value:p.shareURL},c("React").createElement(c("XUIButton.react"),{className:"_3-9b",label:i._("Copy"),use:"confirm"}));var r=c("React").createElement(c("XUITextInput.react"),{className:"_40s8",disabled:true,value:p.shareURL});if(c("Clipboard").isSupported())r=c("React").createElement(c("FBClipboardLink.react"),{value:p.shareURL},c("React").createElement(c("Link.react"),null,p.shareURL));return c("React").createElement("div",{className:"_2pie"},r,q)}function o(){return c("React").createElement("div",{className:"_2pie"},c("React").createElement(c("XUIGrayText.react"),{display:"block"},i._("A sample ad will play during your ad break placements.")))}f.exports=l}),null);
__d("ComposerVideoAdBreakAdminPreviewMenu.react",["ix","cx","fbt","AccessibleLayer","AdBreakAdminPreviewManager","ComposerVideoAdBreakAdminPreviewNotificationHandler","ComposerVideoAdBreakAdminPreviewShareDialog.react","ContextualLayerHideOnScroll","DateConsts","DOM","Image.react","LayerFadeOnHide","LayerFadeOnShow","LayerFitHeightToScreen","LayerHideOnBlur","LayerHideOnEscape","React","ReactDOM","ShimButton.react","SUIBusinessTheme","SUIText.react","XUIContextualDialog.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={showMenu:false},this.$ComposerVideoAdBreakAdminPreviewMenu5=function(s){return c("React").createElement("div",{key:s.id},c("React").createElement("div",{className:"_-em"},c("React").createElement(c("SUIText.react"),{className:"_2pit",shade:"medium",size:"meta1",theme:c("SUIBusinessTheme"),weight:"bold"},s.header)),c("React").createElement("div",null,s.items.map(this.$ComposerVideoAdBreakAdminPreviewMenu6,this)))}.bind(this),this.$ComposerVideoAdBreakAdminPreviewMenu6=function(s){return c("React").createElement(c("ShimButton.react"),{className:"_-en",key:s.id,onClick:function(event){return this.$ComposerVideoAdBreakAdminPreviewMenu7(event,s.onClick)}.bind(this)},c("React").createElement(c("Image.react"),{src:s.icon}),c("React").createElement(c("SUIText.react"),{className:"_2pit",shade:"medium",size:"meta1",theme:c("SUIBusinessTheme"),weight:"bold"},s.title))}.bind(this),this.$ComposerVideoAdBreakAdminPreviewMenu4=function(s){this.setState({showMenu:s})}.bind(this),this.$ComposerVideoAdBreakAdminPreviewMenu1=function(event){this.setState({showMenu:!this.state.showMenu});event.stopPropagation()}.bind(this),this.$ComposerVideoAdBreakAdminPreviewMenu3=[{id:"share_preview_section",header:j._("Share Previews"),items:[{id:"share_a_link_menu_item",icon:h("407157"),title:j._("Share a Link"),onClick:function(){var s=c("React").createElement(c("ComposerVideoAdBreakAdminPreviewShareDialog.react"),{adBreakTimeOffsets:this.$ComposerVideoAdBreakAdminPreviewMenu8(),videoID:this.props.videoID});s=c("ReactDOM").render(s,c("DOM").create("div"));s.show()}.bind(this)}]},{id:"preview_on_device_section",header:j._("Preview on Device"),items:[{id:"send_notification_to_facebook_menu_item",icon:h("390904"),title:j._("Send Notification to Facebook"),onClick:function(){c("ComposerVideoAdBreakAdminPreviewNotificationHandler").sendNotification(this.props.videoID,this.$ComposerVideoAdBreakAdminPreviewMenu8())}.bind(this)}]}],o}m.prototype.componentWillUnmount=function(){c("AdBreakAdminPreviewManager").stopPolling()};m.prototype.render=function(){return c("React").createElement("div",{className:"_65wv",ref:"adminPreviewMenuButton",role:"presentation",onClick:this.$ComposerVideoAdBreakAdminPreviewMenu1},this.props.children,this.$ComposerVideoAdBreakAdminPreviewMenu2(this.$ComposerVideoAdBreakAdminPreviewMenu3))};m.prototype.$ComposerVideoAdBreakAdminPreviewMenu2=function(n){if(!this.props.videoID)return null;return c("React").createElement(c("XUIContextualDialog.react"),{alignment:"right",behaviors:{AccessibleLayer:c("AccessibleLayer"),ContextualLayerHideOnScroll:c("ContextualLayerHideOnScroll"),LayerHideOnTransition:false,LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape"),LayerFadeOnShow:c("LayerFadeOnShow"),LayerFadeOnHide:c("LayerFadeOnHide"),LayerFitHeightToScreen:c("LayerFitHeightToScreen")},contextRef:function(){return this.refs.adminPreviewMenuButton}.bind(this),label:j._("Ad Break Admin Preview Menu"),onToggle:this.$ComposerVideoAdBreakAdminPreviewMenu4,position:"below",shown:this.state.showMenu,width:c("XUIContextualDialog.react").WIDTH.NORMAL},n.map(this.$ComposerVideoAdBreakAdminPreviewMenu5,this))};m.prototype.$ComposerVideoAdBreakAdminPreviewMenu7=function(event,n){n();this.setState({showMenu:!this.state.showMenu});event.stopPropagation()};m.prototype.$ComposerVideoAdBreakAdminPreviewMenu8=function(){var n=[];if(!this.props.adBreaksDisabled)n=this.props.insertedAdBreaks.map(function(o){return Math.round(o.timeOffset*c("DateConsts").MS_PER_SEC)});return n};f.exports=m}),null);
__d("VideoComposerDialogAdBreakToolbarButton.react",["cx","Image.react","React","XUIText.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$VideoComposerDialogAdBreakToolbarButton1=function(){if(this.props.disabled)return this.props.iconSrcDisabled;if(this.props.active)return this.props.iconSrcActive;return this.props.iconSrc};k.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_n9m"+(this.props.active?" _n9n":"")+(this.props.disabled?" _4vdt":""),this.props.className),role:"presentation",onClick:this.props.disabled?null:this.props.onClick},c("React").createElement(c("Image.react"),{src:this.$VideoComposerDialogAdBreakToolbarButton1()}),c("React").createElement(c("XUIText.react"),{className:"_3-99",display:"block"},this.props.label))};function k(){i.apply(this,arguments)}k.defaultProps={active:false,disabled:false};f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertedAdBreaksToolbar.react",["ix","cx","fbt","ComposerVideoAdBreakAdminPreviewMenu.react","React","VideoComposerDialogAdBreakToolbarButton.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$VideoComposerDialogAdBreakInsertedAdBreaksToolbar1=function(){if(this.props.isPreviewingAdBreak)this.props.onCancelPreview();else this.props.onPreviewAdBreak(this.props.selectedAdBreakIndex)}.bind(this),this.$VideoComposerDialogAdBreakInsertedAdBreaksToolbar2=function(){this.props.onDeleteAdBreak(this.props.selectedAdBreakIndex)}.bind(this),o}m.prototype.render=function(){return c("React").createElement("div",{className:"_n9k"},c("React").createElement(c("VideoComposerDialogAdBreakToolbarButton.react"),{active:this.props.isPreviewingAdBreak,className:"_3-92",iconSrc:h("431966"),iconSrcActive:h("459445"),label:this.props.isPreviewingAdBreak?j._("Stop"):j._("Preview"),onClick:this.$VideoComposerDialogAdBreakInsertedAdBreaksToolbar1}),c("React").createElement(c("ComposerVideoAdBreakAdminPreviewMenu.react"),{adBreaksDisabled:this.props.adBreaksDisabled,insertedAdBreaks:this.props.insertedAdBreaks.slice(this.props.selectedAdBreakIndex,this.props.selectedAdBreakIndex+1),videoID:this.props.videoID},c("React").createElement(c("VideoComposerDialogAdBreakToolbarButton.react"),{className:"_3-92",disabled:!this.props.videoID,iconSrc:h("363826"),iconSrcDisabled:h("399490"),label:j._("Share")})),c("React").createElement(c("VideoComposerDialogAdBreakToolbarButton.react"),{disabled:this.props.isPreviewingAdBreak,iconSrc:h("411467"),iconSrcDisabled:h("411466"),label:j._("Remove"),onClick:this.$VideoComposerDialogAdBreakInsertedAdBreaksToolbar2}))};f.exports=m}),null);
__d("VideoComposerDialogAdBreakInsertedAdBreaks.react",["cx","React","VideoComposerDialogAdBreakInsertedAdBreaksItem.react","VideoComposerDialogAdBreakInsertedAdBreaksSliderButtons.react","VideoComposerDialogAdBreakInsertedAdBreaksToolbar.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=80;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={currentSliderOffset:0,selectedAdBreakTimeOffset:null},this.$VideoComposerDialogAdBreakInsertedAdBreaks2=function(r){this.setState({selectedAdBreakTimeOffset:r})}.bind(this),this.$VideoComposerDialogAdBreakInsertedAdBreaks3=function(){this.setState(function(r){return{currentSliderOffset:Math.max(0,r.currentSliderOffset-k)}})}.bind(this),this.$VideoComposerDialogAdBreakInsertedAdBreaks4=function(){this.setState(function(r){return{currentSliderOffset:Math.min(r.currentSliderOffset+k,this.$VideoComposerDialogAdBreakInsertedAdBreaks1())}}.bind(this))}.bind(this),n}l.prototype.componentDidUpdate=function(m,n){if(this.props.insertedAdBreaks.length===m.insertedAdBreaks.length)return;if(!this.refs.insertedAdBreaks||!this.refs.insertedAdBreaksContent)return;var o=this.refs.insertedAdBreaks.getBoundingClientRect(),p=this.refs.insertedAdBreaksContent.getBoundingClientRect();if(o.left<p.left)this.setState({currentSliderOffset:0});else if(p.right<o.right)this.setState({currentSliderOffset:this.$VideoComposerDialogAdBreakInsertedAdBreaks1()})};l.prototype.$VideoComposerDialogAdBreakInsertedAdBreaks1=function(){if(!this.refs.insertedAdBreaks||!this.refs.insertedAdBreaksContent)return 0;var m=this.refs.insertedAdBreaks.getBoundingClientRect(),n=this.refs.insertedAdBreaksContent.getBoundingClientRect();return Math.max(0,n.width-m.width)};l.prototype.render=function(){if(this.props.insertedAdBreaks.length===0)return null;var m=this.props.insertedAdBreaks.findIndex(function(n){return n.timeOffset===this.state.selectedAdBreakTimeOffset}.bind(this));return c("React").createElement("div",{className:"_n8i"},c("React").createElement("div",{className:"_n8j",ref:"insertedAdBreaks"},c("React").createElement("div",{className:"_n91",ref:"insertedAdBreaksContent",style:{right:this.state.currentSliderOffset+"px"}},this.props.insertedAdBreaks.map(function(n,o){var p=o>0?{className:"_3-9a"}:null;return c("React").createElement("div",babelHelpers["extends"]({key:o},p),c("React").createElement(c("VideoComposerDialogAdBreakInsertedAdBreaksItem.react"),{adBreak:n,adBreakIndex:o,selected:this.state.selectedAdBreakTimeOffset===n.timeOffset,onSelect:this.$VideoComposerDialogAdBreakInsertedAdBreaks2}))}.bind(this)))),c("React").createElement("div",{className:"_n9h _3-8x"},m<0?null:c("React").createElement(c("VideoComposerDialogAdBreakInsertedAdBreaksToolbar.react"),{adBreaksDisabled:this.props.adBreaksDisabled,insertedAdBreaks:this.props.insertedAdBreaks,isPreviewingAdBreak:this.props.isPreviewingAdBreak,selectedAdBreakIndex:m,videoID:this.props.videoID,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak}),c("React").createElement("div",{className:"_3-9a"}),c("React").createElement(c("VideoComposerDialogAdBreakInsertedAdBreaksSliderButtons.react"),{currentSliderOffset:this.state.currentSliderOffset,maxSliderOffset:this.$VideoComposerDialogAdBreakInsertedAdBreaks1(),onSlideLeft:this.$VideoComposerDialogAdBreakInsertedAdBreaks3,onSlideRight:this.$VideoComposerDialogAdBreakInsertedAdBreaks4})))};f.exports=l}),null);
__d("VideoComposerDialogAdBreakInsertionEditorField.react",["cx","React","VideoComposerDialogAdBreakInsertionButton.react","VideoComposerDialogAdBreakStrings","VideoComposerDialogAdBreakTimeOffsetEditor.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_n8e"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},c("VideoComposerDialogAdBreakStrings").INSERTION_TIME_OFFSET_EDITOR_DESCRIPTION),c("React").createElement("div",{className:"_n8g"},c("React").createElement(c("VideoComposerDialogAdBreakTimeOffsetEditor.react"),{adBreakIndex:null,adBreakTimeOffset:this.props.currentAdBreakTimeOffset,isIndexCircleVisible:false,isPreviewingAdBreak:this.props.currentPreviewIndex!=null,videoDuration:this.props.videoDuration,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),c("React").createElement("div",{className:"_3-9b"},c("React").createElement(c("VideoComposerDialogAdBreakInsertionButton.react"),{currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,disabled:this.props.adBreaksDisabled||this.props.currentPreviewIndex!=null,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onInsertAdBreak:this.props.onInsertAdBreak}))))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertionToggleField.react",["cx","fbt","React","VideoComposerDialogAdBreakStrings","VideoComposerDialogAdBreakSwitch.react","VideoComposerDialogField.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakInsertionToggleField1=function(r){this.props.onUpdateAdBreakStatus(!r)}.bind(this),n}l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement("div",{className:"_1kta"},c("React").createElement(c("VideoComposerDialogAdBreakSwitch.react"),{disabled:this.props.toggleDisabled,labelOff:i._("DISABLED"),labelOn:i._("ENABLED"),value:!this.props.adBreaksDisabled,onToggle:this.$VideoComposerDialogAdBreakInsertionToggleField1})),showTopBorder:false,subtitle:c("VideoComposerDialogAdBreakStrings").AD_BREAK_TOGGLE_DESCRIPTION,title:c("VideoComposerDialogAdBreakStrings").AD_BREAK_TOGGLE_TITLE,tooltip:c("VideoComposerDialogAdBreakStrings").AD_BREAK_TOGGLE_TOOLTIP})};f.exports=l}),null);
__d("VideoComponentCommercialBreakStartingIndicator.react",["cx","CommercialBreakStartingIndicator.react","React","ReactDOM","VideoComponent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.enable=function(l){this.$VideoComponentCommercialBreakStartingIndicator1=l;this.$VideoComponentCommercialBreakStartingIndicator2()};k.prototype.disable=function(){this.$VideoComponentCommercialBreakStartingIndicator1=null};k.prototype.$VideoComponentCommercialBreakStartingIndicator2=function(l){if(this.$VideoComponentCommercialBreakStartingIndicator1&&this.refs.root)c("ReactDOM").render(c("React").createElement(c("CommercialBreakStartingIndicator.react"),{adsStopped:l,container:this.refs.root,controller:this.$VideoComponentCommercialBreakStartingIndicator1,vodTransitionRedesign:true}),this.refs.root)};k.prototype.componentDidMount=function(){this.$VideoComponentCommercialBreakStartingIndicator2()};k.prototype.UNSAFE_componentWillReceiveProps=function(l){if(l.adsStopped!==this.props.adsStopped)this.$VideoComponentCommercialBreakStartingIndicator2(l.adsStopped)};k.prototype.shouldComponentUpdate=function(l,m){return false};k.prototype.render=function(){return c("React").createElement("div",{ref:"root",className:"_167h _2lwf _4ubd _3ee8 _20dq _2h-t _o9y _3htz _5odv"})};function k(){i.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(k)}),null);
__d("VideoComponentCommercialBreakVodTransitionOverlay.react",["cx","React","VideoCommercialBreakTransitionOverlay","VideoComponent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.enable=function(l){this.$VideoComponentCommercialBreakVodTransitionOverlay1=new(c("VideoCommercialBreakTransitionOverlay"))({root:this.refs.root,body:this.refs.body});this.$VideoComponentCommercialBreakVodTransitionOverlay1.enable(l)};k.prototype.disable=function(){this.$VideoComponentCommercialBreakVodTransitionOverlay1=null};k.prototype.shouldComponentUpdate=function(l,m){return false};k.prototype.render=function(){return c("React").createElement("div",{ref:"root",className:"_2lwf _4ubd _4fii _bvi _167h"},c("React").createElement("div",{ref:"body",className:"_3j0w"}))};function k(){i.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(k)}),null);
__d("VideoComponentScrubberPreview.react",["React","RelayClassic_DEPRECATED","VideoComponent","VideoScrubberPreviewComponent"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}j.prototype.UNSAFE_componentWillReceiveProps=function(k){__p&&__p();var l=k.video;if(l&&l!==this.props.video){var m={};Object.assign(m,l.scrubberPreviewThumbnailInformation);if(Array.isArray(m.spriteIndexToURIMap)){var n=m.spriteIndexToURIMap.slice();n.unshift(null);m.spriteIndexToURIMap=n}new(c("VideoScrubberPreviewComponent"))(this.vpc,m)}};j.prototype.disable=function(k){};j.prototype.enable=function(k){this.vpc=k};j.prototype.render=function(){return null};f.exports=c("VideoComponent").createContainer(j,{relayVideoConfig:{fragments:{video:function k(){return function(){return{children:[{alias:"scrubberPreviewThumbnailInformation",calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:{kind:"CallValue",callValue:45}},{kind:"Call",metadata:{type:"Int"},name:"height",value:{kind:"CallValue",callValue:45}}],children:[{alias:"timeIntervalBetweenImages",fieldName:"time_interval_between_image",kind:"Field",metadata:{},type:"Int"},{alias:"previewScrubberWidth",fieldName:"thumbnail_width",kind:"Field",metadata:{},type:"Float"},{alias:"previewScrubberHeight",fieldName:"thumbnail_height",kind:"Field",metadata:{},type:"Float"},{alias:"maxImagesPerSprite",fieldName:"max_number_of_images_per_sprite",kind:"Field",metadata:{},type:"Int"},{alias:"imagesPerRow",fieldName:"num_images_per_row",kind:"Field",metadata:{},type:"Int"},{alias:"hasPreviewThumbnails",fieldName:"has_preview_thumbnails",kind:"Field",metadata:{},type:"Boolean"},{alias:"spriteIndexToURIMap",fieldName:"sprite_uris",kind:"Field",metadata:{isPlural:true},type:"String"},{alias:"scrubberVideoURI",fieldName:"scrubber_video_uri",kind:"Field",metadata:{},type:"String"}],fieldName:"scrubber_preview_thumbnail_information",kind:"Field",metadata:{canHaveSubselections:true},type:"ScrubberPreview"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentScrubberPreview_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("VideoComponentVodWithCommercialBreak.react",["InstreamVideoAdBreak","React","VideoComponent","VodWithCommercialBreak"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.enable=function(k){this.$VideoComponentVodWithCommercialBreak1=k;this.$VideoComponentVodWithCommercialBreak2=new(c("VodWithCommercialBreak"))({videoPlayerController:k,adBreaks:this.props.adBreaks})};j.prototype.UNSAFE_componentWillReceiveProps=function(k){if(this.$VideoComponentVodWithCommercialBreak2&&JSON.stringify(k.adBreaks)!==JSON.stringify(this.props.adBreaks))this.$VideoComponentVodWithCommercialBreak2.setAdBreaks(k.adBreaks)};j.prototype.disable=function(){this.$VideoComponentVodWithCommercialBreak1=null;this.$VideoComponentVodWithCommercialBreak2=null};j.prototype.render=function(){return null};function j(){h.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComponentWithSpacePlayPause.react",["React","VideoComponent","VideoWithSpacePlayPause"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.enable=function(k){new(c("VideoWithSpacePlayPause"))(k)};j.prototype.disable=function(){};j.prototype.render=function(){return null};function j(){h.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComposerDialogAdBreakPreviewSection.react",["cx","DateConsts","InstreamPlacement","InstreamVideoAdBreak","React","VideoComponentClickPlayPause.react","VideoComponentCommercialBreakStartingIndicator.react","VideoComponentCommercialBreakVideoAdOverlay.react","VideoComponentCommercialBreakVodTransitionOverlay.react","VideoComponentContextMenu.react","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentVodWithCommercialBreak.react","VideoComponentWithCommercialBreak.react","VideoComponentWithInstreamVideo.react","VideoComponentWithSpacePlayPause.react","VideoComposerDialogConstants","VideoPlayer.react","VideoPlayerController","VideoPlayerOrigins","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$VideoComposerDialogAdBreakPreviewSection1=function(){if(!this.props.insertedAdBreaks||this.props.isAdBreakDisabled)return[];return this.props.insertedAdBreaks.map(function(l,m){return new(c("InstreamVideoAdBreak"))({adBreakDurationInMs:null,index:0,instreamPlacement:c("InstreamPlacement").MID_ROLL,isAdBreakAutoInserted:false,timeOffsetInMs:l.timeOffset*c("DateConsts").MS_PER_SEC})})};k.prototype.$VideoComposerDialogAdBreakPreviewSection2=function(){if(this.props.insertedAdBreaks&&this.props.currentPreviewIndex!=null)return this.props.insertedAdBreaks[this.props.currentPreviewIndex].thumbnailURL;return null};k.prototype.$VideoComposerDialogAdBreakPreviewSection3=function(){return this.props.currentPreviewIndex!=null};k.prototype.render=function(){var l=this.props.videoData;if(!l)return c("React").createElement("div",{className:"_1fxr"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));return c("React").createElement("div",{className:"_3-98"},c("React").createElement(c("VideoPlayer.react"),{autoplay:false,className:"_4jg1",height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,playerOrigin:c("VideoPlayerOrigins").COMPOSER,videoData:l,onUpdateMetadata:this.props.onVPCUpdate,onVpcUpdate:this.props.onVPCUpdate},c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentEmbeddedControls.react"),{adBreaks:{insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:!this.props.hasGapRule,isPreviewingAdBreak:this.$VideoComposerDialogAdBreakPreviewSection3()},displayElapsedTime:true,displayMilliseconds:true,showFullscreenButton:false,showSettingsButton:false}),c("React").createElement(c("VideoComponentContextMenu.react"),null),c("React").createElement(c("VideoComponentClickPlayPause.react"),null),c("React").createElement(c("VideoComponentWithSpacePlayPause.react"),null),c("React").createElement(c("VideoComponentScrubberPreview.react"),null),c("React").createElement(c("VideoComponentWithInstreamVideo.react"),{shouldUsePreviewConfig:true,thumbnailURLForPreview:this.$VideoComposerDialogAdBreakPreviewSection2()}),c("React").createElement(c("VideoComponentWithCommercialBreak.react"),null),c("React").createElement(c("VideoComponentVodWithCommercialBreak.react"),{adBreaks:this.$VideoComposerDialogAdBreakPreviewSection1()}),c("React").createElement(c("VideoComponentCommercialBreakVideoAdOverlay.react"),{adsStopped:!this.$VideoComposerDialogAdBreakPreviewSection3()}),c("React").createElement(c("VideoComponentCommercialBreakVodTransitionOverlay.react"),null),c("React").createElement(c("VideoComponentCommercialBreakStartingIndicator.react"),{adsStopped:!this.$VideoComposerDialogAdBreakPreviewSection3()})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakVideoRightsNotice.react",["cx","fbt","React","VideoComposerDialogAdBreakNUX.react"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){if(k.videoRightsAgreed)return null;return c("React").createElement("div",{className:"_3-96"},c("React").createElement(c("VideoComposerDialogAdBreakNUX.react"),{description:i._("To include ad breaks, you agree that you have the rights to use all of the content in your video."),dismissible:false,style:"notice"}))}f.exports=j}),null);
__d("VideoComposerDialogAdBreakInsertionFieldV2.react",["cx","React","VideoComposerDialogAdBreakAutoAdjustmentSettings.react","VideoComposerDialogAdBreakAutoInsertionSelectionField.react","VideoComposerDialogAdBreakInsertedAdBreaks.react","VideoComposerDialogAdBreakInsertionEditorField.react","VideoComposerDialogAdBreakInsertionToggleField.react","VideoComposerDialogAdBreakPreviewSection.react","VideoComposerDialogAdBreakVideoRightsNotice.react","VideoPlayerController"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_n89"},c("React").createElement(c("VideoComposerDialogAdBreakVideoRightsNotice.react"),{videoRightsAgreed:!this.props.adBreaksDisabled}),c("React").createElement(c("VideoComposerDialogAdBreakInsertionToggleField.react"),{adBreaksDisabled:this.props.adBreaksDisabled,hasGapRule:this.props.hasGapRule,toggleDisabled:this.props.currentPreviewIndex!=null,videoDuration:this.props.videoDuration,onUpdateAdBreakStatus:this.props.onUpdateAdBreakStatus}),this.props.adBreaksDisabled?null:c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogAdBreakAutoInsertionSelectionField.react"),{hasGapRule:this.props.hasGapRule,isAdBreakAutoInsertionEnabled:this.props.isAdBreakAutoInsertionEnabled,videoDuration:this.props.videoDuration,onEnableAdBreakAutoInsertion:this.props.onEnableAdBreakAutoInsertion}),this.props.isAdBreakAutoInsertionEnabled?null:c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogAdBreakPreviewSection.react"),{currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.adBreaksDisabled,videoData:this.props.videoData,onVPCUpdate:this.props.onVPCUpdate}),c("React").createElement("div",{className:"_n8f"},c("React").createElement(c("VideoComposerDialogAdBreakInsertionEditorField.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onInsertAdBreak:this.props.onInsertAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),c("React").createElement("div",{className:"_3-9b"}),c("React").createElement(c("VideoComposerDialogAdBreakInsertedAdBreaks.react"),{adBreaksDisabled:this.props.adBreaksDisabled,insertedAdBreaks:this.props.insertedAdBreaks,isPreviewingAdBreak:this.props.currentPreviewIndex!=null,videoID:this.props.videoID,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak})),this.props.insertedAdBreaks.length>0?c("React").createElement("div",{className:"_n8h"},c("React").createElement(c("VideoComposerDialogAdBreakAutoAdjustmentSettings.react"),{isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment})):null)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakPageOnboardingSection.react",["cx","fbt","React","VideoComposerDialogField.react","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakPageOnboardingSection1=function(){this.props.pageID&&this.props.onStartPageOnboarding(this.props.pageID)}.bind(this),n}l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement(c("XUIButton.react"),{className:"_4vdf",label:i._("Get Started"),labelIsHidden:false,onClick:this.$VideoComposerDialogAdBreakPageOnboardingSection1,type:"button"}),inputPadding:true,showTopBorder:false,subtitle:i._("Set up ad breaks to start earning money from your videos. You can choose when to start each break, which pauses your video so that a short ad can play."),title:i._("Earn Money With Ads")})};f.exports=l}),null);
__d("VideoComposerDialogAdBreakProgramRulesChangesNotice.react",["fbt","Link.react","React","VideoComposerDialogAdBreakNUX.react","VideoInstreamAdsConstants"],(function a(b,c,d,e,f,g,h){"use strict";var i=5553;function j(){if(!c("VideoInstreamAdsConstants").SHOULD_SHOW_V2_NOTICE)return null;return c("React").createElement(c("VideoComposerDialogAdBreakNUX.react"),{description:c("React").createElement("div",null,h._({"*":{"*":"We're making some changes to ad breaks in January 2018. Videos will need to be at least {min_length} minutes long, and ad breaks may only be placed after the first {min_start} minutes.","_1":"We're making some changes to ad breaks in January 2018. Videos will need to be at least {min_length} minutes long, and ad breaks may only be placed after the first minute."},"_1":{"*":"We're making some changes to ad breaks in January 2018. Videos will need to be at least 1 minute long, and ad breaks may only be placed after the first {min_start} minutes.","_1":"We're making some changes to ad breaks in January 2018. Videos will need to be at least 1 minute long, and ad breaks may only be placed after the first minute."}},[h._plural(c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MIN_FOR_NOTICE,"min_length"),h._plural(c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MIN_FOR_NOTICE,"min_start")])," ",c("React").createElement(c("Link.react"),{href:c("VideoInstreamAdsConstants").V2_NOTICE_URL,target:"_blank"},h._("Learn more")),"."),dismissible:true,nuxID:i,style:"notice",title:h._("Update to Ad Breaks")})}f.exports=j}),null);
__d("VideoComposerDialogAdBreakVideoRightsSection.react",["cx","fbt","React","VideoComposerDialogField.react","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement(c("XUIButton.react"),{className:"_4vdf",label:i._("I Agree"),labelIsHidden:false,onClick:this.props.onAgree,type:"button"}),inputPadding:true,showTopBorder:false,subtitle:i._("To include ad breaks, you agree that you have the rights to use all of the content in your video."),title:i._("Content Ownership Rights")})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogAdBreakInputSection.react",["cx","React","VideoComposerDialogAdBreakBlockListField.react","VideoComposerDialogAdBreakDemonetizationNotice.react","VideoComposerDialogAdBreakHoldoutTestField.react","VideoComposerDialogAdBreakInsertionField.react","VideoComposerDialogAdBreakInsertionFieldV2.react","VideoComposerDialogAdBreakPageOnboardingSection.react","VideoComposerDialogAdBreakProgramRulesChangesNotice.react","VideoComposerDialogAdBreakUtils","VideoComposerDialogAdBreakVideoRightsSection.react","VideoPlayerController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakInputSection1=function(r){if(r&&this.props.holdoutTestEnabled&&this.props.holdoutTestPublicMetadata.isStarted&&!this.props.holdoutTestPublicMetadata.isExpired)c("VideoComposerDialogAdBreakUtils").showHoldoutTestDisabledConfirmation(function(){return this.props.onUpdateAdBreakStatus(r)}.bind(this));else this.props.onUpdateAdBreakStatus(r)}.bind(this),n}k.prototype.render=function(){if(this.props.isPageOnboardingVisible)return c("React").createElement(c("VideoComposerDialogAdBreakPageOnboardingSection.react"),{pageID:this.props.pageID,onStartPageOnboarding:this.props.onStartPageOnboarding});if(!this.props.videoRightsAgreed)return c("React").createElement(c("VideoComposerDialogAdBreakVideoRightsSection.react"),{onAgree:this.props.onAgreeVideoRights});return c("React").createElement("div",null,c("React").createElement("div",{className:"_35mv"},c("React").createElement(c("VideoComposerDialogAdBreakDemonetizationNotice.react"),{adBreakPrereviewStatus:this.props.adBreakPrereviewStatus,isDemonetized:this.props.isDemonetized}),c("React").createElement(c("VideoComposerDialogAdBreakProgramRulesChangesNotice.react"),null)),this.props.isAdBreakInsertionRedesignV2?c("React").createElement(c("VideoComposerDialogAdBreakInsertionFieldV2.react"),{adBreakPrereviewStatus:this.props.adBreakPrereviewStatus,adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,isAdBreakAutoInsertionEnabled:this.props.isAdBreakAutoInsertionEnabled,videoData:this.props.videoData,videoDuration:this.props.videoDuration,videoID:this.props.videoID,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment,onEnableAdBreakAutoInsertion:this.props.onEnableAdBreakAutoInsertion,onInsertAdBreak:this.props.onInsertAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak,onUpdateAdBreakStatus:this.$VideoComposerDialogAdBreakInputSection1,onVPCUpdate:this.props.onVPCUpdate}):c("React").createElement(c("VideoComposerDialogAdBreakInsertionField.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,isAdBreakInsertionRedesignV1:this.props.isAdBreakInsertionRedesignV1,videoDuration:this.props.videoDuration,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment,onInsertAdBreak:this.props.onInsertAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak,onUpdateAdBreakStatus:this.$VideoComposerDialogAdBreakInputSection1}),c("React").createElement(l,this.props))};function l(m){return m.isAdBreakInsertionRedesignV2&&m.adBreaksDisabled?null:c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogAdBreakHoldoutTestField.react"),{enabled:m.holdoutTestEnabled,hasEnabledAdBreaks:!m.adBreaksDisabled&&m.insertedAdBreaks.length>0,holdoutTestPublicMetadata:m.holdoutTestPublicMetadata,pageID:m.pageID,onUpdateHoldoutTestStatus:m.onUpdateHoldoutTestStatus}),c("React").createElement(c("VideoComposerDialogAdBreakBlockListField.react"),{pageID:m.pageID}))}f.exports=k}),null);
__d("VideoComposerDialogAdBreakVideoPlayerController",["SubscriptionsHandler","VideoPlayerController","VideoPlayerReason","VideoPlayerReasonTransitionHelper"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=7,i=1;function j(){this.$VideoComposerDialogAdBreakVideoPlayerController4=new(c("SubscriptionsHandler"))();this.$VideoComposerDialogAdBreakVideoPlayerController1=[]}j.prototype.updateVPC=function(k){__p&&__p();if(this.$VideoComposerDialogAdBreakVideoPlayerController5===k)return;this.$VideoComposerDialogAdBreakVideoPlayerController4.release();if(!k)return;this.$VideoComposerDialogAdBreakVideoPlayerController5=k;this.$VideoComposerDialogAdBreakVideoPlayerController4=new(c("SubscriptionsHandler"))();this.$VideoComposerDialogAdBreakVideoPlayerController4.addSubscriptions(k.addListener("commercialBreak/vodBreakStarting",function(){this.$VideoComposerDialogAdBreakVideoPlayerController6(this.$VideoComposerDialogAdBreakVideoPlayerController7())}.bind(this)),k.addListener("playRequested",function(l){if(l===c("VideoPlayerReason").COMMERCIAL_BREAK)this.$VideoComposerDialogAdBreakVideoPlayerController6(null)}.bind(this)),k.addListener("updateStatus",function(){if(this.$VideoComposerDialogAdBreakVideoPlayerController2&&this.$VideoComposerDialogAdBreakVideoPlayerController5)this.$VideoComposerDialogAdBreakVideoPlayerController2(this.$VideoComposerDialogAdBreakVideoPlayerController5.getCurrentTimePosition())}.bind(this)))};j.prototype.updateInsertedAdBreaks=function(k){this.$VideoComposerDialogAdBreakVideoPlayerController1=k};j.prototype.updateCallbacks=function(k,l){this.$VideoComposerDialogAdBreakVideoPlayerController2=k;this.$VideoComposerDialogAdBreakVideoPlayerController3=l};j.prototype.unmount=function(){this.$VideoComposerDialogAdBreakVideoPlayerController6(null);this.$VideoComposerDialogAdBreakVideoPlayerController4.release();this.$VideoComposerDialogAdBreakVideoPlayerController5=null};j.prototype.seek=function(k,l){this.$VideoComposerDialogAdBreakVideoPlayerController5&&this.$VideoComposerDialogAdBreakVideoPlayerController5.seek(k);l&&this.pause()};j.prototype.play=function(){this.$VideoComposerDialogAdBreakVideoPlayerController5&&this.$VideoComposerDialogAdBreakVideoPlayerController5.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").AUTOPLAY))};j.prototype.pause=function(){this.$VideoComposerDialogAdBreakVideoPlayerController5&&this.$VideoComposerDialogAdBreakVideoPlayerController5.pause()};j.prototype.startAdBreakPreview=function(k){this.seek(this.$VideoComposerDialogAdBreakVideoPlayerController1[k].timeOffset-h,false);this.play()};j.prototype.stopAdBreakPreview=function(){this.$VideoComposerDialogAdBreakVideoPlayerController3(null)};j.prototype.$VideoComposerDialogAdBreakVideoPlayerController6=function(k){this.$VideoComposerDialogAdBreakVideoPlayerController3&&this.$VideoComposerDialogAdBreakVideoPlayerController3(k)};j.prototype.$VideoComposerDialogAdBreakVideoPlayerController7=function(){var k=this.$VideoComposerDialogAdBreakVideoPlayerController5?this.$VideoComposerDialogAdBreakVideoPlayerController5.getCurrentTimePosition():0;for(var l=0;l<this.$VideoComposerDialogAdBreakVideoPlayerController1.length;l++){var m=this.$VideoComposerDialogAdBreakVideoPlayerController1[l].timeOffset;if(k>=m-h&&k<=m+i)return l}return null};f.exports=new j()}),null);
__d("VideoComposerDialogAdBreakContainer.react",["cx","VideoComposerDialogAdBreakActions","FluxContainer","immutable","React","VideoComposerDialogAdBreakInputSection.react","VideoComposerDialogAdBreakPreviewSection.react","VideoComposerDialogAdBreakStore","VideoComposerDialogAdBreakVideoPlayerController","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogUploadStore","VideoPlayerController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogAdBreakStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]};k.calculateState=function(){var l=c("VideoComposerDialogAdBreakStore").getState(),m=c("VideoComposerDialogMetadataStore").getState(),n=c("VideoComposerDialogUploadStore").getState();return{adBreakPrereviewStatus:l.adBreakPrereviewStatus,adBreaksDisabled:l.adBreaksDisabled,currentAdBreakTimeOffset:l.currentAdBreakTimeOffset,currentPreviewIndex:l.currentPreviewIndex,hasGapRule:l.hasGapRule,holdoutTestEnabled:l.holdoutTestEnabled,holdoutTestPublicMetadata:l.holdoutTestPublicMetadata,insertedAdBreaks:l.insertedAdBreaks,isAdBreakAutoAdjustmentEnabled:l.isAdBreakAutoAdjustmentEnabled,isAdBreakAutoInsertionEnabled:l.isAdBreakAutoInsertionEnabled,isAdBreakInsertionRedesignV1:l.isAdBreakInsertionRedesignV1,isAdBreakInsertionRedesignV2:l.isAdBreakInsertionRedesignV2,isDemonetized:l.isDemonetized,isPageOnboardingVisible:l.isPageOnboardingVisible,pageID:m.targetID,videoData:m.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD?n.videoData:m.videoDataForID,videoDuration:Number(m.videoDuration),videoID:m.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD&&!n.uploadFinished?null:m.videoID,videoRightsAgreed:l.videoRightsAgreed,vpc:l.vpc}};k.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(k.getStores())};k.prototype.componentDidUpdate=function(l,m){c("VideoComposerDialogAdBreakVideoPlayerController").updateVPC(this.state.vpc);c("VideoComposerDialogAdBreakVideoPlayerController").updateInsertedAdBreaks(this.state.insertedAdBreaks.toArray());c("VideoComposerDialogAdBreakVideoPlayerController").updateCallbacks(c("VideoComposerDialogAdBreakActions").setCurrentAdBreak,c("VideoComposerDialogAdBreakActions").setCurrentPreviewIndex)};k.prototype.componentWillUnmount=function(){c("VideoComposerDialogAdBreakVideoPlayerController").unmount()};k.prototype.$VideoComposerDialogAdBreakContainer1=function(l,m,n){c("VideoComposerDialogAdBreakActions").setCurrentAdBreak(l);c("VideoComposerDialogAdBreakVideoPlayerController").seek(l,n)};k.prototype.$VideoComposerDialogAdBreakContainer2=function(l){c("VideoComposerDialogAdBreakVideoPlayerController").startAdBreakPreview(l)};k.prototype.$VideoComposerDialogAdBreakContainer3=function(){c("VideoComposerDialogAdBreakVideoPlayerController").stopAdBreakPreview()};k.prototype.render=function(){return c("React").createElement("div",{className:"_63z7"},this.state.isAdBreakInsertionRedesignV2?null:c("React").createElement(c("VideoComposerDialogAdBreakPreviewSection.react"),{currentPreviewIndex:this.state.currentPreviewIndex,hasGapRule:this.state.hasGapRule,insertedAdBreaks:this.state.videoRightsAgreed?this.state.insertedAdBreaks.toArray():null,isAdBreakDisabled:this.state.adBreaksDisabled,videoData:this.state.videoData,onVPCUpdate:c("VideoComposerDialogAdBreakActions").updateVPC}),c("React").createElement("div",{className:"_63vb"},c("React").createElement(c("VideoComposerDialogAdBreakInputSection.react"),{adBreaksDisabled:this.state.adBreaksDisabled,adBreakPrereviewStatus:this.state.adBreakPrereviewStatus,currentAdBreakTimeOffset:this.state.currentAdBreakTimeOffset,currentPreviewIndex:this.state.currentPreviewIndex,hasGapRule:this.state.hasGapRule,holdoutTestEnabled:this.state.holdoutTestEnabled,holdoutTestPublicMetadata:this.state.holdoutTestPublicMetadata,insertedAdBreaks:this.state.insertedAdBreaks.toArray(),isAdBreakAutoAdjustmentEnabled:this.state.isAdBreakAutoAdjustmentEnabled,isAdBreakAutoInsertionEnabled:this.state.isAdBreakAutoInsertionEnabled,isAdBreakInsertionRedesignV1:this.state.isAdBreakInsertionRedesignV1,isAdBreakInsertionRedesignV2:this.state.isAdBreakInsertionRedesignV2,isDemonetized:this.state.isDemonetized,isPageOnboardingVisible:this.state.isPageOnboardingVisible,pageID:this.state.pageID,videoData:this.state.videoData,videoDuration:this.state.videoDuration,videoID:this.state.videoID,videoRightsAgreed:this.state.videoRightsAgreed,onAgreeVideoRights:c("VideoComposerDialogAdBreakActions").agreeVideoRights,onCancelPreview:this.$VideoComposerDialogAdBreakContainer3,onDeleteAdBreak:c("VideoComposerDialogAdBreakActions").deleteAdBreak,onEnableAdBreakAutoAdjustment:c("VideoComposerDialogAdBreakActions").setIsAdBreakAutoAdjustmentEnabled,onEnableAdBreakAutoInsertion:c("VideoComposerDialogAdBreakActions").setIsAdBreakAutoInsertionEnabled,onInsertAdBreak:c("VideoComposerDialogAdBreakActions").insertAdBreak,onPreviewAdBreak:this.$VideoComposerDialogAdBreakContainer2,onSetCurrentAdBreak:this.$VideoComposerDialogAdBreakContainer1,onStartPageOnboarding:c("VideoComposerDialogAdBreakActions").startPageOnboarding,onUpdateAdBreakStatus:c("VideoComposerDialogAdBreakActions").updateAdBreakStatus,onUpdateHoldoutTestStatus:c("VideoComposerDialogAdBreakActions").updateHoldoutTestStatus,onVPCUpdate:c("VideoComposerDialogAdBreakActions").updateVPC})))};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogAdBreaksTabUtils",["fbt","AdBreakInsertionDisabledReason","AdBreakStatus","VideoInstreamAdsConstants","VideoInstreamUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("Place ad breaks in this video to start making money from your content."),j=h._("Ad breaks have been disabled for this video."),k=function k(l,m,n,o,p,q){__p&&__p();if(l)return{disabled:false,tabDescription:i,tabTooltip:null};if(o==null)return{disabled:true,tabDescription:j,tabTooltip:null};var r=new Set(m),s=c("VideoInstreamUtils").getMaxPossibleAdBreaks(o,q);if(s===0)r.add(c("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT);if(p)r.add(c("AdBreakInsertionDisabledReason").BRANDED_CONTENT);if(r.has(c("AdBreakInsertionDisabledReason").NOT_ORGANIC_UPLOAD))return{disabled:true,tabDescription:j,tabTooltip:h._("Ad breaks can only be placed in original videos, not crossposted or reshared videos.")};if(r.has(c("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT))return{disabled:true,tabDescription:j,tabTooltip:h._("Videos must be {insertion interval} seconds or longer. Your video is too short to include ad breaks.",[h._param("insertion interval",c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH)])};if(r.has(c("AdBreakInsertionDisabledReason").BRANDED_CONTENT))return{disabled:true,tabDescription:j,tabTooltip:h._("Ad breaks not available. Ad breaks can't be used in this video because it contains tagged business partners.")};if(r.size>0)return{disabled:true,tabDescription:j,tabTooltip:null};var t=n.filter(function(u){return u.status===c("AdBreakStatus").ENABLED});if(t.length>0)return{disabled:false,tabDescription:h._("This video is opted into ad breaks."),tabTooltip:null};return{disabled:false,tabDescription:i,tabTooltip:null}};f.exports={getTabState:k}}),null);
__d("VideoComposerDialogTabItem.react",["cx","Image.react","React","ShimButton.react","SimpleNUXMessage","Tooltip","VideoComposerDialogActions","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=290;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={nuxShown:false},this.$VideoComposerDialogTabItem1=function(){c("VideoComposerDialogActions").selectTab(this.props.tabConfig.key)}.bind(this),this.$VideoComposerDialogTabItem2=function(){if(this.props.tabConfig.nuxMessage){c("SimpleNUXMessage").markMessageSeenByUser(this.props.tabConfig.nuxMessage);this.setState({nuxShown:false})}}.bind(this),n}l.prototype.componentDidMount=function(){this.setState({nuxShown:this.props.tabConfig.nuxMessage?!c("SimpleNUXMessage").hasUserSeenMessage(this.props.tabConfig.nuxMessage):false})};l.prototype.renderLayers=function(){var m=this.props.tabConfig;if(!m.renderNuxMessage)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.tabContainer}.bind(this),shown:this.state.nuxShown,position:"left",width:"custom",customwidth:m.nuxWidth?m.nuxWidth:k,onCloseButtonClick:this.$VideoComposerDialogTabItem2},m.renderNuxMessage())};l.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),babelHelpers["extends"]({className:"_10ij"+(this.props.isSelected?" _2-q6":"")+(this.props.disabled?" _k3d":""),ref:"tabContainer",href:"#",onClick:this.props.disabled?null:this.$VideoComposerDialogTabItem1},c("Tooltip").propsFor(this.props.tooltip,"left")),c("React").createElement("div",{className:"_10ik"},c("React").createElement(c("Image.react"),{className:"_63kw _3-90",src:this.props.isSelected?this.props.tabConfig.glyphSelected:this.props.tabConfig.glyphUnselected}),c("React").createElement("span",null,this.props.tabConfig.title)),c("React").createElement("div",{className:"_10il"},this.props.customDescription?this.props.customDescription:this.props.tabConfig.defaultDescription),this.renderLayers())};l.defaultProps={disabled:false};f.exports=l}),null);
__d("VideoComposerDialogAdBreaksTabContainer.react",["FluxContainer","immutable","React","VideoComposerDialogAdBreakStore","VideoComposerDialogAdBreaksTabConfig","VideoComposerDialogAdBreaksTabUtils","VideoComposerDialogMetadataStore","VideoComposerDialogTabItem.react","VideoComposerDialogTab","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogAdBreakStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab,m=c("VideoComposerDialogAdBreakStore").getState(),n=m.hasGapRule,o=m.insertedAdBreaks,p=m.isAdBreaksTabVisible,q=m.isBrandedContentVideo,r=m.isPageOnboardingVisible,s=m.serverSideDisabledReasons,t=c("VideoComposerDialogMetadataStore").getState(),u=t.videoDuration;return{hasGapRule:n,insertedAdBreaks:o,isBrandedContentVideo:q,isPageOnboardingVisible:r,isSelected:l===c("VideoComposerDialogTab").AD_BREAKS,isVisible:p,serverSideDisabledReasons:s,videoDuration:u}};j.prototype.render=function(){if(!this.state.isVisible)return null;var k=c("VideoComposerDialogAdBreaksTabUtils").getTabState(this.state.isPageOnboardingVisible,this.state.serverSideDisabledReasons.toArray(),this.state.insertedAdBreaks.toArray(),this.state.videoDuration,this.state.isBrandedContentVideo,this.state.hasGapRule);return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({customDescription:k.tabDescription,disabled:k.disabled,tabConfig:c("VideoComposerDialogAdBreaksTabConfig"),tooltip:k.tabTooltip},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("ReactComposerBackdateTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h,i){var j=c("React").createClass({displayName:"ReactComposerBackdateTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{taggerID:c("ReactComposerTaggerType").BACKDATE,loggingName:c("ReactComposerLoggingName").BACKDATE_TAGGER},getTitle:function k(){return i._("Set date and time of your post")},getTooltip:function k(){return i._("Set date and time of your post")},getClassName:function k(){return"_4ve3"}});f.exports=j}),null);
__d("ReactComposerBackdateTaggerComponent.react",["cx","fbt","Grid.react","ProgressiveDateAndTimePicker.react","React","XUICloseButton.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes,n={day:0,hour:-1,minute:-1,month:0,year:0};j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$ReactComposerBackdateTaggerComponent1=function(u){this.props.onSelect(u)}.bind(this),this.$ReactComposerBackdateTaggerComponent2=function(){this.$ReactComposerBackdateTaggerComponent1(n)}.bind(this),q}o.prototype.render=function(){"use strict";var p=this.props.taggerData.year>0?c("React").createElement(c("XUICloseButton.react"),{className:"_3mjw",onClick:this.$ReactComposerBackdateTaggerComponent2,size:"small"}):null;return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl"},c("React").createElement(l,{key:"prefix",className:"_5esm"},i._("When")),c("React").createElement(l,{key:"tagger",className:"_5esw _3mjx"},c("React").createElement(c("ProgressiveDateAndTimePicker.react"),{className:"_5bm1",initialYear:this.props.taggerData.year,initialMonth:this.props.taggerData.month,initialDay:this.props.taggerData.day,initialHour:this.props.taggerData.hour,initialMinute:this.props.taggerData.minute,descendingYears:true,onDateAndTimeChange:this.$ReactComposerBackdateTaggerComponent1,menuMaxHeight:235}),p))};o.propTypes={taggerData:m.object.isRequired,onSelect:m.func.isRequired};o.defaultProps={taggerData:{},onSelect:c("emptyFunction")};f.exports=o}),null);
__d("ReactComposerBackdateTaggerContainer.react",["React","ReactComposerBackdateTaggerComponent.react","ReactComposerLoggingName","ReactComposerTaggerContainerMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerBackdateTaggerContainer",mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").BACKDATE,loggingName:c("ReactComposerLoggingName").BACKDATE_TAGGER,taggerComponent:c("ReactComposerBackdateTaggerComponent.react")}});f.exports=h}),null);
__d("PagePostMessageIntentUtil",["PageMessageIntentConfig"],(function a(b,c,d,e,f,g){"use strict";var h={hasMessageIntent:function i(j){var k=j.toLowerCase();return Object.values(c("PageMessageIntentConfig").patterns).some(function(l){return k.match(String(l).toLowerCase())!==null})}};f.exports=h}),null);
__d("ReactComposerCTAActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({ADD_OPTION:null,ALLOW_MULTI_MEDIA:null,SET_CTA_CONFIG:null,HAS_PHOTO_FOR_ENTPOST:null,HAS_PHOTO:null,NEEDS_PHOTO:null,HAS_VIDEO:null,NEEDS_VIDEO:null,USING_PREMADE_POST_VIDEO:null,SWITCH_CTA:null},"ReactComposerCTAActionType")}),null);
__d("ReactComposerCTAStore",["DOM","ReactComposerCTAActionType","ReactComposerEvents","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{ctaType:"",ctaValues:{},hasPhoto:c("ReactComposerCTAActionType").NEEDS_PHOTO}},function(l){__p&&__p();switch(l.type){case c("ReactComposerCTAActionType").SET_CTA_CONFIG:k&&k.$ReactComposerCTAStore1(l);break;case c("ReactComposerCTAActionType").SWITCH_CTA:k&&k.$ReactComposerCTAStore2(l);break;case c("ReactComposerCTAActionType").ALLOW_MULTI_MEDIA:k&&k.$ReactComposerCTAStore3(l);break;case c("ReactComposerCTAActionType").HAS_PHOTO:k&&k.$ReactComposerCTAStore4(l);break;case c("ReactComposerCTAActionType").HAS_PHOTO_FOR_ENTPOST:k&&k.$ReactComposerCTAStore5(l);break;case c("ReactComposerCTAActionType").NEEDS_PHOTO:k&&k.$ReactComposerCTAStore6(l);break;case c("ReactComposerCTAActionType").HAS_VIDEO:k&&k.$ReactComposerCTAStore7(l);break;case c("ReactComposerCTAActionType").NEEDS_VIDEO:k&&k.$ReactComposerCTAStore8(l);break;case c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO:k&&k.$ReactComposerCTAStore9(l);break;default:break}});k=this}j.prototype.$ReactComposerCTAStore3=function(k){"use strict";var l=this.getComposerData(k.composerID);l.allowMultiMedia=k.allowMultiMedia;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore4=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasPhoto=c("ReactComposerCTAActionType").HAS_PHOTO;l.hasCTAVideo=false;l.videoID=null;l.photoID=null;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore5=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasPhoto=c("ReactComposerCTAActionType").HAS_PHOTO;l.photoID=k.photoID;l.hasCTAVideo=false;l.videoID=null;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore6=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasPhoto=c("ReactComposerCTAActionType").NEEDS_PHOTO;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore7=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasCTAVideo=c("ReactComposerCTAActionType").HAS_VIDEO;l.videoID=k.videoID;l.hasPhoto=false;l.photoID=null;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore8=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasCTAVideo=c("ReactComposerCTAActionType").NEEDS_VIDEO;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore9=function(k){"use strict";var l=this.getComposerData(k.composerID);l.usingPremadePostVideo=c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO;this.emitChange(k.composerID)};j.prototype.removeListeners=function(){"use strict";this.removeAllListeners(c("ReactComposerEvents").CHANGE)};j.prototype.allowMultiMedia=function(k){"use strict";return this.getComposerData(k).allowMultiMedia===true};j.prototype.hasCTAPhotoID=function(k){"use strict";return this.getComposerData(k).photoID!==null};j.prototype.hasCTAPhoto=function(k){"use strict";return this.getComposerData(k).hasPhoto===c("ReactComposerCTAActionType").HAS_PHOTO};j.prototype.hasCTAVideo=function(k){"use strict";return this.getComposerData(k).hasCTAVideo===c("ReactComposerCTAActionType").HAS_VIDEO};j.prototype.isUsingPremadePostVideo=function(k){"use strict";return this.getComposerData(k).usingPremadePostVideo===c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO};j.prototype.getCTAType=function(k){"use strict";return this.getComposerData(k).ctaType};j.prototype.getCTAData=function(k){"use strict";return{type:this.getComposerData(k).ctaType,value:this.getComposerData(k).ctaValues}};j.prototype.getCTAMarkup=function(k){"use strict";return this.getComposerData(k).ctaMarkup};j.prototype.getVideoID=function(k){"use strict";var l=this.getComposerData(k);return l.videoID};j.prototype.getAttachmentConfig=function(k){"use strict";__p&&__p();var l=this.getComposerData(k);if(!l.ctaMarkup)return null;var m=l.ctaMarkup,n=l.ctaAttachmentConfig;if(this.allowMultiMedia(k))n.params.allowMultiMedia=l.allowMultiMedia;if(this.hasCTAVideo(k)){n.params.videoID=l.videoID;n.params.usingPremadePostVideo=this.isUsingPremadePostVideo(k)}else if(this.hasCTAPhotoID(k))n.params.photoID=l.photoID;else{var o=c("DOM").scry(m,'input[name="attachment[params][images][0]"]').pop(),p=c("DOM").scry(m,'input[name="attachment[params][title]"]').pop(),q=c("DOM").scry(m,'input[name="attachment[params][summary]"]').pop();if(o){if(!n.params.images)n.params.images=[];n.params.images[0]=o.value}if(p)n.params.title=p.value;if(q)n.params.summary=q.value}return n};j.prototype.$ReactComposerCTAStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","config"]),m=l[0],n=l[1],o=this.getComposerData(m);o.ctaType=n.ctaType;o.ctaValues=n.ctaValues;o.ctaMarkup=n.markup;o.ctaAttachmentConfig=n.attachmentConfig;this.emitChange(m)};j.prototype.$ReactComposerCTAStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","customizedMessageCta"]),m=l[0],n=l[1],o=this.getComposerData(m);o.ctaValues.customized_message_page_cta_text=n;this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerCTAActions",["ReactComposerCTAActionType","ReactComposerDispatcher","ReactComposerCTAStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerCTAStore");h.prototype.setConfig=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").SET_CTA_CONFIG,config:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.switchCTA=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").SWITCH_CTA,customizedMessageCta:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setAllowMultiMedia=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").ALLOW_MULTI_MEDIA,allowMultiMedia:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setHasPhoto=function(i){"use strict";var j={composerID:i,type:c("ReactComposerCTAActionType").HAS_PHOTO};c("ReactComposerDispatcher").dispatch(j)};h.prototype.setHasPhotoForEntPost=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").HAS_PHOTO_FOR_ENTPOST,photoID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setNeedsPhoto=function(i){"use strict";var j={composerID:i,type:c("ReactComposerCTAActionType").NEEDS_PHOTO};c("ReactComposerDispatcher").dispatch(j)};h.prototype.setHasVideo=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").HAS_VIDEO,videoID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setNeedsVideo=function(i){"use strict";var j={composerID:i,type:c("ReactComposerCTAActionType").NEEDS_VIDEO};c("ReactComposerDispatcher").dispatch(j)};h.prototype.setPostingPremadePostCard=function(i){"use strict";var j={composerID:i,type:c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO};c("ReactComposerDispatcher").dispatch(j)};function h(){"use strict"}f.exports=new h()}),null);
__d("XMessengerMonetizationSmartSendMessageCTAController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/commerce/messenger_monetization/smart_send_message_cta/",{auto_select:{type:"Bool",defaultValue:false}})}),null);
__d("ReactComposerMessagingTaggerButton.react",["cx","fbt","AsyncRequest","BusinessConversationEvent","BusinessConversationEventTarget","BusinessConversationLogger","React","ReactComposerCTAActions","ReactComposerLoggingName","ReactComposerStatusStore","ReactComposerTaggerButton.react","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerType","PagePostMessageIntentUtil","XCommerceSelfServeMerchantNUXSeenController","XMessengerMonetizationSmartSendMessageCTAController","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerMessagingTaggerButton",mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerStatusStore"),c("ReactComposerTaggerStore"))],statics:{loggingName:c("ReactComposerLoggingName").MESSAGING_TAGGER,taggerID:c("ReactComposerTaggerType").MESSAGING,savedAutoSelect:undefined,calculateState:function l(m,n){var o=c("ReactComposerTaggerStore").getSelectedTagger(m);return{selected:o===this.taggerID,autoSelectMessage:c("PagePostMessageIntentUtil").hasMessageIntent(c("ReactComposerStatusStore").getMessageText(m)||""),hasData:c("ReactComposerTaggerStore").hasData(m,this.taggerID),showNUX:c("ReactComposerTaggerStore").shouldShowNUX(m,this.taggerID),showTooltip:c("ReactComposerTaggerStore").shouldShowTooltip(m,this.taggerID),shouldHide:c("ReactComposerTaggerStore").isDisabled(m,this.taggerID)}}},propTypes:{autoSelect:j.bool,nuxType:j.string,detectMessageIntent:j.bool},getTitle:function l(){return i._("Add a send message CTA")},getNUX:function l(){if(!this.state.showNUX||!this.state.contextRef)return null;var m=i._("Add this button to your post so people can reply directly in Messenger.");return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"center",contextRef:function(){return this.state.contextRef}.bind(this),onCloseButtonClick:this._hideNUX,position:"below",shown:true,width:"auto"},m)},getInitialState:function l(){return{loggedImpressions:[]}},getTooltip:function l(){return i._("Add a Messenger button")},getClassName:function l(){return"_3dnl"},getRef:function l(){return"fbReactComposerMessagingTaggerButton"},_hideNUX:function l(){c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").MESSAGING,false);var m=c("XCommerceSelfServeMerchantNUXSeenController").getURIBuilder().setInt("page_id",this.context.actorID).setEnum("nux_type",this.props.nuxType).getURI();new(c("AsyncRequest"))(m).send()},componentDidMount:function l(){__p&&__p();this.setState({contextRef:this.refs.fbReactComposerMessagingTaggerButton});if(this.constructor.savedAutoSelect===undefined)this.constructor.savedAutoSelect=this.props.autoSelect;if(!this.state.shouldHide&&(this.constructor.savedAutoSelect||c("PagePostMessageIntentUtil").hasMessageIntent(c("ReactComposerStatusStore").getMessageText(this.context.composerID)||""))){var m=c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID);if(m!==c("ReactComposerTaggerType").MESSAGING){this.constructor.savedAutoSelect=!this.constructor.savedAutoSelect;this._onSelect();if(!this.constructor.savedAutoSelect)this._logImpression()}}},UNSAFE_componentWillUpdate:function l(){var m=c("ReactComposerTaggerStore").hasData(this.context.composerID,this.constructor.taggerID);if(!this.state.shouldHide&&this.state.autoSelectMessage&&this.props.detectMessageIntent&&m===undefined){this.constructor.savedAutoSelect=!this.constructor.savedAutoSelect;this._onSelect();this._logImpression()}},render:function l(){if(this.state.shouldHide)return null;return c("React").createElement("div",{className:"uiContextualLayerParent",style:{display:"inline-block"}},c("React").createElement(c("ReactComposerTaggerButton.react"),babelHelpers["extends"]({},this.state,{taggerID:this.constructor.taggerID,title:this.getTitle(),tooltip:this.getTooltip(),className:this.getClassName(),ref:this.getRef(),onSelect:this._onSelect,suppressTaggerLink:this.constructor.suppressTaggerLink}),this.getNUX&&this.getNUX()))},_logImpression:function l(){var m=this.state.loggedImpressions;if(m.indexOf(this.constructor.taggerID)>=0)return;c("BusinessConversationLogger").log(this.context.actorID,c("BusinessConversationEvent").IMPRESSION,c("BusinessConversationEventTarget").COMPOSER_MESSAGE_TAGGER,"page_composer",{});m.push(this.constructor.taggerID);this.setState({loggedImpressions:m})},_onSelect:function l(){this._onSelectX();c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle)},_onSelectX:function l(){var m=c("ReactComposerTaggerStore").hasData(this.context.composerID,this.constructor.taggerID);if(m){c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").MESSAGING_TAGGER,c("ReactComposerTaggerType").MESSAGING,{hasCTA:false});var n={ctaType:null,ctaValues:{is_cta_share_post:true,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};c("ReactComposerCTAActions").setConfig(this.context.composerID,n)}this.constructor.savedAutoSelect=!this.constructor.savedAutoSelect;var o=c("XMessengerMonetizationSmartSendMessageCTAController").getURIBuilder().setBool("auto_select",this.constructor.savedAutoSelect).getURI();new(c("AsyncRequest"))(o).send()}});f.exports=k}),null);
__d("PageComposerMessengerCTATaggerBannerButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=Object.freeze({DARK:"dark",LIGHT:"light"}),n=Object.freeze({MEDIUM:"medium",SMALL:"small"}),o=Object.freeze({BUTTON:"button",RESET:"reset",SUBMIT:"submit"});j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.prototype.render=function(){var q=this.props.size,r=this.props.shade,s="_50zy"+(q===n.SMALL?" _50zz":"")+(q===n.MEDIUM?" _50-0":"")+(r===m.LIGHT?" _50z_":"")+(r===m.DARK?" _50z-":""),t=this.props.label,u=this.props.title;if(!this.props.title&&!this.props.tooltip){if(!t)t=i._("Remove");u=t}return c("React").createElement(c("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,s),"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,label:t,title:u,type:this.props.href?null:this.props.type}))};function p(){j.apply(this,arguments)}p.propTypes={shade:l.oneOf([m.DARK,m.LIGHT]),size:l.oneOf([n.MEDIUM,n.SMALL]),type:l.oneOf([o.BUTTON,o.RESET,o.SUBMIT])};p.defaultProps={size:"medium",shade:"dark",type:"button"};f.exports=p}),null);
__d("PageComposerMessengerCTATaggerBanner.react",["cx","fbt","LeftRight.react","PageComposerMessengerCTATaggerBannerButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props,o=n.closeButtonText,p=babelHelpers.objectWithoutProperties(n,["closeButtonText"]),q=c("React").createElement(c("PageComposerMessengerCTATaggerBannerButton.react"),{className:"_51-t",label:o,onClick:this.props.onClick}),r=c("React").Children.toArray(this.props.children);return c("React").createElement("div",babelHelpers["extends"]({},p,{className:c("joinClasses")(this.props.className,"_xbh")}),c("React").createElement(c("LeftRight.react"),null,c("React").createElement("h3",{className:"_xbj"},r&&r[0]),c("React").createElement("div",{className:"_26pn"},r&&r.slice(1),q)))};function m(){j.apply(this,arguments)}m.propTypes={closeButtonText:l.string,onClick:l.func.isRequired};m.defaultProps={closeButtonText:i._("Remove the Send Message button")};f.exports=m}),null);
__d("ReactComposerMessagingTaggerComponent.react",["fbt","AdsCallToActionTypes","PageComposerMessengerCTATaggerBanner.react","React","ReactComposerCTAActions","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.dismissButtonOnClick=function(){this.setState({setCTAConfig:false});var m={ctaType:null,ctaValues:{is_cta_share_post:true,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};this.setTaggerData(false);this.deselectMessagingTagger();c("ReactComposerCTAActions").setConfig(this.props.reactComposerID,m)}.bind(this);this.state={setCTAConfig:true}}k.prototype.render=function(){if(this.state.setCTAConfig)return c("React").createElement(c("PageComposerMessengerCTATaggerBanner.react"),{onClick:this.dismissButtonOnClick},h._("This post includes a button so people can reply in Messenger"));return null};k.prototype.componentDidMount=function(){this.setState({setCTAConfig:true});this.setTaggerData(true);var l={ctaType:c("AdsCallToActionTypes").TYPES.MESSAGE_PAGE.name,ctaValues:{is_cta_share_post:true,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};c("ReactComposerCTAActions").setConfig(this.props.reactComposerID,l)};k.prototype.setTaggerData=function(l){c("ReactComposerTaggerActions").setTaggerData(this.props.reactComposerID,c("ReactComposerLoggingName").MESSAGING_TAGGER,c("ReactComposerTaggerType").MESSAGING,{hasCTA:l})};k.prototype.deselectMessagingTagger=function(){c("ReactComposerTaggerActions").deselectCurrentTagger(this.props.reactComposerID,c("ReactComposerLoggingName").MESSAGING_TAGGER)};f.exports=k}),null);
__d("ReactComposerMessagingTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerMessagingTaggerComponent.react","ReactComposerTaggerContainerMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerMessagingTaggerContainer",_subscriptions:undefined,mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").MESSAGING,loggingName:c("ReactComposerLoggingName").MESSAGING_TAGGER,taggerComponent:c("ReactComposerMessagingTaggerComponent.react")},propTypes:{reactComposerID:h.string.isRequired},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release()}});f.exports=i}),null);
__d("BrandedContentTaggerNuxAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOG_VIEW:"log_view",DISMISS:"dismiss"})}),null);
__d("XBrandedContentTaggerNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/branded_content/tagger/nux/",{action:{type:"Enum",required:true,enumType:1}})}),null);
__d("ReactComposerSponsorTaggerButton.react",["cx","fbt","AsyncRequest","BrandedContentTaggerNuxAction","FluxContainer","Link.react","React","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerButton.react","ReactComposerTaggerStore","ReactComposerTaggerType","SimpleXUIDialog","SponsorTagsOptInActionTypes","SponsorTagsOptInDialogContainer.react","SponsorTagsOptInDispatcher","SponsorTagsOptInStore","XBrandedContentTaggerNuxController","XUIAmbientNUX.react","XUIContextualDialog.react","XUIContextualDialogBody.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").createClass({displayName:"ReactComposerSponsorTaggerButton",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"))],statics:{taggerID:c("ReactComposerTaggerType").SPONSOR,loggingName:c("ReactComposerLoggingName").SPONSOR_TAGGER,calculateState:function k(l,m){var n=c("ReactComposerTaggerStore").getSelectedTagger(l);return{isOptedIn:c("SponsorTagsOptInStore").getState().isOptedIn,selected:n===this.taggerID,hasData:c("ReactComposerTaggerStore").hasData(l,this.taggerID),showNUX:c("ReactComposerTaggerStore").shouldShowNUX(l,this.taggerID),showAbridgedTipsForProductTagging:c("ReactComposerTaggerStore").shouldShowTooltip(l,this.taggerID)}},getStores:function k(){return[c("SponsorTagsOptInStore")]}},UNSAFE_componentWillMount:function k(){c("SponsorTagsOptInDispatcher").explicitlyRegisterStores([c("SponsorTagsOptInStore")]);c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").QUERY_STATUS,profileID:this.context.targetID})},componentDidUpdate:function k(l,m){if(m.isOptedIn===false&&this.state.isOptedIn===true)c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle)},componentDidMount:function k(){c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,this.constructor.taggerID,c("ReactComposerTaggerStore").shouldShowNUX(this.context.composerID,this.constructor.taggerID));this._logNUXView()},render:function k(){var l=this.state.isOptedIn===false?c("React").createElement(c("SponsorTagsOptInDialogContainer.react"),null):null;return c("React").createElement("div",{className:"_5v-8 uiContextualLayerParent",style:{display:"inline-block"}},c("React").createElement(c("ReactComposerTaggerButton.react"),babelHelpers["extends"]({taggerID:this.constructor.taggerID,title:i._("Use this to tag your business partners when you're posting branded content."),tooltip:this.state.showAbridgedTipsForProductTagging?null:i._("Use this to tag your business partners when you're posting branded content."),className:"_5rzo",ref:"fbReactComposerSponsorTaggerButton",onSelect:this._onSelect},this.state),this.getNUX&&this.getNUX(),this.props.children),l,this._renderButtonTip())},_renderButtonTip:function k(){var l=function(){return this.refs.fbReactComposerSponsorTaggerButton}.bind(this),m=c("React").createElement("div",null,i._("Use this to tag your business partners when you're posting branded content."),c("React").createElement("span",{className:"_2pir"},c("React").createElement(c("Link.react"),{href:"/policies/brandedcontent/",target:"_blank"},i._("See Policy"))));return c("React").createElement(c("XUIContextualDialog.react"),{contextRef:l,position:"below",shown:this.state.showAbridgedTipsForProductTagging,width:350},c("React").createElement(c("XUIContextualDialogBody.react"),null,m))},_onSelect:function k(){if(this.state.isOptedIn===true)c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle);else if(this.state.isOptedIn===false)c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").SHOW});else c("SimpleXUIDialog").show(i._("Sponsor Tags are currently unavailable. We appreciate your patience as we resolve the issue. Please try again later."),i._("Sorry, an Error has Occurred..."))},getNUX:function k(){var l=c("ReactComposerTaggerStore").shouldShowNUX(this.context.composerID,this.constructor.taggerID);if(!l||!this.refs.fbReactComposerSponsorTaggerButton)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return this.refs.fbReactComposerSponsorTaggerButton}.bind(this),position:"above",shown:true,offsetY:12,onCloseButtonClick:function(){return this._onNUXClose()}.bind(this)},i._("Use this to tag your business partners when you're posting branded content."))},_onNUXClose:function k(){c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").SPONSOR,false);this.setState({showNUX:true});this._dismissNUX()},_dismissNUX:function k(){c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").SPONSOR,false);var l=c("XBrandedContentTaggerNuxController").getURIBuilder().setEnum("action",c("BrandedContentTaggerNuxAction").DISMISS).getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(l).send()},_logNUXView:function k(){var l=c("XBrandedContentTaggerNuxController").getURIBuilder().setEnum("action",c("BrandedContentTaggerNuxAction").LOG_VIEW).getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(l).send()}});f.exports=c("FluxContainer").create(j)}),null);
__d("BrandedContentSponsorRelationshipForAdsAPI",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAID_PARTNERSHIP_WITH:1,PRESENTED_BY:2})}),null);
__d("ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react",["cx","fbt","BrandedContentSponsorRelationship","BrandedContentSponsorRelationshipForAdsAPI","InputLabel.react","Link.react","React","SUIBusinessTheme","SUISimplePopover.react","XUICheckboxInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){var m=this.props.defalutSponsorRelationship!==c("BrandedContentSponsorRelationship").PRESENTED_BY&&this.props.defalutSponsorRelationship!==c("BrandedContentSponsorRelationshipForAdsAPI").PRESENTED_BY;return this.props.showSponsorRelationship?c("React").createElement("div",{className:"_4m0r"},c("React").createElement(c("InputLabel.react"),{display:"inline",label:i._("Show business partner in post")},c("React").createElement(c("XUICheckboxInput.react"),{name:"sponsorRelationshipToggle",checked:m,onChange:this.props.onChange})),c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement("div",null,i._("If your business partner influenced the content of this post, their name will be displayed along with a \"paid\" label. Be sure to follow all applicable laws and regulations in providing clear and transparent disclosure of your business partners."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/business/help/1190980254246452/",target:"_blank"},i._("Learn more")))),theme:c("SUIBusinessTheme")})):null};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("ReactComposerSponsorTaggerSponsorshipRadioList.react",["cx","fbt","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","InputLabel.react","Link.react","React","SUIBusinessTheme","SUISimplePopover.react","XUIAmbientNUX.react","XUICheckboxInput.react","XUIRadioInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_1dyq"},c("React").createElement("div",null,i._("What type of relationship do you have with your business partner?"),c("React").createElement(c("SUISimplePopover.react"),{display:"inline",content:c("React").createElement("div",null,i._("If your business partner influenced the content of this post, their name will be displayed along with a \"paid\" label. Be sure to follow all applicable laws and regulations in providing clear and transparent disclosure of your business partners."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/business/help/1190980254246452/",target:"_blank"},i._("Learn more")))),theme:c("SUIBusinessTheme")})),this.$ReactComposerSponsorTaggerSponsorshipRadioList1(),this.$ReactComposerSponsorTaggerSponsorshipRadioList2())};l.prototype.$ReactComposerSponsorTaggerSponsorshipRadioList1=function(){return c("React").createElement("div",{className:"_1dvk"},c("React").createElement("div",{className:"_1dvh"},i._("Branded Content")),c("React").createElement("div",{className:"_1dyr"},c("React").createElement(c("InputLabel.react"),{label:i._("{=My business partner influenced the content of this post.}",[i._param("=My business partner influenced the content of this post.",c("React").createElement("span",{className:"_1dys"},i._("My business partner influenced the content of this post.")))])},c("React").createElement(c("XUIRadioInput.react"),{checked:this.props.sponsorRelationship!==c("BrandedContentSponsorRelationship").PRESENTED_BY,onChange:this.props.onSponsorRelationshipChange,value:c("BrandedContentSponsorRelationship").PAID_RELATIONSHIP_WITH}))),this.$ReactComposerSponsorTaggerSponsorshipRadioList3())};l.prototype.$ReactComposerSponsorTaggerSponsorshipRadioList3=function(){var m=this.props.sponsorRelationship===c("BrandedContentSponsorRelationship").PRESENTED_BY,n=!m&&this.props.directShareStatus===c("BrandedContentSharedToSponsorStatus").ALL_SHARED;return c("React").createElement("div",null,c("React").createElement("div",{className:"_1dyr _1dyt"},c("React").createElement(c("InputLabel.react"),{display:"inline",label:i._("{=Allow business partner to boost this post.}",[i._param("=Allow business partner to boost this post.",c("React").createElement("span",{className:(m?"_1dvj":"")+" _1dys"},i._("Allow business partner to boost this post.")))])},c("React").createElement(c("XUICheckboxInput.react"),{disabled:m,name:"directBoostToggle",checked:n,onChange:this.props.onDirectStatusChange,ref:"fbReactComposerDirectBoostCheckbox"})),c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement("div",null,i._("Your business partner will be able to boost your post. When they do, the post will continue to show your Page as its author, and you'll be able to see the total amount spent boosting it in your Page Insights."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/business/help/2021526178075899/",target:"_blank"},i._("Learn more")))),theme:c("SUIBusinessTheme")})),this.$ReactComposerSponsorTaggerSponsorshipRadioList4())};l.prototype.$ReactComposerSponsorTaggerSponsorshipRadioList4=function(){if(!this.props.showDirectBoostNUX||!this.refs.fbReactComposerDirectBoostCheckbox)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return this.refs.fbReactComposerDirectBoostCheckbox}.bind(this),position:"left",shown:true,onCloseButtonClick:function(){return this.props.onDirectBoostNUXClose()}.bind(this),width:"custom",customwidth:240},i._("New! Your business partner will be able to boost your post."))};l.prototype.$ReactComposerSponsorTaggerSponsorshipRadioList2=function(){return c("React").createElement("div",{className:"_1dvk"},c("React").createElement("div",{className:"_1dvh"},i._("Sponsorship")),c("React").createElement("div",{className:"_1dyr"},c("React").createElement(c("InputLabel.react"),{label:i._("{=My business partner is disclosed in the content, but didn't influence it.}",[i._param("=My business partner is disclosed in the content, but didn't influence it.",c("React").createElement("span",{className:"_1dys"},i._("My business partner is disclosed in the content, but didn't influence it.")))])},c("React").createElement(c("XUIRadioInput.react"),{checked:this.props.sponsorRelationship===c("BrandedContentSponsorRelationship").PRESENTED_BY,onChange:this.props.onSponsorRelationshipChange,value:c("BrandedContentSponsorRelationship").PRESENTED_BY})),c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement("div",null,i._("Your post won't be labeled \"paid\" and your business partner won't be tagged, but will be able to see insights related to this post."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/business/help/173926860002096/",target:"_blank"},i._("Learn more")))),theme:c("SUIBusinessTheme")})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("ReactComposerSponsorTaggerComponent.react",["cx","fbt","AsyncRequest","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","Grid.react","InputLabel.react","Link.react","React","ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react","ReactComposerSponsorTaggerSponsorshipRadioList.react","ReactComposerTaggerViewStyles","SUIBusinessTheme","SUISimplePopover.react","TaggingLimits","TokenizerExampleSearchSource","XBasicFBNuxDismissController","XBasicFBNuxViewController","XUIAmbientNUX.react","XUICheckboxInput.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUITokenizer.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes,n=5078;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={tipFocused:false,inputFocused:false,edited:false,showDirectBoostNUX:false},this.$ReactComposerSponsorTaggerComponent10=function(u){var v=parseInt(u.target.value,10),w=v==c("BrandedContentSponsorRelationship").PRESENTED_BY?c("BrandedContentSharedToSponsorStatus").NOT_SHARED:c("BrandedContentSharedToSponsorStatus").ALL_SHARED,x={sponsors:this.props.taggerData.sponsors,directShareStatus:w,sponsorRelationship:v};this.props.onSelect&&this.props.onSelect(x)}.bind(this),this.$ReactComposerSponsorTaggerComponent12=function(){this.setState({showDirectBoostNUX:false});var u=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",n).getURI();new(c("AsyncRequest"))().setURI(u).send()}.bind(this),this.$ReactComposerSponsorTaggerComponent11=function(u){var v=u.target.checked?c("BrandedContentSharedToSponsorStatus").ALL_SHARED:c("BrandedContentSharedToSponsorStatus").NOT_SHARED;this.setState({edited:true});var w={sponsors:this.props.taggerData.sponsors,directShareStatus:v,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(w)}.bind(this),this.$ReactComposerSponsorTaggerComponent13=function(u){var v=u.target.checked?c("BrandedContentSponsorRelationship").PAID_RELATIONSHIP_WITH:c("BrandedContentSponsorRelationship").PRESENTED_BY,w={sponsors:this.props.taggerData.sponsors,directShareStatus:this.props.taggerData.directShareStatus,sponsorRelationship:v};this.props.onSelect&&this.props.onSelect(w)}.bind(this),this.$ReactComposerSponsorTaggerComponent5=function(u){var v=this.props.taggerData.sponsors,w=u.getUniqueID(),x=v.some(function(u){return u.getUniqueID()===w});if(x)return;else{this.setState({edited:true});v.push(u)}var y={sponsors:v,directShareStatus:this.props.taggerData.directShareStatus,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(y)}.bind(this),this.$ReactComposerSponsorTaggerComponent9=function(u){var v=this.props.taggerData.sponsors,w=v.indexOf(u);if(w==-1)return;this.setState({edited:true});v.splice(w,1);var x={sponsors:v,directShareStatus:this.props.taggerData.directShareStatus,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(x)}.bind(this),this.$ReactComposerSponsorTaggerComponent6=function(){this.setState({inputFocused:false})}.bind(this),this.$ReactComposerSponsorTaggerComponent7=function(){this.setState({inputFocused:true})}.bind(this),this.$ReactComposerSponsorTaggerComponent4=function(){this.setState({tipFocused:true})}.bind(this),this.$ReactComposerSponsorTaggerComponent3=function(){this.setState({tipFocused:false})}.bind(this),this.$ReactComposerSponsorTaggerComponent8=function(event){this.setState({edited:true})}.bind(this),q}o.prototype.componentDidMount=function(){"use strict";__p&&__p();if(this.props.showDirectBoost&&this.props.taggerData.sponsors.length===0){var p={sponsors:this.props.taggerData.sponsors,directShareStatus:c("BrandedContentSharedToSponsorStatus").ALL_SHARED,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(p)}if(this.props.showDirectBoostNUX){this.setState({showDirectBoostNUX:true});var q=c("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",n).getURI();new(c("AsyncRequest"))().setURI(q).send()}};o.prototype.$ReactComposerSponsorTaggerComponent1=function(){"use strict";this.props.onSelect&&this.props.onSelect({})};o.prototype.$ReactComposerSponsorTaggerComponent2=function(){"use strict";var p=!this.state.edited&&(this.state.inputFocused||this.state.tipFocused)&&this.props.taggerData.sponsors&&this.props.taggerData.sponsors.length===0,q=function(){return this.refs.typeahead}.bind(this),r=c("React").createElement("span",{onMouseLeave:this.$ReactComposerSponsorTaggerComponent3,onMouseEnter:this.$ReactComposerSponsorTaggerComponent4},i._("Pages you tag will be notified. Business partners will be able to view this post's metrics. If you promote this post then the tagged business partner can see ad spend and CPM metrics."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/policies/brandedcontent/",target:"_blank"},i._("See Policy"))));return c("React").createElement(c("XUIContextualDialog.react"),{contextRef:q,position:"above",shown:p,width:350},c("React").createElement(c("XUIContextualDialogBody.react"),null,r))};o.prototype.render=function(){"use strict";var p=i._("With"),q="_5esm";return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl"},c("React").createElement(l,{className:q,key:"label"},p),c("React").createElement(l,{key:"tokenizer",className:"_5esw"},c("React").createElement("div",null,c("React").createElement(c("XUITokenizer.react"),babelHelpers["extends"]({ref:"typeahead"},this.props,{className:"_5esx",entries:this.props.taggerData.sponsors,focusedOnInit:this.props.autoFocus,onAddEntryAttempt:this.$ReactComposerSponsorTaggerComponent5,onInputBlur:this.$ReactComposerSponsorTaggerComponent6,onInputFocus:this.$ReactComposerSponsorTaggerComponent7,onQueryStringChange:this.$ReactComposerSponsorTaggerComponent8,onRemoveEntryAttempt:this.$ReactComposerSponsorTaggerComponent9,placeholder:this.props.placeholder,searchSource:this.props.taggerSource,limit:c("TaggingLimits").MAX_SPONSOR_TAGS})),this.$ReactComposerSponsorTaggerComponent2())),c("React").createElement(l,{colSpan:2,key:"radio_list_branded_content"},this.props.showSponsorRelationshipRadioList?c("React").createElement(c("ReactComposerSponsorTaggerSponsorshipRadioList.react"),{onSponsorRelationshipChange:this.$ReactComposerSponsorTaggerComponent10,onDirectStatusChange:this.$ReactComposerSponsorTaggerComponent11,sponsorRelationship:this.props.taggerData.sponsorRelationship,directShareStatus:this.props.taggerData.directShareStatus,showDirectBoostNUX:this.state.showDirectBoostNUX,onDirectBoostNUXClose:this.$ReactComposerSponsorTaggerComponent12}):null),this.props.showSponsorRelationshipRadioList?null:c("React").createElement(l,{colSpan:2,key:"sponsor_relationship_toggle"},c("React").createElement(c("ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react"),{onChange:this.$ReactComposerSponsorTaggerComponent13,defalutSponsorRelationship:this.props.taggerData.sponsorRelationship,showSponsorRelationship:this.props.showSponsorRelationship})),this.props.showSponsorRelationshipRadioList?null:this.$ReactComposerSponsorTaggerComponent14(),c("React").createElement(l,{colSpan:2,className:"_36y5",key:"branded_content_help_center"},c("React").createElement(c("Link.react"),{href:"/business/help/1190980254246452/",target:"_blank"},i._("Learn more"))))};o.prototype.$ReactComposerSponsorTaggerComponent14=function(){"use strict";var p=this.props.taggerData.directShareStatus===c("BrandedContentSharedToSponsorStatus").ALL_SHARED;return this.props.showDirectBoost?c("React").createElement(l,{colSpan:2,key:"toggle"},c("React").createElement("div",{className:"_4m0r"},c("React").createElement(c("InputLabel.react"),{display:"inline",label:i._("Allow business partner to boost this post")},c("React").createElement(c("XUICheckboxInput.react"),{name:"directBoostToggle",checked:p,onChange:this.$ReactComposerSponsorTaggerComponent11,ref:"fbReactComposerDirectBoostCheckbox"})),c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement("div",null,i._("Your business partner will be able to boost your post. When they do, the post will continue to show your Page as its author, and you'll be able to see the total amount spent boosting it in your Page Insights."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/business/help/2021526178075899/",target:"_blank"},i._("Learn more")))),theme:c("SUIBusinessTheme")})),this.$ReactComposerSponsorTaggerComponent15()):null};o.prototype.$ReactComposerSponsorTaggerComponent15=function(){"use strict";if(!this.state.showDirectBoostNUX||!this.refs.fbReactComposerDirectBoostCheckbox)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return this.refs.fbReactComposerDirectBoostCheckbox}.bind(this),position:"left",shown:true,onCloseButtonClick:function(){return this.$ReactComposerSponsorTaggerComponent12()}.bind(this),width:"custom",customwidth:240},i._("New! Your business partner will be able to boost your post."))};o.propTypes={autoFocus:m.bool,placeholder:m.string,taggerSource:m.object,taggerData:m.object.isRequired,onPeopleTagRemove:m.func,onSelect:m.func,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape),showDirectBoost:m.bool,showDirectBoostNUX:m.bool,showSponsorRelationship:m.bool,showSponsorRelationshipRadioList:m.bool};o.defaultProps={autoFocus:true,onSelect:c("emptyFunction"),placeholder:i._("Who is your business partner for this post?"),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,taggerSource:new(c("TokenizerExampleSearchSource"))(),showDirectBoost:false,showDirectBoostNUX:false,showSponsorRelationship:false,showSponsorRelationshipRadioList:false,taggerData:{sponsors:[],directShareStatus:c("BrandedContentSharedToSponsorStatus").NOT_SHARED,sponsorRelationship:c("BrandedContentSponsorRelationship").PAID_RELATIONSHIP_WITH}};f.exports=o}),null);
__d("ReactComposerSponsorTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerSponsorTaggerComponent.react","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","VideoComposerDialogAdBreakActions","WebAsyncSearchSource"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerSponsorTaggerContainer",_subscriptions:undefined,mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").SPONSOR,loggingName:c("ReactComposerLoggingName").SPONSOR_TAGGER,taggerComponent:c("ReactComposerSponsorTaggerComponent.react")},propTypes:{viewer:h.string.isRequired},getInitialState:function j(){return{sponsorSentences:null,reachEstimate:null,searchSource:null}},UNSAFE_componentWillMount:function j(){this._updateSponsorSearchSource()},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release()},componentDidMount:function j(){c("ReactComposerTaggerActions").setIsBrandedContentVideo(this.context.composerID,this.state.taggerData.sponsors.length!==0);c("VideoComposerDialogAdBreakActions").setIsBrandedContentVideo(this.state.taggerData.sponsors.length!==0)},__onTaggerDataChanged:function j(k){c("ReactComposerTaggerActions").setIsBrandedContentVideo(this.context.composerID,k.sponsors.length!==0);c("VideoComposerDialogAdBreakActions").setIsBrandedContentVideo(k.sponsors.length!==0)},_updateSponsorSearchSource:function j(){var k=this.state.searchSource;if(k===null)k=this._createAndBootstrapSponsorTypeSearchSource();c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").SPONSOR,k)},_createAndBootstrapSponsorTypeSearchSource:function j(){var k={filter:["page"],viewer:this.props.viewer,rsp:"mentions",bsp:"true"};return new(c("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:Object.assign({},k,{is_bootstrap:false})}],bootstrapRequests:[{uri:"/ajax/typeahead/first_degree.php",data:Object.assign({},k,{is_bootstrap:true})}],auxiliaryFields:{verified:"is_verified"}})}});f.exports=i}),null);
__d("VideoComposerDialogBasicComposerTaggers.react",["invariant","BasicTypeaheadLoggerJSConstants","BootloadedReactComposerFundraiserTaggerButton.react","BootloadedReactComposerFundraiserTaggerContainer.react","PlaceSearchConstants","React","ReactComposerActivityTaggerButton.react","ReactComposerActivityTaggerContainer.react","ReactComposerBackdateTaggerButton.react","ReactComposerBackdateTaggerContainer.react","ReactComposerContextProviderMixin","ReactComposerImplicitLocationContainer.react","ReactComposerLocationTaggerButton.react","ReactComposerLocationTaggerContainer.react","ReactComposerMessagingTaggerButton.react","ReactComposerMessagingTaggerContainer.react","ReactComposerPeopleTaggerButton.react","ReactComposerPeopleTaggerContainer.react","ReactComposerProductTaggerButton.react","ReactComposerProductTaggerContainer.react","ReactComposerSponsorTaggerButton.react","ReactComposerSponsorTaggerContainer.react","ReactComposerTaggerButtons.react","ReactComposerTaggers.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ReactComposerTargetingTaggerButton.react","ReactComposerTargetingTaggerContainer.react","dotAccess"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("BasicTypeaheadLoggerJSConstants").EventNames;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){if(!this.props.composerConfig)return c("React").createElement("div",null);var n=this.props.composerConfig.taggersConfig,o=Array.from(n).reduce(function(P,Q){var R,S=Q[0],T=Q[1];return Object.assign(P,(R={},R[S]=T,R))},{}),p=n.get(c("ReactComposerTaggerType").LOCATION),q=n.get(c("ReactComposerTaggerType").OG),r=n.get(c("ReactComposerTaggerType").TARGETING),s=n.get(c("ReactComposerTaggerType").BACKDATE),t=n.get(c("ReactComposerTaggerType").SPONSOR),u=n.get(c("ReactComposerTaggerType").PRODUCT),v=n.get(c("ReactComposerTaggerType").FUNDRAISER),w=n.get(c("ReactComposerTaggerType").MESSAGING),x=c("React").createElement(c("ReactComposerPeopleTaggerContainer.react"),{actorID:this.props.actorID,showEntriesOnFocus:false,taggerConfig:n.get(c("ReactComposerTaggerType").PEOPLE),taggerSource:this.props.taggerSearchSource}),y=q&&q.enabled&&q.actionTypeIDsToPrefetch&&q.actionTypeIDsWithNoFreeForm&&q.rankVerbs?c("React").createElement(c("ReactComposerActivityTaggerContainer.react"),{actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,actionTypeIDsToPrefetch:q.actionTypeIDsToPrefetch,actionTypeIDsWithNoFreeForm:q.actionTypeIDsWithNoFreeForm,actorID:this.props.actorID,isPersonalTimeline:false,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,rankVerbs:q.rankVerbs,typeaheadLoggerEventName:k.OGCOMPOSER_TAGGER}):null,z=p&&typeof p.implicitLocationEnabled==="boolean"?c("React").createElement(c("ReactComposerLocationTaggerContainer.react"),{implicitLocationEnabled:p.implicitLocationEnabled,taggerConfig:p,taggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,typeaheadLoggerEventName:k.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:c("PlaceSearchConstants").SOURCE_W_COMPOSER}):null,A=s&&s.enabled?c("React").createElement(c("ReactComposerBackdateTaggerContainer.react"),null):null,B=r&&r.enabled?c("React").createElement(c("ReactComposerTargetingTaggerContainer.react"),null):null,C=t&&t.enabled&&typeof t.showSponsorTaggerDirectBoost==="boolean"&&typeof t.showSponsorTaggerSponsorRelationship==="boolean"&&typeof t.showSponsorTaggerSponsorRelationshipRadioList==="boolean"?c("React").createElement(c("ReactComposerSponsorTaggerContainer.react"),{viewer:this.props.actorID,showDirectBoost:t.showSponsorTaggerDirectBoost,showSponsorRelationship:t.showSponsorTaggerSponsorRelationship,showSponsorRelationshipRadioList:t.showSponsorTaggerSponsorRelationshipRadioList}):null;!!this.props.composerConfig||h(0);var D=u&&u.enabled&&typeof u.productTaggerType==="string"&&typeof u.showAddProduct==="boolean"?c("React").createElement(c("ReactComposerProductTaggerContainer.react"),{pageID:this.props.composerConfig.contextConfig.targetID,productTaggerType:u.productTaggerType,reactComposerID:this.props.composerConfig.contextConfig.composerID,showAddProduct:u.showAddProduct,viewer:this.props.actorID}):null,E=v&&v.enabled?c("React").createElement(c("BootloadedReactComposerFundraiserTaggerContainer.react"),{taggersConfig:o}):null,F=w&&w.enabled?c("React").createElement(c("ReactComposerMessagingTaggerContainer.react"),{reactComposerID:this.props.composerConfig.contextConfig.composerID}):null,G=c("React").createElement(c("ReactComposerPeopleTaggerButton.react"),null),H=q&&q.enabled?c("React").createElement(c("ReactComposerActivityTaggerButton.react"),null):null,I=c("React").createElement(c("ReactComposerLocationTaggerButton.react"),null,c("React").createElement(c("ReactComposerImplicitLocationContainer.react"),null)),J=r&&r.enabled?c("React").createElement(c("ReactComposerTargetingTaggerButton.react"),{allowExclusionsWithoutInclusions:c("dotAccess")(r,"allowExclusionsWithoutInclusionsGK"),feedTargetingGK:c("dotAccess")(r,"feedTargetingGK"),feedTargetingShowReachGK:c("dotAccess")(r,"feedTargetingShowReachGK"),showWoodhengeGating:c("dotAccess")(r,"showWoodhengeGating"),useTargetingAsFilter:!c("dotAccess")(r,"feedTargetingGK"),woodhengeTiers:c("dotAccess")(r,"woodhengeTiers")}):null,K=s&&s.enabled?c("React").createElement(c("ReactComposerBackdateTaggerButton.react"),null):null,L=t&&t.enabled?c("React").createElement(c("ReactComposerSponsorTaggerButton.react"),null):null,M=u&&u.productTaggerType?c("React").createElement(c("ReactComposerProductTaggerButton.react"),{productTaggerType:u.productTaggerType}):null,N=v&&v.enabled?c("React").createElement(c("BootloadedReactComposerFundraiserTaggerButton.react"),{taggersConfig:o,source:"composer"}):null,O=w&&w.enabled?c("React").createElement(c("ReactComposerMessagingTaggerButton.react"),{reactComposerID:this.props.composerConfig.contextConfig.composerID}):null;return c("React").createElement(m,{contextConfig:this.props.composerConfig.contextConfig},c("React").createElement(c("ReactComposerTaggers.react"),null,x,y,z,A,B,C,D,E,F),c("React").createElement(c("ReactComposerTaggerButtons.react"),null,G,H,I,K,J,L,M,N,O))};function l(){i.apply(this,arguments)}var m=c("React").createClass({displayName:"VideoComposerTaggerWrapper",mixins:[c("ReactComposerContextProviderMixin")],render:function n(){return this.props.children}});f.exports=l}),null);
__d("VideoComposerDialogShowVideo",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BASIC_VIDEO:"basic_video",EPISODE:"episode",TRAILER:"trailer",RECAP:"recap"})}),null);
__d("VideoComposerDialogBasicComposer.react",["ix","cx","fbt","AtSignMentionsStrategy","DocumentCompositeMentionsSource","DocumentMentionsSource","FlexLayout.react","Image.react","Link.react","MentionsInput.react","MentionsInputTypeaheadView.react","React","ReactComposerContextProviderMixin","ReactComposerProfilePhoto.react","ReactComposerTaggerSummaryContainer.react","Tooltip","VideoComposerDialogBasicActions","VideoComposerDialogBasicComposerTaggers.react","VideoComposerDialogShowVideo","XUICheckboxInput.react","XUIContextualDialog.react","XUIContextualDialogBody.react","asset","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(o){l.constructor.call(this,o);this.$VideoComposerDialogBasicComposer5=function(){this.$VideoComposerDialogBasicComposer2&&this.$VideoComposerDialogBasicComposer2.focus()}.bind(this);var p=new(c("DocumentMentionsSource"))(c("AtSignMentionsStrategy"),o.mentionsSearchSource);this.$VideoComposerDialogBasicComposer1=new(c("DocumentCompositeMentionsSource"))([p])}m.prototype.UNSAFE_componentWillReceiveProps=function(o){var p=new(c("DocumentMentionsSource"))(c("AtSignMentionsStrategy"),o.mentionsSearchSource);this.$VideoComposerDialogBasicComposer1=new(c("DocumentCompositeMentionsSource"))([p])};m.prototype.$VideoComposerDialogBasicComposer4=function(o){c("VideoComposerDialogBasicActions").updateDescriptionEditorState(o)};m.prototype.render=function(){var o=(this.props.showVideoType===c("VideoComposerDialogShowVideo").EPISODE||this.props.showVideoType===c("VideoComposerDialogShowVideo").RECAP)&&this.props.showParentPageName,p=j._("When you publish your episode, it will be crossposted to {parent page name}. The post will include your original description and a link to follow your show.",[j._param("parent page name",this.props.showParentPageName)]),q=!this.props.canEditShowAndParent?j._("Your show is attributed to another Page, so you can automatically crosspost to that Page if you're an admin. Contact {parent page link} to become an admin.",[j._param("parent page link",c("React").createElement(c("Link.react"),{href:this.props.showParentPageProfileURI,target:"_blank"},this.props.showParentPageName))]):null;return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_64ik")},c("React").createElement("div",{className:"_64il",onClick:this.$VideoComposerDialogBasicComposer5},c("React").createElement("div",{className:"_64im"},this.props.profilePicUri!==""?c("React").createElement(c("ReactComposerProfilePhoto.react"),{src:this.props.profilePicUri,onClick:c("emptyFunction")}):null),c("React").createElement(c("MentionsInput.react"),{className:"_64in",editorState:this.props.editorState,mentionsSource:this.$VideoComposerDialogBasicComposer1,placeholder:j._("Describe your video..."),ref:function(r){return this.$VideoComposerDialogBasicComposer2=r}.bind(this),renderEmoji:true,typeaheadView:c("MentionsInputTypeaheadView.react"),onChange:this.$VideoComposerDialogBasicComposer4}),this.props.composerConfig?c("React").createElement(n,{contextConfig:this.props.composerConfig.contextConfig},c("React").createElement(c("ReactComposerTaggerSummaryContainer.react"),null)):null),c("React").createElement(c("FlexLayout.react"),{direction:"horizontal",justify:"all",align:"center"},c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogBasicComposerTaggers.react"),{actorID:this.props.actorID,composerConfig:this.props.composerConfig,taggerSearchSource:this.props.taggerSearchSource})),o?c("React").createElement(c("FlexLayout.react"),{className:"_3-90"},c("React").createElement("div",{className:"_p9j",ref:function(r){return this.$VideoComposerDialogBasicComposer3=r}.bind(this)},c("React").createElement(c("XUICheckboxInput.react"),{className:"_3-8_",checked:this.props.autoCrosspostToShowParent,onChange:c("VideoComposerDialogBasicActions").toggleCrosspostToParent,disabled:!this.props.canEditShowAndParent}),c("React").createElement("div",{className:"_p9k"+(!this.props.canEditShowAndParent?" _p9l":"")},j._("Crosspost to {page name}",[j._param("page name",this.props.showParentPageName)]))),!this.props.canEditShowAndParent?c("React").createElement(c("XUIContextualDialog.react"),{label:"auto-crosspost disabled help",autoFocus:false,contextRef:function(){return this.$VideoComposerDialogBasicComposer3}.bind(this),hoverContextRef:function(){return this.$VideoComposerDialogBasicComposer3}.bind(this),position:"above",alignment:"left",width:c("XUIContextualDialog.react").WIDTH.NORMAL},c("React").createElement(c("XUIContextualDialogBody.react"),null,q)):null,c("React").createElement(c("Image.react"),babelHelpers["extends"]({className:"_pa4"},c("Tooltip").propsFor(p),{src:h("360717")}))):null))};var n=c("React").createClass({displayName:"VideoComposerTaggerSummaryWrapper",mixins:[c("ReactComposerContextProviderMixin")],render:function o(){return this.props.children}});f.exports=m}),null);
__d("VideoComposerDialogContentTagsField.react",["ix","cx","fbt","FlexLayout.react","Image.react","React","SearchableEntry","Tooltip","VideoComposerDialogBasicActions","VideoComposerDialogBasicUtils","XUITokenizer.react","XUIText.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=8;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={currentEntries:[],isFocused:false,queryString:"",showFreeFormOption:true},this.$VideoComposerDialogContentTagsField6=function(t){__p&&__p();if(this.$VideoComposerDialogContentTagsField5(t))return;var u=this.props.entries.slice();if(this.$VideoComposerDialogContentTagsField4())return;var v=t;if(t.getAuxiliaryData().isFreeForm)v=new(c("SearchableEntry"))({uniqueID:t.getUniqueID(),title:t.getUniqueID(),auxiliaryData:{isFreeForm:true}});u.push(v);this.$VideoComposerDialogContentTagsField3(u)}.bind(this),this.$VideoComposerDialogContentTagsField7=function(t){var u=this.props.entries.slice();if(this.$VideoComposerDialogContentTagsField5(t))u.splice(u.indexOf(t),1);this.$VideoComposerDialogContentTagsField3(u)}.bind(this),this.$VideoComposerDialogContentTagsField8=function(){this.setState({isFocused:true});this.$VideoComposerDialogContentTagsField2.focusInput()}.bind(this),this.$VideoComposerDialogContentTagsField9=function(){this.setState({isFocused:false})}.bind(this),this.$VideoComposerDialogContentTagsField10=function(){this.setState({isFocused:true})}.bind(this),this.$VideoComposerDialogContentTagsField12=function(event){var t=event.target.value,u=this.$VideoComposerDialogContentTagsField11(t,this.props.entries.concat(this.state.currentEntries));this.setState({showFreeFormOption:!u,queryString:t})}.bind(this),this.$VideoComposerDialogContentTagsField13=function(t){var u=this.$VideoComposerDialogContentTagsField11(this.state.queryString,t.concat(this.state.currentEntries));this.setState({showFreeFormOption:this.state.showFreeFormOption&&!u,currentEntries:t})}.bind(this),p}n.prototype.UNSAFE_componentWillMount=function(){this.$VideoComposerDialogContentTagsField1=c("VideoComposerDialogBasicUtils").getContentTagSearchSource()};n.prototype.$VideoComposerDialogContentTagsField3=function(o){c("VideoComposerDialogBasicActions").updateContentTags(o)};n.prototype.$VideoComposerDialogContentTagsField4=function(){return this.props.entries.length>=m};n.prototype.$VideoComposerDialogContentTagsField5=function(o){var p=o.getUniqueID(),q=o.getAuxiliaryData().isFreeForm,r=o.getTitle(),s=this.props.entries,t=s.some(function(o){if(o.getUniqueID()===p)return true;else if(q&&p===o.getTitle()||o.getAuxiliaryData().isFreeForm&&o.getUniqueID()===r)return true;return false});return t};n.prototype.$VideoComposerDialogContentTagsField11=function(o,p){var q=p.some(function(r){return o===r.getTitle()});return q};n.prototype.render=function(){var o=this.$VideoComposerDialogContentTagsField1,p={};if(!this.state.showFreeFormOption)p[this.state.queryString]=new(c("SearchableEntry"))({uniqueID:this.state.queryString,title:this.state.queryString});var q=null;if(this.props.entries.length>=m)q=c("React").createElement("div",{className:"_66na"},j._("You have added maximum number of tags."));var r=j._("Add tags by typing in relevant topics to your video. Tags help people find your post on search and news feed.");return c("React").createElement("div",babelHelpers["extends"]({className:this.props.className},c("Tooltip").propsFor(this.state.isFocused?"":r),{onClick:this.$VideoComposerDialogContentTagsField8,tabIndex:0,role:"textbox"}),c("React").createElement(c("FlexLayout.react"),{align:"stretch",className:"_k38"},c("React").createElement("div",babelHelpers["extends"]({},c("Tooltip").propsFor(r),{className:"_4vsq"}),c("React").createElement(c("Image.react"),{className:"_k39",src:h("423746")}),c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold",className:"_4vss"},j._("Tags"))),c("React").createElement(c("XUITokenizer.react"),{className:"_k3b",entries:this.props.entries,excludedEntries:p,limit:m,placeholder:j._("Add tags to help people discover your video. Examples: Cat, Sports, Piano"),ref:function(s){return this.$VideoComposerDialogContentTagsField2=s}.bind(this),searchSource:o,onInputBlur:this.$VideoComposerDialogContentTagsField9,onInputFocus:this.$VideoComposerDialogContentTagsField10,onEntriesFound:this.$VideoComposerDialogContentTagsField13,onQueryStringChange:this.$VideoComposerDialogContentTagsField12,onRemoveEntryAttempt:this.$VideoComposerDialogContentTagsField7,onAddEntryAttempt:this.$VideoComposerDialogContentTagsField6})),q)};f.exports=n}),null);
__d("ShowVideoListDialogEntryPoint",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAGE_CONTENT_TAB:"page_content_tab",VIDEO_LIST_SELECTOR:"video_list_selector",VIDEO_LIST_SELECTOR_V2:"video_list_selector_v2"})}),null);
__d("XShowPagesCreatePlaylistDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/showpages/playlists/new/",{page_id:{type:"FBID",required:true},entry_point:{type:"Enum",defaultValue:"page_content_tab",enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("VideoComposerDialogPlaylistSelector.react",["ix","fbt","AsyncDialog","AsyncRequest","React","ShowVideoListDialogEntryPoint","SUIAtlasTheme","SUIGlyphIcon.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUITooltip.react","VideoComposerDialogBasicActions","XShowPagesCreatePlaylistDialogController","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=35,m="new",n=300,o=l-10;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$VideoComposerDialogPlaylistSelector2=function(v){if(v.length>0&&v[v.length-1]===m){var w=c("XShowPagesCreatePlaylistDialogController").getURIBuilder().setFBID("page_id",this.props.pageID).setEnum("entry_point",c("ShowVideoListDialogEntryPoint").VIDEO_LIST_SELECTOR_V2).getURI(),x=new(c("AsyncRequest"))().setURI(w);c("AsyncDialog").send(x)}else c("VideoComposerDialogBasicActions").updatePlaylistIDs(v)}.bind(this),r}p.prototype.$VideoComposerDialogPlaylistSelector1=function(){__p&&__p();if(this.props.playlistIDs.length===0||Object.keys(this.props.playlistOptions).length===0)return i._("Add to Playlist");var q=this.props.playlistIDs,r=this.props.playlistOptions[q[0]],s=1;while(r.length<l&&s<q.length){r+=", "+this.props.playlistOptions[q[s]];s+=1}if(r.length>=l)return c("React").createElement("span",null,r.slice(0,o),i._("... {number of hidden selected playlists} more",[i._param("number of hidden selected playlists",q.length-s+1)]));else return c("React").createElement("span",null,r)};p.prototype.render=function(){return c("React").createElement(c("SUISelector.react"),{canSelectMultiple:true,theme:c("SUIAtlasTheme"),width:n,button:c("React").createElement(c("SUISelectorButton.react"),{height:"tall",icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("441126")}),label:c("React").createElement(c("SUITooltip.react"),{position:"right",offset:12,theme:c("SUIAtlasTheme"),tooltip:i._("You can add videos and episodes to playlists")},this.$VideoComposerDialogPlaylistSelector1())}),onChange:this.$VideoComposerDialogPlaylistSelector2,value:this.props.playlistIDs},Object.keys(this.props.playlistOptions).map(function(q){return c("React").createElement(c("SUISelectorOption.react"),{value:q,key:q},this.props.playlistOptions[q])}.bind(this)),c("React").createElement(c("SUISelectorOption.react"),{value:m,key:0},i._("+ Create New Playlist")))};f.exports=p}),null);
__d("XShowPagesCreateSeasonDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/showpages/seasons/new/",{page_id:{type:"FBID",required:true},entry_point:{type:"Enum",defaultValue:"page_content_tab",enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("VideoComposerDialogSeasonSelector.react",["ix","fbt","AsyncDialog","AsyncRequest","React","ShowVideoListDialogEntryPoint","SUIAtlasTheme","SUIGlyphIcon.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUITooltip.react","VideoComposerDialogBasicActions","XShowPagesCreateSeasonDialogController","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l="new",m=300;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$VideoComposerDialogSeasonSelector3=function(t){if(t===l){var u=c("XShowPagesCreateSeasonDialogController").getURIBuilder().setFBID("page_id",this.props.pageID).setEnum("entry_point",c("ShowVideoListDialogEntryPoint").VIDEO_LIST_SELECTOR).getURI(),v=new(c("AsyncRequest"))().setURI(u);c("AsyncDialog").send(v)}else c("VideoComposerDialogBasicActions").updateSeasonID(t)}.bind(this),p}n.prototype.$VideoComposerDialogSeasonSelector1=function(){var o=this.props.seasonOptions;if(this.props.seasonID)return this.$VideoComposerDialogSeasonSelector2(o[this.props.seasonID]);else return i._("Add to Season")};n.prototype.$VideoComposerDialogSeasonSelector2=function(o){return i._("Season {seasonNumber}",[i._param("seasonNumber",o)])};n.prototype.render=function(){return c("React").createElement(c("SUISelector.react"),{theme:c("SUIAtlasTheme"),width:m,button:c("React").createElement(c("SUISelectorButton.react"),{height:"tall",icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("431755")}),label:c("React").createElement(c("SUITooltip.react"),{position:"right",offset:12,theme:c("SUIAtlasTheme"),tooltip:i._("Only episodes can be added to seasons")},this.$VideoComposerDialogSeasonSelector1())}),onChange:this.$VideoComposerDialogSeasonSelector3,value:this.props.seasonID},c("React").createElement(c("SUISelectorOption.react"),{value:null,key:0},i._("Not in any season")),Object.keys(this.props.seasonOptions).map(function(o){return c("React").createElement(c("SUISelectorOption.react"),{value:o,key:o},this.$VideoComposerDialogSeasonSelector2(this.props.seasonOptions[o]))}.bind(this)),c("React").createElement(c("SUISelectorOption.react"),{value:l,key:l},i._("+ Create New Season")))};f.exports=n}),null);
__d("VideoComposerDialogShowVideoTypeField.react",["cx","fbt","FlexLayout.react","React","VideoComposerDialogActions","VideoComposerDialogField.react","VideoComposerDialogRadioButton.react","VideoComposerDialogShowVideo","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogCloseButton.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogShowVideoTypeField1=null,n}l.prototype.$VideoComposerDialogShowVideoTypeField2=function(){c("VideoComposerDialogActions").updateShowVideoType(c("VideoComposerDialogShowVideo").BASIC_VIDEO)};l.prototype.$VideoComposerDialogShowVideoTypeField3=function(){c("VideoComposerDialogActions").updateShowVideoType(c("VideoComposerDialogShowVideo").EPISODE)};l.prototype.$VideoComposerDialogShowVideoTypeField4=function(){c("VideoComposerDialogActions").updateShowVideoType(c("VideoComposerDialogShowVideo").RECAP)};l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{title:c("React").createElement("div",null,c("React").createElement("div",{ref:function(m){return this.$VideoComposerDialogShowVideoTypeField1=m}.bind(this)},c("React").createElement(c("FlexLayout.react"),{align:"center"},i._("Video Type"),c("React").createElement(c("XUIText.react"),{className:"_3-99",color:"disabled",weight:"normal"},i._("(Required)")))),c("React").createElement(c("XUIContextualDialog.react"),{label:"missing video type warning",autoFocus:false,shown:this.props.showMissingVideoTypeTooltip,contextRef:function(){return this.$VideoComposerDialogShowVideoTypeField1}.bind(this),position:"below",alignment:"left",width:c("XUIContextualDialog.react").WIDTH.NORMAL},c("React").createElement(c("XUIContextualDialogTitle.react"),null,i._("Missing Video Type")),c("React").createElement(c("XUIContextualDialogBody.react"),null,this.props.tooltipText),c("React").createElement(c("XUIContextualDialogFooter.react"),null,c("React").createElement(c("XUIDialogCloseButton.react"),{onClick:c("VideoComposerDialogActions").hideMissingVideoTypeTooltip})))),tooltip:i._("Your followers will get notified whenever you publish a new episode. Both episodes and videos will appear in News Feed and on your Show Page."),subtitle:i._("Episodes are the signature video content of your show."),input:c("React").createElement(c("FlexLayout.react"),{className:"_346-",justify:"end"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{className:"_3470 _346_",checked:this.props.showVideoType===c("VideoComposerDialogShowVideo").EPISODE,label:i._("Episode"),onSelect:this.$VideoComposerDialogShowVideoTypeField3}),c("React").createElement(c("VideoComposerDialogRadioButton.react"),{className:"_346_",checked:this.props.showVideoType===c("VideoComposerDialogShowVideo").BASIC_VIDEO,label:i._("Video"),onSelect:this.$VideoComposerDialogShowVideoTypeField2}),this.props.isRecapSupported&&c("React").createElement(c("VideoComposerDialogRadioButton.react"),{className:"_3470 _346_",checked:this.props.showVideoType===c("VideoComposerDialogShowVideo").RECAP,label:i._("Recap"),onSelect:this.$VideoComposerDialogShowVideoTypeField4}))})};f.exports=l}),null);
__d("VideoComposerDialogVideoPlayer.react",["cx","ix","fbt","ErrorBoundary.react","React","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentWithLoopingPlayback.react","VideoComponentWithSpacePlayPause.react","VideoComposerDialogBasicActions","VideoComposerDialogConstants","VideoPlayer.react","Image.react","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("React").createElement(c("VideoPlayer.react"),{className:"_114o",videoData:this.props.videoData,height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,width:c("VideoComposerDialogConstants").PLAYER_WIDTH,autoplay:false,onVpcUpdate:c("VideoComposerDialogBasicActions").updateVideoPreviewController},c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentEmbeddedControls.react"),{showSettingsButton:true}),c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),null),c("React").createElement(c("VideoComponentWithSpacePlayPause.react"),null),c("React").createElement(c("VideoComponentScrubberPreview.react"),null)),o=c("React").createElement("div",{className:"_427k",style:{height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,width:c("VideoComposerDialogConstants").PLAYER_WIDTH}},c("React").createElement(c("Image.react"),{src:i("485937"),className:"_427n"}),c("React").createElement("div",{className:"_427o"},j._("Video Preview Unavailable")),c("React").createElement("div",{className:"_428t"},j._("Video preview is not available for this video file")));return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_474y")},c("React").createElement(c("ErrorBoundary.react"),null,c("React").createElement("div",{className:"_428u"+(this.props.videoMetadataUnavailable?" _428v":"")},this.props.videoMetadataUnavailable?o:n)))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogBasicSection.react",["cx","fbt","FlexLayout.react","React","VideoComposerDialogBasicComposer.react","VideoComposerDialogContentTagsField.react","VideoComposerDialogPlaylistSelector.react","VideoComposerDialogSeasonSelector.react","VideoComposerDialogShowVideo","VideoComposerDialogShowVideoTypeField.react","VideoComposerDialogVideoPlayer.react","XUIGrayText.react","XUINotice.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogBasicSection1=function(){if(this.props.showVideoType===c("VideoComposerDialogShowVideo").TRAILER)return c("React").createElement(c("XUINotice.react"),{use:"notify",className:"_3-8- _3-98"},c("React").createElement(c("XUIGrayText.react"),{display:"block"},i._("A trailer is a 16:9 video used to promote your show. It should be no longer than 2 minutes and 30 seconds. Trailers cannot be added as vertical videos and must have an aspect ratio greater than 1:1. Your trailer should be about your entire show, not just one particular episode.")));return null};l.prototype.render=function(){return c("React").createElement("div",null,this.$VideoComposerDialogBasicSection1(),this.getInputFields(),this.getVideoPlayer())};l.prototype.getInputFields=function(){if(!this.props.bootloaded)return c("React").createElement("div",{className:"_3-8- _1fxr"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));return c("React").createElement("div",null,this.getShowVideoTypeSelector(),c("React").createElement(c("VideoComposerDialogBasicComposer.react"),{className:this.props.isVideoShowPage?"_3-8x":"_3-8-",showVideoType:this.props.showVideoType,autoCrosspostToShowParent:this.props.autoCrosspostToShowParent,canEditShowAndParent:this.props.canEditShowAndParent,showParentPageName:this.props.showParentPageName,showParentPageProfileURI:this.props.showParentPageProfileURI,composerConfig:this.props.composerConfig,editorState:this.props.descriptionEditorState,mentionsSearchSource:this.props.mentionsSearchSource,taggerSearchSource:this.props.taggerSearchSource,profilePicUri:this.props.profilePictureURI,actorID:this.props.actorID}),c("React").createElement(c("VideoComposerDialogContentTagsField.react"),{className:"_3-8y",accessToken:this.props.accessToken,entries:this.props.contentTags}),this.getSeasonAndPlaylistSelectors())};l.prototype.getShowVideoTypeSelector=function(){if(!this.props.isVideoShowPage||this.props.showVideoType===c("VideoComposerDialogShowVideo").TRAILER)return null;return c("React").createElement(c("VideoComposerDialogShowVideoTypeField.react"),{showVideoType:this.props.showVideoType,showMissingVideoTypeTooltip:this.props.showMissingVideoTypeTooltip,tooltipText:this.props.missingVideoTypeTooltipText,isRecapSupported:this.props.isRecapSupported})};l.prototype.getSeasonAndPlaylistSelectors=function(){if(!this.props.showSeasonSelector&&!this.props.showPlaylistSelector)return null;return c("React").createElement(c("FlexLayout.react"),{className:"_3-8y",align:"center",justify:"all"},this.props.showSeasonSelector?c("React").createElement(c("VideoComposerDialogSeasonSelector.react"),{pageID:this.props.actorID,seasonID:this.props.seasonID,seasonOptions:this.props.seasonOptions}):null,this.props.showPlaylistSelector?c("React").createElement(c("VideoComposerDialogPlaylistSelector.react"),{className:"_3-9b",pageID:this.props.actorID,playlistIDs:this.props.playlistIDs,playlistOptions:this.props.playlistOptions}):null)};l.prototype.getVideoPlayer=function(){var m=this.props.videoData;return m?c("React").createElement(c("VideoComposerDialogVideoPlayer.react"),{className:"_3-8-",videoData:m,videoMetadataUnavailable:this.props.videoMetadataUnavailable}):null};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogBasicVideoController",["SubscriptionsHandler","VideoComposerDialogBasicActions","VideoPlayerReason"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$VideoComposerDialogBasicVideoController1=new(c("SubscriptionsHandler"))()}h.prototype.updateVPC=function(i){__p&&__p();if(this.$VideoComposerDialogBasicVideoController2===i)return;this.$VideoComposerDialogBasicVideoController1.release();if(!i)return;this.$VideoComposerDialogBasicVideoController2=i;this.$VideoComposerDialogBasicVideoController1=new(c("SubscriptionsHandler"))();this.$VideoComposerDialogBasicVideoController1.addSubscriptions(i.addListener("playRequested",function(j){if(j===c("VideoPlayerReason").USER)c("VideoComposerDialogBasicActions").userPlayedVideoPreview()}))};h.prototype.unmount=function(){this.$VideoComposerDialogBasicVideoController1.release();this.$VideoComposerDialogBasicVideoController2=null};f.exports=new h()}),null);
__d("VideoComposerDialogBasicContainer.react",["FluxContainer","React","VideoComposerDialogBasicSection.react","VideoComposerDialogBasicStore","VideoComposerDialogBasicVideoController","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogShowVideo","VideoComposerDialogThumbnailsStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogBasicStore"),c("VideoComposerDialogUploadStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogThumbnailsStore")]};j.calculateState=function(){var k=c("VideoComposerDialogBasicStore").getState(),l=k.autoCrosspostToShowParent,m=k.bootloaded,n=k.canEditShowAndParent,o=k.composerConfig,p=k.contentTags,q=k.descriptionEditorState,r=k.mentionsSearchSource,s=k.missingVideoTypeTooltipText,t=k.playlistIDs,u=k.playlistOptions,v=k.seasonID,w=k.seasonOptions,x=k.showMissingVideoTypeTooltip,y=k.showParentPageName,z=k.showParentPageProfileURI,A=k.taggerSearchSource,B=k.videoPreviewController,C=k.isRecapSupported,D=c("VideoComposerDialogUploadStore").getState(),E=D.videoData,F=c("VideoComposerDialogMetadataStore").getState(),G=F.accessToken,H=F.actorID,I=F.dialogMode,J=F.isVideoShowPage,K=F.profilePictureURI,L=F.showVideoType,M=F.videoDataForID,N=c("VideoComposerDialogThumbnailsStore").getState(),O=N.videoMetadataUnavailable;return{autoCrosspostToShowParent:l,accessToken:G,actorID:H?H:"",bootloaded:m,canEditShowAndParent:n,composerConfig:o,contentTags:p,descriptionEditorState:q,isVideoShowPage:J,missingVideoTypeTooltipText:s,mentionsSearchSource:r,playlistIDs:t,playlistOptions:u,profilePictureURI:K,seasonID:v,seasonOptions:w,showMissingVideoTypeTooltip:x,showParentPageName:y,showParentPageProfileURI:z,showPlaylistSelector:j.shouldShowPlaylistSelector(I,L),showSeasonSelector:j.shouldShowSeasonSelector(I,L),showVideoType:L,taggerSearchSource:A,videoData:I===c("VideoComposerDialogMode").VIDEO_UPLOAD?E:M,videoMetadataUnavailable:O,videoPreviewController:B,isRecapSupported:C}};j.shouldShowPlaylistSelector=function(k,l){return k===c("VideoComposerDialogMode").VIDEO_EDIT&&(l===c("VideoComposerDialogShowVideo").BASIC_VIDEO||l===c("VideoComposerDialogShowVideo").EPISODE||l===c("VideoComposerDialogShowVideo").RECAP)};j.shouldShowSeasonSelector=function(k,l){return(k===c("VideoComposerDialogMode").VIDEO_EDIT||k===c("VideoComposerDialogMode").VIDEO_UPLOAD)&&(l===c("VideoComposerDialogShowVideo").EPISODE||l===c("VideoComposerDialogShowVideo").RECAP)};j.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.componentDidUpdate=function(k,l){c("VideoComposerDialogBasicVideoController").updateVPC(this.state.videoPreviewController)};j.prototype.componentWillUnmount=function(){c("VideoComposerDialogBasicVideoController").unmount()};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogBasicSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogBasicTabContainer.react",["FluxContainer","React","VideoComposerDialogBasicStore","VideoComposerDialogBasicTabConfig","VideoComposerDialogDispatcher","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{isSelected:l===c("VideoComposerDialogTab").BASIC}};j.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogBasicStore")])};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogBasicTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogBodySectionContainer.react",["FluxContainer","React","VideoComposerDialogBodySection.react","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{selectedTab:l}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogBodySection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCheckboxItem.react",["ix","cssVar","cx","FBCheckbox.react","FlexLayout.react","React","SUIBusinessTheme","SUIText.react","Tooltip","Image.react","XUICardSection.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=h("403740");k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$VideoComposerDialogCheckboxItem1=function(){if(!this.props.disabled)this.props.onToggle()}.bind(this),p}n.prototype.render=function(){var o=this.props.disabled&&this.props.disabledTooltip||null;return c("React").createElement(c("XUICardSection.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(o,"below"),{onClick:this.$VideoComposerDialogCheckboxItem1,className:"_19pq"+(this.props.checked?" _2e9y":"")+(!this.props.disabled?" _242x":"")}),c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_1qng",direction:"horizontal",justify:"all"},c("React").createElement(c("FBCheckbox.react"),{className:"_246b",checked:this.props.checked,disabled:!!this.props.disabled}),c("React").createElement("div",{className:"_19pr"},c("React").createElement(c("SUIText.react"),{customColorUseSparingly:this.props.checked?"#4b4f56":"#90949c",display:this.props.truncateText?"truncate":"block",size:"body2",theme:c("SUIBusinessTheme"),weight:"bold"},this.props.label)),c("React").createElement(c("FlexLayout.react"),{direction:"horizontal",align:"center",className:"_1qng"},this.props.tooltip?c("React").createElement(c("Image.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(this.props.tooltip,"above"),{className:"_inj",src:this.props.tooltipAsset?this.props.tooltipAsset:m})):null,this.props.profilePicUri?c("React").createElement(c("Image.react"),{height:28,width:28,src:this.props.profilePicUri,className:"_1qnh _3-9b"}):null)))};f.exports=n}),null);
__d("VideoComposerDialogCrossPostSection.react",["ix","cx","fbt","FlexLayout.react","Link.react","PageSettingsRef","React","VideoComposerDialogCheckboxItem.react","VideoComposerDialogDistributionActions","VideoComposerDialogField.react","XUIButton.react","XUICard.react","XUIGrayText.react","XUISpinner.react","XPagesManagerSettingsController","asset","Image.react","Tooltip"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=4,n=h("408231");k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={showAll:false},this.$VideoComposerDialogCrossPostSection3=function(){return this.setState({showAll:!this.state.showAll})}.bind(this),q}o.prototype.render=function(){var p=this.$VideoComposerDialogCrossPostSection1(),q=c("React").createElement(c("Link.react"),{href:"/help/678485232304895",target:"_blank"},j._("Help Center"));return c("React").createElement(c("VideoComposerDialogField.react"),{input:p,subtitle:j._("Allow other Pages to use your video in their posts. Learn more about crossposting in the {Link. =Help Center}.",[j._param("Link. =Help Center",q)]),title:j._("Crossposting"),showTopBorder:this.props.showTopBorder})};o.prototype.$VideoComposerDialogCrossPostSection2=function(){return c("XPagesManagerSettingsController").getURIBuilder().setString("page_token",this.props.pageID).setString("tab","video_crossposting").setString("ref",c("PageSettingsRef").VIDEO_COMPOSER).getURI()};o.prototype.$VideoComposerDialogCrossPostSection1=function(){__p&&__p();if(!Array.isArray(this.props.crosspostPages))return c("React").createElement("div",{className:"_2kkh"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));if(this.props.crosspostPages.length===0){var p=!this.props.enableCrosspostRefresh?j._("When you have added Pages, click here to refresh the list"):null;return c("React").createElement(c("XUICard.react"),{className:"_19pp"},c("React").createElement(c("FlexLayout.react"),{direction:"vertical",justify:"all",align:"center",className:"_ka9"},c("React").createElement("div",{className:"_kaj"},c("React").createElement(c("Image.react"),{src:h("398197")})),c("React").createElement("div",{className:"_kak"},j._("Allow Other Pages to Crosspost Your Video")),c("React").createElement(c("FlexLayout.react"),null,c("React").createElement(c("XUIButton.react"),{size:"large",label:j._("Choose Pages"),target:"_blank",onClick:c("VideoComposerDialogDistributionActions").crosspostLinkClicked,href:this.$VideoComposerDialogCrossPostSection2(),imageRight:c("React").createElement(c("Image.react"),{src:h("401037")}),className:"_3-8_"}),c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({size:"large"},c("Tooltip").propsFor(p,"above"),{disabled:!this.props.enableCrosspostRefresh,label:j._("Refresh"),imageRight:c("React").createElement(c("Image.react"),{src:h("435672")}),onClick:c("VideoComposerDialogDistributionActions").refreshCrosspostPages})))))}var q=[],r=null;if(this.props.crosspostPages.length<=m)q=this.props.crosspostPages;else if(this.state.showAll){q=this.props.crosspostPages;r=j._("See Less")}else{q=this.props.crosspostPages.slice(0,m);r=j._({"*":"See all {pages count} Pages"},[j._param("pages count",this.props.crosspostPages&&this.props.crosspostPages.length,[0])])}var s=this.state.showAll?h("401025"):h("363522"),t=r===null?null:c("React").createElement(c("Link.react"),{className:"_2kma",onClick:this.$VideoComposerDialogCrossPostSection3},c("React").createElement(c("XUIGrayText.react"),null,r),c("React").createElement(c("Image.react"),{className:"_3-99",src:s})),u=null;if(this.props.shouldShowIsMonetizable)u=j._("This page is eligible for Ad Breaks");return c("React").createElement("div",null,c("React").createElement(c("XUICard.react"),{className:"_19pp"},q.map(function(v){return c("React").createElement(c("VideoComposerDialogCheckboxItem.react"),{key:v.id,checked:v.allow,label:v.name,profilePicUri:v.profile_pic_uri,truncateText:true,tooltip:v.is_monetizable?u:null,tooltipAsset:n,onToggle:function(){return this.props.onPageToggle(v.id,v.type)}.bind(this)})}.bind(this))),t)};f.exports=o}),null);
__d("VideoComposerDialogDistributionSection.react",["cx","fbt","React","VideoComposerDialogCheckboxItem.react","VideoComposerDialogField.react","XUICard.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=[{label:i._("News Feed"),checked:this.props.showInNewsFeed,hidden:!this.props.showNewsFeedOption,onToggle:function(){return this.props.onToggleNewFeed()}.bind(this),tooltip:i._("Unselect if you don't want your video to appear in News Feed"),disabled:this.props.disableShowInNewsFeed,disabledTooltip:i._("Secret Video cannot appear in News Feed.")},{label:i._("Allow Embedding"),checked:this.props.allowEmbedding,onToggle:function(){return this.props.onToggleEmbedding()}.bind(this),tooltip:i._("Unselect if you don't want third parties to embed your video")},{label:i._("Add as Secret Video"),checked:this.props.addAsSecretVideo,hidden:!this.props.showSecretVideoOption,onToggle:function(){return this.props.onToggleSecretVideo()}.bind(this),tooltip:i._("Secret videos are only available for embedding and for people who have the link")}],n=c("React").createElement(c("XUICard.react"),{className:"_19pp"},m.map(function(o,p){if(o.hidden)return null;return c("React").createElement(c("VideoComposerDialogCheckboxItem.react"),babelHelpers["extends"]({key:p},o))}));return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogField.react"),{input:n,subtitle:i._("Choose where you would like your video to appear."),title:i._("Custom Distribution"),showTopBorder:false}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogModerationSection.react",["cx","fbt","React","VideoComposerDialogCheckboxItem.react","VideoComposerDialogField.react","XUICard.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=[{label:i._("Show Graphic Warning"),checked:this.props.showGraphicWarning,onToggle:function(){return this.props.onGraphicWarningToggle()}.bind(this),tooltip:i._("Viewers will see a warning that your video contains graphic content before it starts"),hidden:!this.props.allowGraphicWarningOption},{label:i._("Turn Off Reactions, Comments and Shares"),checked:this.props.blockSocial,onToggle:function(){return this.props.onBlockSocialToggle()}.bind(this),tooltip:i._("People will not be able to share, react to or comment on your post"),disabled:this.props.disableBlockSocial,disabledTooltip:i._("Only available if video is added as Secret Video")}],n=c("React").createElement(c("XUICard.react"),{className:"_2km8"},m.map(function(p,q){if(p.hidden)return null;return c("React").createElement(c("VideoComposerDialogCheckboxItem.react"),babelHelpers["extends"]({key:q},p))})),o=this.props.allowGraphicWarningOption?i._("Moderate your content by showing graphic warnings and turning off reactions, comments and shares."):i._("Moderate your content by turning off reactions, comments and shares.");return c("React").createElement(c("VideoComposerDialogField.react"),{input:n,subtitle:o,title:i._("Moderation")})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogDistributionContainer.react",["cx","FluxContainer","React","VideoComposerDialogCrossPostSection.react","VideoComposerDialogDispatcher","VideoComposerDialogDistributionActions","VideoComposerDialogDistributionSection.react","VideoComposerDialogDistributionStore","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogModerationSection.react","VideoComposerDialogShowVideo"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogDistributionStore"),c("VideoComposerDialogMetadataStore")]};k.calculateState=function(){var l=c("VideoComposerDialogDistributionStore").getState(),m=c("VideoComposerDialogMetadataStore").getState(),n=m.actorID,o=m.dialogMode,p=m.isVideoAssetOwner,q=m.showVideoType;return{dialogMode:o,pageID:n||"",showInNewsFeed:l.showInNewsFeed,shouldShowIsMonetizable:l.shouldShowIsMonetizable,allowEmbedding:l.allowEmbedding,addAsSecretVideo:l.addAsSecretVideo,disableShowInNewsFeed:l.disableShowInNewsFeed,crosspostPages:l.crosspostPages,allowGraphicWarningOption:l.allowGraphicWarningOption,showGraphicWarning:l.showGraphicWarning,showVideoType:q,blockSocial:l.blockSocial,disableBlockSocial:!l.addAsSecretVideo,enableCrosspostRefresh:l.enableCrosspostRefresh,isVideoAssetOwner:p}};k.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(k.getStores())};k.prototype.$VideoComposerDialogDistributionContainer1=function(){return this.state.showVideoType!==c("VideoComposerDialogShowVideo").TRAILER};k.prototype.$VideoComposerDialogDistributionContainer2=function(){var l=this.state.dialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST;return!l&&this.state.isVideoAssetOwner};k.prototype.$VideoComposerDialogDistributionContainer3=function(){return this.state.dialogMode!==c("VideoComposerDialogMode").VIDEO_EDIT&&this.state.showVideoType!==c("VideoComposerDialogShowVideo").TRAILER};k.prototype.render=function(){var l=this.state.dialogMode===c("VideoComposerDialogMode").VIDEO_EDIT;return c("React").createElement("div",{className:"_ogq"},this.$VideoComposerDialogDistributionContainer1()?c("React").createElement(c("VideoComposerDialogDistributionSection.react"),babelHelpers["extends"]({},this.state,{showNewsFeedOption:!l,showSecretVideoOption:!l,onToggleNewFeed:c("VideoComposerDialogDistributionActions").toggleNewsFeed,onToggleEmbedding:c("VideoComposerDialogDistributionActions").toggleEmbedding,onToggleSecretVideo:c("VideoComposerDialogDistributionActions").toggleSecretVideo})):null,this.$VideoComposerDialogDistributionContainer2()?c("React").createElement(c("VideoComposerDialogCrossPostSection.react"),{pageID:this.state.pageID,crosspostPages:this.state.crosspostPages,shouldShowIsMonetizable:this.state.shouldShowIsMonetizable,enableCrosspostRefresh:this.state.enableCrosspostRefresh,onPageToggle:c("VideoComposerDialogDistributionActions").toggleCrosspostPage,showTopBorder:this.$VideoComposerDialogDistributionContainer1()}):null,this.$VideoComposerDialogDistributionContainer3()?c("React").createElement(c("VideoComposerDialogModerationSection.react"),babelHelpers["extends"]({},this.state,{onGraphicWarningToggle:c("VideoComposerDialogDistributionActions").toggleGraphicWarning,onBlockSocialToggle:c("VideoComposerDialogDistributionActions").toggleBlockSocial})):null)};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogDistributionTabContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogDistributionStore","VideoComposerDialogDistributionTabConfig","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{isSelected:l===c("VideoComposerDialogTab").DISTRIBUTION}};j.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogDistributionStore")])};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogDistributionTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogFooterSectionContainer.react",["FluxContainer","React","VideoComposerDialogAdBreakStore","VideoComposerDialogBasicStore","VideoComposerDialogConstants","VideoComposerDialogDistributionStore","VideoComposerDialogEditStore","VideoComposerDialogFooterSection.react","VideoComposerDialogMetadataStore","VideoComposerDialogPremiereStore","VideoComposerDialogPublishingStore","VideoComposerDialogShowVideo","VideoComposerDialogUIStore","VideoComposerDialogUtils","getMentionsTextForContentState"],(function aa(ba,a,ca,da,b,ea){"use strict";__p&&__p();var c,d;c=babelHelpers.inherits(e,a("React").PureComponent);d=c&&c.prototype;e.getStores=function(){return[a("VideoComposerDialogAdBreakStore"),a("VideoComposerDialogDistributionStore"),a("VideoComposerDialogEditStore"),a("VideoComposerDialogUIStore"),a("VideoComposerDialogPremiereStore"),a("VideoComposerDialogPublishingStore"),a("VideoComposerDialogMetadataStore"),a("VideoComposerDialogBasicStore")]};e.calculateState=function(){var f=a("VideoComposerDialogDistributionStore").getState(),g=f.allowEmbedding,h=f.showInNewsFeed,i=a("VideoComposerDialogUIStore").getState(),j=i.saveAsDraftDialogShown,k=i.showReviewableBrandedContentConfirmationDialog,l=a("VideoComposerDialogPremiereStore").getState(),m=l.premiereDate,n=l.shouldPremiere,o=a("VideoComposerDialogMetadataStore").getState(),p=o.actorID,q=o.dialogMode,r=o.isVideoShowPage,s=o.minBackdateTime,t=o.title,u=o.showPremiereOption,v=o.showRightsConfirmationDialog,w=o.boostedPostButtonConfig,x=o.profileDisplayName,y=o.profilePictureURI,z=o.showVideoType,A=o.userName,B=o.userProfilePictureURI,C=o.videoDuration,D=o.videoID,E=a("VideoComposerDialogPublishingStore").getState(),F=E.backdateYear,G=E.disablePublish,H=E.expireDate,I=E.postEndDate,J=E.isPosting,K=E.isPostPending,L=E.isDraft,M=E.scheduleDate,N=a("VideoComposerDialogBasicStore").getState(),O=N.bootloaded,P=N.composerConfig,Q=N.descriptionEditorState,R=a("VideoComposerDialogEditStore").getState(),S=a("VideoComposerDialogAdBreakStore").getState(),T=S.adBreaksDisabled,U=S.adBreakPrereviewPostMethod,V=S.isAdBreakPrereviewVisible,W=S.insertedAdBreaks,X=S.isAdBreakPrereviewDialogOpen,fa=S.isAdBreakAutoInsertionEnabled,Y=false,Z=false,$=false;if(J||K)if(L)Z=true;else if(F||I||M||H)$=true;else Y=true;var ga=r&&z===null,ha=a("getMentionsTextForContentState")(Q.getCurrentContent());return{adBreakPrereviewPostMethod:U,allowEmbedding:g,boostedPostButtonConfig:w,bootloaded:O,canMakeFeatured:R.canMakeFeatured,composerID:P&&P.contextConfig.composerID||"",creationTime:R.creationTime,description:ha,dialogMode:q,disablePublish:G,downloadHDUrl:R.downloadHDUrl,downloadSDUrl:R.downloadSDUrl,editPublishingAction:R.selectedPublishingAction,editTabsLoaded:R.editTabsLoaded,embedURL:R.embedURL,hasInsertedAdBreak:!T&&(W.count()>0||fa),isAdBreakPrereviewDialogOpen:X,isAdBreakPrereviewVisible:V,isEditSaving:R.isSaving,isFeaturedVideo:R.isFeaturedVideo,isMissingTitle:t.trim()==="",isSavingAsDraft:Z,isPublishing:Y,isSchedulingOrBackdating:$,isShowTrailer:r&&z===a("VideoComposerDialogShowVideo").TRAILER,isShowVideoAndMissingType:ga,isTitleTooLong:a("VideoComposerDialogUtils").byteLength(t.trim())>a("VideoComposerDialogConstants").MAX_TITLE_LENGTH,pageID:p||"",minBackdateTime:s?s:0,premiereDate:m,publishingConfig:R.publishingConfig||{},saveAsDraftDialogShown:j,shouldPremiere:n,showInNewsFeed:h,showPremiereOption:u,showReviewableBrandedContentConfirmationDialog:k,showRightsConfirmationDialog:v,profileDisplayName:x,profilePictureURI:y,userName:A,userProfilePictureURI:B,videoDuration:C,videoID:D}};e.prototype.render=function(){return a("React").createElement(a("VideoComposerDialogFooterSection.react"),this.state)};function e(){c.apply(this,arguments)}b.exports=a("FluxContainer").create(e)}),null);
__d("VideoComposerDialogMomentsOfInterestActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){var j={type:c("VideoComposerDialogActionTypes").UPDATE_MOMENTS_OF_INTEREST,momentsOfInterest:i};c("VideoComposerDialogDispatcher").dispatch(j)};f.exports={updateMomentsOfInterest:h}}),null);
__d("VideoComposerDialogMomentsOfInterestFormRow.react",["cx","React","SUIAtlasTheme","SUITextInput.react","suiMargin"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={timestamp:this.props.initialTimestamp||"",description:this.props.initialDescription||""},this.$VideoComposerDialogMomentsOfInterestFormRow1=function(q){this.setState({timestamp:q});this.props.sendTimestamp(this.props.index,q)}.bind(this),this.$VideoComposerDialogMomentsOfInterestFormRow2=function(q){this.setState({description:q});this.props.sendDescription(this.props.index,q)}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_2aaf"},c("React").createElement(c("SUITextInput.react"),{theme:c("SUIAtlasTheme"),width:80,display:"inline",onChange:this.$VideoComposerDialogMomentsOfInterestFormRow1,value:this.state.timestamp}),c("React").createElement(c("SUITextInput.react"),{theme:c("SUIAtlasTheme"),width:350,display:"inline",margin:"_3-9b",onChange:this.$VideoComposerDialogMomentsOfInterestFormRow2,value:this.state.description}))};f.exports=k}),null);
__d("VideoComposerDialogMomentsOfInterestContainer.react",["cx","fbt","FluxContainer","React","VideoComposerDialogDispatcher","SUIAtlasTheme","SUIButton.react","SUIButtonIcon.react","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogMomentsOfInterestStore","VideoComposerDialogThumbnailsStore","VideoComposerDialogUploadStore","VideoComposerDialogVideoPlayer.react","VideoComposerDialogMomentsOfInterestFormRow.react","VideoComposerDialogMomentsOfInterestActions","XUISpinner.react","XUIText.react","suiMargin"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=function l(){return c("React").createElement("div",{className:"_2aam"},c("React").createElement(c("XUIText.react"),{className:"_2aan"},i._("Moments Of Interest")),c("React").createElement(c("XUIText.react"),{className:"_2aao"},i._("Annotate particular moments of your video that viewers can jump to by providing a timestamp and a corresponding mini-description of what occurs at that timestamp")))};j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$VideoComposerDialogMomentsOfInterestContainer1=function(){this.setState(function(s,t){return{currNumRows:s.currNumRows+1,momentsOfInterest:s.momentsOfInterest.concat([{}])}})}.bind(this),this.sendTimestamp=function(s,t){for(var u=0;u<this.state.momentsOfInterest.length;u++)if(this.state.momentsOfInterest[u].time_offset===t)return;var v=this.state.momentsOfInterest[s];v.time_offset=t;c("VideoComposerDialogMomentsOfInterestActions").updateMomentsOfInterest(this.state.momentsOfInterest)}.bind(this),this.sendDescription=function(s,t){var u=this.state.momentsOfInterest[s];u.description=t;c("VideoComposerDialogMomentsOfInterestActions").updateMomentsOfInterest(this.state.momentsOfInterest)}.bind(this),o}m.getStores=function(){return[c("VideoComposerDialogUploadStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogMomentsOfInterestStore"),c("VideoComposerDialogThumbnailsStore")]};m.calculateState=function(){c("VideoComposerDialogMomentsOfInterestStore").getState();var n=c("VideoComposerDialogUploadStore").getState(),o=n.videoData,p=c("VideoComposerDialogThumbnailsStore").getState(),q=p.videoMetadataUnavailable,r=c("VideoComposerDialogMetadataStore").getState(),s=r.dialogMode,t=r.videoDataForID,u=c("VideoComposerDialogMomentsOfInterestStore").getState(),v=u.momentsOfInterest,w=v.length;if(w===0){w=2;v=[{},{}]}return{currNumRows:w,momentsOfInterest:v,videoData:s===c("VideoComposerDialogMode").VIDEO_UPLOAD?o:t,videoMetadataUnavailable:q}};m.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(m.getStores())};m.prototype.render=function(){var n=this.state.videoData,o=[],p=this.state.currNumRows;for(var q=0;q<p;q++)o.push(c("React").createElement(c("VideoComposerDialogMomentsOfInterestFormRow.react"),{key:q,index:q,sendTimestamp:this.sendTimestamp,sendDescription:this.sendDescription,initialTimestamp:this.state.momentsOfInterest[q].time_offset,initialDescription:this.state.momentsOfInterest[q].description}));return c("React").createElement("div",null,n?c("React").createElement(c("VideoComposerDialogVideoPlayer.react"),{videoMetadataUnavailable:this.state.videoMetadataUnavailable,videoData:n}):c("React").createElement("div",{className:"_1fxr"},c("React").createElement(c("XUISpinner.react"),{size:"large"})),c("React").createElement(l,null),c("React").createElement("div",{className:"_3-8y"},c("React").createElement(c("XUIText.react"),{className:"_2aap"},i._("Timestamp")),c("React").createElement(c("XUIText.react"),{className:"_2aaq"},i._("Description"))),o,c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIButtonIcon.react"),{name:"create",use:"confirm"}),label:"",margin:"_3-8y",onClick:this.$VideoComposerDialogMomentsOfInterestContainer1,ref:"add_button",theme:c("SUIAtlasTheme"),use:"confirm"}))};f.exports=c("FluxContainer").create(m)}),null);
__d("VideoComposerDialogMomentsOfInterestTabContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogMomentsOfInterestStore","VideoComposerDialogMomentsOfInterestTabConfig","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{isSelected:l===c("VideoComposerDialogTab").MOMENTS_OF_INTEREST}};j.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogMomentsOfInterestStore")])};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogMomentsOfInterestTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("CopyrightCountryListToggleLink.react",["cx","fbt","LeftRight.react","Link.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){if(!this.props.canShowMore)return null;return c("React").createElement("div",{className:"_mmz"},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("span",null),c("React").createElement(c("Link.react"),{onClick:this.props.onToggle},this.props.showingAll?i._("Show Less"):i._("Show All"))))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("SortedCopyrightCountryCodes",["CopyrightCountryNames"],(function a(b,c,d,e,f,g){f.exports=Object.keys(c("CopyrightCountryNames")).sort(function(h,i){if(c("CopyrightCountryNames")[h]<c("CopyrightCountryNames")[i])return-1;if(c("CopyrightCountryNames")[h]>c("CopyrightCountryNames")[i])return 1;return 0})}),null);
__d("CopyrightCountryList.react",["cx","fbt","CopyrightCountryNames","SortedCopyrightCountryCodes","CopyrightCountryListToggleLink.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={showingAll:false},this.$CopyrightCountryList1=function(){var r=this.state.showingAll;this.setState({showingAll:!r})}.bind(this),n}l.prototype.render=function(){__p&&__p();var m=void 0,n=false;if(this.props.countries.length===c("SortedCopyrightCountryCodes").length)if(this.props.showWorldwide)m=i._("Worldwide");else return null;else{m=c("SortedCopyrightCountryCodes").filter(function(p){return this.props.countries.indexOf(p)!==-1}.bind(this)).map(function(p){return c("CopyrightCountryNames")[p]}).join(", ");n=m.length>this.props.previewCharLimit;if(n&&!this.state.showingAll)m=m.substr(0,this.props.previewCharLimit)+"..."}var o=this.props.className||"_1brk";return c("React").createElement("div",{className:o},c("React").createElement("div",{className:this.props.listClassName},this.props.label?c("React").createElement("div",{className:"_1brm"},this.props.label,":"," "):null,m),c("React").createElement(c("CopyrightCountryListToggleLink.react"),{canShowMore:n,showingAll:this.state.showingAll,onToggle:this.$CopyrightCountryList1}))};l.defaultProps={previewCharLimit:295};f.exports=l}),null);
__d("CopyrightCountrySearchSource",["AbstractSearchSource","CopyrightCountryNames","SearchableEntry","SortedCopyrightCountryCodes"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;j.prototype.getAllCountries=function(){"use strict";return c("SortedCopyrightCountryCodes").map(function(k,l){return new(c("SearchableEntry"))({order:l,title:c("CopyrightCountryNames")[k],uniqueID:k})})};j.prototype.getAllCountryIDs=function(){"use strict";return c("SortedCopyrightCountryCodes").slice()};j.prototype.getCountriesCount=function(){"use strict";return c("SortedCopyrightCountryCodes").length};j.prototype.searchImpl=function(k,l){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];"use strict";var n=this.getAllCountries();if(k&&k.length>0)return l(n.filter(function(o){return o.getTitle().toLowerCase().startsWith(k.toLowerCase())}),k);return l(n,k)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("CopyrightCountrySelectorHeader.react",["fbt","Link.react","React","SortedCopyrightCountryCodes","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=h._("Select All"),l=h._("Deselect All"),m=j.countryCount===0?c("React").createElement(c("XUIGrayText.react"),null,l):c("React").createElement(c("Link.react"),{onClick:j.onDeselectAll},l),n=j.countryCount===c("SortedCopyrightCountryCodes").length?c("React").createElement(c("XUIGrayText.react"),null,k):c("React").createElement(c("Link.react"),{onClick:j.onSelectAll},k);return c("React").createElement("div",null,n," | ",m)};f.exports=i}),null);
__d("CopyrightCountrySelectorLabel.react",["fbt","React","SortedCopyrightCountryCodes"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){if(j.countryCount===0)return h._("Select countries");else if(j.countryCount===c("SortedCopyrightCountryCodes").length)return h._("All countries");else return h._({"*":"{number} countries selected","_1":"1 country selected"},[h._plural(j.countryCount,"number")])};f.exports=i}),null);
__d("CopyrightCountrySelector.react",["cx","fbt","CopyrightCountryList.react","CopyrightCountrySearchSource","CopyrightCountrySelectorHeader.react","CopyrightCountrySelectorLabel.react","React","SUIBusinessTheme","SUISearchableSelector.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=new(c("CopyrightCountrySearchSource"))();j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={countries:this.$CopyrightCountrySelector1()},this.$CopyrightCountrySelector2=function(s){var t=this.state.countries.slice(0),u=t.find(function(w){return w.getUniqueID()===s.getUniqueID()}),v=t.indexOf(u);if(v>=0)t.splice(v,1);else t.push(s);return this.setCountries(t)}.bind(this),this.$CopyrightCountrySelector3=function(s){s.stopPropagation();this.setCountries([])}.bind(this),this.$CopyrightCountrySelector4=function(s){s.stopPropagation();this.setCountries(l.getAllCountries())}.bind(this),o}m.prototype.$CopyrightCountrySelector1=function(){__p&&__p();var n=l.getAllCountries(),o=this.props.selectedCountries;if(o===undefined)return[];if(o.length===0)return n;if(this.props.areCountriesIncluded)return n.filter(function(p){return o.indexOf(p.getUniqueID())!==-1});else return n.filter(function(p){return o.indexOf(p.getUniqueID())===-1})};m.prototype.setCountries=function(n){__p&&__p();var o,p=this;this.setState({countries:n.slice()});if(this.props.onChange)(function(){__p&&__p();var q=n.map(function(s){return s.getUniqueID().toString()}),r=true;if(p.props.enableExcludedCountries)if(n.length===l.getCountriesCount()){r=true;q=[]}else if(n.length>l.getCountriesCount()/2){r=false;q=l.getAllCountryIDs().filter(function(s){return q.indexOf(s)===-1})}p.props.onChange&&p.props.onChange(q,r)})()};m.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_2q5q")},c("React").createElement(c("SUISearchableSelector.react"),{canSelectMultiple:true,customLabel:this.props.customLabel||c("React").createElement(c("CopyrightCountrySelectorLabel.react"),{countryCount:this.state.countries.length}),dropdownWidth:"auto",emptySearchResultsContent:i._("No matching results"),header:c("React").createElement(c("CopyrightCountrySelectorHeader.react"),{countryCount:this.state.countries.length,onDeselectAll:this.$CopyrightCountrySelector3,onSelectAll:this.$CopyrightCountrySelector4}),isDisabled:this.props.disabled,onChange:this.$CopyrightCountrySelector2,placeholder:i._("All countries"),searchPlaceholder:i._("Search countries"),searchSource:l,theme:c("SUIBusinessTheme"),values:this.state.countries,width:"auto"}),c("React").createElement(c("CopyrightCountryList.react"),{listClassName:this.props.listClassName,countries:this.state.countries.map(function(n){return n.getUniqueID().toString()}),previewCharLimit:this.props.previewCharLimit}))};f.exports=m}),null);
__d("ComposerVideoUploadContextualTooltip.react",["ix","cx","Image.react","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIText.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){"use strict";var m=void 0;if(this.props.light)m=h("126340");else m=h("127942");return c("React").createElement("span",null,c("React").createElement(c("Image.react"),{className:c("joinClasses")("_50lr",this.props.className),ref:"infoIcon",src:m}),c("React").createElement(c("XUIContextualDialog.react"),{contextRef:function(){return this.refs.infoIcon}.bind(this),hoverContextRef:function(){return this.refs.infoIcon}.bind(this),position:"right",width:c("XUIContextualDialog.react").WIDTH.NORMAL},c("React").createElement(c("XUIContextualDialogTitle.react"),{className:this.props.className},this.props.contextualTooltipTitle),this.props.contextualTooltipBody&&this.props.contextualTooltipBody.length!==0?c("React").createElement(c("XUIContextualDialogBody.react"),{className:this.props.className},this.props.contextualTooltipBody.map(function(n){return c("React").createElement(c("XUIText.react"),{display:"block",size:"meta1"},n)})):c("React").createElement("div",null),this.props.contextualTooltipFooter?c("React").createElement(c("XUIContextualDialogFooter.react"),{className:this.props.className},this.props.contextualTooltipFooter):c("React").createElement("div",null)))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadTooltip.react",["ix","cx","Image.react","React","Tooltip.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";var n=void 0;if(this.props.light)n=h("126340");else n=h("127942");return c("React").createElement(c("Tooltip.react"),{alignH:this.props.alignH,position:this.props.alignV,tooltip:this.props.tooltip},c("React").createElement(c("Image.react"),{className:c("joinClasses")("_50lr",this.props.className),src:n}))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={alignH:l.string,alignV:l.string,className:l.string,light:l.bool,tooltip:l.any.isRequired};f.exports=m}),null);
__d("ComposerVideoUploadSection.react",["cx","ComposerVideoUploadContextualTooltip.react","ComposerVideoUploadTooltip.react","React","XUIText.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props.contextualTooltipTitle||this.props.contextualTooltipBody||this.props.contextualTooltipFooter;return c("React").createElement("div",{className:this.props.className},c("React").createElement("div",{className:"_1_hd _4qoq"},c("React").createElement(c("XUIText.react"),{size:"meta1",weight:"bold"},this.props.title),this.props.subtitle?c("React").createElement(c("XUIGrayText.react"),{size:"meta1",shade:"light",className:"_3-99"},this.props.subtitle):null,this.props.tooltip?c("React").createElement(c("ComposerVideoUploadTooltip.react"),{tooltip:this.props.tooltip}):m?c("React").createElement(c("ComposerVideoUploadContextualTooltip.react"),{contextualTooltipTitle:this.props.contextualTooltipTitle,contextualTooltipBody:this.props.contextualTooltipBody,contextualTooltipFooter:this.props.contextualTooltipFooter}):null),this.props.children)};function l(){"use strict";i.apply(this,arguments)}l.propTypes={className:k.string,title:k.string.isRequired,subtitle:k.node,tooltip:k.string,contextualTooltipTitle:k.string,contextualTooltipBody:k.arrayOf(k.string),contextualTooltipFooter:k.string};f.exports=l}),null);
__d("CopyrightReferenceCategorySelector.react",["cx","fbt","AdsSelectorWithTooltips.react","ComposerVideoUploadSection.react","React","VideoCopyrightContentCategoryString"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("AdsSelectorWithTooltips.react").Option;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.$CopyrightReferenceCategorySelector1=function(n){"use strict";if(this.props.showCategoryRequiredError&&!n)return i._("Required");return null};m.prototype.render=function(){"use strict";var n=[m.defaultCategory.value].concat(Object.keys(c("VideoCopyrightContentCategoryString"))),o=n.map(function(p){if(p)var q=c("VideoCopyrightContentCategoryString")[p];else q=m.defaultCategory;return c("React").createElement(l,{tooltip:q.description,tooltipPosition:"right",key:q.value,value:q.value},q.label)});return c("React").createElement(c("ComposerVideoUploadSection.react"),{className:this.props.className||"_3-8-",title:this.props.hideTitleAndTooltip?"":i._("Media Category"),tooltip:this.props.hideTitleAndTooltip?null:i._("Select the format of your reference file. This selection is necessary for taxable ad earnings and can't be changed after you save it.")},c("React").createElement(c("AdsSelectorWithTooltips.react"),{className:"_d6-",disabled:this.props.disabled,onChange:function(p){return this.props.onReferenceCategoryChange(p.value)}.bind(this),value:this.props.selectedCategory||m.defaultCategory.value,defaultLabel:m.defaultCategory.label,defaultValue:m.defaultCategory.value,maxheight:400,xuiError:this.$CopyrightReferenceCategorySelector1(this.props.selectedCategory),xuiErrorPosition:"right"},o))};function m(){"use strict";j.apply(this,arguments)}m.defaultCategory={value:null,label:i._("Choose Category"),description:""};f.exports=m}),null);
__d("MediaCopyrightAttributionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAGE:"PAGE",VIDEO:"VIDEO"})}),null);
__d("CopyrightAttributionTypeComponent.react",["ix","cx","fbt","Image.react","LeftRight.react","MediaCopyrightAttributionType","React","asset","gkx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$CopyrightAttributionTypeComponent1=function(){this.props.onSelectionChanged(this.props.attribution_type)}.bind(this),o}m.prototype.render=function(){__p&&__p();var n=null;if(this.props.attribution_type===c("MediaCopyrightAttributionType").PAGE)n=this.props.isSelected?c("React").createElement(c("Image.react"),{src:h("418180")}):c("React").createElement(c("Image.react"),{src:h("418183")});else n=this.props.isSelected?c("React").createElement(c("Image.react"),{src:h("419115")}):c("React").createElement(c("Image.react"),{src:h("419119")});var o=c("gkx")("AT7tRsbXgdfpVIxZEDHUHhVidRHLaGCiELuc73mIrKJ1toFkqyNiK6bc6019oDdRue30tdh5NPvfFJbnGf1aEC_HYzwlBLOQMleHm1dp954kFw"),p=null;if(this.props.attribution_type===c("MediaCopyrightAttributionType").PAGE)p=j._("Follow");else p=o?j._("Link"):j._("Link (Coming Soon)");var q=this.props.attribution_type===c("MediaCopyrightAttributionType").VIDEO?j._("Direct viewers of the matching video to the original video or a related video."):j._("Direct viewers of the matching video to follow your Page.");return c("React").createElement(c("LeftRight.react"),{direction:"left",className:"_16z5"+(this.props.isSelected?" _16z6":"")+(this.props.attribution_type===c("MediaCopyrightAttributionType").VIDEO&&!o?" _2h1a":""),onClick:this.props.attribution_type===c("MediaCopyrightAttributionType").VIDEO&&!o?null:this.$CopyrightAttributionTypeComponent1},c("React").createElement("div",{className:"_16z7"},n),c("React").createElement("div",null,c("React").createElement("div",{className:"_16z9"},p),c("React").createElement("div",{className:"_16za"},q)))};f.exports=m}),null);
__d("FormRowTextInput.react",["ix","cx","Image.react","React","SUIBusinessTheme","SUITextInput.react","Tooltip.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){return c("React").createElement("div",{className:"_18ri"},c("React").createElement("div",{className:"_18rj"},c("React").createElement("div",{className:"_18rl"},k.label)),c("React").createElement(c("Tooltip.react"),{alignH:"center",tooltip:k.tooltip},c("React").createElement(c("Image.react"),{className:"_18rm",src:h("126340")})),c("React").createElement("div",{className:"_18rj _18ro"},c("React").createElement(c("SUITextInput.react"),{errorMessage:k.errorMessage,placeholder:k.placeholder,theme:c("SUIBusinessTheme"),onChange:k.onChange,value:k.value})))}f.exports=j}),null);
__d("VideoCopyrightAttributionInfoIcon.react",["ix","cx","fbt","Image.react","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIGrayText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){"use strict";var n=j._("Your attribution will appear below videos that match your reference files. You can direct viewers to the original video, a related video, or your Page.");return c("React").createElement("div",null,c("React").createElement("div",{className:this.props.className,ref:"infoIcon"},c("React").createElement(c("Image.react"),{src:h("134353")})),c("React").createElement(c("XUIContextualDialog.react"),{autoFocus:false,contextRef:function(){return this.refs.infoIcon}.bind(this),hoverContextRef:function(){return this.refs.infoIcon}.bind(this),label:n,position:"left",width:c("XUIContextualDialog.react").WIDTH.NORMAL},c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement(c("XUIGrayText.react"),{className:"_2phz",display:"block"},n))))};function m(){"use strict";k.apply(this,arguments)}f.exports=m}),null);
__d("XVideoCopyrightAttributionFieldValidationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/copyright/attribution/field_validation/",{attribution_id:{type:"FBID"},url:{type:"String"},attribution_type:{type:"Enum",enumType:1},title:{type:"String"}})}),null);
__d("CopyrightAttributionDialog.react",["cx","fbt","ix","ActorURI","AsyncRequest","CopyrightAttributionTypeComponent.react","FormRowTextInput.react","GraphAPI","Image.react","LeftRight.react","MediaCopyrightAttributionGraphFields","MediaCopyrightAttributionType","PageContentTabAccessToken","PageContentTabConstants","PageContentTabDispatcher","PageContentTabLoadingDialog","PageContentTabLogger","PageContentTabLoggingEvents","React","SUIAnalyticsGriffinTheme","SUIToggle.react","VideoCopyrightAttributionInfoIcon.react","VideoCopyrightMatchActionTypes","VideoCopyrightUtils","XUIButton.react","XUICardSection.react","XUIDialog.react","XUIDialogTitle.react","XVideoCopyrightAttributionFieldValidationController"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=500,n=c("PageContentTabConstants").TABS;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){"use strict";__p&&__p();l.constructor.call(this,p);this.$CopyrightAttributionDialog3=function(q){this.setState({selectedType:q},function(){return this.$CopyrightAttributionDialog4(this.state.attributionURL)}.bind(this))}.bind(this);this.$CopyrightAttributionDialog11=function(q){this.setState({attributionName:q});if(this.$CopyrightAttributionDialog2!=null)clearTimeout(this.$CopyrightAttributionDialog2);this.$CopyrightAttributionDialog2=setTimeout(function(){this.$CopyrightAttributionDialog5(q);this.$CopyrightAttributionDialog2=null}.bind(this),m)}.bind(this);this.$CopyrightAttributionDialog12=function(q){this.setState({linkTitle:q})}.bind(this);this.$CopyrightAttributionDialog13=function(q){this.setState({attributionURL:q});if(this.$CopyrightAttributionDialog1!=null)clearTimeout(this.$CopyrightAttributionDialog1);this.$CopyrightAttributionDialog1=setTimeout(function(){this.$CopyrightAttributionDialog4(q);this.$CopyrightAttributionDialog1=null}.bind(this),m)}.bind(this);this.onChangeStatus=function(){this.setState({isEnabled:!this.state.isEnabled})}.bind(this);this.state=this.getInitialState(p)}o.prototype.UNSAFE_componentWillReceiveProps=function(p){"use strict";this.setState(this.getInitialState(p))};o.prototype.getInitialState=function(p){"use strict";return{selectedType:p.attributionType,attributionURL:p.attributionURL,attributionName:p.attributionName,linkTitle:p.linkTitle,linkTitlePlaceholder:null,isEnabled:!!p.isEnabled,isValidating:false,attributionTargetID:p.attributionTargetID,hasTitleError:false,hasURLError:false,didSubmit:false,shown:p.shown}};o.prototype.$CopyrightAttributionDialog4=function(p){"use strict";if(p.length===0)return;this.setState({isValidating:true});var q=c("ActorURI").create(c("XVideoCopyrightAttributionFieldValidationController").getURIBuilder().setString("url",p).setEnum("attribution_type",this.state.selectedType).getURI(),this.props.pageID);new(c("AsyncRequest"))().setURI(q).setHandler(function(r){var s=r.payload.attribution_target_id;this.setState({attributionTargetID:s,hasURLError:!s,isValidating:false,linkTitlePlaceholder:r.payload.video_title})}.bind(this)).send()};o.prototype.$CopyrightAttributionDialog5=function(p){"use strict";if(p.length===0)return;this.setState({isValidating:true});var q=c("ActorURI").create(c("XVideoCopyrightAttributionFieldValidationController").getURIBuilder().setFBID("attribution_id",this.props.attributionID).setString("title",p).getURI(),this.props.pageID);new(c("AsyncRequest"))().setURI(q).setHandler(function(r){var s=r.payload.is_title_valid;this.setState({hasTitleError:!s,isValidating:false})}.bind(this)).send()};o.prototype.$CopyrightAttributionDialog6=function(){"use strict";var p=this.$CopyrightAttributionDialog7();return this.state.attributionName.trim().length===0||this.state.attributionURL.length===0||this.state.attributionType===c("MediaCopyrightAttributionType").VIDEO&&!!p&&p.length===0};o.prototype.$CopyrightAttributionDialog8=function(){"use strict";return this.$CopyrightAttributionDialog6()||this.state.isValidating||this.state.hasTitleError||this.state.hasURLError};o.prototype.$CopyrightAttributionDialog9=function(){"use strict";if(this.state.hasTitleError)return i._("This title has already been used.");return null};o.prototype.$CopyrightAttributionDialog10=function(){"use strict";if(this.state.hasURLError)return i._("The URL provided is invalid.");return null};o.prototype.$CopyrightAttributionDialog7=function(){"use strict";if(this.state.selectedType===c("MediaCopyrightAttributionType").PAGE)return null;return this.state.linkTitle&&this.state.linkTitle.length>0?this.state.linkTitle:this.state.linkTitlePlaceholder};o.prototype.$CopyrightAttributionDialog14=function(){"use strict";__p&&__p();var p=!this.props.attributionID?i._("Create Attribution"):i._("Done");return c("React").createElement(c("XUICardSection.react"),{background:"light-wash",className:"_1biv"},c("React").createElement(c("XUIButton.react"),{className:"_1biw",label:p,onClick:function(){__p&&__p();var q=this.props.attributionID;c("PageContentTabLoadingDialog").show();var r={};r[c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_URL]=this.state.attributionURL;r[c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_TYPE]=this.state.selectedType;r[c("MediaCopyrightAttributionGraphFields").TITLE]=this.state.attributionName;r[c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_TARGET_ID]=this.state.attributionTargetID;r[c("MediaCopyrightAttributionGraphFields").IS_ENABLED]=this.state.isEnabled;r[c("MediaCopyrightAttributionGraphFields").LINK_TITLE]=this.$CopyrightAttributionDialog7();var s=void 0;if(!q)s=c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",this.props.pageID).edge("media_copyright_attributions");else s=c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("media_copyright_attribution",q);var t=this.props.accessToken?this.props.accessToken:c("PageContentTabAccessToken").getAccessToken();s.post(babelHelpers["extends"]({},r,{access_token:t})).done(function(u){c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("media_copyright_attribution",q||u.id).get({fields:c("VideoCopyrightUtils").getCopyrightAttributionGraphAPIFields(),access_token:t}).done(function(v){if(q)c("PageContentTabDispatcher").handlePostChanged(v,c("PageContentTabConstants").TABS.ATTRIBUTIONS,this.props.pageID);else c("PageContentTabDispatcher").handlePostCreated(c("PageContentTabConstants").TABS.ATTRIBUTIONS,v,this.props.pageID);c("PageContentTabLoadingDialog").hide();this.setState({didSubmit:true},this.$CopyrightAttributionDialog15)}.bind(this))}.bind(this))}.bind(this),use:"confirm",disabled:this.$CopyrightAttributionDialog8()}),c("React").createElement(c("XUIButton.react"),{className:"_1biw",label:i._("Cancel"),onClick:function(){this.maybeLogExitCreation();this.$CopyrightAttributionDialog15()}.bind(this)}))};o.prototype.$CopyrightAttributionDialog15=function(){"use strict";this.setState({shown:false});this.props.onClose&&this.props.onClose(this.state.didSubmit)};o.prototype.maybeLogExitCreation=function(){"use strict";if(this.props.attributionID||this.state.didSubmit)return;c("PageContentTabLogger").log(c("PageContentTabLoggingEvents").ACTION_TAKEN_MAIN_VIEW,n.ATTRIBUTIONS,{action:c("VideoCopyrightMatchActionTypes").ATTRIBUTION_CREATION_CANCELLED})};o.prototype.render=function(){"use strict";var p=c("React").createElement("div",null,i._("Set up attributions to get credit for videos that contain your content. Once you assign an attribution to a reference file, a link to your video or Page will appear on every monitored video that includes your content.")),q=this.state.selectedType===c("MediaCopyrightAttributionType").VIDEO?c("React").createElement(c("Image.react"),{src:j("395928"),className:"_1bix"}):c("React").createElement(c("Image.react"),{src:j("395927"),className:"_1bix"}),r=!this.props.attributionID?i._("Create Attribution"):i._("Edit Attribution"),s=this.props.attributionID?c("React").createElement("div",{className:"_1bj1"},c("React").createElement("div",{className:"__88"},i._("Status")),c("React").createElement(c("SUIToggle.react"),{className:"__88",onClick:this.onChangeStatus,value:this.state.isEnabled,theme:c("SUIAnalyticsGriffinTheme")})):null,t=this.state.selectedType===c("MediaCopyrightAttributionType").VIDEO?c("React").createElement(c("FormRowTextInput.react"),{label:i._("Link Title"),tooltip:i._("The link title will be displayed in the attribution. It will link to your video post or Page."),placeholder:this.state.linkTitlePlaceholder||i._("Enter a link title..."),onChange:this.$CopyrightAttributionDialog12,value:this.state.linkTitle}):null;return c("React").createElement(c("XUIDialog.react"),{width:806,height:538,shown:this.state.shown,onToggle:function(u){if(!u){this.maybeLogExitCreation();this.$CopyrightAttributionDialog15()}}.bind(this),titleID:"main panel"},c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement("span",null,r)),c("React").createElement(c("LeftRight.react"),{direction:"right",className:"_1biy"},c("React").createElement("div",{className:"_1biz"},p,s,c("React").createElement("div",{className:"_2qii"},i._("Select an attribution type")),c("React").createElement("div",{className:"_1bj1 _1bj2"},c("React").createElement(c("CopyrightAttributionTypeComponent.react"),{attribution_type:c("MediaCopyrightAttributionType").PAGE,isSelected:this.state.selectedType===c("MediaCopyrightAttributionType").PAGE,onSelectionChanged:this.$CopyrightAttributionDialog3}),c("React").createElement(c("CopyrightAttributionTypeComponent.react"),{attribution_type:c("MediaCopyrightAttributionType").VIDEO,isSelected:this.state.selectedType===c("MediaCopyrightAttributionType").VIDEO,onSelectionChanged:this.$CopyrightAttributionDialog3})),c("React").createElement(c("FormRowTextInput.react"),{errorMessage:this.$CopyrightAttributionDialog9(),label:i._("Attribution Name"),tooltip:i._("Only you will see this title. It is for you to organize your attributions."),placeholder:i._("Enter an attribution name..."),onChange:this.$CopyrightAttributionDialog11,value:this.state.attributionName}),c("React").createElement(c("FormRowTextInput.react"),{errorMessage:this.$CopyrightAttributionDialog10(),label:this.state.selectedType===c("MediaCopyrightAttributionType").PAGE?i._("Page URL"):i._("Video Post URL"),tooltip:i._("This URL is the video post or Page you choose for the destination of your attribution."),placeholder:i._("http:\/\/"),onChange:this.$CopyrightAttributionDialog13,value:this.state.attributionURL}),t),c("React").createElement("div",{className:"_1bj3"},c("React").createElement("div",{className:"_1bj4"},i._("How attributions will appear in News Feed:")),q,c("React").createElement(c("VideoCopyrightAttributionInfoIcon.react"),{className:"_1bis"}))),this.$CopyrightAttributionDialog14())};o.defaultProps={attributionName:"",attributionURL:"",attributionType:c("MediaCopyrightAttributionType").PAGE,isEnabled:true};f.exports=o}),null);
__d("VideoThumbnailView.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_2o4t"},c("React").createElement(c("Image.react"),{className:"_2o4u",src:this.props.thumbnailUrl}),c("React").createElement("div",null,c("React").createElement("div",{className:"_2o51"}),c("React").createElement("span",{className:"_2o52"},this.props.duration)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoLibrarySelectorChosenItemView.react",["cx","fbt","LeftRight.react","LineClamp.react","Link.react","React","VideoThumbnailView.react","VideoUtils","XUICloseButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_4gvq"},c("React").createElement(c("LeftRight.react"),{width:342,height:64,direction:"left"},c("React").createElement("div",{className:"_wqj"},c("React").createElement(c("VideoThumbnailView.react"),{thumbnailUrl:this.props.thumbnailUrl,duration:c("VideoUtils").formatTime(this.props.durationInSeconds)})),c("React").createElement("div",{className:"_wqk"},c("React").createElement("div",{className:"_2wdn"},c("React").createElement(c("LineClamp.react"),{lines:1},this.props.title?c("React").createElement("div",null,c("React").createElement("b",null,this.props.title)," ",this.props.description):this.props.description),c("React").createElement(c("Link.react"),{onClick:this.props.onDeselect},i._("Change Video"))),c("React").createElement("div",{className:"_4gvw"},c("React").createElement(c("XUICloseButton.react"),{size:"medium",onClick:this.props.onDeselect})))))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoLibrarySelectorRowView.react",["ix","cx","fbt","Image.react","LeftRight.react","LineClamp.react","React","VideoThumbnailView.react","VideoUtils","asset","formatDate"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={isHovering:false},this.$VideoLibrarySelectorRowView1=function(s){if(this.props.isSelected){s.preventDefault();return}this.props.onSelected({id:this.props.videoId,title:this.props.title,picture:this.props.thumbnailUrl,created_time:this.props.creationTime,length:this.props.durationInSeconds,description:this.props.description})}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("LeftRight.react"),{width:342,height:64,direction:"left",onMouseEnter:function(){return this.setState({isHovering:true})}.bind(this),onMouseLeave:function(){return this.setState({isHovering:false})}.bind(this),onMouseDown:this.$VideoLibrarySelectorRowView1},c("React").createElement("div",{className:"_wqj"},c("React").createElement(c("VideoThumbnailView.react"),{thumbnailUrl:this.props.thumbnailUrl,duration:c("VideoUtils").formatTime(this.props.durationInSeconds)})),c("React").createElement("div",{className:"_wqk"},c("React").createElement("div",{className:"_2wdn"},c("React").createElement(c("LineClamp.react"),{lines:1},this.props.title?c("React").createElement("div",null,c("React").createElement("b",null,this.props.title)," ",this.props.description):this.props.description),c("React").createElement("div",{className:"_wql"},j._("Posted {time_stamp}",[j._param("time_stamp",c("formatDate")(new Date(this.props.creationTime),"M j, Y"))]))),c("React").createElement("div",{className:"_pmq"},this.props.isSelected?c("React").createElement(c("Image.react"),{src:h("479974")}):this.state.isHovering?c("React").createElement(c("Image.react"),{src:h("479981")}):null)))};f.exports=m}),null);
__d("VideoLibrarySelector.react",["cx","fbt","FBLoadShimmer.react","GraphAPI","ImageBlock.react","LoadingIndicator.react","React","SUIAtlasTheme","SUISearchInput.react","VideoCopyrightUtils","VideoGraphFields","VideoLibrarySelectorChosenItemView.react","VideoLibrarySelectorRowView.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=[c("VideoGraphFields").ID,c("VideoGraphFields").TITLE,c("VideoGraphFields").PICTURE,c("VideoGraphFields").LENGTH,c("VideoGraphFields").CREATED_TIME,c("VideoGraphFields").DESCRIPTION];j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={videos:[],query:"",isLoadingSearchResult:false,selectedVideo:null,showSearchResult:false},this.$VideoLibrarySelector2=function(s){this.setState({query:s});if(!s.length){this.setState({videos:[]});return}c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",this.props.pageID).edge("indexed_videos").get({access_token:this.props.accessToken,fields:l,filtering:[{field:"summary",operator:"CONTAIN",value:s}],sort:["created_time_descending"],include_optimistic_videos:true,include_unlisted_videos:true}).done(function(t){this.setState({videos:t.data,isLoadingSearchResult:false})}.bind(this));this.setState({isLoadingSearchResult:true})}.bind(this),o}m.prototype.$VideoLibrarySelector3=function(){var n=this.props.selectedVideoID;if(n!=null)c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("video",n).get({access_token:this.props.accessToken,fields:l}).done(function(o){if(!this.$VideoLibrarySelector1)return;this.setState({selectedVideo:o})}.bind(this))};m.prototype.UNSAFE_componentWillMount=function(){this.$VideoLibrarySelector1=true;this.$VideoLibrarySelector3()};m.prototype.componentWillUnmount=function(){this.$VideoLibrarySelector1=false};m.prototype.render=function(){__p&&__p();if(!this.state.showSearchResult)if(this.state.selectedVideo!=null)return c("React").createElement(c("VideoLibrarySelectorChosenItemView.react"),{videoId:this.state.selectedVideo.id,thumbnailUrl:this.state.selectedVideo.picture,durationInSeconds:this.state.selectedVideo.length,creationTime:this.state.selectedVideo.created_time,title:this.state.selectedVideo.title,description:this.state.selectedVideo.description,onDeselect:function(){this.setState({showSearchResult:true})}.bind(this)});else if(this.props.selectedVideoID!=null)return c("React").createElement(c("LoadingIndicator.react"),{size:"small",color:"white"});return c("React").createElement("div",null,c("React").createElement(c("SUISearchInput.react"),{placeholder:i._("Search for a video"),theme:c("SUIAtlasTheme"),onChange:this.$VideoLibrarySelector2,value:this.state.query,width:342,height:64}),c("React").createElement("div",{className:"_2dgp"},this.state.isLoadingSearchResult?c("React").createElement(c("ImageBlock.react"),{className:"_2dgq"},c("React").createElement(c("FBLoadShimmer.react"),{height:40,width:60}),c("React").createElement("div",null,c("React").createElement(c("FBLoadShimmer.react"),{className:"_3-94",height:17,width:140}),c("React").createElement(c("FBLoadShimmer.react"),{className:"_3-94",height:17,width:140}))):c("React").createElement("ul",null,this.state.videos.map(function(n){return c("React").createElement("li",{key:n.id},c("React").createElement(c("VideoLibrarySelectorRowView.react"),{thumbnailUrl:n.picture,durationInSeconds:n.length,creationTime:n.created_time,title:n.title,description:n.description,isSelected:this.state.selectedVideo!=null&&n.id===this.state.selectedVideo.id,onSelected:function(o){this.setState({selectedVideo:o,showSearchResult:false});this.props.onSelectionChanged&&this.props.onSelectionChanged(o.id,o.title?o.title:o.description)}.bind(this),videoId:n.id}))}.bind(this)))))};f.exports=m}),null);
__d("CopyrightAttributionDestinationSection.react",["ix","cx","fbt","AdsPageDropdownSelector.react","GraphAPI","Image.react","LoadingIndicator.react","MediaCopyrightAttributionType","React","Tooltip.react","VideoCopyrightUtils","VideoLibrarySelector.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={pages:{},isLoadingPages:true},this.$CopyrightAttributionDestinationSection3=function(s){this.props.onSelectionChanged(s,this.state.pages[s].name)}.bind(this),o}m.prototype.UNSAFE_componentWillMount=function(){this.$CopyrightAttributionDestinationSection1=true;this.$CopyrightAttributionDestinationSection2()};m.prototype.componentWillUnmount=function(){this.$CopyrightAttributionDestinationSection1=false};m.prototype.$CopyrightAttributionDestinationSection2=function(){c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).me().edge("accounts").get({access_token:this.props.userAccessToken,is_promotable:true,fields:["name"]}).done(function(n){if(!this.$CopyrightAttributionDestinationSection1)return;var o=n.data.reduce(function(p,q){p[q.id]={name:q.name,id:q.id};return p},{});this.setState({pages:o,isLoadingPages:false})}.bind(this))};m.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",null,c("React").createElement("div",{className:"_3pgh"},j._("Choose a Destination")),c("React").createElement("div",{className:"_3pgj"},c("React").createElement(c("Tooltip.react"),{alignH:"center",tooltip:this.props.selectedAttributionType===c("MediaCopyrightAttributionType").PAGE?j._("Choose any of your Pages"):j._("Choose any video from your video library")},c("React").createElement(c("Image.react"),{src:h("480043")})))),this.props.selectedAttributionType===c("MediaCopyrightAttributionType").PAGE?this.state.isLoadingPages?c("React").createElement(c("LoadingIndicator.react"),{size:"small",color:"white"}):c("React").createElement(c("AdsPageDropdownSelector.react"),{alignment:"left",defaultLabel:j._("Select Page"),maxwidth:300,onChange:this.$CopyrightAttributionDestinationSection3,pages:this.state.pages,selectedActorID:this.props.selectedTargetType===c("MediaCopyrightAttributionType").PAGE?this.props.selectedTargetId:null,showPageName:true,size:"large",suppressed:false}):c("React").createElement(c("VideoLibrarySelector.react"),{accessToken:this.props.pageAccessToken,pageID:this.props.pageID,onSelectionChanged:this.props.onSelectionChanged,selectedVideoID:this.props.selectedTargetType===c("MediaCopyrightAttributionType").VIDEO?this.props.selectedTargetId:null}))};f.exports=m}),null);
__d("CopyrightAttributionDialogFooter.react",["cx","fbt","React","XUIButton.react","XUICardSection.react","XUIDialogCancelButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement(c("XUICardSection.react"),{background:"light-wash",className:"_1wup"},c("React").createElement(c("XUIButton.react"),{className:"_1wuq",label:this.props.isEditMode?i._("Save"):i._("Create Ownership Link"),use:"confirm",onClick:this.props.onSubmit,disabled:!this.props.canSubmit}),c("React").createElement(c("XUIDialogCancelButton.react"),{className:"_1wuq"}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("CopyrightAttributionTypeComponentV2.react",["ix","cx","fbt","FlexLayout.react","Image.react","MediaCopyrightAttributionType","React","XUICardSection.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$CopyrightAttributionTypeComponentV21=function(){this.props.onSelectionChanged(this.props.attributionType)}.bind(this),o}m.prototype.render=function(){var n=null;if(this.props.attributionType===c("MediaCopyrightAttributionType").PAGE)n=this.props.isSelected?c("React").createElement(c("Image.react"),{src:h("480018")}):c("React").createElement(c("Image.react"),{src:h("480019")});else n=this.props.isSelected?c("React").createElement(c("Image.react"),{src:h("480006")}):c("React").createElement(c("Image.react"),{src:h("480007")});var o=this.props.attributionType===c("MediaCopyrightAttributionType").PAGE?j._("Get more people to visit your Page"):j._("Get more people to watch one of your videos");return c("React").createElement(c("XUICardSection.react"),{className:"_3m0t _66lm"+(this.props.isSelected?" _3m0u":""),onClick:this.$CopyrightAttributionTypeComponentV21},c("React").createElement(c("FlexLayout.react"),null,c("React").createElement("div",{className:"_3m0v"},n),c("React").createElement("div",{className:"_3m24"},o)))};f.exports=m}),null);
__d("CopyrightAttributionGoalSection.react",["ix","cx","fbt","CopyrightAttributionTypeComponentV2.react","Image.react","MediaCopyrightAttributionType","React","Tooltip.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",null,c("React").createElement("div",{className:"_3pgh"},j._("Choose a Goal")),c("React").createElement("div",{className:"_3pgj"},c("React").createElement(c("Tooltip.react"),{alignH:"center",tooltip:j._("Choose whether you want your ownership link to direct viewers to one of your Pages or one of your videos")},c("React").createElement(c("Image.react"),{src:h("480043")})))),c("React").createElement("div",{className:"_1e0p"},c("React").createElement(c("CopyrightAttributionTypeComponentV2.react"),{attributionType:c("MediaCopyrightAttributionType").PAGE,isSelected:this.props.selectedAttributionType===c("MediaCopyrightAttributionType").PAGE,onSelectionChanged:this.props.onSelectionChanged}),c("React").createElement(c("CopyrightAttributionTypeComponentV2.react"),{attributionType:c("MediaCopyrightAttributionType").VIDEO,isSelected:this.props.selectedAttributionType===c("MediaCopyrightAttributionType").VIDEO,onSelectionChanged:this.props.onSelectionChanged})))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("AttributionPreviewComponent.react",["cx","fbt","ix","Image.react","LineClamp.react","MediaCopyrightAttributionType","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_33h0",src:j("479990")}),c("React").createElement(c("Image.react"),{className:"_33h0",src:j("479989")}),c("React").createElement("div",{className:"_33h1"},c("React").createElement("div",{className:"_33h3"},c("React").createElement(c("LineClamp.react"),{lines:1},this.props.attributionType===c("MediaCopyrightAttributionType").PAGE?i._("Watch more original videos by:"):i._("Watch the related video:"))),this.props.linkTitle?c("React").createElement("div",{className:"_33h4"},c("React").createElement(c("LineClamp.react"),{lines:1},this.props.linkTitle)):null),c("React").createElement(c("Image.react"),{className:"_33h0",src:j("479988")}))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("CopyrightAttributionPreviewSection.react",["cx","fbt","AttributionPreviewComponent.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_2g1l"},c("React").createElement("div",{className:"_2g1m"},i._("Example of ownership link in News Feed")),c("React").createElement(c("AttributionPreviewComponent.react"),{attributionType:this.props.selectedAttributionType,linkTitle:this.props.linkTitle}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("CopyrightAttributionDialogV2.react",["cx","fbt","CopyrightAttributionDestinationSection.react","CopyrightAttributionDialogFooter.react","CopyrightAttributionGoalSection.react","CopyrightAttributionPreviewSection.react","FbtResultBase","FlexLayout.react","GraphAPI","LayerFadeOnHide","LayerFadeOnShow","MediaCopyrightAttributionGraphFields","MediaCopyrightAttributionType","PageContentTabConstants","PageContentTabDispatcher","PageContentTabLoadingDialog","React","SUIAnalyticsGriffinTheme","SUIBusinessTheme","SUIPopover.react","SUITextInput.react","SUIToggle.react","VideoCopyrightUtils","XUIDialog.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={isEnabled:this.props.isEnabled,selectedAttributionType:this.props.attributionType,selectedTargetId:this.props.attributionTargetID,userInputAttributionName:this.props.attributionName,selectedTargetName:this.props.attributionTargetName,selectedTargetType:this.props.attributionType,generatedAttributionName:null,isShown:true},this.$CopyrightAttributionDialogV22=function(r){this.setState({selectedAttributionType:r})}.bind(this),this.$CopyrightAttributionDialogV23=function(r,s){this.setState(function(t,u){return{selectedTargetId:r,selectedTargetName:s,generatedAttributionName:s,selectedTargetType:t.selectedAttributionType}})}.bind(this),this.$CopyrightAttributionDialogV24=function(){__p&&__p();c("PageContentTabLoadingDialog").show();var r={};r[c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_TYPE]=this.state.selectedAttributionType;r[c("MediaCopyrightAttributionGraphFields").TITLE]=this.state.userInputAttributionName?this.state.userInputAttributionName:this.state.generatedAttributionName?this.state.generatedAttributionName.toString():null;r[c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_TARGET_ID]=this.state.selectedTargetId;r[c("MediaCopyrightAttributionGraphFields").IS_ENABLED]=this.state.isEnabled!=null?this.state.isEnabled:true;r[c("MediaCopyrightAttributionGraphFields").LINK_TITLE]="";var s=void 0,t=this.props.attributionID;if(!t)s=c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",this.props.pageID).edge("media_copyright_attributions");else s=c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("media_copyright_attribution",t);s.post(babelHelpers["extends"]({},r,{access_token:this.props.pageAccessToken})).done(function(u){c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("media_copyright_attribution",t||u.id).get({fields:c("VideoCopyrightUtils").getCopyrightAttributionGraphAPIFields(),access_token:this.props.pageAccessToken}).done(function(v){if(t)c("PageContentTabDispatcher").handlePostChanged(v,c("PageContentTabConstants").TABS.ATTRIBUTIONS,this.props.pageID);else c("PageContentTabDispatcher").handlePostCreated(c("PageContentTabConstants").TABS.ATTRIBUTIONS,v,this.props.pageID);c("PageContentTabLoadingDialog").hide();this.$CopyrightAttributionDialogV25(true)}.bind(this))}.bind(this))}.bind(this),this.$CopyrightAttributionDialogV26=function(r){this.setState(function(s,t){return{userInputAttributionName:r,generatedAttributionName:r.length>0?null:s.selectedTargetName}})}.bind(this),this.$CopyrightAttributionDialogV27=function(){this.setState(function(r,s){return{isEnabled:!r.isEnabled}})}.bind(this),n}l.prototype.$CopyrightAttributionDialogV25=function(m){"use strict";this.setState({isShown:false});this.props.onClose&&this.props.onClose(m)};l.prototype.render=function(){"use strict";var m=c("React").createElement("div",{className:"_13br"},i._("Direct viewers back to your Pages or videos when people use your content. {link}",[i._param("link",c("React").createElement("div",{className:"_2yg3",ref:function(n){return this.$CopyrightAttributionDialogV21=n}.bind(this)},i._("Learn how it works")))]));return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide"),LayerFadeOnShow:c("LayerFadeOnShow")},width:806,height:546,shown:this.state.isShown,isStrictlyControlled:true,onHide:function(){return this.$CopyrightAttributionDialogV25(false)}.bind(this)},c("React").createElement(c("XUIDialogTitle.react"),null,this.props.attributionID?i._("Edit Ownership Link"):i._("Create Ownership Link")),c("React").createElement(c("FlexLayout.react"),null,c("React").createElement("div",{className:"_2yg4"},m,c("React").createElement(c("SUIPopover.react"),{alignment:"center",content:c("React").createElement("div",null,c("React").createElement("div",{className:"_qzh"},"How do ownership links work"),"When people use your content, ownership links will appear on their videos.",c("React").createElement("p",null,"Choose any of your Pages or videos for the destination of your ownership link. The link will appear on monitored videos that match the reference files you choose.")),contentWidthUseSparingly:320,hoverContextRef:function(){return this.$CopyrightAttributionDialogV21}.bind(this),position:"right",theme:c("SUIBusinessTheme")}),this.props.attributionID?c("React").createElement("div",{className:"_13bs"},c("React").createElement("div",{className:"_13bt"},c("React").createElement(c("SUIToggle.react"),{onClick:this.$CopyrightAttributionDialogV27,theme:c("SUIAnalyticsGriffinTheme"),value:!!this.state.isEnabled})),c("React").createElement("div",{className:"_13bu"},this.state.isEnabled?i._("ENABLED"):i._("DISABLED"))):null,c("React").createElement("div",{className:"_2yg5"},c("React").createElement(c("SUITextInput.react"),{theme:c("SUIBusinessTheme"),placeholder:this.state.generatedAttributionName||i._("Name this ownership link"),value:this.state.userInputAttributionName,onChange:this.$CopyrightAttributionDialogV26})),c("React").createElement(c("CopyrightAttributionGoalSection.react"),{selectedAttributionType:this.state.selectedAttributionType,onSelectionChanged:this.$CopyrightAttributionDialogV22}),c("React").createElement(c("CopyrightAttributionDestinationSection.react"),{userAccessToken:this.props.userAccessToken,pageAccessToken:this.props.pageAccessToken,pageID:this.props.pageID,onSelectionChanged:this.$CopyrightAttributionDialogV23,selectedAttributionType:this.state.selectedAttributionType,selectedTargetId:this.state.selectedTargetId,selectedTargetType:this.state.selectedTargetType})),c("React").createElement(c("CopyrightAttributionPreviewSection.react"),{selectedAttributionType:this.state.selectedAttributionType,linkTitle:this.state.selectedTargetType===this.state.selectedAttributionType?this.state.selectedTargetName:null})),c("React").createElement(c("CopyrightAttributionDialogFooter.react"),{canSubmit:this.state.selectedTargetId!=null&&this.state.selectedTargetType===this.state.selectedAttributionType&&(this.state.generatedAttributionName!=null||this.state.userInputAttributionName!=null&&this.state.userInputAttributionName.trim().length>0),isEditMode:!!this.props.attributionID,onSubmit:this.$CopyrightAttributionDialogV24}))};l.defaultProps={attributionName:"",attributionTargetName:"",attributionType:c("MediaCopyrightAttributionType").PAGE,isEnabled:true};f.exports=l}),null);
__d("VideoCopyrightAttributionSelector.react",["cx","fbt","AdsSelectorWithTooltips.react","CopyrightAttributionDialog.react","CopyrightAttributionDialogV2.react","GraphAPI","Link.react","LoadingIndicator.react","MediaCopyrightAttributionGraphFields","MediaCopyrightAttributionType","PageContentTabAccessToken","PageContentTabRightsManagerStore","React","VideoCopyrightUtils","XUIText.react","formatDate","gkx","keyMirror","parseISODate"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("keyMirror")({CREATE:null,DEFAULT:null}),m={id:l.CREATE,title:i._("Create new Attribution..."),is_enabled:true},n=30,o=100;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){__p&&__p();var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={attributions:[],isLoading:true,isAttributionDialogShown:false},this.$VideoCopyrightAttributionSelector9=function(v){if(v){this.setState({isLoading:true,isAttributionDialogShown:false},function(){return this.$VideoCopyrightAttributionSelector3(true)}.bind(this));return}this.setState({isAttributionDialogShown:false})}.bind(this),r}p.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$VideoCopyrightAttributionSelector1=true;if(c("PageContentTabRightsManagerStore").getIsRMLite())this.$VideoCopyrightAttributionSelector2();else this.$VideoCopyrightAttributionSelector3()};p.prototype.componentWillUnmount=function(){"use strict";this.$VideoCopyrightAttributionSelector1=false};p.prototype.$VideoCopyrightAttributionSelector4=function(){"use strict";var q=this.props.selectedAttribution;return this.state.attributions.some(function(r){return q==r.id})?q:null};p.prototype.$VideoCopyrightAttributionSelector3=function(q){"use strict";__p&&__p();var r=this.props.accessToken||c("PageContentTabAccessToken").getAccessToken(),s=[c("MediaCopyrightAttributionGraphFields").TITLE,c("MediaCopyrightAttributionGraphFields").IS_ENABLED,c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_TYPE,c("MediaCopyrightAttributionGraphFields").CREATION_TIME,c("MediaCopyrightAttributionGraphFields").COPYRIGHT_COUNT];c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",this.props.pageID).edge("media_copyright_attributions").get({access_token:r,fields:s,limit:o}).done(function(t){__p&&__p();if(!this.$VideoCopyrightAttributionSelector1)return;var u=t.data,v=!Array.isArray(u)||!u.length?[]:u,w=this.props.selectedAttribution;if(w!=null&&this.$VideoCopyrightAttributionSelector4()===null)c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("media_copyright_attribution",w).get({access_token:r,fields:s}).done(function(t){if(t)v.push(t)});this.setState({isLoading:false,attributions:v},function(){if(q&&v.length>1)this.$VideoCopyrightAttributionSelector5(v[0].id);else if(this.props.selectedAttribution)this.$VideoCopyrightAttributionSelector5(this.props.selectedAttribution)}.bind(this));this.props.onAttributionLoaded&&this.props.onAttributionLoaded()}.bind(this))};p.prototype.$VideoCopyrightAttributionSelector2=function(){"use strict";__p&&__p();c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).me().edge("accounts").get({access_token:c("PageContentTabRightsManagerStore").getUserAccessToken(),is_promotable:true,fields:["name"]}).done(function(q){__p&&__p();if(!this.$VideoCopyrightAttributionSelector1)return;var r=q.data.map(function(u){return{id:u.id,title:u.name,is_enabled:true}}),s=this.props.selectedAttribution,t=r.some(function(u){return u.id===s});if(s&&!t)c("GraphAPI")(c("VideoCopyrightUtils").GRAPH_API_VERSION).object("page",s).get({is_promotable:true,fields:["name"]}).done(function(q){r.push({id:q.id,title:q.name,is_enabled:true});this.setState({attributions:r,isLoading:false})}.bind(this));else this.setState({attributions:r,isLoading:false})}.bind(this))};p.prototype.$VideoCopyrightAttributionSelector5=function(q){"use strict";__p&&__p();var r=void 0,s=void 0;if(q===l.CREATE){this.$VideoCopyrightAttributionSelector6();return}else if(q===l.DEFAULT)r=null;else{r=q;s=this.state.attributions.find(function(s){return s.id===q})}var t=this.$VideoCopyrightAttributionSelector4();if(r!==t)this.props.onChange(r,s)};p.prototype.$VideoCopyrightAttributionSelector7=function(event){"use strict";this.$VideoCopyrightAttributionSelector5(event.value)};p.prototype.$VideoCopyrightAttributionSelector8=function(q){"use strict";if(q&&q[c("MediaCopyrightAttributionGraphFields").CREATION_TIME]&&q[c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_TYPE]){var r=q[c("MediaCopyrightAttributionGraphFields").CREATION_TIME],s=r?c("formatDate")(c("parseISODate")(r),"M j, Y"):"-",t=q[c("MediaCopyrightAttributionGraphFields").ATTRIBUTION_TYPE]===c("MediaCopyrightAttributionType").PAGE?i._("Follow"):i._("Link");return c("React").createElement("div",{className:"_2pi8 _2pic _2pin"},c("React").createElement("div",null,i._("{=Type}: {attribution type}",[i._param("=Type",c("React").createElement("b",null,i._("Type"))),i._param("attribution type",t)])),c("React").createElement("div",null,i._("{=Created}: {creation date}",[i._param("=Created",c("React").createElement("b",null,i._("Created"))),i._param("creation date",s)])),c("React").createElement("div",{className:"_3-8-"},c("React").createElement("li",null,i._({"*":"{number} connected reference files","_1":"1 connected reference file"},[i._plural(q[c("MediaCopyrightAttributionGraphFields").COPYRIGHT_COUNT]||0,"number")]))))}return null};p.prototype.$VideoCopyrightAttributionSelector6=function(){"use strict";this.setState({isAttributionDialogShown:true})};p.prototype.render=function(){"use strict";__p&&__p();if(this.state.isLoading)return c("React").createElement(c("LoadingIndicator.react"),{size:"small",color:"white"});var q=void 0;if(this.props.customDefaultLabel)q=this.props.customDefaultLabel;else if(c("PageContentTabRightsManagerStore").getIsRMLite())q=i._("Choose Page");else q=i._("Select Attribution");var r={id:l.DEFAULT,title:q,is_enabled:true},s=[r].concat(this.state.attributions),t=void 0;if(!c("PageContentTabRightsManagerStore").getIsRMLite())if(this.props.showCreateNewLink)t=c("React").createElement(c("Link.react"),{onClick:function(){return this.$VideoCopyrightAttributionSelector5(l.CREATE)}.bind(this)},c("React").createElement(c("XUIText.react"),{className:"_2pis",size:"meta1",weight:"bold"},i._("Create New")));else s.push(m);var u=this.$VideoCopyrightAttributionSelector4()||l.DEFAULT,v=s.map(function(w){var x=w[c("MediaCopyrightAttributionGraphFields").TITLE];if(x.toString().length>n)x=x.toString().substring(0,n)+"...";return c("React").createElement(c("AdsSelectorWithTooltips.react").Option,{key:w[c("MediaCopyrightAttributionGraphFields").ID],value:w[c("MediaCopyrightAttributionGraphFields").ID],tooltip:c("PageContentTabRightsManagerStore").getIsRMLite()?null:this.$VideoCopyrightAttributionSelector8(w),disabled:!w[c("MediaCopyrightAttributionGraphFields").IS_ENABLED]},x)}.bind(this));return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("AdsSelectorWithTooltips.react"),{disabled:this.props.disabled,onChange:this.$VideoCopyrightAttributionSelector7.bind(this),value:u,defaultValue:l.DEFAULT,maxheight:400,xuiError:this.props.hasError?i._("Your reference file must have a title in order to apply an attribution."):null},v),t,this.state.isAttributionDialogShown&&(c("gkx")("AT6NSRy599xwjYpmR4TqXpVJlv1GHAqbbuJ99L-T-Syyqt1BoAlc-r__zbm8-q3uUBWGbkG6IQ2ffLY8I6B35gZ2")?c("React").createElement(c("CopyrightAttributionDialogV2.react"),{onClose:this.$VideoCopyrightAttributionSelector9,pageID:this.props.pageID,pageAccessToken:this.props.accessToken||c("PageContentTabAccessToken").getAccessToken(),userAccessToken:c("PageContentTabRightsManagerStore").getUserAccessToken()}):c("React").createElement(c("CopyrightAttributionDialog.react"),{onClose:this.$VideoCopyrightAttributionSelector9,pageID:this.props.pageID,accessToken:this.props.accessToken,shown:this.state.isAttributionDialogShown})))};f.exports=p}),null);
__d("VideoCopyrightMonitoringSelector.react",["fbt","PageContentTabRightsManagerStore","React","Tooltip.react","VideoCopyrightMonitoringType","VideoCopyrightUtils","XUISelector.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("XUISelector.react").Option,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){"use strict";var n=this.props.validMonitoringTypes||Object.keys(c("VideoCopyrightMonitoringType")),o=n.map(function(p){var q=c("VideoCopyrightMonitoringType")[p];return c("React").createElement(k,{key:q.value,value:q.value},q.label)});return c("React").createElement(c("Tooltip.react"),{tooltip:c("PageContentTabRightsManagerStore").getIsRMLite()?h._("Only video content can be monitored"):""},c("React").createElement(c("XUISelector.react"),{className:this.props.className,disabled:this.props.disabled||c("PageContentTabRightsManagerStore").getIsRMLite(),onChange:this.props.onChange,value:this.props.value,defaultValue:c("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE},o))};function m(){"use strict";i.apply(this,arguments)}m.propTypes={className:l.string,disabled:l.bool,onChange:l.func,value:l.string,validMonitoringTypes:l.array};f.exports=m}),null);
__d("VideoCopyrightWhitelistSelector.react",["fbt","CurrentUser","React","SearchableEntry","WebAsyncSearchSource","XUITokenizer.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){"use strict";__p&&__p();j.constructor.call(this,l);this.$VideoCopyrightWhitelistSelector2=function(m){var n=this.props.entries;n.push({id:m.getUniqueID().toString(),name:m.getTitle()});this.props.onEntriesUpdated(n)}.bind(this);this.$VideoCopyrightWhitelistSelector3=function(m){var n=this.props.entries;n=n.filter(function(o){return o.id!=m.getUniqueID().toString()});this.props.onEntriesUpdated(n)}.bind(this);this.state={entries:[],searchSource:new(c("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:{filter:["user","page"],viewer:c("CurrentUser").getID()}}]})}}k.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$VideoCopyrightWhitelistSelector1(this.props.entries||[])};k.prototype.UNSAFE_componentWillReceiveProps=function(l){"use strict";this.$VideoCopyrightWhitelistSelector1(l.entries||[])};k.prototype.$VideoCopyrightWhitelistSelector1=function(l){"use strict";var m=l.map(function(n,o){return new(c("SearchableEntry"))({order:o,title:n.name,uniqueID:n.id})});this.setState({entries:m})};k.prototype.render=function(){"use strict";return c("React").createElement(c("XUITokenizer.react"),{className:this.props.className,entries:this.state.entries,onAddEntryAttempt:this.$VideoCopyrightWhitelistSelector2,onRemoveEntryAttempt:this.$VideoCopyrightWhitelistSelector3,placeholder:this.props.disabled?null:h._("Add Page or Person"),searchSource:this.state.searchSource,xuiError:this.props.error,disabled:this.props.disabled})};f.exports=k}),null);
__d("XRightsManagerInstagramUserSearchAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/copyright/instagram/typeahead/user/",{page_id:{type:"FBID",required:true},value:{type:"String",defaultValue:""}})}),null);
__d("VideoCopyrightWhitelistedIGUserList.react",["fbt","CurrentPage","React","SearchableEntry","WebAsyncSearchSource","XRightsManagerInstagramUserSearchAsyncController","XUITokenizer.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){"use strict";__p&&__p();j.constructor.call(this,l);this.state={entries:[]};this.$VideoCopyrightWhitelistedIGUserList3=function(n){var o=this.props.whitelistedIGUserNames.slice(0);o.push(n.getUniqueID().toString());this.props.onIGWhitelistUpdated(o)}.bind(this);this.$VideoCopyrightWhitelistedIGUserList4=function(n){var o=this.props.whitelistedIGUserNames.slice(0);o=o.filter(function(p){return p!=n.getUniqueID().toString()});this.props.onIGWhitelistUpdated(o)}.bind(this);var m=c("XRightsManagerInstagramUserSearchAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID||c("CurrentPage").getID()).getURI();this.$VideoCopyrightWhitelistedIGUserList1=new(c("WebAsyncSearchSource"))({queryRequests:[{uri:m}]})}k.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$VideoCopyrightWhitelistedIGUserList2(this.props.whitelistedIGUserNames)};k.prototype.UNSAFE_componentWillReceiveProps=function(l){"use strict";this.$VideoCopyrightWhitelistedIGUserList2(l.whitelistedIGUserNames)};k.prototype.$VideoCopyrightWhitelistedIGUserList2=function(l){"use strict";this.setState({entries:l.map(function(m){return new(c("SearchableEntry"))({uniqueID:m,title:m})})})};k.prototype.render=function(){"use strict";return c("React").createElement(c("XUITokenizer.react"),{className:this.props.className,entries:this.state.entries,onAddEntryAttempt:this.$VideoCopyrightWhitelistedIGUserList3,onRemoveEntryAttempt:this.$VideoCopyrightWhitelistedIGUserList4,placeholder:this.state.entries.length!==0?null:h._("Add Profile"),searchSource:this.$VideoCopyrightWhitelistedIGUserList1,disabled:this.props.disabled})};f.exports=k}),null);
__d("VideoCopyrightWhitelistSection.react",["cx","fbt","React","VideoCopyrightWhitelistedIGUserList.react","VideoCopyrightWhitelistSelector.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_kmg"},i._("Facebook")),c("React").createElement(c("VideoCopyrightWhitelistSelector.react"),{className:"_64ut",onEntriesUpdated:this.props.onFBWhitelistUpdated,placeholder:i._("Add Page or Person"),entries:this.props.whitelistedFBUsers,disabled:this.props.disabled}),c("React").createElement("div",{className:"_kmg"},i._("Instagram")),c("React").createElement(c("VideoCopyrightWhitelistedIGUserList.react"),{pageID:this.props.pageID,disabled:this.props.disabled,whitelistedIGUserNames:this.props.whitelistedIGUserNames||[],onIGWhitelistUpdated:this.props.onIGWhitelistUpdated}))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogRightsSection.react",["cx","fbt","CopyrightCountrySelector.react","CopyrightReferenceCategorySelector.react","PageContentTabRightsManagerStore","React","VideoComposerDialogField.react","VideoComposerDialogRadioButton.react","VideoComposerDialogRightsActions","VideoCopyrightAttributionSelector.react","VideoCopyrightMatchRuleSelector.react","VideoCopyrightMonitoringSelector.react","VideoCopyrightRuleTemplateBlankSelectDialog","VideoCopyrightWhitelistSection.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogRightsSection9=function(){c("VideoCopyrightRuleTemplateBlankSelectDialog").show(this.props.targetID,this.props.accessToken)}.bind(this),n}l.prototype.$VideoComposerDialogRightsSection1=function(m){c("VideoComposerDialogRightsActions").updateShouldDetectMatches(m)};l.prototype.$VideoComposerDialogRightsSection2=function(m){c("VideoComposerDialogRightsActions").updateMatchRule(m)};l.prototype.$VideoComposerDialogRightsSection3=function(m){c("VideoComposerDialogRightsActions").updateCategory(m)};l.prototype.$VideoComposerDialogRightsSection4=function(event){c("VideoComposerDialogRightsActions").updateMonitoringType(event.value)};l.prototype.$VideoComposerDialogRightsSection5=function(m,n){c("VideoComposerDialogRightsActions").updateOwnershipCountries(m.slice(),n)};l.prototype.$VideoComposerDialogRightsSection6=function(m){c("VideoComposerDialogRightsActions").updateAttribution(m)};l.prototype.$VideoComposerDialogRightsSection7=function(m){c("VideoComposerDialogRightsActions").updateFBWhitelistedUsers(m.slice())};l.prototype.$VideoComposerDialogRightsSection8=function(m){c("VideoComposerDialogRightsActions").updateIGWhitelistedUsers(m.slice())};l.prototype.render=function(){var m=void 0;if(this.props.showAttributionSelector)m=c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:c("PageContentTabRightsManagerStore").getIsRMLite()?i._("Use Attribution Links"):i._("Apply Attribution"),subtitle:c("PageContentTabRightsManagerStore").getIsRMLite()?i._("Once you enable attribution links, a link to the Page you choose will appear on every matching video."):null,tooltip:c("PageContentTabRightsManagerStore").getIsRMLite()?null:i._("Attribution is for matching videos connected to your Monitor match rules. Attribution is added to matching content on Facebook. Reference files can only be connected to one Attribution."),input:c("React").createElement(c("VideoCopyrightAttributionSelector.react"),{accessToken:this.props.accessToken,disabled:!this.props.shouldDetectMatches,onChange:this.$VideoComposerDialogRightsSection6,pageID:this.props.targetID,selectedAttribution:this.props.attributionID})});return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogField.react"),{showTopBorder:false,title:i._("Detect Matching Videos"),subtitle:i._("Add this video to your reference library to get notified when a matching video is uploaded."),input:c("React").createElement("div",{className:"_2j6t"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.shouldDetectMatches,label:i._("Yes"),onSelect:function(){return this.$VideoComposerDialogRightsSection1(true)}.bind(this)}),c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:!this.props.shouldDetectMatches,label:i._("No"),onSelect:function(){return this.$VideoComposerDialogRightsSection1(false)}.bind(this)}))}),c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Specify Ownership"),subtitle:i._("Define what type of content to monitor and where you own it."),tooltip:i._("Ownership establishes what element of the content belong to you in what parts of the world"),input:c("React").createElement("div",null,c("React").createElement("div",{className:"_1z3m"},i._("Monitored Content")),c("React").createElement(c("VideoCopyrightMonitoringSelector.react"),{disabled:!this.props.shouldDetectMatches,onChange:this.$VideoComposerDialogRightsSection4,value:this.props.monitoringType}),c("React").createElement("div",{className:"_1z3m _3-8y"},i._("Geography")),c("React").createElement(c("CopyrightCountrySelector.react"),{areCountriesIncluded:this.props.areCountriesIncluded,disabled:!this.props.shouldDetectMatches,enableExcludedCountries:true,onChange:this.$VideoComposerDialogRightsSection5,previewCharLimit:100,selectedCountries:this.props.ownershipCountries}))}),c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Select Media Category"),subtitle:i._("Specify the format of your reference file. This selection can't be changed once you publish your video."),input:c("React").createElement(c("CopyrightReferenceCategorySelector.react"),{className:"_2j6u",disabled:!this.props.shouldDetectMatches,hideTitleAndTooltip:true,onReferenceCategoryChange:this.$VideoComposerDialogRightsSection3,selectedCategory:this.props.category,showCategoryRequiredError:this.props.showCategoryRequiredError})}),c("PageContentTabRightsManagerStore").getIsRMLite()?null:c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Apply Match Rule"),tooltip:i._("Select which rule to apply to matching content"),input:c("React").createElement(c("VideoCopyrightMatchRuleSelector.react"),{accessToken:this.props.accessToken,disabled:!this.props.shouldDetectMatches,onChange:this.$VideoComposerDialogRightsSection2,onCreateNewRule:this.$VideoComposerDialogRightsSection9,pageID:this.props.targetID,selectedRule:this.props.matchRuleID})}),m,c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Grant Permissions"),subtitle:i._("Allow certain profiles and Pages to upload videos that contain this content."),input:c("React").createElement(c("VideoCopyrightWhitelistSection.react"),{disabled:!this.props.shouldDetectMatches,pageID:this.props.targetID,canSeeIGMatches:this.props.isIgRightsManagementEnabled,onFBWhitelistUpdated:this.$VideoComposerDialogRightsSection7,onIGWhitelistUpdated:this.$VideoComposerDialogRightsSection8,whitelistedIGUserNames:this.props.igWhitelistedUsers,whitelistedFBUsers:this.props.fbWhitelistedUsers})}))};f.exports=l}),null);
__d("VideoComposerDialogRightsContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogRightsSection.react","VideoComposerDialogRightsStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogRightsStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogRightsStore").getState(),l=k.attributionID,m=k.category,n=k.fbWhitelistedUsers,o=k.igWhitelistedUsers,p=k.isIgRightsManagementEnabled,q=k.matchRuleID,r=k.monitoringType,s=k.ownershipCountries,t=k.areCountriesIncluded,u=k.shouldDetectMatches,v=k.showAttributionSelector,w=k.showCategoryRequiredError,x=c("VideoComposerDialogMetadataStore").getState(),y=x.accessToken,z=x.targetID;return{accessToken:y,areCountriesIncluded:t,attributionID:l,category:m,fbWhitelistedUsers:n,igWhitelistedUsers:o,isIgRightsManagementEnabled:p,matchRuleID:q,monitoringType:r,ownershipCountries:s,shouldDetectMatches:u,showAttributionSelector:v,showCategoryRequiredError:w,targetID:z?z:""}};j.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogRightsSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogRightsTabContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogRightsStore","VideoComposerDialogRightsTabConfig","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab,m=c("VideoComposerDialogMetadataStore").getState(),n=m.showRightsTab;return{isSelected:l===c("VideoComposerDialogTab").RIGHTS,isVisible:n}};j.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogRightsStore")])};j.prototype.render=function(){var k=this.state,l=k.isSelected,m=k.isVisible;if(!m)return null;return c("React").createElement(c("VideoComposerDialogTabItem.react"),{isSelected:l,tabConfig:c("VideoComposerDialogRightsTabConfig")})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogRootContainer.react",["cx","EventListener","FluxContainer","PagesSettingsInstreamAdsBlockListContentStore","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListStore","React","ReactDOM","VideoComposerDialogActions","VideoComposerDialogAdBreakStore","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionsStore","VideoComposerDialogConstants","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogPublishingStore","VideoComposerDialogRoot.react","VideoComposerDialogThumbnailsStore","VideoComposerDialogUIStore","VideoComposerDialogUploadStore","VideoComposerDialogUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogRootContainer1=null,m}k.getStores=function(){return[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogPublishingStore"),c("VideoComposerDialogUIStore"),c("VideoComposerDialogUploadStore")]};k.calculateState=function(){var l=c("VideoComposerDialogUIStore").getState(),m=l.dialogShown,n=l.showExitConfirmDialog,o=c("VideoComposerDialogMetadataStore").getState(),p=o.dialogMode,q=o.title,r=o.isVideoShowPage,s=o.showVideoType,t=c("VideoComposerDialogPublishingStore").getState(),u=t.uploadErrorMessage,v=c("VideoComposerDialogUploadStore").getState(),w=v.videoFile,x=!q||!q.trim()||c("VideoComposerDialogUtils").byteLength(q.trim())>c("VideoComposerDialogConstants").MAX_TITLE_LENGTH||u!==null||r&&s===null;return{dialogMode:p,showExitConfirmDialog:n,shown:m,showSaveDraftButton:!x,videoFile:w}};k.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([].concat(k.getStores(),[c("VideoComposerDialogAdBreakStore"),c("VideoComposerDialogCaptionEditorStore"),c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogThumbnailsStore")]));c("PagesSettingsInstreamAdsBlockListDispatcher").explicitlyRegisterStores([c("PagesSettingsInstreamAdsBlockListContentStore"),c("PagesSettingsInstreamAdsBlockListStore")])};k.prototype.componentDidMount=function(){if(this.state.videoFile)this.$VideoComposerDialogRootContainer2(this.state.videoFile)};k.prototype.UNSAFE_componentWillUpdate=function(l,m){var n=m.videoFile;if(n&&this.state.videoFile!==n)this.$VideoComposerDialogRootContainer2(n)};k.prototype.$VideoComposerDialogRootContainer2=function(l){var m=b.URL.createObjectURL(l),n=void 0,o=c("React").createElement("video",{ref:function p(q){return n=q},className:"_3hni",src:m});c("ReactDOM").render(o,this.$VideoComposerDialogRootContainer1,function(){if(n)c("EventListener").listen(n,"loadedmetadata",function(){return n&&c("VideoComposerDialogActions").metadataLoadedFromHTMLPlayer(n)})})};k.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{ref:function(l){return this.$VideoComposerDialogRootContainer1=l}.bind(this)}),c("React").createElement(c("VideoComposerDialogRoot.react"),this.state))};f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogTabSectionContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogTabSection.react","VideoComposerDialogUIStore","VideoComposerDialogVideoTypeConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){c("VideoComposerDialogUIStore").getState();var k=c("VideoComposerDialogMetadataStore").getState(),l=k.videoType,m=k.showCaptionsTab,n=c("VideoComposerDialogVideoTypeConfig").typeConfig[l].displayedTabs;n=n.filter(function(o){return!(o==="captions"&&!m)});return{displayedTabs:n}};j.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogThumbnailImage.react",["ix","cx","BackgroundImage.react","Image.react","React","VideoComposerDialogConstants","asset","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_uy-",this.props.className)},c("React").createElement(c("BackgroundImage.react"),{className:"_uy_"+(this.props.isSelected?" _uz0":"")+(this.props.isSelectable?" _1pl9":"")+(this.props.isSelectable&&!this.props.isSelected?" _1plb":""),width:this.props.width?this.props.width:c("VideoComposerDialogConstants").THUMBNAIL_WIDTH,height:this.props.height?this.props.height:c("VideoComposerDialogConstants").THUMBNAIL_HEIGHT,backgroundSize:"contain",src:this.props.imageURL}),this.props.isSelected?c("React").createElement("div",{className:"_uz1"},c("React").createElement(c("Image.react"),{className:"_uz2",src:h("393776")})):c("React").createElement("div",null))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogThumbnailTitleComponent.react",["cx","Image.react","LeftRight.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:"_2onq"},c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("Image.react"),{className:"_2ons _3-90",src:this.props.image})),c("React").createElement("div",{className:"_2ont"},c("React").createElement("div",{className:"_47zi"+(this.props.isSelected?" _47zj":"")+(this.props.isDisabled?" _47zk":"")},this.props.title),c("React").createElement("div",{className:"_47zl"+(this.props.isDisabled?" _47zm":"")},this.props.subTitle))),this.props.rightComponent)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCustomThumbnailSection.react",["ix","cx","fbt","FileInput.react","FileVideoThumbnail","React","VideoComposerDialogThumbnailImage.react","VideoComposerDialogThumbnailTitleComponent.react","XUIButton.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=this.props.customThumbnail,o=j._("Change Image");return c("React").createElement("div",{className:"_1jiv _3-8y"+(this.props.isSelected?" _1jiw":"")+(!this.props.isSelected?" _1jix":"")},c("React").createElement(c("VideoComposerDialogThumbnailTitleComponent.react"),{title:j._("Custom Image"),subTitle:j._("Upload a high resolution image that best represents your video."),isSelected:this.props.isSelected,image:this.props.isSelected?h("416790"):h("416798"),rightComponent:c("React").createElement(c("FileInput.react"),{accept:"image/*",onChange:this.props.onCustomImageInput},c("React").createElement(c("XUIButton.react"),{className:"_654r"+(!this.props.isSelected?" _1jiz":""),href:"#",size:"large",label:n!==null?o:j._("Add Image")}))}),this.props.isSelected&&n?c("React").createElement(c("VideoComposerDialogThumbnailImage.react"),{className:"_3-8-",imageURL:n.getURL(),isSelected:true}):null)};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogThumbnailSlider.react",["cx","React","ShimButton.react","VideoComposerDialogConstants","VideoComposerDialogThumbnailActions","VideoComposerDialogThumbnailImage.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=22,l=12,m=3,n=635;i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;o.prototype.$VideoComposerDialogThumbnailSlider1=function(){var p=l+c("VideoComposerDialogConstants").THUMBNAIL_WIDTH,q=p*m,r=(n-(l+q))/2,s=k+c("VideoComposerDialogConstants").THUMBNAIL_WIDTH-r,t=l+c("VideoComposerDialogConstants").THUMBNAIL_WIDTH,u=t-(c("VideoComposerDialogConstants").THUMBNAIL_WIDTH+k-r),v=0;if(this.props.sliderIndex>=1)v=s+t*(this.props.sliderIndex-1);if(this.props.sliderIndex===this.props.thumbnails.length-m)v-=u;return v};o.prototype.$VideoComposerDialogThumbnailSlider2=function(p){c("VideoComposerDialogThumbnailActions").toggleSelectedGeneratedThumbnail(p)};o.prototype.render=function(){var p=this.props.thumbnails.map(function(q,r){return c("React").createElement(c("ShimButton.react"),{key:r,tabIndex:"-1",onClick:function(){this.$VideoComposerDialogThumbnailSlider2(r)}.bind(this)},c("React").createElement(c("VideoComposerDialogThumbnailImage.react"),{className:"_3-90",imageURL:q.getURL(),isSelected:r===this.props.selectedIndex,isSelectable:true}))}.bind(this));return c("React").createElement("div",{style:{right:this.$VideoComposerDialogThumbnailSlider1()+"px"},className:"_3bre"},p)};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d("VideoComposerDialogGeneratedThumbnailsSection.react",["ix","cx","fbt","Image.react","React","VideoComposerDialogThumbnailSlider.react","VideoComposerDialogThumbnailTitleComponent.react","XUIButton.react","XUIButtonGroup.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=3;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={sliderIndex:0},this.$VideoComposerDialogGeneratedThumbnailsSection1=function(){if(this.state.sliderIndex>0)this.setState({sliderIndex:this.state.sliderIndex-1})}.bind(this),this.$VideoComposerDialogGeneratedThumbnailsSection2=function(){if(this.state.sliderIndex<this.props.generatedThumbnails.length-m)this.setState({sliderIndex:this.state.sliderIndex+1})}.bind(this),p}n.prototype.render=function(){var o=this.props.isDisabled?j._("Auto-generated images are unavailable."):j._({"*":"Select one of these {thumbnails} images from your video."},[j._param("thumbnails",this.props.generatedThumbnails.length,[0,this.props.generatedThumbnails.length])]);return c("React").createElement("div",{className:"_1jiv _3-8-"+(this.props.isDisabled?" _r5c":"")+(this.props.isSelected?" _1jiw":"")+(!this.props.isSelected?" _1jix":"")},c("React").createElement(c("VideoComposerDialogThumbnailTitleComponent.react"),{title:j._("Auto-Generated Image"),subTitle:o,isDisabled:this.props.isDisabled,isSelected:this.props.isSelected,image:this.props.isSelected?h("416777"):h("416781"),rightComponent:this.props.isSelected?c("React").createElement(c("XUIButtonGroup.react"),null,c("React").createElement(c("XUIButton.react"),{disabled:this.state.sliderIndex<=0,onClick:this.$VideoComposerDialogGeneratedThumbnailsSection1,size:"large",image:c("React").createElement(c("Image.react"),{src:h("406776")}),label:"Previous",labelIsHidden:true}),c("React").createElement(c("XUIButton.react"),{disabled:this.state.sliderIndex>=this.props.generatedThumbnails.length-m,onClick:this.$VideoComposerDialogGeneratedThumbnailsSection2,size:"large",image:c("React").createElement(c("Image.react"),{src:h("363528")}),label:"Next",labelIsHidden:true})):c("React").createElement(c("XUIButton.react"),{className:"_654r _1jiz",disabled:this.props.isDisabled,size:"large",label:j._("Choose Image")})}),this.props.isSelected&&this.props.generatedThumbnails.length>0?c("React").createElement(c("VideoComposerDialogThumbnailSlider.react"),{thumbnails:this.props.generatedThumbnails,selectedIndex:this.props.selectedIndex,sliderIndex:this.state.sliderIndex}):null)};f.exports=n}),null);
__d("VideoComposerDialogVideoFrameThumbnailSection.react",["ix","cx","fbt","ComposerVideoThumbnailScrubber.react","React","VideoComposerDialogThumbnailActions","VideoComposerDialogThumbnailImage.react","VideoComposerDialogThumbnailTitleComponent.react","XUIButton.react","asset","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={showThumbnailScrubberDialog:false},o}m.prototype.UNSAFE_componentWillReceiveProps=function(n){if(!this.props.isSelected&&n.isSelected&&n.thumbnail===null)this.setState({showThumbnailScrubberDialog:true})};m.prototype.$VideoComposerDialogVideoFrameThumbnailSection1=function(n){if(n)n.then(function(o){var p=o.thumbnails;if(p.length===1)c("VideoComposerDialogThumbnailActions").updateScrubbedThumbnail(p[0])}).done()};m.prototype.render=function(){var n=this.props.thumbnail,o=this.props.isDisabled?j._("Video frames are unavailable."):j._("Choose any still frame from your video.");return c("React").createElement("div",{className:"_1jiv _3-8y"+(this.props.isDisabled?" _r5c":"")+(this.props.isSelected?" _1jiw":"")+(!this.props.isSelected?" _1jix":"")},c("React").createElement(c("VideoComposerDialogThumbnailTitleComponent.react"),{title:j._("Video Frame"),subTitle:o,isDisabled:this.props.isDisabled,isSelected:this.props.isSelected,image:this.props.isSelected?h("416769"):h("416772"),rightComponent:c("React").createElement(c("XUIButton.react"),{className:"_654r"+(!this.props.isSelected?" _1jiz":""),disabled:this.props.isDisabled,onClick:function(){return this.setState({showThumbnailScrubberDialog:true})}.bind(this),size:"large",label:this.props.thumbnail===null?j._("Choose Frame"):j._("Change Frame")})}),this.props.isSelected&&n?c("React").createElement(c("VideoComposerDialogThumbnailImage.react"),{className:"_3-8-",imageURL:n.getURL(),isSelected:true}):null,c("React").createElement(c("ComposerVideoThumbnailScrubber.react"),{showThumbnailScrubberDialog:this.state.showThumbnailScrubberDialog,onScrubbedThumbnailSave:c("emptyFunction"),onSelectedThumbnailsFromScrubber:this.$VideoComposerDialogVideoFrameThumbnailSection1,videoURL:this.props.videoURL,pageID:this.props.actorID,scrubbedThumbnail:n?n.getTime():null,thumbnails:this.props.generatedThumbnails,closeDialog:function(){return this.setState({showThumbnailScrubberDialog:false})}.bind(this)}))};f.exports=m}),null);
__d("VideoComposerDialogThumbnailsSection.react",["cx","fbt","FileInput.react","FileVideoThumbnail","Link.react","React","ShimButton.react","VideoComposerDialogCustomThumbnailSection.react","VideoComposerDialogGeneratedThumbnailsSection.react","VideoComposerDialogThumbnailActions","VideoComposerDialogThumbnailTypes","VideoComposerDialogVideoFrameThumbnailSection.react","XUIGrayText.react","XUINotice.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogThumbnailsSection1=function(){if(!this.props.videoMetadataUnavailable&&this.props.selectedSection!==c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED)c("VideoComposerDialogThumbnailActions").selectThumbnailSection(c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED)}.bind(this),this.$VideoComposerDialogThumbnailsSection2=function(){if(this.props.selectedSection!==c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM&&this.props.customThumbnail!==null)c("VideoComposerDialogThumbnailActions").selectThumbnailSection(c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM)}.bind(this),this.$VideoComposerDialogThumbnailsSection4=function(){if(!this.props.videoMetadataUnavailable&&this.props.selectedSection!==c("VideoComposerDialogThumbnailTypes").ThumbnailSection.VIDEO_FRAME)c("VideoComposerDialogThumbnailActions").selectThumbnailSection(c("VideoComposerDialogThumbnailTypes").ThumbnailSection.VIDEO_FRAME)}.bind(this),n}l.prototype.$VideoComposerDialogThumbnailsSection3=function(event){var m=event.currentTarget.files;if(!m||m.length!==1)return;else{var n=new(c("FileVideoThumbnail"))(m[0]);c("VideoComposerDialogThumbnailActions").selectThumbnailSection(c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM);c("VideoComposerDialogThumbnailActions").updateCustomThumbnail(n)}};l.prototype.render=function(){var m=!this.props.videoMetadataUnavailable&&this.props.showGeneratedSection,n=!this.props.videoMetadataUnavailable&&this.props.showScrubberSection,o=!m&&!n,p=o?c("React").createElement(c("XUINotice.react"),{use:"recommend",className:"_3-98"},c("React").createElement(c("XUIText.react"),{weight:"bold",display:"block",className:"_3-95"},i._("Auto-generated Image and Image from Video Frame options are Unavailable.")),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},i._("Add a custom image to represent your video. If you don't have one, an image will be generated for your video once your video is published."))):null,q=this.props.showScrubberSection?i._("This image will display when your video isn't auto playing. You can select an auto-generated image, upload a custom image or choose a still frame from your video."):i._("This image will display when your video isn't auto playing. You can select an auto-generated image or upload a custom image.");return c("React").createElement("div",null,p,c("React").createElement(c("XUIText.react"),{className:"_3-95",display:"block",weight:"bold"},i._("Choose a Thumbnail for Your Video")),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},q),m?c("React").createElement(c("ShimButton.react"),{onClick:this.$VideoComposerDialogThumbnailsSection1},c("React").createElement(c("VideoComposerDialogGeneratedThumbnailsSection.react"),{generatedThumbnails:this.props.generatedThumbnails,isDisabled:this.props.videoMetadataUnavailable,isSelected:!this.props.videoMetadataUnavailable&&this.props.selectedSection===c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED,selectedIndex:this.props.selectedGeneratedIndex})):null,c("React").createElement("div",{className:"_tfr"},c("React").createElement(c("ShimButton.react"),{onClick:this.$VideoComposerDialogThumbnailsSection2},c("React").createElement(c("VideoComposerDialogCustomThumbnailSection.react"),{customThumbnail:this.props.customThumbnail,isSelected:this.props.selectedSection===c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM,onCustomImageInput:this.$VideoComposerDialogThumbnailsSection3})),this.props.customThumbnail===null?c("React").createElement(c("FileInput.react"),{containerClassName:"_654s",accept:"image/*",onChange:this.$VideoComposerDialogThumbnailsSection3},c("React").createElement(c("Link.react"),{href:"#",label:i._("Image Upload")})):null),n?c("React").createElement(c("ShimButton.react"),{onClick:this.$VideoComposerDialogThumbnailsSection4},c("React").createElement(c("VideoComposerDialogVideoFrameThumbnailSection.react"),{actorID:this.props.actorID,generatedThumbnails:this.props.generatedThumbnails,isDisabled:this.props.videoMetadataUnavailable,isSelected:!this.props.videoMetadataUnavailable&&this.props.selectedSection===c("VideoComposerDialogThumbnailTypes").ThumbnailSection.VIDEO_FRAME,thumbnail:this.props.scrubbedThumbnail,videoURL:this.props.videoURL})):null)};f.exports=l}),null);
__d("VideoComposerDialogThumbnailsContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogThumbnailsSection.react","VideoComposerDialogThumbnailsStore","VideoComposerDialogThumbnailUtils","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogThumbnailsStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]};j.calculateState=function(){var k=c("VideoComposerDialogThumbnailsStore").getState(),l=k.customThumbnail,m=k.generatedThumbnails,n=k.scrubbedThumbnail,o=k.selectedGeneratedIndex,p=k.selectedSection,q=k.videoMetadataUnavailable,r=c("VideoComposerDialogUploadStore").getState(),s=r.videoFile,t=c("VideoComposerDialogMetadataStore").getState(),u=t.actorID,v=t.dialogMode;return{actorID:u?u:"",customThumbnail:l,generatedThumbnails:m,scrubbedThumbnail:n,selectedGeneratedIndex:o,selectedSection:p,showScrubberSection:c("VideoComposerDialogThumbnailUtils").showScrubberSection(v),showGeneratedSection:c("VideoComposerDialogThumbnailUtils").showGeneratedSection(v),videoMetadataUnavailable:q,videoURL:s?b.URL.createObjectURL(s):""}};j.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([])};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogThumbnailsSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogThumbnailsTabContainer.react",["cx","FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogThumbnailImage.react","VideoComposerDialogThumbnailsStore","VideoComposerDialogThumbnailsTabConfig","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=128,l=72;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;m.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogThumbnailsStore")]};m.calculateState=function(){var n=c("VideoComposerDialogUIStore").getState(),o=n.selectedTab,p=c("VideoComposerDialogThumbnailsStore").getState(),q=p.selectedThumbnail;return{isSelected:o===c("VideoComposerDialogTab").THUMBNAILS,selectedThumbnail:q}};m.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(m.getStores())};m.prototype.render=function(){var n=this.state.selectedThumbnail;return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({customDescription:n?c("React").createElement(c("VideoComposerDialogThumbnailImage.react"),{imageURL:n.getURL(),isSelected:false,width:k,height:l}):null,tabConfig:c("VideoComposerDialogThumbnailsTabConfig")},this.state))};function m(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(m)}),null);
__d("VideoComposerDialogUploadPopover.react",["ix","cx","fbt","DurationFormatter","FileInput.react","FlexLayout.react","Image.react","Link.react","React","VideoComposerDialogActions","XUIButton.react","asset","formatNumber"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=1e6;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$VideoComposerDialogUploadPopover1=function(event,t){var u=event.currentTarget.files,v=this.props.onReplaceFile;if(!u||u.length!==1)return;c("VideoComposerDialogActions").fileAdded(u[0],t);if(v)v()}.bind(this),p}n.prototype.render=function(){var o=this.props.videoSize/m,p=this.props.uploadPercent/100*o;return c("React").createElement("div",null,c("React").createElement(c("FlexLayout.react"),{className:"_652a",justify:"all"},c("React").createElement(c("FlexLayout.react"),{className:"_13yt"},c("React").createElement(c("Image.react"),{className:"_3-8_",src:h("431724")}),c("React").createElement("div",{className:"_13yu"},this.props.fileName)),c("React").createElement(c("Link.react"),{href:"#",onClick:this.props.onCloseButtonClick},c("React").createElement(c("Image.react"),{src:h("368785")}))),c("React").createElement(c("FlexLayout.react"),{direction:"vertical",className:"_13yv"},this.props.errorMessage!==null?c("React").createElement("div",{className:"_l8_"},this.props.errorMessage):null,j._("{percentage}\u0025 Uploaded ({uploaded amount}MB\/{file size}MB)",[j._param("percentage",c("formatNumber")(this.props.uploadPercent)),j._param("uploaded amount",c("formatNumber")(p,1)),j._param("file size",c("formatNumber")(o,1))]),c("React").createElement("div",{className:"_3-8m"},j._("Duration: {duration}",[j._param("duration",c("DurationFormatter").formatShort(Math.round(this.props.videoDuration)))])),j._("Dimensions: {width}x{height}",[j._param("width",this.props.videoWidth),j._param("height",this.props.videoHeight)])),c("React").createElement(c("FlexLayout.react"),{className:"_13yy"},c("React").createElement(c("FileInput.react"),{onChange:this.$VideoComposerDialogUploadPopover1},c("React").createElement(c("XUIButton.react"),{href:"#",size:"large",label:j._("Upload New")}))))};f.exports=n}),null);
__d("VideoComposerDialogUploaderPill.react",["ix","cx","fbt","FlexLayout.react","Image.react","InlineBlock.react","LayerHideOnBlur","LayerHideOnEscape","PublishingToolsWebdriverTestDataIDs","React","ShimButton.react","VideoComposerDialogUploadPopover.react","XUIContextualDialog.react","asset","fbglyph","formatNumber"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=260;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={showPopover:false},this.$VideoComposerDialogUploaderPill1=function(){this.setState({showPopover:!this.state.showPopover})}.bind(this),p}n.prototype.UNSAFE_componentWillReceiveProps=function(o){if(this.props.errorMessage===null&&o.errorMessage)this.setState({showPopover:true});else if(this.props.errorMessage!==null&&o.errorMessage===null)this.setState({showPopover:false})};n.prototype.renderLayers=function(o){if(!this.state.showPopover)return null;return c("React").createElement(c("XUIContextualDialog.react"),{behaviors:{LayerHideOnEscape:c("LayerHideOnEscape"),LayerHideOnBlur:c("LayerHideOnBlur")},contextRef:function(){return this.refs.uploaderPill}.bind(this),shown:this.state.showPopover,alignment:"right",position:"below",onToggle:this.$VideoComposerDialogUploaderPill1,label:j._("metadata"),width:m},c("React").createElement(c("VideoComposerDialogUploadPopover.react"),{errorMessage:this.props.errorMessage,fileName:this.props.fileName,onCloseButtonClick:this.$VideoComposerDialogUploaderPill1,onReplaceFile:this.$VideoComposerDialogUploaderPill1,uploadPercent:o,videoDuration:this.props.videoDuration,videoWidth:this.props.videoWidth,videoHeight:this.props.videoHeight,videoSize:this.props.videoSize}))};n.prototype.render=function(){var o=this.props.errorMessage!==null,p=this.props.uploadPercent===100&&this.props.uploadFinished,q=this.props.uploadPercent===100&&!p?99.9:this.props.uploadPercent,r=q===100?0:1,s=o?c("React").createElement(c("Image.react"),{src:h("118806")}):p?c("React").createElement(c("Image.react"),{src:h("407719")}):c("React").createElement(c("Image.react"),{src:h("360748")}),t=o?c("React").createElement(c("Image.react"),{src:h("412694")}):p?c("React").createElement(c("Image.react"),{src:h("364972")}):c("React").createElement(c("Image.react"),{src:h("379681")});return c("React").createElement(c("ShimButton.react"),{ref:"uploaderPill",onClick:this.$VideoComposerDialogUploaderPill1,className:"_4unx","data-testid":p?c("PublishingToolsWebdriverTestDataIDs").VIDEO_UPLOAD_COMPLETE_BAR:null},c("React").createElement("div",{style:{width:q+"%"},className:"_4un-"+(p?" _4jg0":"")+(o?" _6538":"")}),c("React").createElement("div",{className:"_4un_"+(o?" _6539":"")}),c("React").createElement(c("FlexLayout.react"),{justify:"all",align:"center",className:"_4uny"+(p?" _4jf_":"")+(o?" _1jua":"")},c("React").createElement(c("FlexLayout.react"),{align:"center"},s,c("React").createElement(c("InlineBlock.react"),{className:"_4unz"},j._("{percentage}",[j._param("percentage",c("formatNumber")(q,r)+"%")]))),t),this.renderLayers(q))};f.exports=n}),null);
__d("VideoComposerDialogTitleSection.react",["cx","fbt","AbstractTextInput.react","FlexLayout.react","Keys","React","VideoComposerDialogActions","VideoComposerDialogConstants","VideoComposerDialogUploaderPill.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogCloseButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogTitleSection2=null,this.$VideoComposerDialogTitleSection4=function(event){if(event.keyCode===c("Keys").RETURN)this.$VideoComposerDialogTitleSection1&&this.$VideoComposerDialogTitleSection1.blurInput()}.bind(this),n}l.prototype.componentDidMount=function(){var m=this.$VideoComposerDialogTitleSection1;if(m&&m!==null)m.focusInput()};l.prototype.UNSAFE_componentWillReceiveProps=function(m){var n=this.$VideoComposerDialogTitleSection1;if(n&&this.props.videoDuration!==m.videoDuration)n.focusInput()};l.prototype.$VideoComposerDialogTitleSection3=function(event){c("VideoComposerDialogActions").updateTitle(event.target.value)};l.prototype.render=function(){return c("React").createElement(c("FlexLayout.react"),{direction:"horizontal",justify:"all",className:"_62qs"},c("React").createElement("div",{ref:function(m){return this.$VideoComposerDialogTitleSection2=m}.bind(this),className:"_1zlc"},c("React").createElement(c("AbstractTextInput.react"),{className:"_63k1"+(this.props.highlightTitleField?" _1zld":""),ref:function(m){return this.$VideoComposerDialogTitleSection1=m}.bind(this),placeholder:i._("Add a title for your video here..."),onChange:this.$VideoComposerDialogTitleSection3,value:this.props.title,onKeyUp:this.$VideoComposerDialogTitleSection4})),c("React").createElement(c("XUIContextualDialog.react"),{label:"missing title warning",autoFocus:false,shown:this.props.showTitleTooltip,contextRef:function(){return this.$VideoComposerDialogTitleSection2}.bind(this),position:"below",alignment:"left",width:c("XUIContextualDialog.react").WIDTH.NORMAL},c("React").createElement(c("XUIContextualDialogTitle.react"),null,this.props.titleTooltipCaption),c("React").createElement(c("XUIContextualDialogBody.react"),null,this.props.titleTooltipText),c("React").createElement(c("XUIContextualDialogFooter.react"),null,c("React").createElement(c("XUIDialogCloseButton.react"),{onClick:c("VideoComposerDialogActions").closeTitleTooltip}))),this.props.showUploaderPill?c("React").createElement(c("VideoComposerDialogUploaderPill.react"),{errorMessage:this.props.uploadErrorMessage,fileName:this.props.fileName,uploadFinished:this.props.uploadFinished,uploadPercent:this.props.uploadProgress,videoDuration:this.props.videoDuration,videoWidth:this.props.videoWidth,videoHeight:this.props.videoHeight,videoSize:this.props.videoSize}):null)};f.exports=l}),null);
__d("VideoComposerDialogTitleSectionContainer.react",["FluxContainer","React","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogPublishingStore","VideoComposerDialogTitleSection.react","VideoComposerDialogUIStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogPublishingStore"),c("VideoComposerDialogUploadStore")]};j.calculateState=function(){c("VideoComposerDialogUIStore").getState();var k=c("VideoComposerDialogUploadStore").getState(),l=k.videoFile,m=k.uploadFinished,n=k.uploadProgress,o=k.videoSize,p=c("VideoComposerDialogPublishingStore").getState(),q=p.uploadErrorMessage,r=c("VideoComposerDialogMetadataStore").getState(),s=r.title,t=r.dialogMode,u=r.highlightTitleField,v=r.showTitleTooltip,w=r.titleTooltipCaption,x=r.titleTooltipText,y=r.videoDuration,z=r.videoWidth,A=r.videoHeight;return{dialogMode:t,highlightTitleField:u,showTitleTooltip:v,titleTooltipCaption:w,titleTooltipText:x,uploadErrorMessage:q,fileName:l?l.name:"",showUploaderPill:t===c("VideoComposerDialogMode").VIDEO_UPLOAD,title:s,uploadFinished:m,uploadProgress:n,videoDuration:y?y:0,videoWidth:z?z:0,videoHeight:A?A:0,videoSize:o?o:0}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTitleSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogTrackingCustomLabels.react",["cx","fbt","React","SearchableEntry","VideoComposerDialogTrackingActions","VideoComposerDialogTrackingUtils","XUITokenizer.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={entries:this.props.customLabels.map(function(r){return new(c("SearchableEntry"))({uniqueID:r,title:r})}),queryString:"",searchSource:this.$VideoComposerDialogTrackingCustomLabels1.bind(this)()},n}l.prototype.$VideoComposerDialogTrackingCustomLabels2=function(m){var n=this.state.entries,o=n.some(function(p){return p.getUniqueID()===m.getUniqueID()});if(!o)n.push(m);this.setState({entries:n,queryString:""});c("VideoComposerDialogTrackingActions").updateCustomLabels(n.map(function(p){return p.getUniqueID()}))};l.prototype.$VideoComposerDialogTrackingCustomLabels3=function(m){var n=this.state.entries,o=n.some(function(p){return p.getUniqueID()===m.getUniqueID()});if(o)n.splice(n.indexOf(m),1);this.setState({entries:n,queryString:""});c("VideoComposerDialogTrackingActions").updateCustomLabels(n.map(function(p){return p.getUniqueID()}))};l.prototype.$VideoComposerDialogTrackingCustomLabels4=function(event){this.setState({queryString:event.target.value})};l.prototype.$VideoComposerDialogTrackingCustomLabels1=function(){return c("VideoComposerDialogTrackingUtils").loadCustomLabelsSearchSource(this.props.targetID)};l.prototype.render=function(){var m=[],n={},o=this.state.queryString.trim();if(o){m=[new(c("SearchableEntry"))({uniqueID:o,title:o})];n[o]=o}return c("React").createElement(c("XUITokenizer.react"),{className:"_1325",additionalEntries:m,entries:this.state.entries,excludedEntries:n,onQueryStringChange:this.$VideoComposerDialogTrackingCustomLabels4.bind(this),onAddEntryAttempt:this.$VideoComposerDialogTrackingCustomLabels2.bind(this),onRemoveEntryAttempt:this.$VideoComposerDialogTrackingCustomLabels3.bind(this),queryString:this.state.queryString,placeholder:i._("Category, Employee Name, Video Type"),searchSource:this.state.searchSource,showEntriesOnFocus:true})};f.exports=l}),null);
__d("VideoComposerDialogTrackingSection.react",["cx","fbt","React","VideoComposerDialogField.react","VideoComposerDialogTrackingActions","VideoComposerDialogTrackingCustomLabels.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogTrackingSection1=function(event){var m=event.target.value;c("VideoComposerDialogTrackingActions").updateUniversalID(m)};l.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogField.react"),{showTopBorder:false,title:i._("Internal Labels"),subtitle:i._("Add labels to help you search for your video. These labels are only visible to Page admins."),input:c("React").createElement(c("VideoComposerDialogTrackingCustomLabels.react"),this.props)}),c("React").createElement(c("VideoComposerDialogField.react"),{title:i._("Universal ID"),tooltip:i._("If your video has a unique code in another content management system, you can add it here. This won't affect your post."),input:c("React").createElement(c("XUITextInput.react"),{className:"_1325",height:"tall",onChange:this.$VideoComposerDialogTrackingSection1,placeholder:i._("Asset management code (Optional)"),value:this.props.universalID})}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogTrackingContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogTrackingSection.react","VideoComposerDialogTrackingStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogTrackingStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogTrackingStore").getState(),l=k.customLabels,m=k.universalID,n=c("VideoComposerDialogMetadataStore").getState(),o=n.targetID;return{customLabels:l,targetID:o?o:"",universalID:m}};j.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTrackingSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogTrackingTabContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogTrackingStore","VideoComposerDialogTrackingTabConfig","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogMetadataStore").getState(),l=k.dialogMode,m=k.isVideoAssetOwner,n=c("VideoComposerDialogUIStore").getState(),o=n.selectedTab;return{isSelected:o===c("VideoComposerDialogTab").TRACKING,shouldShowTab:j.$VideoComposerDialogTrackingTabContainer1(l,m)}};j.$VideoComposerDialogTrackingTabContainer1=function(k,l){return k!==c("VideoComposerDialogMode").VIDEO_CROSSPOST&&l};j.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogTrackingStore")])};j.prototype.render=function(){return this.state.shouldShowTab?c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogTrackingTabConfig")},this.state)):null};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogVideoTypeSection.react",["ix","cx","fbt","FlexLayout.react","Image.react","Link.react","PublishingToolsWebdriverTestDataIDs","React","VideoComposerDialogActions","VideoComposerDialogMode","VideoComposerDialogShowVideo","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){__p&&__p();var n=void 0;switch(this.props.dialogMode){case c("VideoComposerDialogMode").VIDEO_UPLOAD:if(this.props.showVideoType===c("VideoComposerDialogShowVideo").TRAILER)n=j._("Add Trailer");else n=j._("Add Video");break;case c("VideoComposerDialogMode").VIDEO_CROSSPOST:n=j._("Crosspost Video");break;case c("VideoComposerDialogMode").VIDEO_EDIT:n=j._("Edit Video");break}var o=j._("This post and its insights can be seen by the owner of this video. If the owner changes your ability to use it, this post will be unpublished or removed automatically."),p=this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST&&!this.props.isVideoAssetOwner?c("React").createElement("div",{className:"_3-8w _3-9a"},c("React").createElement(c("Image.react"),{ref:function(r){return this.$VideoComposerDialogVideoTypeSection1=r}.bind(this),src:h("378682")}),c("React").createElement(c("XUIContextualDialog.react"),{label:"crosspost warning",autoFocus:false,contextRef:function(){return this.$VideoComposerDialogVideoTypeSection1}.bind(this),hoverContextRef:function(){return this.$VideoComposerDialogVideoTypeSection1}.bind(this),position:"below",alignment:"right",width:c("XUIContextualDialog.react").WIDTH.NORMAL},c("React").createElement(c("XUIContextualDialogTitle.react"),null,j._("Disclaimer")),c("React").createElement(c("XUIContextualDialogBody.react"),null,o))):null,q=this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD?c("PublishingToolsWebdriverTestDataIDs").VIDEO_UPLOAD_DIALOG_CLOSE_BUTTON:this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_EDIT?c("PublishingToolsWebdriverTestDataIDs").EDIT_DIALOG_CLOSE_BUTTON:null;return c("React").createElement(c("FlexLayout.react"),{justify:"all",align:"center",className:"_1pbd _2pi4 _2pi9"},c("React").createElement(c("FlexLayout.react"),{align:"center"},c("React").createElement(c("Image.react"),{src:h("391693")}),c("React").createElement("div",{className:"_3-9a"},n),p),c("React").createElement(c("Link.react"),{href:"#",className:"_2rjv","data-testid":q,onClick:this.$VideoComposerDialogVideoTypeSection2},c("React").createElement(c("Image.react"),{alt:j._("Close"),src:h("478812")})))};m.prototype.$VideoComposerDialogVideoTypeSection2=function(){c("VideoComposerDialogActions").exitDialogAttempt()};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogVideoTypeSectionContainer.react",["FluxContainer","React","VideoComposerDialogMetadataStore","VideoComposerDialogVideoTypeSection.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogMetadataStore").getState(),l=k.dialogMode,m=k.isVideoAssetOwner,n=k.showVideoType;return{dialogMode:l,isVideoAssetOwner:m,showVideoType:n}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogVideoTypeSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogWrapperContainer.react",["fbt","FluxContainer","React","Run","VideoComposerDialogActions","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogUIStore","VideoComposerDialogUploadStore","VideoComposerDialogWrapper.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUIStore")]};k.calculateState=function(){var l=c("VideoComposerDialogUIStore").getState(),m=l.dialogShown,n=l.primaryActionErrorDialogShown,o=l.primaryActionErrorMessage,p=l.publishConfirmDialogShown,q=l.publishConfirmDialogData,r=c("VideoComposerDialogMetadataStore").getState(),s=r.dialogMode;return{dialogMode:s,dialogShown:m,primaryActionErrorDialogShown:n,primaryActionErrorMessage:o,publishConfirmDialogShown:p,publishConfirmDialogData:q}};k.prototype.UNSAFE_componentWillMount=function(){c("Run").onBeforeUnload(function(){if(!this.state.dialogShown)return null;return h._("Changes you made may not be saved.")}.bind(this));c("Run").onLeave(function(){c("VideoComposerDialogActions").navigatedFromPage()});c("Run").onUnload(function(){c("VideoComposerDialogActions").navigatedFromPage()});c("VideoComposerDialogDispatcher").explicitlyRegisterStores(k.getStores().concat([c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]))};k.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogWrapper.react"),babelHelpers["extends"]({className:this.props.className},this.state))};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k,{withProps:true})}),null);
__d("VideoComposerDialogCaptionEditorCaptionsListGenerator_node.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"VideoComposerDialogCaptionEditorCaptionsListGenerator_node",type:"VideoSubtitle",metadata:null,argumentDefinitions:[],selections:[i,{kind:"ScalarField",alias:null,name:"locale",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"process_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"review_expire_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"captions",storageKey:'captions(first:3000,orderby:["chronological"])',args:[{kind:"Literal",name:"first",value:3e3,type:"Int"},{kind:"Literal",name:"orderby",value:["chronological"],type:"[VideoSubtitleCaptionsOrdering]"}],concreteType:"VideoSubtitleCaptionsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"VideoSubtitleCaptionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"VideoSubtitleCaption",plural:false,selections:[i,{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_time_in_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"duration_in_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"confidence",args:null,storageKey:null}]}]}]}]}}();f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorCaptionsListGenerator.react",["VideoComposerDialogCaptionEditorConstants","immutable","React","RelayCompat","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorListSectionContainer.react","VideoComposerDialogDispatcher","VideoCaptionPlacements","VideoComposerDialogCaptionEditorCaptionsListGenerator_node.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("RelayCompat").createFragmentContainer,k=c("RelayCompat").graphql;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;l.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(c("VideoComposerDialogCaptionEditorListSectionContainer.react").getStores());this.$VideoComposerDialogCaptionEditorCaptionsListGenerator1()};l.prototype.UNSAFE_componentWillReceiveProps=function(m){if(this.props.id!==m.id||JSON.stringify(this.props.node)!==JSON.stringify(m.node))this.$VideoComposerDialogCaptionEditorCaptionsListGenerator1()};l.prototype.$VideoComposerDialogCaptionEditorCaptionsListGenerator1=function(){__p&&__p();var m=this.props.node.captions;if(m&&m.edges){var n=m.edges.map(function(o,p){if(o.node){var q={node:{id:o.node.id,text:o.node.text,start_time_in_ms:o.node.start_time_in_ms,duration_in_ms:o.node.duration_in_ms,confidence:o.node.confidence,left:(o.node.start_time_in_ms?o.node.start_time_in_ms:0)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:(o.node.duration_in_ms?o.node.duration_in_ms:0)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};return q}return{}});c("VideoComposerDialogCaptionEditorActions").setCaptions(c("immutable").List(n),this.props.node.id,this.props.node.locale,this.props.node.video_id,null,c("VideoCaptionPlacements").PAGE_COMPOSER_EDIT)}};l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorListSectionContainer.react"),null)};function l(){h.apply(this,arguments)}f.exports=j(l,{node:{modern:function m(){return c("VideoComposerDialogCaptionEditorCaptionsListGenerator_node.graphql")},classic:function m(n){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"locale",kind:"Field",metadata:{},type:"String"},{fieldName:"process_status",kind:"Field",metadata:{},type:"VideoSubtitleStatus"},{fieldName:"review_expire_time",kind:"Field",metadata:{},type:"Time"},{fieldName:"video_id",kind:"Field",metadata:{},type:"ID"},{calls:[{kind:"Call",metadata:{type:"[VideoSubtitleCaptionsOrdering]"},name:"orderby",value:[{kind:"CallValue",callValue:"chronological"}]},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:3e3}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"text",kind:"Field",metadata:{},type:"String"},{fieldName:"start_time_in_ms",kind:"Field",metadata:{},type:"Int"},{fieldName:"duration_in_ms",kind:"Field",metadata:{},type:"Int"},{fieldName:"confidence",kind:"Field",metadata:{},type:"Float"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:true},type:"VideoSubtitleCaption"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"VideoSubtitleCaptionsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:"PageInfo"}],fieldName:"captions",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:"VideoSubtitleCaptionsConnection"}],id:n.__id(),kind:"Fragment",metadata:{},name:"VideoComposerDialogCaptionEditorCaptionsListGenerator_node",type:"VideoSubtitle"}}()}}}})}),null);
__d("VideoComposerDialogCaptionEditorFooter.react",["ix","cx","fbt","FBConfirmDialog.react","LeftRight.react","React","VideoCaptionEditorStateEnums","XUIButton.react","fbglyph","Image.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("VideoCaptionEditorStateEnums").EditorStateEnum;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){var o=j._("Saved");if(this.props.editorState===m.SAVING)o=j._("Saving...");else if(this.props.editorState===m.UNSAVED)o=j._("Unsaved");return c("React").createElement("span",{className:"_647o"},c("React").createElement("span",{className:"_647p"},c("React").createElement("span",{className:"_647q"},c("React").createElement("span",{className:"_647r"},c("React").createElement(c("Image.react"),{src:h("126813")})),c("React").createElement("span",{className:"_647s"},o)),c("React").createElement("span",null,c("React").createElement(c("XUIButton.react"),{disabled:this.props.disableSection,href:"#",onClick:this.props.onCancel,label:j._("Cancel"),size:"xlarge",use:"default"}),c("React").createElement(c("XUIButton.react"),{disabled:this.props.editorState!==m.UNSAVED,href:"#",onClick:this.props.onSaveDraft,label:j._("Save Draft"),size:"xlarge",use:"confirm"})),c("React").createElement(c("FBConfirmDialog.react"),{className:"_2rjw",title:j._("Save"),content:j._("Save changes to your caption?"),confirmButtonText:j._("Save"),cancelButtonText:j._("Exit without saving"),onConfirm:function(){return this.props.onConfirm&&this.props.onConfirm()}.bind(this),onCancel:function(){return this.props.onDontSave&&this.props.onDontSave()}.bind(this),onToggle:function(p){return this.props.onToggle&&this.props.onToggle(p)}.bind(this),shown:this.props.shouldShowExitDialog})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("VideoComposerDialogCaptionEditorFooterContainer.react",["VideoCaptionEditorStateEnums","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","FluxContainer","React","VideoComposerDialogCaptionEditorFooter.react","VideoComposerDialogCaptionEditorStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("VideoCaptionEditorStateEnums").EditorStateEnum;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogCaptionEditorFooterContainer2=function(){if(this.state.editorState===j.UNSAVED)c("VideoComposerDialogCaptionEditorActions").showExitDialog();else{c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()}}.bind(this),m}k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore"),c("VideoComposerDialogCaptionsStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionEditorStore").getState(),m=c("VideoComposerDialogCaptionsStore").getState(),n=l.language===c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED||l.language===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE||m.isCreating;return{disableSection:n,editorState:l.editorState,shouldShowExitDialog:l.get("shouldShowExitDialog")}};k.prototype.$VideoComposerDialogCaptionEditorFooterContainer1=function(){c("VideoComposerDialogCaptionEditorActions").startSaveCaptionChangeset()};k.prototype.$VideoComposerDialogCaptionEditorFooterContainer3=function(l){if(!l)c("VideoComposerDialogCaptionEditorActions").cancelCloseDialog()};k.prototype.$VideoComposerDialogCaptionEditorFooterContainer4=function(){c("VideoComposerDialogCaptionEditorActions").startSaveCaptionChangeset()};k.prototype.$VideoComposerDialogCaptionEditorFooterContainer5=function(){c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()};k.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorFooter.react"),{disableSection:this.state.disableSection,editorState:this.state.editorState,onSaveDraft:this.$VideoComposerDialogCaptionEditorFooterContainer1,onCancel:this.$VideoComposerDialogCaptionEditorFooterContainer2,shouldShowExitDialog:this.state.shouldShowExitDialog,onConfirm:this.$VideoComposerDialogCaptionEditorFooterContainer4,onDontSave:this.$VideoComposerDialogCaptionEditorFooterContainer5,onToggle:this.$VideoComposerDialogCaptionEditorFooterContainer3})};f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogLandingScreenLanguageSelector.react",["ix","cx","fbt","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","Image.react","LanguageDialectInlineTypeahead.react","LanguageDialectRenderStyle","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","React","XUIPopoverButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={isOpen:this.props.initiallyOpen},this.$VideoComposerDialogLandingScreenLanguageSelector2=function(s){this.setState({isOpen:false});var t=this.props.onSetDialect;if(t)t(s.getUniqueID());this.props.onSetDialectName(s.getTitle())}.bind(this),this.$VideoComposerDialogLandingScreenLanguageSelector4=function(){this.setState({isOpen:!this.state.isOpen})}.bind(this),this.$VideoComposerDialogLandingScreenLanguageSelector5=function(s){this.setState({isOpen:s})}.bind(this),o}m.prototype.$VideoComposerDialogLandingScreenLanguageSelector3=function(){return j._("Show available languages")};m.prototype.render=function(){var n=(this.props.hasBorder===false?"_3y9v":"")+(!this.props.isLanguageSelected?" _39d7":""),o=c("React").createElement("span",null,this.props.dialectName),p=this.props.hasBorder===false?c("React").createElement("span",null,c("React").createElement("span",{className:(this.props.isLanguageSelected?"_3y9w":"")+(!this.props.isLanguageSelected?" _39d8":"")},j._("Caption Language:")),c("React").createElement("span",{className:"_3y9x"},o)):c("React").createElement("span",{className:(this.props.isLanguageSelected?"_3y9x":"")+(!this.props.isLanguageSelected?" _39eb":"")},o),q=this.props.hasBorder===false?300:200,r=c("React").createElement(c("XUIPopoverButton.react"),{className:n,hasChevron:true,label:p,disabled:this.props.isDisabled,image:c("React").createElement(c("Image.react"),{src:this.props.isLanguageSelected?h("125257"):h("134869")}),maxwidth:q,onClick:this.$VideoComposerDialogLandingScreenLanguageSelector4,size:"xlarge",ref:function(s){return this.$VideoComposerDialogLandingScreenLanguageSelector1=s}.bind(this)});return c("React").createElement("span",{className:this.props.className},r,c("React").createElement(c("ContextualLayer.react"),{alignment:"left",autofocus:true,behaviors:{ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll"),LayerAutoFocus:c("LayerAutoFocus"),LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape")},contextRef:function(){return this.$VideoComposerDialogLandingScreenLanguageSelector1}.bind(this),position:"below",onToggle:this.$VideoComposerDialogLandingScreenLanguageSelector5,shown:this.state.isOpen},c("React").createElement("div",{className:"_5ge1"},c("React").createElement(c("LanguageDialectInlineTypeahead.react"),{dialectType:this.props.dialectType,onSelect:this.$VideoComposerDialogLandingScreenLanguageSelector2,placeholder:this.props.placeholder,excludedDialects:this.props.excludedDialects,hasCategories:this.props.hasCategories,renderStyle:this.props.renderStyle}))))};m.defaultProps={hasCategories:false,renderStyle:c("LanguageDialectRenderStyle").DEFAULT,initiallyOpen:false,dialectName:j._("Select Language")};f.exports=m}),null);
__d("VideoComposerDialogCaptionEditorLanguageSearchContainer.react",["cx","LanguageDialectRenderStyle","LanguageDialectSetTypes","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorStore","FluxContainer","React","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsStore","VideoComposerDialogLandingScreenLanguageSelector.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore"),c("VideoComposerDialogCaptionsStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionsStore").getState(),m=c("VideoComposerDialogCaptionEditorStore").getLanguage(),n=this.$VideoComposerDialogCaptionEditorLanguageSearchContainer1(l),o=!c("VideoComposerDialogCaptionEditorUtils").isLanguageDefaultOrEmpty(m);return{excludedDialects:n,isLanguageSelected:o,language:m}};k.prototype.$VideoComposerDialogCaptionEditorLanguageSearchContainer2=function(l){c("VideoComposerDialogCaptionEditorActions").selectLanguage(l)};k.prototype.$VideoComposerDialogCaptionEditorLanguageSearchContainer3=function(l){c("VideoComposerDialogCaptionEditorActions").selectLocale(l)};k.$VideoComposerDialogCaptionEditorLanguageSearchContainer1=function(l){var m=l.drafts,n=l.autoGeneratingLocale,o=[];if(n)o.push(c("VideoComposerDialogCaptionEditorUtils").getGenericLocale(n));m.map(function(p){o.push(c("VideoComposerDialogCaptionEditorUtils").getGenericLocale(p.locale))});return o};k.prototype.render=function(){var l=!this.state.isLanguageSelected,m="_1sfh"+(this.state.isLanguageSelected?" _2sq3":"");return c("React").createElement(c("VideoComposerDialogLandingScreenLanguageSelector.react"),{className:m,dialectType:c("LanguageDialectSetTypes").LANGUAGE_DETECTION,excludedDialects:this.state.excludedDialects,dialectName:this.state.language,isLanguageSelected:this.state.isLanguageSelected,initiallyOpen:l,hasBorder:false,placeholder:c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,renderStyle:c("LanguageDialectRenderStyle").DEFAULT,onSetDialectName:function(n){return this.$VideoComposerDialogCaptionEditorLanguageSearchContainer2(n)}.bind(this),onSetDialect:function(n){return this.$VideoComposerDialogCaptionEditorLanguageSearchContainer3(n)}.bind(this)})};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogCaptionEditorEditItem.react",["ix","cx","fbt","DialogExpansion","Image.react","React","ReactDOM","Tooltip","VideoCaptionTimestamp.react","VideoComposerDialogCaptionEditorConstants","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIError.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={text:this.props.captionData.node.text,lastTextEntryTimeinMS:null},this.$VideoComposerDialogCaptionEditorEditItem2=function(event){this.setState({text:event.target.value,lastTextEntryTimeinMS:Date.now()});this.props.onStartTyping();var t=setTimeout(function(){var u=Date.now();if(this.state.lastTextEntryTimeinMS&&u-this.state.lastTextEntryTimeinMS>=c("VideoComposerDialogCaptionEditorConstants").RESUME_PLAYBACK_AFTER){this.props.onStopTyping();clearTimeout(t)}}.bind(this),c("VideoComposerDialogCaptionEditorConstants").RESUME_PLAYBACK_AFTER)}.bind(this),this.$VideoComposerDialogCaptionEditorEditItem1=function(){this.state.text!==this.props.captionData.node.text&&this.props.onTextChange&&this.props.onTextChange(this.state.text)}.bind(this),this.$VideoComposerDialogCaptionEditorEditItem5=function(t){if(!t)this.props.onHandleDialogCancel()}.bind(this),p}n.prototype.componentDidMount=function(){if(this.props.isSelected){var o=c("ReactDOM").findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(o)}};n.prototype.componentDidUpdate=function(o){__p&&__p();if(this.props.isSelected&&!o.isSelected){var p=c("ReactDOM").findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(p)}if(!this.props.isSelected&&o.isSelected){this.refs.textInput&&this.refs.textInput.blur();this.refs.timestamp&&this.refs.timestamp.blur()}if(this.props.captionData!=o.captionData)this.setState({text:this.props.captionData.node.text})};n.prototype.render=function(){var o="_2sdr"+(this.props.isHovered&&!this.props.isSelected?" _2sds":"")+(!this.props.isSelected?" _2sdt":"")+(this.props.isSelected?" _2sdu":""),p=this.props.captionData.node,q=this.props.emptyTextWarning?j._("Empty text is not allowed"):null;return c("React").createElement("div",{className:o,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,role:"presentation"},c("React").createElement("span",{className:"_2sdv"},c("React").createElement("div",{className:"_4_9q"},c("React").createElement("span",{className:"_3o8u"},c("React").createElement(c("VideoCaptionTimestamp.react"),{durationTimeInMs:p.duration_in_ms,isSelected:this.props.isSelected,maxTime:this.props.maxTime,minTime:this.props.minTime,onTimeChange:this.props.onTimeChange,startTimeInMs:p.start_time_in_ms,ref:"timestamp"}))),c("React").createElement(c("XUIError.react"),{error:q},c("React").createElement("textarea",{className:"_2sdw",maxLength:c("VideoComposerDialogCaptionEditorConstants").SEGMENT_LENGTH,ref:"textInput",name:"caption-text",placeholder:"Type in or paste your text here...",value:this.state.text,onBlur:this.$VideoComposerDialogCaptionEditorEditItem1,onChange:this.$VideoComposerDialogCaptionEditorEditItem2}))),c("React").createElement("div",{className:"_2sdx"},this.$VideoComposerDialogCaptionEditorEditItem3(),this.$VideoComposerDialogCaptionEditorEditItem4()),this.renderLayers())};n.prototype.$VideoComposerDialogCaptionEditorEditItem3=function(){var o=c("React").createElement(c("Image.react"),{src:this.props.emptyTextWarning?h("117905"):h("125915")});return this.props.isHovered||this.props.isSelected?c("React").createElement("span",babelHelpers["extends"]({"data-tooltip-alignh":"center","data-tooltip-position":"left",onClick:this.props.onAttemptDelete},c("Tooltip").propsFor(j._("Delete")),{role:"button",tabIndex:"0"}),o):null};n.prototype.$VideoComposerDialogCaptionEditorEditItem4=function(){return(this.props.isHovered||this.props.isSelected)&&!this.props.hideInsertButton?c("React").createElement("span",babelHelpers["extends"]({"data-tooltip-alignh":"center","data-tooltip-position":"left",role:"button",tabIndex:"0",onClick:this.props.onInsert},c("Tooltip").propsFor(j._("Insert New"))),c("React").createElement(c("Image.react"),{src:h("126616")})):null};n.prototype.renderLayers=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{DialogExpansion:c("DialogExpansion")},layerHideOnBlur:false,shown:this.props.showDeleteConfirmDialog,width:400,onToggle:this.$VideoComposerDialogCaptionEditorEditItem5,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),null,j._("Delete Caption")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("XUIText.react"),{size:"header4",display:"block"},j._("This caption segment will be deleted from your video's captions. You can add or edit more caption segments later."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:j._("Cancel"),use:"default",onClick:this.props.onHandleDialogCancel}),c("React").createElement(c("XUIDialogButton.react"),{label:j._("Delete Caption"),onClick:this.props.onHandleDialogConfirm,use:"confirm"})))};n.propTypes={captionData:m.object.isRequired,hideInsertButton:m.bool,isHovered:m.bool,isSelected:m.bool.isRequired,emptyTextWarning:m.bool,maxTime:m.number,minTime:m.number,quality:m.number,showDeleteConfirmDialog:m.bool.isRequired,onAttemptDelete:m.func.isRequired,onClick:m.func.isRequired,onEditingCaptionEntry:m.func.isRequired,onHandleDialogConfirm:m.func.isRequired,onHandleDialogCancel:m.func.isRequired,onInsert:m.func.isRequired,onMouseEnter:m.func,onMouseLeave:m.func,onScrollIntoView:m.func,onTextChange:m.func.isRequired,onTimeChange:m.func.isRequired,onStartTyping:m.func.isRequired,onStopTyping:m.func.isRequired};f.exports=n}),null);
__d("VideoComposerDialogCaptionEditorEditItemContainer.react",["React","VideoComposerDialogCaptionEditorActions","VideoCaptionEditorConfig","VideoComposerDialogCaptionEditorEditItem.react","VideoComposerDialogCaptionEditorConstants","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoCaptionEditorStateEnums"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("VideoCaptionEditorStateEnums").TimestampTypes,k=c("VideoCaptionEditorStateEnums").VideoCaptionQualityEnum;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={isHovered:false,showDeleteConfirmDialog:false,emptyTextWarning:false},this.$VideoComposerDialogCaptionEditorEditItemContainer2=function(event){if(/^\s+$/.test(this.props.captionData.node.text))this.$VideoComposerDialogCaptionEditorEditItemContainer13();else this.setState({showDeleteConfirmDialog:true});event.stopPropagation()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer3=function(event){this.props.onClick&&this.props.onClick()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer6=function(){this.setState({showDeleteConfirmDialog:false})}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer5=function(){if(this.state.showDeleteConfirmDialog)this.$VideoComposerDialogCaptionEditorEditItemContainer13()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer7=function(event){var r=this.props.captionData.node.start_time_in_ms+this.props.captionData.node.duration_in_ms,s=this.props.maxTime?this.props.maxTime-r:Number.MAX_VALUE;this.props.onInsert&&this.props.onInsert(r,s);event.stopPropagation()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer8=function(){this.setState({isHovered:true})}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer9=function(){this.setState({isHovered:false})}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer4=function(r){if(r==="")this.setState({emptyTextWarning:true});else this.setState({emptyTextWarning:false});this.$VideoComposerDialogCaptionEditorEditItemContainer14({text:r})}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer10=function(r,s){if(s===j.START_TIME)this.$VideoComposerDialogCaptionEditorEditItemContainer16(r);else this.$VideoComposerDialogCaptionEditorEditItemContainer15(r)}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer11=function(){this.props.vpc&&this.props.vpc.pause()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer12=function(){this.props.vpc&&this.props.vpc.getCurrentTimePosition()*1e3<(this.props.maxTime?this.props.maxTime:0)&&this.props.vpc.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").AUTOPLAY))}.bind(this),n}l.prototype.componentDidUpdate=function(m){if(this.props.isSelected===m.isSelected)return};l.prototype.render=function(){var m=this.$VideoComposerDialogCaptionEditorEditItemContainer1(),n=this.props.captionData.node.confidence||1,o=n<c("VideoCaptionEditorConfig").caption_quality_threhold_good?k.POOR:k.GOOD;return c("React").createElement(c("VideoComposerDialogCaptionEditorEditItem.react"),{captionData:this.props.captionData,hideInsertButton:m,isHovered:this.state.isHovered,isSelected:this.props.isSelected,emptyTextWarning:this.state.emptyTextWarning,maxTime:this.props.maxTime,minTime:this.props.minTime,quality:o,showDeleteConfirmDialog:this.state.showDeleteConfirmDialog,onAttemptDelete:this.$VideoComposerDialogCaptionEditorEditItemContainer2,onClick:this.$VideoComposerDialogCaptionEditorEditItemContainer3,onEditingCaptionEntry:this.$VideoComposerDialogCaptionEditorEditItemContainer4,onHandleDialogConfirm:this.$VideoComposerDialogCaptionEditorEditItemContainer5,onHandleDialogCancel:this.$VideoComposerDialogCaptionEditorEditItemContainer6,onInsert:this.$VideoComposerDialogCaptionEditorEditItemContainer7,onMouseEnter:this.$VideoComposerDialogCaptionEditorEditItemContainer8,onMouseLeave:this.$VideoComposerDialogCaptionEditorEditItemContainer9,onScrollIntoView:this.props.onScrollIntoView,onTextChange:this.$VideoComposerDialogCaptionEditorEditItemContainer4,onTimeChange:this.$VideoComposerDialogCaptionEditorEditItemContainer10,onStartTyping:this.$VideoComposerDialogCaptionEditorEditItemContainer11,onStopTyping:this.$VideoComposerDialogCaptionEditorEditItemContainer12})};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer14=function(m){var n={node:{id:this.props.captionData.node.id,confidence:this.props.captionData.node.confidence,text:this.props.captionData.node.text,duration_in_ms:this.props.captionData.node.duration_in_ms,start_time_in_ms:this.props.captionData.node.start_time_in_ms,left:(this.props.captionData.node.start_time_in_ms?this.props.captionData.node.start_time_in_ms:c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:(this.props.captionData.node.duration_in_ms?this.props.captionData.node.duration_in_ms:c("VideoComposerDialogCaptionEditorConstants").DURATION_TIME_IN_MS)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};for(var o in m)n.node[o]=m[o];n.node.confidence=1;c("VideoComposerDialogCaptionEditorActions").editingCaptionEntry(this.props.index,n)};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer15=function(m){this.$VideoComposerDialogCaptionEditorEditItemContainer14({duration_in_ms:m})};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer16=function(m){var n=this.props.captionData.node.start_time_in_ms,o=n+this.props.captionData.node.duration_in_ms;this.$VideoComposerDialogCaptionEditorEditItemContainer14({start_time_in_ms:m,duration_in_ms:o-m})};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer13=function(){c("VideoComposerDialogCaptionEditorActions").removeCaptionEntry(this.props.index);this.setState({showDeleteConfirmDialog:false,emptyTextWarning:false})};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer1=function(){if(!this.props.maxTime)return false;var m=this.props.captionData.node.start_time_in_ms+this.props.captionData.node.duration_in_ms,n=this.props.maxTime-m;return n<=c("VideoCaptionEditorConfig").min_duration_to_insert};f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorInsertCaptionItem.react",["ix","cx","fbt","Image.react","React","Tooltip","VideoComposerDialogCaptionEditorConstants","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={text:""},this.$VideoComposerDialogCaptionEditorInsertCaptionItem1=function(event){this.setState({text:event.target.value})}.bind(this),o}m.prototype.$VideoComposerDialogCaptionEditorInsertCaptionItem2=function(){return this.props.maxDuration<=c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS};m.prototype.render=function(){return c("React").createElement("span",{className:"_39yu"+(this.$VideoComposerDialogCaptionEditorInsertCaptionItem2()?" _2sq3":"")},c("React").createElement("span",{className:"_39yv"},c("React").createElement("span",babelHelpers["extends"]({className:"_39yw","data-tooltip-alignh":"center","data-tooltip-position":"left",role:"button",tabIndex:"0",onClick:this.$VideoComposerDialogCaptionEditorInsertCaptionItem2()?undefined:function(){this.props.onInsert(0,this.props.maxDuration,this.state.text);this.setState(function(n,o){return{text:""}})}.bind(this)},c("Tooltip").propsFor(this.$VideoComposerDialogCaptionEditorInsertCaptionItem2()?j._("Too Short to Insert New"):j._("Insert New"))),c("React").createElement(c("Image.react"),{src:this.$VideoComposerDialogCaptionEditorInsertCaptionItem2()?h("118606"):h("126616")})),c("React").createElement("span",{className:"_39yx"},c("React").createElement("textarea",{className:"_39yy",ref:"newCaption",name:"caption-text",placeholder:"Type in or paste your text here...",value:this.state.text,onChange:this.$VideoComposerDialogCaptionEditorInsertCaptionItem1,rows:"1"}))))};f.exports=m}),null);
__d("VideoComposerDialogCaptionEditorListSectionContainer.react",["cx","ScrollableArea.react","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorInsertCaptionItem.react","VideoComposerDialogDispatcher","immutable","FluxContainer","React","VideoComposerDialogCaptionEditorEditItemContainer.react","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorActions","VideoPlayerController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};k.calculateState=function(){return{captions:c("VideoComposerDialogCaptionEditorStore").getCaptions(),vpc:c("VideoComposerDialogCaptionEditorStore").getVPC(),captionSelected:c("VideoComposerDialogCaptionEditorStore").getState().captionSelected,videoDuration:c("VideoComposerDialogCaptionEditorStore").getState().videoDuration}};k.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(k.getStores())};k.prototype.$VideoComposerDialogCaptionEditorListSectionContainer1=function(l){this.refs.ScrollableArea&&this.refs.ScrollableArea.getArea()&&this.refs.ScrollableArea.getArea().scrollIntoView(l)};k.prototype.$VideoComposerDialogCaptionEditorListSectionContainer2=function(l,m,n,o){if(n<c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)return;var p={node:{id:"",text:o,start_time_in_ms:m+c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS,duration_in_ms:Math.min(n,c("VideoComposerDialogCaptionEditorConstants").DURATION_TIME_IN_MS)-c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS,confidence:1,left:(m+c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:(Math.min(n,c("VideoComposerDialogCaptionEditorConstants").DURATION_TIME_IN_MS)-c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};c("VideoComposerDialogCaptionEditorActions").addCaptionEntry(l,p);c("VideoComposerDialogCaptionEditorActions").setPreviewEntry(l)};k.prototype.$VideoComposerDialogCaptionEditorListSectionContainer3=function(){var l=this.state.captions,m=l.size>0?l.map(function(n,o){return c("React").createElement(c("VideoComposerDialogCaptionEditorEditItemContainer.react"),{key:o,index:o,captionData:n,vpc:this.state.vpc,isSelected:o===this.state.captionSelected,maxTime:l.size>0&&o<l.size-1?l.get(o+1).node.start_time_in_ms:this.state.videoDuration,minTime:l.size>0&&o>0?l.get(o-1).node.start_time_in_ms+l.get(o-1).node.duration_in_ms:0,onClick:function p(){return c("VideoComposerDialogCaptionEditorActions").playPreviewEntry(o)},onScrollIntoView:function(p){return this.$VideoComposerDialogCaptionEditorListSectionContainer1(p)}.bind(this),onInsert:function(p,q){return this.$VideoComposerDialogCaptionEditorListSectionContainer2(o+1,p,q,c("VideoComposerDialogCaptionEditorConstants").EMPTY_CAPTION_TEXT)}.bind(this)})}.bind(this)):c("immutable").List();return m};k.prototype.render=function(){var l=this.state.captions,m=this.$VideoComposerDialogCaptionEditorListSectionContainer3(),n=c("React").createElement(c("VideoComposerDialogCaptionEditorInsertCaptionItem.react"),{key:"insert",maxDuration:l.size>0?l.get(0).node.start_time_in_ms:this.state.videoDuration,onInsert:function(o,p,q){return this.$VideoComposerDialogCaptionEditorListSectionContainer2(0,o,p,q)}.bind(this)});m=m.splice(0,0,n);return c("React").createElement(c("ScrollableArea.react"),{ref:"ScrollableArea",className:"_1j96"},m)};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogCaptionEditorMasterContainer.react",["FluxContainer","React","VideoComposerDialogCaptionsContainer.react","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUploadStore").getState(),l=c("VideoComposerDialogMetadataStore").getState(),m=k.videoUploader?k.videoUploader:null;return{accessToken:l.accessToken,video_id:l.videoID?l.videoID:"",videoAssetID:l.videoAssetID,videoFile:k.videoFile,composerID:null,pageID:l.targetID?l.targetID:"",isVideoUploaded:l.dialogMode!==c("VideoComposerDialogMode").VIDEO_UPLOAD||m===null||k.uploadFinished,videoDurationInSec:l.videoDuration,composerDialogMode:l.dialogMode}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionsContainer.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionEditorPlayerLoading.react",["cx","React","SUIAtlasTheme","SUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("span",{className:"_178i"},c("React").createElement("span",{className:"_178j"},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIAtlasTheme")}),c("React").createElement("span",null,this.props.text)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"video_id",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"video_id",type:"ID!"}];return{kind:"Request",operationKind:"query",name:"VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery",id:"1722809507743436",text:null,metadata:{},fragment:{kind:"Fragment",name:"VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"FragmentSpread",name:"VideoComposerDialogCaptionEditorVideoPlayerContainer_video",args:null}]}]},operation:{kind:"Operation",name:"VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:null,name:"playable_duration_in_ms",args:null,storageKey:null}]}]}]}}}();f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorPlayerSectionBodyContainer.react",["fbt","RelayModern","RelayFBEnvironment","React","VideoComposerDialogCaptionEditorPlayerLoading.react","VideoComposerDialogCaptionEditorVideoPlayerContainer.react","VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){return c("React").createElement("div",null," ",c("React").createElement(l,{cacheConfig:{force:true},environment:c("RelayFBEnvironment"),query:i||(i=function i(){return c("VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery.graphql")}),variables:{video_id:this.props.video_id},render:function o(p){var q=p.error,r=p.props;if(q)return c("React").createElement("div",null,q.message);else if(r&&r.node)return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogCaptionEditorVideoPlayerContainer.react"),{isProcessing:false,video:r.node}));return c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerLoading.react"),{text:h._("Loading Video")})}}))};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("VideoComposerDialogCaptionEditorExit.react",["ix","cx","Image.react","React","SUILink.react","SUIText.react","SUIBusinessTheme","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){__p&&__p();var m=c("React").createElement(c("Image.react"),{src:h("124201")});switch(this.props.chevronSize){case"12":m=c("React").createElement(c("Image.react"),{src:h("124199")});break;case"16":m=c("React").createElement(c("Image.react"),{src:h("124200")});break;case"24":m=c("React").createElement(c("Image.react"),{src:h("124202")});break}var n=this.props.textSize?this.props.textSize:"medium",o=this.props.weight?this.props.weight:"normal";return c("React").createElement("div",{role:"link",tabIndex:0,style:{alignItems:"center",display:"flex"},onClick:this.props.onClick},c("React").createElement("span",{className:"_1l53"},m),c("React").createElement(c("SUILink.react"),{theme:c("SUIBusinessTheme"),showUnderline:"never"},c("React").createElement(c("SUIText.react"),{cursor:"none",display:"block",size:n,weight:o},this.props.label)))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorPlayerSectionHeader.react",["cx","fbt","FBConfirmDialog.react","React","VideoComposerDialogCaptionEditorExit.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_2908"},c("React").createElement(c("VideoComposerDialogCaptionEditorExit.react"),{chevClassName:"_1l53",chevronSize:"20",textSize:"medium",weight:"bold",label:i._("Captions").toString(),onClick:this.props.onClick}),c("React").createElement(c("FBConfirmDialog.react"),{className:"_2rjw",title:i._("Save"),content:i._("Save changes to your caption?"),confirmButtonText:i._("Save"),cancelButtonText:i._("Exit without saving"),onConfirm:function(){return this.props.onConfirm&&this.props.onConfirm()}.bind(this),onCancel:function(){return this.props.onDontSave&&this.props.onDontSave()}.bind(this),onToggle:function(m){return this.props.onToggle&&this.props.onToggle(m)}.bind(this),shown:this.props.shouldShowExitDialog}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer.react",["VideoCaptionEditorStateEnums","React","FluxContainer","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorPlayerSectionHeader.react","VideoComposerDialogCaptionEditorStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("VideoCaptionEditorStateEnums").EditorStateEnum;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer1=function(){if(this.state.editorState===j.UNSAVED)c("VideoComposerDialogCaptionEditorActions").showExitDialog();else{c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()}}.bind(this),m}k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionEditorStore").getState();return{editorState:l.get("editorState"),shouldShowExitDialog:l.get("shouldShowExitDialog")}};k.prototype.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer2=function(l){if(!l)c("VideoComposerDialogCaptionEditorActions").cancelCloseDialog()};k.prototype.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer3=function(){c("VideoComposerDialogCaptionEditorActions").startSaveCaptionChangeset()};k.prototype.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer4=function(){c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()};k.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerSectionHeader.react"),{onClick:this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer1,shouldShowExitDialog:this.state.shouldShowExitDialog,onConfirm:this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer3,onDontSave:this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer4,onToggle:this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer2})};f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogCaptionEditorPlayhead.react",["cx","React","ReactDOM","VideoComposerDialogCaptionEditorConstants"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.state={positionInMs:0,poller:null}}k.prototype.UNSAFE_componentWillReceiveProps=function(l){__p&&__p();var m,n=this,o=c("ReactDOM").findDOMNode(this);o.scrollIntoView({block:"center",inline:"center"});if(l.isPlaying)(function(){var p=false,q=setInterval(function(){if(p)return;p=true;this.setState({positionInMs:this.props.vpc?this.props.vpc.getCurrentTimePosition()*1e3:0,poller:q});p=false}.bind(n),1)})();if(!l.isPlaying&&this.state.poller){clearInterval(this.state.poller);this.setState({positionInMs:this.props.vpc?this.props.vpc.getCurrentTimePosition()*1e3:0,poller:null});return}};k.prototype.componentDidUpdate=function(l,m){var n=c("ReactDOM").findDOMNode(this);n.scrollIntoView({block:"center",inline:"center"});if(m.poller!==this.state.poller&&m.poller!==null)clearInterval(m.poller)};k.prototype.render=function(){return c("React").createElement("span",null,c("React").createElement("span",{className:"_kzx",style:{left:this.state.positionInMs*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT-4}}),c("React").createElement("span",{className:"_kzw",style:{left:this.state.positionInMs*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}}))};f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorPlayheadContainer.react",["FluxContainer","React","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorPlayhead.react","VideoPlayerController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};j.calculateState=function(){var k=c("VideoComposerDialogCaptionEditorStore").getState();return{isPlaying:k.isPlaying,vpc:k.vpc}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorPlayhead.react"),{isPlaying:this.state.isPlaying,vpc:this.state.vpc})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionEditorRightSectionContainer.react",["FluxContainer","React","VideoComposerDialogCaptionEditorRightSection.react","VideoComposerDialogCaptionEditorStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};j.calculateState=function(){var k=c("VideoComposerDialogCaptionEditorStore").getState();return{language:k.language}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorRightSection.react"),{caption:this.props.caption,language:this.state.language})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionEditorSubtitlesDragAreaContainer.react",["cx","FluxContainer","VideoComposerDialogCaptionEditorConstants","immutable","React","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorSubtitlesDragArea.react","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionEditorStore").getState();return{list:l.captions,duration:l.videoDuration,captionSelected:l.captionSelected}};k.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogCaptionEditorStore")])};k.prototype.render=function(){return c("React").createElement("div",{className:"_647y"},c("React").createElement(c("VideoComposerDialogCaptionEditorSubtitlesDragArea.react"),{list:this.state.list,captionSelected:this.state.captionSelected,duration:this.state.duration+c("VideoComposerDialogCaptionEditorConstants").VIDEO_DURATION_PADDING}))};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoWithHiddenSubtitles",["SubscriptionsHandler"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$VideoWithHiddenSubtitles1=i;this.$VideoWithHiddenSubtitles2=new(c("SubscriptionsHandler"))();this.$VideoWithHiddenSubtitles2.addSubscriptions(this.$VideoWithHiddenSubtitles1.addListener("muteVideo",function(){if(this.$VideoWithHiddenSubtitles1.areSubtitlesActive())this.$VideoWithHiddenSubtitles1.toggleSubtitles()}.bind(this)))}h.prototype.release=function(){"use strict";this.$VideoWithHiddenSubtitles2.release()};f.exports=h}),null);
__d("VideoComponentHideSubtitles.react",["React","VideoComponent","VideoWithHiddenSubtitles"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}j.prototype.enable=function(k){this.vpc=k;this.$VideoComponentHideSubtitles1=new(c("VideoWithHiddenSubtitles"))(this.vpc)};j.prototype.disable=function(){this.$VideoComponentHideSubtitles1.release()};j.prototype.render=function(){return null};f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComposerDialogCaptionEditorPlayerActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h=function h(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").RESET_PLAYER,video:m})},i=function i(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").SET_VPC,vpc:m})},j=function j(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").SET_CURRENT_PLAY_POSITION,position:m})},k=function k(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").SET_DURATION,duration:m})},l=function l(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").SET_PLAYER_STATE,isPlaying:m})};f.exports={resetPlayer:h,setVPC:i,setCurrentPlayPosition:j,setDuration:k,setPlayerState:l}}),null);
__d("VideoWithPlayPause",["SubscriptionsHandler","VideoPlayerReason"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l){"use strict";__p&&__p();this.$VideoWithPlayPause8=new(c("SubscriptionsHandler"))();this.$VideoWithPlayPause1=i;this.$VideoWithPlayPause9(j);this.onUpdateCurrentPlayPosition=k;this.onUpdatePlayerState=l;this.$VideoWithPlayPause5=false;this.$VideoWithPlayPause6=false;this.$VideoWithPlayPause8.addSubscriptions(this.$VideoWithPlayPause1.addListener("updateStatus",this.$VideoWithPlayPause10.bind(this)),this.$VideoWithPlayPause1.addListener("captionsList/preview",function(m){return this.$VideoWithPlayPause11(m.startTime,m.endTime)}.bind(this)),this.$VideoWithPlayPause1.addListener("pausePlayback",function(){this.$VideoWithPlayPause6=true;this.onUpdatePlayerState(false)}.bind(this)),this.$VideoWithPlayPause1.addListener("finishPlayback",function(){this.onUpdatePlayerState(false);this.$VideoWithPlayPause6=true}.bind(this)),this.$VideoWithPlayPause1.addListener("beginPlayback",function(){this.$VideoWithPlayPause6=false}.bind(this)))}h.prototype.$VideoWithPlayPause11=function(i,j){"use strict";this.$VideoWithPlayPause12(i);this.$VideoWithPlayPause13(j);this.$VideoWithPlayPause4=true;this.$VideoWithPlayPause5=false;this.$VideoWithPlayPause6=false;this.$VideoWithPlayPause1.seek(this.$VideoWithPlayPause2);this.$VideoWithPlayPause1.play(c("VideoPlayerReason").USER)};h.prototype.$VideoWithPlayPause12=function(i){"use strict";this.$VideoWithPlayPause2=i/1e3};h.prototype.$VideoWithPlayPause13=function(i){"use strict";this.$VideoWithPlayPause3=i/1e3};h.prototype.$VideoWithPlayPause9=function(i){"use strict";this.$VideoWithPlayPause7=i/1e3};h.prototype.$VideoWithPlayPause10=function(i){"use strict";__p&&__p();if(this.$VideoWithPlayPause5)this.onUpdateCurrentPlayPosition(i);if(!this.$VideoWithPlayPause6)this.onUpdatePlayerState(true);if(!this.$VideoWithPlayPause4)this.$VideoWithPlayPause5=true;if(i.position>this.$VideoWithPlayPause3){this.$VideoWithPlayPause1.pause(c("VideoPlayerReason").USER);this.$VideoWithPlayPause13(this.$VideoWithPlayPause7*1e3);this.$VideoWithPlayPause4=false}if(i.position<this.$VideoWithPlayPause2){this.$VideoWithPlayPause13(this.$VideoWithPlayPause7*1e3);this.$VideoWithPlayPause4=false}};h.prototype.release=function(){"use strict";this.$VideoWithPlayPause8.release()};f.exports=h}),null);
__d("VideoComponentWithPlayPause.react",["React","VideoComponent","VideoPlayerReason","VideoWithPlayPause","VideoComposerDialogCaptionEditorPlayerActions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}j.prototype.enable=function(k){this.vpc=k;c("VideoComposerDialogCaptionEditorPlayerActions").setVPC(k);this.videoWithPlayPause=new(c("VideoWithPlayPause"))(this.vpc,this.props.videoDuration,this.props.onUpdateCurrentPlayPosition,this.props.onUpdatePlayerState)};j.prototype.disable=function(){this.videoWithPlayPause.release()};j.prototype.render=function(){return null};f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComposerDialogCaptionEditorPlayer.react",["cx","fbt","React","VideoComponentEmbeddedControls.react","VideoComponentHideSubtitles.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentWithLoopingPlayback.react","VideoComponentWithPlayPause.react","VideoComponentWithSpacePlayPause.react","VideoComposerDialogCaptionEditorPlayerLoading.react","VideoComposerDialogConstants","VideoDataContainer.react","VideoPlayer.react","VideoPlayerOrigins","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m)}l.prototype.shouldComponentUpdate=function(m){return JSON.stringify(this.props.videoData)!==JSON.stringify(m.videoData)||this.props.captionToDisplay!==m.captionToDisplay};l.prototype.$VideoComposerDialogCaptionEditorPlayer1=function(m){return c("React").createElement(c("VideoPlayer.react"),{ref:function(n){this.ceVideoPlayer=n}.bind(this),videoData:m,width:c("VideoComposerDialogConstants").PLAYER_WIDTH,height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,playerOrigin:c("VideoPlayerOrigins").PAGES_VIDEO_TAB,subOrigin:"inline"},c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentEmbeddedControls.react"),{showSettingsButton:false,displayElapsedTime:true}),c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),null),c("React").createElement(c("VideoComponentWithSpacePlayPause.react"),null),c("React").createElement(c("VideoComponentScrubberPreview.react"),null),c("React").createElement(c("VideoComponentWithPlayPause.react"),{videoDuration:this.props.playable_duration_in_ms,onUpdateCurrentPlayPosition:this.props.onUpdateCurrentPlayPosition,onUpdatePlayerState:this.props.onUpdatePlayerState}),c("React").createElement(c("VideoComponentHideSubtitles.react"),null))};l.prototype.render=function(){__p&&__p();var m=null;if(this.props.videoData)m=this.$VideoComposerDialogCaptionEditorPlayer1(this.props.videoData);else if(!this.props.videoID)m=c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerLoading.react"),{text:i._("Loading Video Failed")});else m=c("React").createElement(c("VideoDataContainer.react"),{videoID:this.props.videoID},c("React").createElement(c("VideoPlayer.react"),{ref:function(o){this.ceVideoPlayer=o}.bind(this),videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:c("VideoComposerDialogConstants").PLAYER_WIDTH,height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,playerOrigin:c("VideoPlayerOrigins").PAGES_VIDEO_TAB,subOrigin:"inline"},c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentEmbeddedControls.react"),{showSettingsButton:false,displayElapsedTime:true}),c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),null),c("React").createElement(c("VideoComponentWithSpacePlayPause.react"),null),c("React").createElement(c("VideoComponentScrubberPreview.react"),null),c("React").createElement(c("VideoComponentWithPlayPause.react"),{videoDuration:this.props.playable_duration_in_ms,onUpdateCurrentPlayPosition:this.props.onUpdateCurrentPlayPosition,onUpdatePlayerState:this.props.onUpdatePlayerState}),c("React").createElement(c("VideoComponentHideSubtitles.react"),null)));var n=null;if(this.props.captionToDisplay)n=c("React").createElement(c("XUIText.react"),{className:"_4cmw"},this.props.captionToDisplay);return c("React").createElement("div",null,m,c("React").createElement("div",{style:{width:c("VideoComposerDialogConstants").PLAYER_WIDTH},className:"_64dy"},c("React").createElement("div",{className:"_4cmx"},n)))};f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorVideoPlayerContainer_video.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={kind:"Fragment",name:"VideoComposerDialogCaptionEditorVideoPlayerContainer_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"playable_duration_in_ms",args:null,storageKey:null}]};f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorVideoPlayerContainer.react",["cx","FluxContainer","VideoComposerDialogCaptionEditorPlayer.react","VideoComposerDialogCaptionsStore","immutable","RelayModern","VideoComposerDialogCaptionEditorActions","VideoPlayer.react","React","VideoComposerDialogCaptionEditorPlayerActions","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorVideoPlayerContainer_video.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RelayModern").createFragmentContainer,l=c("RelayModern").graphql,m=-1;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.$VideoComposerDialogCaptionEditorVideoPlayerContainer2=function(event){var u=event.position*1e3;c("VideoComposerDialogCaptionEditorPlayerActions").setCurrentPlayPosition(u);this.$VideoComposerDialogCaptionEditorVideoPlayerContainer3(u)}.bind(this),q}n.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore"),c("VideoComposerDialogCaptionsStore")]};n.calculateState=function(p){var q=c("VideoComposerDialogCaptionEditorStore").getState(),r=c("VideoComposerDialogCaptionsStore").getState();return{captionEntries:q.captions,previewEntry:q.previewEntry,videoData:r.videoData,videoID:q.videoID,nextEntryIdx:q.nextEntryIdx,duration:r.videoDurationInSec*1e3}};n.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogCaptionEditorPlayerActions").resetPlayer(this.props.video)};n.prototype.componentDidMount=function(){c("VideoComposerDialogCaptionEditorPlayerActions").resetPlayer(this.props.video);c("VideoComposerDialogCaptionEditorPlayerActions").setDuration(this.state.duration)};n.prototype.shouldComponentUpdate=function(p,q){return q.videoID!==this.state.videoID||q.previewEntry!==this.state.previewEntry||JSON.stringify(q.videoData)!==JSON.stringify(this.state.videoData)};n.prototype.render=function(){var p=this.state.previewEntry?this.state.previewEntry.node.text:null;return c("React").createElement("div",{className:"_1mbc"},c("React").createElement(c("VideoComposerDialogCaptionEditorPlayer.react"),{videoData:this.state.videoData,videoID:this.props.video.id,playable_duration_in_ms:this.state.duration,onUpdatePlayerState:this.$VideoComposerDialogCaptionEditorVideoPlayerContainer1,onUpdateCurrentPlayPosition:this.$VideoComposerDialogCaptionEditorVideoPlayerContainer2,captionToDisplay:p}))};n.prototype.$VideoComposerDialogCaptionEditorVideoPlayerContainer3=function(p){__p&&__p();if(this.state.captionEntries.size===0)return;var q=this.state.previewEntry?this.state.previewEntry.node.start_time_in_ms:0,r=this.state.previewEntry?this.state.previewEntry.node.duration_in_ms:0,s=q+r;if(p>=q&&p<=s)return;var t=this.state.captionEntries,u=t.get(this.state.nextEntryIdx),v=null;if(this.state.nextEntryIdx>0)v=t.get(this.state.nextEntryIdx-1);var w=u.node.start_time_in_ms+u.node.duration_in_ms,x=u.node.start_time_in_ms;if(p>=x&&p<=w){c("VideoComposerDialogCaptionEditorActions").setPreviewEntry(this.state.nextEntryIdx);return}var y=0;if(v)y=v.node.start_time_in_ms+v.node.duration_in_ms;if(p<=w&&v&&p>=y){c("VideoComposerDialogCaptionEditorActions").setPreviewEntry(m);return}var z=0;for(z=0;z<t.size;z++){var A=t.get(z).node.start_time_in_ms,B=A+t.get(z).node.duration_in_ms;if(p>=A&&p<=B){c("VideoComposerDialogCaptionEditorActions").setNextEntry(z);return}}c("VideoComposerDialogCaptionEditorActions").setPreviewEntry(m)};n.prototype.$VideoComposerDialogCaptionEditorVideoPlayerContainer1=function(p){c("VideoComposerDialogCaptionEditorPlayerActions").setPlayerState(p)};var o=k(c("FluxContainer").create(n),{video:function p(){return c("VideoComposerDialogCaptionEditorVideoPlayerContainer_video.graphql")}});o.moduleName="VideoComposerDialogCaptionEditorVideoPlayerContainer.react";f.exports=o}),null);
__d("VideoUploadUIError",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAPTION_ERROR_WRONG_FORMAT:"caption_error_wrong_format",CAPTION_ERROR_DUPLICATE_LOCALE:"caption_error_duplicate_locale",CAPTION_ERROR_GENERATE_FAIL:"caption_error_generate_fail",CAPTION_ERROR_CREATE_FAIL:"caption_error_create_fail",CAPTION_ERROR_DELETE_FAIL:"caption_error_delete_fail",AUTOGENERATE_FAIL_RETRY:"auto_generate_fail_retry"})}),null);
__d("VideoUploadUILoggerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIDEO_FILE_SELECTED:"video_file_selected",TAB_SWITCH:"tab_switch",CAPTION_UPLOAD_BUTTON_CLICKED:"caption_upload_button_clicked",CAPTION_SELECTED:"caption_selected",CAPTION_REMOVED:"caption_removed",CAPTION_DEFAULT_LOCALE_CHANGED:"caption_default_locale_changed",CAPTION_ERROR:"caption_error",CONTENT_TAGS_SELECTED:"content_tags_selected",CONTENT_TAGS_REMOVED:"content_tags_removed",PERMISSIONS_CHANGED:"permissions_changed",CAPTION_GENERATE_BUTTON_CLICKED:"caption_generate_button_clicked",CAPTION_GENERATE_COMPLETE:"caption_generate_complete",CAPTION_GENERATE_CANCEL:"caption_generate_cancel",CAPTION_CREATE_BUTTON_CLICKED:"caption_create_button_clicked",CAPTION_CREATE_COMPLETE:"caption_create_complete",CAPTION_UPLOAD_COMPLETE:"caption_upload_complete",VIDEO_LANGUAGE_SELECTED:"video_language_selected",CAPTION_DRAFT_EDITED:"caption_draft_edited",CAPTION_DRAFT_DELETED:"caption_draft_deleted",CAPTION_PUBLISHED_EDITED:"caption_published_edited",CAPTION_PUBLISHED_DELETED:"caption_published_deleted"})}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer.react",["FluxContainer","VideoComposerDialogCaptionEditorConstants","immutable","React","VideoCaptionFile","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionLandingAddSubtitleButtons.react","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogUploadStore","VideoUploadUIError","VideoUploadUILoggerEvents"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){__p&&__p();var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer3=function(){this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer4(c("VideoUploadUILoggerEvents").CAPTION_CREATE_BUTTON_CLICKED);c("VideoComposerDialogCaptionsTabActions").create()}.bind(this),this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer5=function(p){__p&&__p();var q=this.state.enableOldDataModel?this.state.localCaptionFiles.concat(this.state.captionURLsForXPost):this.state.captions,r=[],s=p.files,t=null,u=null;Array.from(s).forEach(function(x){var y=c("VideoCaptionFile").fromFile(x),z=this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer6(y,q);if(z){t=z;u=y}else if(y)r.push(y)}.bind(this));if(t){var v=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(t,u?u.getLocaleName():null),w=c("immutable").List([v]);c("VideoComposerDialogCaptionsTabActions").updateErrorState(w)}else if(this.state.enableOldDataModel)c("VideoComposerDialogCaptionsTabActions").uploadLocalCaptions(r);else c("VideoComposerDialogCaptionsTabActions").upload(r)}.bind(this),this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer7=function(){this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer4(c("VideoUploadUILoggerEvents").CAPTION_UPLOAD_BUTTON_CLICKED)}.bind(this),l}j.getStores=function(){return[c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]};j.calculateState=function(){var k=c("VideoComposerDialogCaptionsStore").shouldEnableOldDataModel(),l=c("VideoComposerDialogCaptionsStore").getEnableAdvancedCaptionsFeatures(),m=c("VideoComposerDialogUploadStore").isUploading(),n=c("VideoComposerDialogCaptionsStore").isSpokenLanguageSelected(),o=c("VideoComposerDialogMetadataStore").getState(),p=o.accessToken,q=o.dialogMode,r=o.videoID,s=q===c("VideoComposerDialogMode").VIDEO_EDIT&&c("VideoComposerDialogCaptionsStore").getState().get("hasAutoGenV1")&&k,t=false;if(l)t=m||!n;else if(!k)t=m;return{accessToken:p,autoGenV1Subtitle:c("VideoComposerDialogCaptionsStore").getState().get("autoGenV1Subtitle"),captions:c("VideoComposerDialogCaptionsStore").getAllCaptions(),captionURLsForXPost:c("VideoComposerDialogCaptionsStore").getState().get("captionURLs"),disableButtons:t,localCaptionFiles:c("VideoComposerDialogCaptionsStore").getState().get("localCaptionFiles"),enableOldDataModel:k,shouldShowCaptionEditorV1:s,hasAutoGenerated:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer1(c("VideoComposerDialogCaptionsStore").getState()),isAutoGenerating:c("VideoComposerDialogCaptionsStore").getState().isAutoGenerating,spokenLanguage:c("VideoComposerDialogCaptionsStore").getSpokenLanguage(),spokenLocale:c("VideoComposerDialogCaptionsStore").getSpokenLocale(),autoGeneratingLocale:c("VideoComposerDialogCaptionsStore").getAutoGeneratingLocale(),enableFeatures:l,videoID:r}};j.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer1=function(k){__p&&__p();for(var l=k.drafts,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}var p=o;if(p.creationMethod===c("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED)return true}return false};j.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer2=function(){c("VideoComposerDialogCaptionsTabActions").generate()};j.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer4=function(k,l){c("VideoComposerDialogCaptionsStore").getLogger().setEvent(k).setError(l).log()};j.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer6=function(k,l){var m=null;if(!k)m=c("VideoUploadUIError").CAPTION_ERROR_WRONG_FORMAT;else if(this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer8(k.getLocale(),l))m=c("VideoUploadUIError").CAPTION_ERROR_DUPLICATE_LOCALE;return m};j.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer8=function(k,l){var m=l.some(function(p){return p.locale===k}),n=c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(this.state.autoGeneratingLocale||""),o=n===k;return m||o};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleButtons.react"),{autoGenV1Subtitle:this.state.autoGenV1Subtitle,disableButtons:this.state.disableButtons,accessToken:this.state.accessToken,localCaptionFiles:this.state.localCaptionFiles,enableFeatures:this.state.enableFeatures,shouldShowCaptionEditorV1:this.state.shouldShowCaptionEditorV1,hasAutoGenerated:this.state.hasAutoGenerated,isAutoGenerating:this.state.isAutoGenerating,spokenLanguage:this.state.spokenLanguage,spokenLocale:this.state.spokenLocale,onGenerate:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer2,onCreate:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer3,onUpload:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer5,onUploadClick:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer7,videoID:this.state.videoID})};f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleSectionContainer.react",["FluxContainer","VideoComposerDialogCaptionLandingAddSubtitleSection.react","React","VideoComposerDialogCaptionsStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogUploadStore")]};j.calculateState=function(){var k=c("VideoComposerDialogCaptionsStore").getState(),l=k.published&&k.published.size>0||k.drafts&&k.drafts.size>0,m=c("VideoComposerDialogCaptionsStore").getEnableAdvancedCaptionsFeatures(),n=c("VideoComposerDialogCaptionsStore").shouldEnableOldDataModel(),o=c("VideoComposerDialogCaptionsStore").isSpokenLanguageSelected(),p=c("VideoComposerDialogUploadStore").isUploading(),q=false;if(m)q=p||!o;else if(!n)q=p;return{disableSection:q,doSubtitlesExist:l,enableFeatures:m}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionsContainer.react",["cx","fbt","FluxContainer","React","UserAgent","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorDialog.react","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionLandingSection.react","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogDispatcher","VideoComposerDialogMode","XUINotice.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};l.$VideoComposerDialogCaptionsContainer1=function(m){for(var n=0;n<m.drafts.size;n++)if(m.drafts.get(n).locale!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)return true;return false};l.calculateState=function(){var m=c("VideoComposerDialogCaptionsStore").getState(),n=false;if(c("VideoComposerDialogCaptionsStore").shouldEnableOldDataModel())n=!m.get("captionURLs").isEmpty()||!m.get("localCaptionFiles").isEmpty();else n=this.$VideoComposerDialogCaptionsContainer1(m);return{caption:m.selectedCaption,show_caption_editor:m.show_caption_editor,showDrafts:n,isAutoGenerating:m.isAutoGenerating,errors:m.errors,enableFeatures:c("VideoComposerDialogCaptionsStore").getEnableAdvancedCaptionsFeatures()}};l.prototype.UNSAFE_componentWillMount=function(){__p&&__p();c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogCaptionEditorStore")]);if(this.props.composerDialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST)return;var m=c("VideoComposerDialogCaptionsStore").getState();if(m.video_id!==this.props.video_id||m.videoFile!==this.props.videoFile){c("VideoComposerDialogCaptionsTabActions").resetCaptionsLandingTab();c("VideoComposerDialogCaptionsTabActions").initialize(this.props.videoFile,this.props.video_id,this.props.accessToken,this.props.composerID,this.props.pageID,this.props.videoDurationInSec,this.props.composerDialogMode,this.props.isOldComposer!==null?this.props.isOldComposer:false);if(this.props.isOldComposer!==true)c("VideoComposerDialogCaptionsTabActions").tryLogCaptionLandingScreenOpenEvent()}else{c("VideoComposerDialogCaptionsTabActions").tryResumeAutoGeneration();return}};l.prototype.UNSAFE_componentWillReceiveProps=function(m){if(m.composerDialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST)return;var n=m.video_id!==null&&m.video_id!=="",o=this.props.video_id!==m.video_id,p=this.props.videoFile!==m.videoFile;if(n&&(o||p)){c("VideoComposerDialogCaptionsTabActions").initialize(m.videoFile,m.video_id,this.props.accessToken,this.props.composerID,this.props.pageID,this.props.videoDurationInSec,this.props.composerDialogMode,this.props.isOldComposer!==null?this.props.isOldComposer:false);if(this.props.isOldComposer!==true||c("VideoComposerDialogCaptionsStore").wasTabOpenedInOldComposer())c("VideoComposerDialogCaptionsTabActions").tryLogCaptionLandingScreenOpenEvent()}};l.prototype.$VideoComposerDialogCaptionsContainer2=function(){c("VideoComposerDialogCaptionsTabActions").showCaptionEditor()};l.prototype.$VideoComposerDialogCaptionsContainer3=function(){c("VideoComposerDialogCaptionsTabActions").hideCaptionEditor()};l.prototype.$VideoComposerDialogCaptionsContainer4=function(){return c("UserAgent").isBrowser("Safari")};l.prototype.render=function(){if(this.$VideoComposerDialogCaptionsContainer4())return c("React").createElement(c("XUINotice.react"),{className:"_3-95",use:"warn"},i._("You're using a browser that doesn't currently support the caption editor tool. We recommend using another browser."));var m=null;if(this.state.show_caption_editor)m=c("React").createElement(c("VideoComposerDialogCaptionEditorDialog.react"),babelHelpers["extends"]({video_id:this.props.video_id},this.state,{onCloseButtonClick:function(){return this.$VideoComposerDialogCaptionsContainer3()}.bind(this)}));return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogCaptionLandingSection.react"),{isAutoGenerating:this.state.isAutoGenerating,shouldShowDrafts:this.state.showDrafts,errors:this.state.errors,isVideoUploaded:this.props.isVideoUploaded,enableFeatures:this.state.enableFeatures}),m)};function l(){j.apply(this,arguments)}f.exports=c("FluxContainer").create(l)}),null);
__d("VideoComposerDialogCaptionsTabContainer.react",["FluxContainer","React","VideoComposerDialogCaptionsTabConfig","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{isSelected:l===c("VideoComposerDialogTab").CAPTIONS}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogCaptionsTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogLandingScreenDefaultLanguageSection.react",["fbt","VideoComposerDialogField.react","XUISingleSelector.react","immutable","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("XUISingleSelector.react").Option;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.$VideoComposerDialogLandingScreenDefaultLanguageSection1=function(m){this.props.onSelectLocale(m)};l.prototype.render=function(){var m=h._("Default Language"),n=h._("If the user's preferred caption language isn't available, captions in this language will be used instead.");return c("React").createElement(c("VideoComposerDialogField.react"),{input:this.getDropdownMenu(),subtitle:n,title:m})};l.prototype.getDropdownMenu=function(){var m=this.props.captionLocales.toArray().map(function(n){return c("React").createElement(k,{value:n.locale,key:n.locale},n.fbt)});if(!this.props.defaultLocale)m.unshift(c("React").createElement(k,{value:"",key:""},h._("Choose language")));return c("React").createElement(c("XUISingleSelector.react"),{name:"default_locale_selector",size:"xlarge",disabled:!this.props.enableSection,onChange:function(n){return this.$VideoComposerDialogLandingScreenDefaultLanguageSection1(n.value)}.bind(this),value:this.props.defaultLocale||""},m)};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogLandingScreenDefaultLanguageContainer.react",["FluxContainer","immutable","React","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogLandingScreenDefaultLanguageSection.react","VideoComposerDialogMetadataStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){__p&&__p();var k=c("VideoComposerDialogCaptionsStore").getState(),l=c("VideoComposerDialogMetadataStore").getState(),m=l.isVideoAssetOwner,n=c("VideoComposerDialogCaptionsStore").shouldEnableOldDataModel()?k.localCaptionFiles:k.captionFiles,o=null,p=[];n.forEach(function(s){if(s===null)return;if(s.getIsDefault())o=s.getLocale();p.push({locale:s.getLocale(),fbt:s.getLocaleName()})});p=c("immutable").List(p);var q=p.size>0,r=c("VideoComposerDialogCaptionsStore").getIsCrosspostMode()&&!m;return{defaultLocale:o,captionLocales:p,enableSection:q,hideSection:r}};j.prototype.$VideoComposerDialogLandingScreenDefaultLanguageContainer1=function(k){c("VideoComposerDialogCaptionsTabActions").setDefaultLocale(k)};j.prototype.render=function(){return this.state.hideSection?null:c("React").createElement(c("VideoComposerDialogLandingScreenDefaultLanguageSection.react"),{captionLocales:this.state.captionLocales,defaultLocale:this.state.defaultLocale,enableSection:this.state.enableSection,onSelectLocale:function(k){return this.$VideoComposerDialogLandingScreenDefaultLanguageContainer1(k)}.bind(this)})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoSubtitlePublishedStatusType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DRAFT:0,PUBLISHED:1,PUBLISH_PENDING:2})}),null);
__d("VideoComposerDialogCaptionEditorPublishStateEnum",["keyMirrorRecursive","VideoSubtitlePublishedStatusType"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze(c("keyMirrorRecursive")(c("VideoSubtitlePublishedStatusType")));f.exports=h}),null);
__d("VideoComposerDialogCaptionMode",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADVANCED_FEATURES_WITH_SUBTITLES:"advanced_features_with_subtitles",REGULAR_FEATURES_WITH_SUBTITLES:"regular_features_with_subtitles",OLD_DATA_MODEL:"old_data_model"})}),null);
__d("VideoComposerDialogLandingScreenItem.react",["ix","cx","fbt","Image.react","React","SUIAtlasTheme","SUIButton.react","Tooltip","VideoComposerDialogCaptionEditorConstants","XUIAbstractGlyphButton.react","VideoComposerDialogCaptionMode","XUICardSection.react","XUIText.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$VideoComposerDialogLandingScreenItem2=function(){if(!this.props.disabled)this.props.onDelete()}.bind(this),o}m.prototype.render=function(){var n=this.$VideoComposerDialogLandingScreenItem1(),o=this.props.disabled?j._("This caption is present on the original video and cannot be modified. It will be carried over with your new post."):null,p=c("React").createElement(c("XUIAbstractGlyphButton.react"),{className:"_35mi",image:this.props.disabled?c("React").createElement(c("Image.react"),{src:h("394830")}):c("React").createElement(c("Image.react"),{src:h("394831")}),label:j._("Delete"),labelIsHidden:true,onClick:this.$VideoComposerDialogLandingScreenItem2}),q=this.props.captionsFeaturesMode===c("VideoComposerDialogCaptionMode").OLD_DATA_MODEL?null:c("React").createElement("div",{className:"_35m9",title:this.props.hoverText},c("React").createElement(c("SUIButton.react"),{borderedSides:[],disabled:this.props.disabled,hasHoverState:false,label:"ChangeState",labelIsHidden:true,icon:this.props.icon,height:"tall",theme:c("SUIAtlasTheme"),uniformOverride:c("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,onClick:this.props.onChangeState,use:"default"}));return c("React").createElement(c("XUICardSection.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(o),{className:"_35ly"+(this.props.disabled?" _66_w":"")}),c("React").createElement("div",{className:"_35lz"},q,c("React").createElement(c("XUIText.react"),{className:"_35ma",size:"header4",weight:"bold"},this.props.text)),c("React").createElement("div",{className:"_35mg"},n,p))};m.prototype.$VideoComposerDialogLandingScreenItem1=function(){if(!this.props.editable||this.props.captionsFeaturesMode!==c("VideoComposerDialogCaptionMode").ADVANCED_FEATURES_WITH_SUBTITLES)return null;return c("React").createElement("span",{className:"_35mh"},c("React").createElement(c("SUIButton.react"),{borderedSides:[],hasHoverState:false,label:"Edit",labelIsHidden:true,icon:c("React").createElement(c("Image.react"),{src:h("363763")}),style:{marginRight:19},theme:c("SUIAtlasTheme"),uniformOverride:c("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,onClick:function(){return this.props.onEdit()}.bind(this),use:"default"}))};f.exports=m}),null);
__d("VideoComposerDialogLandingScreenDraftListContainer.react",["ix","fbt","FbtResultBase","FluxContainer","Image.react","React","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorPublishStateEnum","VideoComposerDialogCaptionMode","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogCaptionEditorActions","VideoComposerDialogLandingScreenGeneratePillContainer.react","VideoComposerDialogLandingScreenItem.react","XUICard.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};l.calculateState=function(){var m=c("VideoComposerDialogCaptionsStore").getState();return{captionsFeaturesMode:m.captionsFeaturesMode,drafts:m.drafts,captionURLs:m.get("captionURLs"),isAutoGenerating:m.isAutoGenerating,localCaptionFiles:m.get("localCaptionFiles")}};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer1=function(m){if(m===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED)return i._("Published");else if(m===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)return i._("Publish Pending");else return i._("Draft")};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer2=function(m){if(m===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED)return c("React").createElement(c("Image.react"),{src:h("119371")});else if(m===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)return c("React").createElement(c("Image.react"),{src:h("132187")});return c("React").createElement(c("Image.react"),{src:h("125832")})};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer3=function(m,n){var o=this.$VideoComposerDialogLandingScreenDraftListContainer2(m.getPublishState()),p=this.$VideoComposerDialogLandingScreenDraftListContainer1(m.getPublishState()),q=i._("{language}",[i._param("language",m.getLocaleName())]);return this.$VideoComposerDialogLandingScreenDraftListContainer4(n,q,o,p,true,false,true,function(){},function(){return c("VideoComposerDialogCaptionsTabActions").deleteCaptionsURL(n)},function(){return c("VideoComposerDialogCaptionsTabActions").changePublishedStateURL(n)})};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer5=function(m,n){var o=this.$VideoComposerDialogLandingScreenDraftListContainer2(c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING),p=this.$VideoComposerDialogLandingScreenDraftListContainer1(c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING),q=i._("{language}",[i._param("language",m.getLocaleName())]);return this.$VideoComposerDialogLandingScreenDraftListContainer4(n,q,o,p,true,false,false,function(){},function(){return c("VideoComposerDialogCaptionsTabActions").deleteLocalCaptionFile(n)},function(){})};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer6=function(m,n){__p&&__p();var o=null,p=this.$VideoComposerDialogLandingScreenDraftListContainer2(m.publishedState),q=this.$VideoComposerDialogLandingScreenDraftListContainer1(m.publishedState),r=true;if(m.creationMethod===c("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED)o=i._("{language}:Auto-Generated",[i._param("language",m.language)]);else if(m.creationMethod===c("VideoComposerDialogCaptionEditorConstants").SPEECH_NON_SPEECH||m.creationMethod===c("VideoComposerDialogCaptionEditorConstants").MANUAL)o=i._("{language}:Written",[i._param("language",m.language)]);else o=i._("{language}:Uploaded",[i._param("language",m.language)]);if(m.locale===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)r=false;return this.$VideoComposerDialogLandingScreenDraftListContainer4(n,o,p,q,r,true,false,function(){return this.$VideoComposerDialogLandingScreenDraftListContainer7(n)}.bind(this),function(){return c("VideoComposerDialogCaptionsTabActions").deleteCaptionsDraft(n)},function(){return c("VideoComposerDialogCaptionsTabActions").changePublishedState(n)})};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer7=function(m){var n=this.state.drafts.get(m);c("VideoComposerDialogCaptionsTabActions").editCaptionsDraft(m);c("VideoComposerDialogCaptionEditorActions").selectLanguage(n.language);c("VideoComposerDialogCaptionEditorActions").selectLocale(n.locale)};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer4=function(m,n,o,p,q,r,s,t,u,v){if(!q)return null;return c("React").createElement(c("VideoComposerDialogLandingScreenItem.react"),{disabled:s,captionsFeaturesMode:this.state.captionsFeaturesMode,hoverText:p,icon:o,id:m,key:m+n,text:n,editable:r,onChangeState:v,onEdit:t,onDelete:u})};l.prototype.render=function(){__p&&__p();var m=this.state.isAutoGenerating?{}:{display:"none"},n=null;if(this.state.captionsFeaturesMode===c("VideoComposerDialogCaptionMode").OLD_DATA_MODEL){n=this.state.captionURLs.map(function(o,p){var q=this.$VideoComposerDialogLandingScreenDraftListContainer3(o,p);return q}.bind(this));n=n.concat(this.state.localCaptionFiles.map(function(o,p){var q=this.$VideoComposerDialogLandingScreenDraftListContainer5(o,p);return q}.bind(this)))}else n=this.state.drafts?this.state.drafts.map(function(o,p){return this.$VideoComposerDialogLandingScreenDraftListContainer6(o,p)}.bind(this)):null;return c("React").createElement("div",null,c("React").createElement("span",{style:m},c("React").createElement(c("VideoComposerDialogLandingScreenGeneratePillContainer.react"),null)),n===null||n.size===0?null:c("React").createElement(c("XUICard.react"),null,n))};function l(){j.apply(this,arguments)}f.exports=c("FluxContainer").create(l)}),null);
__d("VideoComposerDialogLandingScreenGeneratePill.react",["ix","cx","fbt","SUIAtlasTheme","SUIButton.react","VideoComposerDialogCaptionEditorConstants","Image.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("React").createElement(c("Image.react"),{src:h("116818")}),o=c("React").createElement(c("SUIButton.react"),{borderedSides:[],hasHoverState:false,label:"Delete",labelIsHidden:true,icon:c("React").createElement(c("Image.react"),{src:h("116302")}),onClick:function(){return this.props.onCancel()}.bind(this),uniformOverride:c("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,theme:c("SUIAtlasTheme"),use:"default"});return c("React").createElement("div",{className:"_3re4"},c("React").createElement("div",{style:{width:this.props.progress*c("VideoComposerDialogCaptionEditorConstants").GENERATION_PILL_WIDTH/100},className:"_3re6"}),c("React").createElement("span",{className:"_3re7"},c("React").createElement("span",{className:"_3re9"},c("React").createElement("span",{className:"_3reh"},n),c("React").createElement("span",{className:"_3req"},j._("{percentage}",[j._param("percentage",Math.round(this.props.progress)+"%")])),c("React").createElement("span",{className:"_3req"},this.props.text)),c("React").createElement("div",{className:"_3rer"},o)))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogLandingScreenGeneratePillContainer.react",["fbt","FluxContainer","React","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogLandingScreenGeneratePill.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionsStore").getState();return{text:h._("Generating Captions in {spokenLanguage}",[h._param("spokenLanguage",l.spokenLanguage)]),progress:l.progress}};k.prototype.$VideoComposerDialogLandingScreenGeneratePillContainer1=function(){c("VideoComposerDialogCaptionsTabActions").cancelGenerate()};k.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogLandingScreenGeneratePill.react"),{text:this.state.text,progress:this.state.progress,onCancel:function(){return this.$VideoComposerDialogLandingScreenGeneratePillContainer1()}.bind(this)})};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogLandingScreenSpokenLanguageSection.react",["fbt","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogField.react","LanguageDialectRenderStyle","LanguageDialectSetTypes","React","VideoComposerDialogLandingScreenLanguageSelector.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=h._("Video Language"),m=h._("Choose the main language spoken in the video."),n=c("React").createElement(c("VideoComposerDialogLandingScreenLanguageSelector.react"),{dialectType:c("LanguageDialectSetTypes").LANGUAGE_DETECTION,dialectName:this.props.spokenLanguage,isDisabled:this.props.isDisabled,isLanguageSelected:this.props.isSpokenLanguageSelected,placeholder:c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,renderStyle:c("LanguageDialectRenderStyle").DEFAULT,onSetDialectName:function(o){return this.props.onSelectLanguage(o)}.bind(this),onSetDialect:function(o){return this.props.onSelectLocale(o)}.bind(this)});return c("React").createElement(c("VideoComposerDialogField.react"),{input:n,subtitle:m,title:l,showTopBorder:false,disableLeftSection:this.props.isDisabled})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogLandingScreenSpokenLanguageContainer.react",["FluxContainer","React","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogLandingScreenSpokenLanguageSection.react","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogUploadStore")]};j.calculateState=function(){return{hideSection:!c("VideoComposerDialogCaptionsStore").getEnableAdvancedCaptionsFeatures(),disableSection:c("VideoComposerDialogUploadStore").isUploading(),spokenLanguage:c("VideoComposerDialogCaptionsStore").getSpokenLanguage(),isSpokenLanguageSelected:c("VideoComposerDialogCaptionsStore").isSpokenLanguageSelected()}};j.prototype.$VideoComposerDialogLandingScreenSpokenLanguageContainer1=function(k){c("VideoComposerDialogCaptionsTabActions").selectSpokenLanguage(k)};j.prototype.$VideoComposerDialogLandingScreenSpokenLanguageContainer2=function(k){c("VideoComposerDialogCaptionsTabActions").selectSpokenLocale(k)};j.prototype.render=function(){return this.state.hideSection?null:c("React").createElement(c("VideoComposerDialogLandingScreenSpokenLanguageSection.react"),{spokenLanguage:this.state.spokenLanguage,isDisabled:this.state.disableSection,isSpokenLanguageSelected:this.state.isSpokenLanguageSelected,onSelectLanguage:function(k){return this.$VideoComposerDialogLandingScreenSpokenLanguageContainer1(k)}.bind(this),onSelectLocale:function(k){return this.$VideoComposerDialogLandingScreenSpokenLanguageContainer2(k)}.bind(this)})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogSphericalDirectorContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogSphericalDirectorActions","VideoComposerDialogSphericalDirectorSection.react","VideoComposerDialogSphericalDirectorStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogSphericalDirectorStore"),c("VideoComposerDialogUploadStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogSphericalDirectorStore").getState(),l=k.contextConfig,m=k.showOmnistabSection,n=k.spherical,o=c("VideoComposerDialogUploadStore").getState(),p=o.videoFile,q=c("VideoComposerDialogMetadataStore").getState(),r=q.dialogMode,s=q.videoAssetID,t=q.videoID;return{contextConfig:l,dialogMode:r,spherical:n,showOmnistabSection:m,videoAssetID:s,videoFile:p,videoID:t}};j.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogSphericalDirectorSection.react"),{contextConfig:this.state.contextConfig,dialogMode:this.state.dialogMode,ontoggleSpherical:this.$VideoComposerDialogSphericalDirectorContainer1,showOmnistabSection:this.state.showOmnistabSection,spherical:this.state.spherical,videoAssetID:this.state.videoAssetID,videoFile:this.state.videoFile,videoID:this.state.videoID})};j.prototype.$VideoComposerDialogSphericalDirectorContainer1=function(k){c("VideoComposerDialogSphericalDirectorActions").toggleSpherical(k)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogSphericalDirectorTabContainer.react",["FluxContainer","React","VideoComposerDialogMode","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogSphericalDirectorStore","VideoComposerDialogSphericalDirectorTabConfig","VideoComposerDialogTabItem.react","VideoComposerDialogTab","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogMetadataStore").getState(),l=k.dialogMode,m=k.isSpherical,n=c("VideoComposerDialogUIStore").getState(),o=n.selectedTab;return{dialogMode:l,isSelected:o===c("VideoComposerDialogTab").SPHERICAL_DIRECTOR,isSpherical:m}};j.prototype.UNSAFE_componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogSphericalDirectorStore")])};j.prototype.render=function(){if(this.state.dialogMode!==c("VideoComposerDialogMode").VIDEO_UPLOAD&&!this.state.isSpherical)return c("React").createElement("div",null);return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogSphericalDirectorTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogBasicStore",["invariant","Promise","AdsCallToActionTypes","ComposerVideoPostUtils","EditorState","FluxReduceStore","immutable","PagesComposerBoostedPostsStore","ReactComposerPostDataUtils","ReactComposerTaggerStore","ReactComposerTaggerType","StaticSearchSource","VideoComposerDialogActionTypes","VideoComposerDialogBasicUtils","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogShowVideo","dotAccess","flattenPHPQueryData","getMentionsInputDecorator","getMentionsTextForContentState","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m={autoCrosspostToShowParent:false,bootloaded:false,canEditShowAndParent:false,composerConfig:null,contentTags:[],descriptionEditorState:c("EditorState").createEmpty(c("getMentionsInputDecorator")()),missingVideoTypeTooltipText:null,mentionsSearchSource:new(c("StaticSearchSource"))([]),playlistIDs:[],playlistOptions:{},seasonID:null,seasonOptions:{},showMissingVideoTypeTooltip:false,showParentPageName:"",showParentPageProfileURI:"",taggerSearchSource:new(c("StaticSearchSource"))([]),videoPreviewController:null,isRecapSupported:false};i=babelHelpers.inherits(n,c("immutable").Record(m));j=i&&i.prototype;function n(){i.apply(this,arguments)}k=babelHelpers.inherits(o,c("FluxReduceStore"));l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.__moduleID=f.id,q}o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){__p&&__p();switch(q.type){case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:if(q.editParams.isVideoShowPage){p=p.set("playlistIDs",q.editParams.episodeData.get("playlistIDs"));p=p.set("seasonID",q.editParams.episodeData.get("seasonID"));p=p.set("isRecapSupported",q.editParams.isRecapSupported);c("VideoComposerDialogBasicUtils").fetchVideoListOptions(q.editParams.actorID)}return p;case c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_TAB_PARAMETERS:p=this.$VideoComposerDialogBasicStore1(p,q.data);var r=c("VideoComposerDialogMetadataStore").getState(),s=r.isVideoShowPage;if(s){p=p.set("autoCrosspostToShowParent",q.data.canEditShowAndParent);p=p.set("canEditShowAndParent",q.data.canEditShowAndParent);p=p.set("showParentPageName",q.data.showParentPageName);p=p.set("showParentPageProfileURI",q.data.showParentPageProfileURI);p=p.set("isRecapSupported",q.data.isRecapSupported)}return p;case c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_DEFAULT_TAB:p=this.$VideoComposerDialogBasicStore1(p,q.data);p=p.set("contentTags",c("VideoComposerDialogBasicUtils").convertVideoTagsToEntryArray(q.data.contentTags,q.data.freeFormTags));p=p.set("descriptionEditorState",c("VideoComposerDialogBasicUtils").getEditorStateForText(q.data.description));return p;case c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_EDIT_PARAMS:p=this.$VideoComposerDialogBasicStore1(p,q.data);p=p.set("contentTags",c("VideoComposerDialogBasicUtils").convertVideoTagsToEntryArray(q.data.contentTags,q.data.freeFormTags));p=p.set("descriptionEditorState",c("VideoComposerDialogBasicUtils").getEditorStateForText(q.data.description));c("VideoComposerDialogBasicUtils").setComposerTaggerData(p.composerConfig.contextConfig.composerID,q.data.tags,q.data.locationEntry,q.data.backdate,{sponsors:q.data.sponsorTags,directShareStatus:q.data.directShareStatus,sponsorRelationship:q.data.sponsorRelationship},q.data.productTags);return p;case c("VideoComposerDialogActionTypes").HIDE_MISSING_VIDEO_TYPE_TOOLTIP:case c("VideoComposerDialogActionTypes").UPDATE_SHOW_VIDEO_TYPE:p=p.set("showMissingVideoTypeTooltip",false);return p.set("missingVideoTypeTooltipText",null);case c("VideoComposerDialogActionTypes").HIGHLIGHT_MISSING_VIDEO_TYPE:p=p.set("showMissingVideoTypeTooltip",true);return p.set("missingVideoTypeTooltipText",q.tooltipText);case c("VideoComposerDialogActionTypes").TOGGLE_CROSSPOST_TO_PARENT:return p.set("autoCrosspostToShowParent",!p.autoCrosspostToShowParent);case c("VideoComposerDialogActionTypes").UPDATE_CONTENT_TAGS:p=p.set("contentTags",q.tags);return p;case c("VideoComposerDialogActionTypes").UPDATE_DESCRIPTION_EDITOR_STATE:p=p.set("descriptionEditorState",q.editorState);return p;case c("VideoComposerDialogActionTypes").UPDATE_PLAYLIST_IDS:p=p.set("playlistIDs",q.playlistIDs);return p;case c("VideoComposerDialogActionTypes").UPDATE_SEASON_ID:p=p.set("seasonID",q.seasonID);return p;case c("VideoComposerDialogActionTypes").UPDATE_VIDEO_LIST_OPTIONS:p=p.set("playlistOptions",q.playlistOptions);p=p.set("seasonOptions",q.seasonOptions);return p;case c("VideoComposerDialogActionTypes").UPDATE_VIDEO_PREVIEW_CONTROLLER:p=p.set("videoPreviewController",q.videoPreviewController);return p;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:p=this.getInitialState();return p;default:return p}};o.prototype.$VideoComposerDialogBasicStore1=function(p,q){p=p.set("composerConfig",q.composerConfig);p=p.set("mentionsSearchSource",q.mentionsSearchSource);p=p.set("taggerSearchSource",q.taggerSearchSource);p=p.set("bootloaded",true);return p};o.prototype.getPostRequestDataToSend=function(){var p=this.getState(),q=p.bootloaded,r=p.composerConfig,s=p.autoCrosspostToShowParent,t=p.contentTags,u=p.descriptionEditorState,v=p.playlistIDs,w=p.seasonID,x=c("VideoComposerDialogMetadataStore").getState(),y=x.showVideoType,z=y===c("VideoComposerDialogShowVideo").EPISODE||y===c("VideoComposerDialogShowVideo").RECAP,A=y===c("VideoComposerDialogShowVideo").RECAP;q&&r||h(0);var B=c("getMentionsTextForContentState")(u.getCurrentContent()),C={isEpisode:z,seasonID:z?w:null,playlistIDs:v,isRecap:A},D=r.taggersConfig,E=D.get(c("ReactComposerTaggerType").TARGETING),F=E?c("dotAccess")(E,"feedTargetingGK"):false,G=c("ReactComposerPostDataUtils").getPostData({composerID:r.contextConfig.composerID,targetID:parseInt(r.contextConfig.targetID,10),composerConfig:{contextInfo:{}},useHints:F}),H=c("ReactComposerTaggerStore").hasMessagingCTA(r.contextConfig.composerID)?c("AdsCallToActionTypes").TYPES.MESSAGE_PAGE.name:null;return c("Promise").resolve({action_type_id:G.action_type_id,composertags_place:G.composertags_place,composertags_place_name:G.composertags_place_name,composertags_product_items:G.composertags_product_items,composertags_sponsor:G.composertags_sponsors,composertags_with:G.composertags_with,content_tags:c("VideoComposerDialogBasicUtils").getContentTagEntryIDs(t),cta_type:H,direct_share_status:G.direct_share_status,episode_data_json:JSON.stringify(C),feed_targeted_data:G.feed_targeted_data,free_form_tags:c("VideoComposerDialogBasicUtils").getFreeFormContentTags(t),icon_id:G.icon_id,object_id:G.object_id,object_str:G.object_str,share_to_parent_page_option_selected:s,sponsor_relationship:G.sponsor_relationship,targeted_privacy_data:G.targeted_privacy_data,xhpc_message:B})};o.prototype.getCrosspostRequestDataToSend=function(){__p&&__p();var p,q,r=this.getState(),s=r.composerConfig,t=r.contentTags,u=r.descriptionEditorState,v=(p=s)!=null?(p=p.contextConfig)!=null?p.composerID:p:p;if(!v)return c("Promise").reject();var w={},x=c("getMentionsTextForContentState")(u.getCurrentContent());w.description=x;w.content_tags=c("VideoComposerDialogBasicUtils").getContentTagEntryIDs(t);w.free_form_tags=c("VideoComposerDialogBasicUtils").getFreeFormContentTags(t);var y=c("ReactComposerTaggerStore").getTaggerData(v,c("ReactComposerTaggerType").PEOPLE)||[];w.tags=y.map(function(M){return M.getUniqueID()});var z=c("ReactComposerTaggerStore").getTaggerData(v,c("ReactComposerTaggerType").LOCATION);if(z&&z.place&&z.place.getUniqueID&&z.place.getUniqueID())w.place=z.place.getUniqueID();var A=c("ReactComposerTaggerStore").getTaggerData(v,c("ReactComposerTaggerType").ACTIVITY);if(A&&A.action&&A.object){var B=A.object;w.og_action_type_id=A.action.getUniqueID();var C=B.getAuxiliaryData();if(C&&C.original_id)w.og_object_id=B.getUniqueID();else w.og_phrase=B.getTitle()}var D=c("ReactComposerTaggerStore").getTaggerData(v,c("ReactComposerTaggerType").TARGETING),E=null,F=null;if(D){E=D.targeting;F=D.gating}var G=c("ComposerVideoPostUtils").convertBaseTargeting(E);c("ComposerVideoPostUtils").convertExcludedLocations(F);delete G.zipcodes;w.pages_feed_targeting=G;w.pages_targeting=F;var H=c("ReactComposerTaggerStore").getTaggerData(v,c("ReactComposerTaggerType").SPONSOR);if(H){var I=(H.sponsors||[]).map(function(M){return M.getUniqueID()});if(I.length>0){w.sponsor_id=I[0];w.direct_share_status=H.directShareStatus;w.sponsor_relationship=H.sponsorRelationship}}var J=c("ReactComposerTaggerStore").getTaggerData(v,c("ReactComposerTaggerType").FUNDRAISER),K=(q=J)!=null?q.charityID:q;if(K)w.fundraiser_for_story_charity_id=K;var L=c("PagesComposerBoostedPostsStore").getConfig(v);if(L!==null)w.boosted_post=L;return c("Promise").resolve(c("flattenPHPQueryData")(w))};o.prototype.getEditRequestDataToSend=function(){var p,q=this.getPostRequestDataToSend(),r=this.getState(),s=r.composerConfig,t=(p=s)!=null?(p=p.contextConfig)!=null?p.composerID:p:p;if(!t)return c("Promise").reject();var u=c("VideoComposerDialogBasicUtils").getComposerTaggerData(t);return q.then(function(v){var w={description:v.xhpc_message,content_tags:v.content_tags,episode_data:v.episode_data_json,free_form_tags:v.free_form_tags};Object.assign(w,u);return c("Promise").resolve(c("flattenPHPQueryData")(w))})};f.exports=new o(c("VideoComposerDialogDispatcher"))}),null);
__d("CrosspostingEntityType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BUSINESS:"business",PAGE:"page",MONETIZABLE_PAGES:"monetizable_pages"})}),null);
__d("XVideoComposerDialogFetchCrosspostPagesController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/crosspost_pages/",{page_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogDistributionStore",["Promise","ActorURI","AsyncRequest","CrosspostingEntityType","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","FluxReduceStore","VideoComposerDialogDistributionActions","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogTab","flattenPHPQueryData","immutable","XVideoComposerDialogFetchCrosspostPagesController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={showInNewsFeed:true,shouldShowIsMonetizable:false,allowEmbedding:true,allMonetizableSelected:false,addAsSecretVideo:false,disableShowInNewsFeed:false,crosspostPages:null,enableCrosspostRefresh:false,allowGraphicWarningOption:false,showGraphicWarning:false,blockSocial:false};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.__moduleID=f.id,p}n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").BOOTLOAD_DISTRIBUTION_TAB:return o.set("allowGraphicWarningOption",p.data.allowGraphicWarningOption);case c("VideoComposerDialogActionTypes").BOOTLOAD_DISTRIBUTION_TAB_FOR_EDIT:o=o.set("allowEmbedding",p.data.allowEmbedding);return o.set("crosspostPages",p.data.crosspostPages);case c("VideoComposerDialogActionTypes").TOGGLE_NEWS_FEED:return o.set("showInNewsFeed",!o.get("showInNewsFeed"));case c("VideoComposerDialogActionTypes").TOGGLE_EMBEDDING:return o.set("allowEmbedding",!o.get("allowEmbedding"));case c("VideoComposerDialogActionTypes").TOGGLE_SECRET_VIDEO:var q=!o.get("addAsSecretVideo");o=o.set("addAsSecretVideo",q);if(q){o=o.set("showInNewsFeed",false);o=o.set("disableShowInNewsFeed",true);o=o.set("blockSocial",true)}else{o=o.set("disableShowInNewsFeed",false);o=o.set("blockSocial",false)}return o;case c("VideoComposerDialogActionTypes").SELECT_TAB:var r=c("VideoComposerDialogMetadataStore").getState(),s=r.dialogMode;if(p.tab===c("VideoComposerDialogTab").DISTRIBUTION&&s===c("VideoComposerDialogMode").VIDEO_UPLOAD&&!Array.isArray(o.crosspostPages)){var t=c("VideoComposerDialogMetadataStore").getState();if(t.targetID)this.$VideoComposerDialogDistributionStore1(t.targetID)}return o;case c("VideoComposerDialogActionTypes").CROSSPOST_PAGES_FETCHED:o=o.set("shouldShowIsMonetizable",p.shouldShowIsMonetizable);return o.set("crosspostPages",p.pages);case c("VideoComposerDialogActionTypes").CROSSPOST_LINK_CLICKED:return o.set("enableCrosspostRefresh",true);case c("VideoComposerDialogActionTypes").REFRESH_CROSSPOST_PAGES:var u=c("VideoComposerDialogMetadataStore").getState();if(u.targetID){this.$VideoComposerDialogDistributionStore1(u.targetID);o=o.set("crosspostPages",null)}return o;case c("VideoComposerDialogActionTypes").TOGGLE_CROSSPOST_PAGE:var v=p.pageType===c("CrosspostingEntityType").MONETIZABLE_PAGES,w=o.get("allMonetizableSelected"),x=p.pageID;o=o.set("crosspostPages",o.get("crosspostPages").map(function(y){if(y.id===x)y.allow=!y.allow;if(v&&y.is_monetizable)y.allow=!w;return y}));if(v)o=o.set("allMonetizableSelected",!w);return o;case c("VideoComposerDialogActionTypes").TOGGLE_GRAPHIC_WARNING:return o.set("showGraphicWarning",!o.get("showGraphicWarning"));case c("VideoComposerDialogActionTypes").TOGGLE_BLOCK_SOCIAL:return o.set("blockSocial",!o.get("blockSocial"));case c("VideoComposerDialogActionTypes").RESET_COMPOSER:return this.getInitialState();default:return o}};n.prototype.$VideoComposerDialogDistributionStore1=function(o){var p=c("XVideoComposerDialogFetchCrosspostPagesController").getURIBuilder().setFBID("page_id",o).getURI();p=c("ActorURI").create(p,o);new(c("AsyncRequest"))().setURI(p).setHandler(function(q){var r=q.getPayload();c("VideoComposerDialogDistributionActions").crosspostPagesFetched(r.crosspostPages,r.shouldShowIsMonetizable)}).send()};n.prototype.getCrosspostRequestDataToSend=function(){var o=this.getState();return c("Promise").resolve({no_story:!o.showInNewsFeed,embeddable:o.allowEmbedding,secret:o.addAsSecretVideo,social_actions:!o.blockSocial})};n.prototype.getEditRequestDataToSend=function(){var o=this.getState(),p=this.filterCrossposted(o.crosspostPages);return c("Promise").resolve(c("flattenPHPQueryData")({embeddable:o.allowEmbedding,has_embeddable:true,crossposting_config:p}))};n.prototype.getPostRequestDataToSend=function(){var o=this.getState(),p=this.filterCrossposted(o.crosspostPages);return c("Promise").resolve({no_story:!o.showInNewsFeed,embeddable:o.allowEmbedding,secret:o.addAsSecretVideo,crossposting_config:p||[],disturbing:o.showGraphicWarning,social_actions:!o.blockSocial})};n.prototype.getIsAllMonetizableClicked=function(){var o=this.getState(),p=o.crosspostPages;if(p&&p.length>0){var q=p.find(function(r){return r.allow&&r.type===c("CrosspostingEntityType").MONETIZABLE_PAGES});return!!q}return false};n.prototype.filterCrossposted=function(o){if(!o)return null;return o.filter(function(p){return p.type!==c("CrosspostingEntityType").MONETIZABLE_PAGES})};f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogEditStore",["FluxReduceStore","immutable","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogEditUtils","VideoComposerDialogMetadataStore","VideoComposerDialogVideoTypeConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={canMakeFeatured:false,creationTime:0,downloadHDUrl:null,downloadSDUrl:null,editTabsLoaded:false,embedURL:"",isFeaturedVideo:false,isSaving:false,publishingConfig:null,selectedPublishingAction:"",editSource:null,storyDomID:null,timelineIdentifier:null};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.__moduleID=f.id,p}n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:o=o.set("canMakeFeatured",p.editParams.canMakeFeatured);o=o.set("creationTime",p.editParams.creationTime);o=o.set("downloadHDUrl",p.editParams.downloadHDUrl);o=o.set("downloadSDUrl",p.editParams.downloadSDUrl);o=o.set("editSource",p.editParams.editSource);o=o.set("embedURL",p.editParams.embedURL);o=o.set("isFeaturedVideo",p.editParams.isFeaturedVideo);o=o.set("publishingConfig",p.editParams.publishingConfig);o=o.set("selectedPublishingAction",p.editParams.publishingConfig.selectedValue);o=o.set("storyDomID",p.editParams.storyDomID);o=o.set("timelineIdentifier",p.editParams.timelineIdentifier);return o;case c("VideoComposerDialogActionTypes").EDIT_TABS_LOADED:o=o.set("editTabsLoaded",true);return o;case c("VideoComposerDialogActionTypes").UPDATE_IS_FEATURED_VIDEO:o=o.set("isFeaturedVideo",true);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO:o=o.set("isSaving",true);var q=c("VideoComposerDialogMetadataStore").getState(),r=q.actorID,s=q.videoID,t=q.videoType;if(r&&s)c("VideoComposerDialogEditUtils").onSave(r,s,c("VideoComposerDialogVideoTypeConfig").typeConfig[t].displayedTabs);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_SUCCESS:var u=c("VideoComposerDialogMetadataStore").getState();c("VideoComposerDialogEditUtils").onSuccessfulSave(u.actorID||"",u.videoID||"",u.videoAssetID||"",o.timelineIdentifier,o.storyDomID,o.editSource);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_FAILURE:o=o.set("isSaving",false);return o;case c("VideoComposerDialogActionTypes").SELECT_EDITING_PUBLISH_ACTION:o=o.set("selectedPublishingAction",p.publishAction);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:o=this.getInitialState();return o;default:return o}};f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogLoggingStore",["FluxReduceStore","VideoComposerDialogDistributionStore","immutable","VideoAssetWaterfallEvent","VideoAssetWaterfallTypedLogger","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogEditStore","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogPublishingStore","VideoComposerDialogTab","VideoComposerDialogUIEvent","VideoComposerDialogUIStore","VideoComposerDialogUITypedLogger","VideoComposerDialogVersion","VideoEditEvent","VideoEditFlow","VideoEditTypedLogger","uuid"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={actorID:null,composerEntryPointRef:null,dialogMode:null,hasBeenReset:false,hasPlayedPreview:false,selectedTab:c("VideoComposerDialogTab").BASIC,sessionID:"",videoAssetID:null,videoAssetWaterfallSource:null,videoID:null};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.__moduleID=f.id,p}n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER:o=o.set("actorID",p.actorID);o=o.set("composerEntryPointRef",p.composerEntryPointRef);o=o.set("sessionID",c("uuid")());o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_UPLOAD);this.logEventGeneric(o,c("VideoComposerDialogUIEvent").DIALOG_OPENED);return o;case c("VideoComposerDialogActionTypes").INITIALIZE_CROSSPOST_COMPOSER:o=o.set("actorID",p.params.actorID);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_CROSSPOST);o=o.set("sessionID",c("uuid")());o=o.set("videoAssetID",p.params.videoAssetID);o=o.set("videoAssetWaterfallSource",p.params.videoAssetWaterfallSource);this.logEventGeneric(o,c("VideoComposerDialogUIEvent").DIALOG_OPENED);this.logVideoAssetWaterfallEvent(o,c("VideoAssetWaterfallEvent").UI_NEW_POST_FROM_ASSET_START);return o;case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:o=o.set("actorID",p.editParams.actorID);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_EDIT);o=o.set("sessionID",c("uuid")());o=o.set("videoID",p.editParams.videoID);this.logEventGeneric(o,c("VideoComposerDialogUIEvent").DIALOG_OPENED);this.logEditWaterfallEvent(o,c("VideoEditEvent").JS_LOADED);return o;case c("VideoComposerDialogActionTypes").SELECT_TAB:this.logTabSwitchEvent(o,p.tab);o=o.set("selectedTab",p.tab);return o;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER:if(p.data)this.logEventGeneric(o,c("VideoComposerDialogUIEvent").METADATA_LOAD_SUCCESS);else this.logEventGeneric(o,c("VideoComposerDialogUIEvent").METADATA_LOAD_FAILED);return o;case c("VideoComposerDialogActionTypes").EDIT_TABS_LOADED:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").EDIT_TABS_LOADED);return o;case c("VideoComposerDialogActionTypes").UPLOAD_FAILED:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").UPLOAD_FAILURE,p.errorData.error_description);return o;case c("VideoComposerDialogActionTypes").UPLOAD_FINISHED:c("VideoComposerDialogDispatcher").waitFor([c("VideoComposerDialogMetadataStore").getDispatchToken()]);var q=c("VideoComposerDialogMetadataStore").getState(),r=q.videoID;o=o.set("videoID",r);this.logEventGeneric(o,c("VideoComposerDialogUIEvent").UPLOAD_FINISHED);return o;case c("VideoComposerDialogActionTypes").POST_FAILED:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").POST_FAILURE,p.errorMessage);if(o.dialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST)this.logVideoAssetWaterfallEvent(o,c("VideoAssetWaterfallEvent").UI_NEW_POST_FROM_ASSET_FAILURE,p.errorMessage);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_REPLACE_FILE:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_REPLACE_FILE);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_SAVE_DRAFT:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_SAVE_DRAFT);return o;case c("VideoComposerDialogActionTypes").FILE_ADDED:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").FILE_REPLACED);return o;case c("VideoComposerDialogActionTypes").BACKDATE_CONFIRM:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").POST_BACKDATE_ATTEMPT);return o;case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_CONFIRM:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").POST_DRAFT_ATTEMPT);return o;case c("VideoComposerDialogActionTypes").NAVIGATED_FROM_PAGE:var s=c("VideoComposerDialogUIStore").getState(),t=s.dialogShown;if(t)this.logEventGeneric(o,c("VideoComposerDialogUIEvent").NAVIGATED_FROM_PAGE);return o;case c("VideoComposerDialogActionTypes").PUBLISH_POST:var u=c("VideoComposerDialogMetadataStore").getState(),v=u.showRightsConfirmationDialog,w=u.title;if(!w)return o;var x=c("VideoComposerDialogPublishingStore").getState(),y=x.isDraft;if(!(v&&!y))this.logEventGeneric(o,c("VideoComposerDialogUIEvent").POST_PUBLISH_ATTEMPT);else this.logEventGeneric(o,c("VideoComposerDialogUIEvent").RIGHTS_DIALOG_SHOWN);return o;case c("VideoComposerDialogActionTypes").SCHEDULE_CONFIRM:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").POST_SCHEDULE_ATTEMPT);return o;case c("VideoComposerDialogActionTypes").POST_FINISHED:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").POST_SUCCESS);if(o.dialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST)this.logVideoAssetWaterfallEvent(o,c("VideoAssetWaterfallEvent").UI_NEW_POST_FROM_ASSET_FINISH);if(c("VideoComposerDialogDistributionStore").getIsAllMonetizableClicked())this.logEventGeneric(o,c("VideoComposerDialogUIEvent").CROSSPOST_ALL_MONETIZABLE_CLICKED);return o;case c("VideoComposerDialogActionTypes").CONFIRM_RIGHTS:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").RIGHTS_DIALOG_CONFIRM);return o;case c("VideoComposerDialogActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").CONFIRMATION_DIALOG_CLOSE);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").SAVE_EDITED_VIDEO_ATTEMPT);this.logEditWaterfallEvent(o,c("VideoEditEvent").SAVE_CLICKED);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_SUCCESS:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").SAVE_EDITED_VIDEO_SUCCESS);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_FAILURE:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").SAVE_EDITED_VIDEO_FAILURE);return o;case c("VideoComposerDialogActionTypes").SELECT_EDITING_PUBLISH_ACTION:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").SELECT_EDITING_PUBLISH_ACTION);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_ATTEMPT:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_ATTEMPT);return o;case c("VideoComposerDialogActionTypes").CLOSE_CONFIRM_DIALOG:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_CANCEL);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_CONFIRM);this.logEditWaterfallEvent(o,c("VideoEditEvent").CANCEL);return o;case c("VideoComposerDialogActionTypes").USER_PLAYED_VIDEO_PREVIEW:if(!o.hasPlayedPreview){this.logEventGeneric(o,c("VideoComposerDialogUIEvent").USER_PLAYED_VIDEO_PREVIEW);o=o.set("hasPlayedPreview",true)}return o;case c("VideoComposerDialogActionTypes").UPLOAD_LOCAL_CAPTIONS:this.logLocalCaptionsUpload(o,p.captions.length);return o;case c("VideoComposerDialogActionTypes").DELETE_LOCAL_CAPTION_FILE:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").CAPTIONS_LOCAL_FILE_DELETE);return o;case c("VideoComposerDialogActionTypes").SET_DEFAULT_CAPTION_LOCALE:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").CAPTIONS_DEFAULT_LOCALE_SELECTED);return o;case c("VideoComposerDialogActionTypes").TAB_LOAD_ERROR:this.logEventGeneric(o,c("VideoComposerDialogUIEvent").TAB_LOAD_ERROR,p.error);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:var z=this.getState();o=this.getInitialState();o=o.set("actorID",z.actorID);o=o.set("hasBeenReset",true);return o;default:return o}};n.prototype.logEventGeneric=function(o,event,p){this.$VideoComposerDialogLoggingStore1(o).setEvent(event).setErrorMessage(p).log()};n.prototype.logTabSwitchEvent=function(o,p){this.$VideoComposerDialogLoggingStore1(o).setEvent(c("VideoComposerDialogUIEvent").TAB_SWITCHED).setNextTab(p).log()};n.prototype.logLocalCaptionsUpload=function(o,p){this.$VideoComposerDialogLoggingStore1(o).setEvent(c("VideoComposerDialogUIEvent").CAPTIONS_LOCAL_FILES_UPLOAD).setCaptionsNumSelectedFiles(p).log()};n.prototype.logVideoAssetWaterfallEvent=function(o,event,p){new(c("VideoAssetWaterfallTypedLogger"))().setEvent(event).setComposerDialogVersion(c("VideoComposerDialogVersion").V2).setPageID(o.actorID).setVideoAssetIDOverride(o.videoAssetID).setError(p).setSource(o.videoAssetWaterfallSource).log()};n.prototype.logEditWaterfallEvent=function(o,event){if(o.dialogMode!==c("VideoComposerDialogMode").VIDEO_EDIT)return;var p=c("VideoComposerDialogEditStore").getState(),q=p.editSource;new(c("VideoEditTypedLogger"))().setEvent(event).setSource(q).setFlow(c("VideoEditFlow").DIALOG_V2).setVideoID(o.videoID).log()};n.prototype.$VideoComposerDialogLoggingStore1=function(o){var p=c("VideoComposerDialogEditStore").getState(),q=p.editSource;return new(c("VideoComposerDialogUITypedLogger"))().setActorID(o.actorID).setDialogMode(o.dialogMode).setVideoID(o.videoID).setVideoAssetID(o.videoAssetID).setSessionID(o.sessionID).setComposerDialogVersion(c("VideoComposerDialogVersion").V2).setComposerEntryPoint(o.composerEntryPointRef).setEditSource(q).setCurrentTab(o.selectedTab).setHasBeenReset(o.hasBeenReset).setVideoAssetWaterfallSource(o.videoAssetWaterfallSource)};f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogVideoType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BASIC_VIDEO:"basic_video"})}),null);
__d("VideoComposerDialogMetadataStore",["Promise","FluxReduceStore","immutable","VideoComposerDialogActions","VideoComposerDialogActionTypes","VideoComposerDialogAdBreakUtils","VideoComposerDialogBasicUtils","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogDispatcher","VideoComposerDialogDistributionUtils","VideoComposerDialogMode","VideoComposerDialogRightsUtils","VideoComposerDialogShowVideo","VideoComposerDialogSphericalDirectorUtils","VideoComposerDialogTabUtils","VideoComposerDialogUploadStore","VideoComposerDialogUtils","VideoComposerDialogVideoType","VideoPlayerMetaData"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={accessToken:"",actorID:null,boostedPostButtonConfig:null,composerEntryPointRef:null,dialogMode:null,highlightTitleField:false,showTitleTooltip:false,isSpherical:false,minBackdateTime:null,titleTooltipCaption:null,titleTooltipText:null,isVideoAssetOwner:true,isVideoShowPage:false,profileDisplayName:"",profilePictureURI:"",showCaptionsTab:false,showPremiereOption:false,showRightsConfirmationDialog:false,showRightsTab:false,showVideoType:null,targetID:null,title:"",userName:"",userProfilePictureURI:"",videoAssetID:null,videoDataForID:null,videoDuration:null,videoHeight:null,videoWidth:null,videoID:null,videoType:c("VideoComposerDialogVideoType").BASIC_VIDEO};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.__moduleID=f.id,p}n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER:o=o.set("actorID",p.actorID);o=o.set("targetID",p.targetID);o=o.set("composerEntryPointRef",p.composerEntryPointRef);o=o.set("isVideoAssetOwner",true);o=o.set("isVideoShowPage",p.isVideoShowPage);o=o.set("videoType",c("VideoComposerDialogVideoType").BASIC_VIDEO);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_UPLOAD);if(p.isVideoShowPage)o=o.set("showVideoType",c("VideoComposerDialogUtils").getShowVideoTypeFromEntryPoint(p.composerEntryPointRef));c("VideoComposerDialogUtils").beginBootloading(p.actorID);c("VideoComposerDialogBasicUtils").beginBootloadingDefaultTab(p.actorID);c("VideoComposerDialogDistributionUtils").beginBootloadingDistributionTab(p.actorID);c("VideoComposerDialogAdBreakUtils").beginBootloadingAdBreaksTab(p.actorID);c("VideoComposerDialogSphericalDirectorUtils").beginBootloadingSphericalDirectorUploadTab(p.actorID);c("VideoComposerDialogCaptionEditorUtils").beginBootloadingCaptionsTab(p.actorID);c("VideoComposerDialogRightsUtils").beginBootloadingRightsTab(p.actorID);return o;case c("VideoComposerDialogActionTypes").INITIALIZE_CROSSPOST_COMPOSER:o=o.set("accessToken",p.params.accessToken);o=o.set("actorID",p.params.actorID);o=o.set("boostedPostButtonConfig",p.params.boostedPostButtonConfig);o=o.set("isSpherical",p.params.isSpherical);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_CROSSPOST);o=o.set("isVideoAssetOwner",p.params.isVideoAssetOwner);o=o.set("profilePictureURI",p.params.profilePictureURI);o=o.set("profileDisplayName",p.params.profileDisplayName);o=o.set("title",p.params.title);o=o.set("userName",p.params.userName);o=o.set("userProfilePictureURI",p.params.userProfilePictureURI);o=o.set("videoAssetID",p.params.videoAssetID);o=o.set("videoType",c("VideoComposerDialogVideoType").BASIC_VIDEO);o=o.set("showCaptionsTab",p.params.showCaptionsTab);c("VideoPlayerMetaData").genVideoData(o.videoAssetID).then(function(s){return c("VideoComposerDialogActions").loadVideoDataForID(s)}).done();c("VideoComposerDialogTabUtils").fetchCrosspostParameters(o.videoType,p.params);return o;case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:o=o.set("actorID",p.editParams.actorID);o=o.set("targetID",p.editParams.actorID);o=o.set("title",p.editParams.title);o=o.set("isVideoAssetOwner",p.editParams.isVideoAssetOwner);o=o.set("isVideoShowPage",p.editParams.isVideoShowPage);if(p.editParams.isVideoShowPage)o=o.set("showVideoType",p.editParams.episodeData.get("isEpisode")?p.editParams.episodeData.get("isRecap")?c("VideoComposerDialogShowVideo").RECAP:c("VideoComposerDialogShowVideo").EPISODE:c("VideoComposerDialogShowVideo").BASIC_VIDEO);o=o.set("videoDuration",p.editParams.videoDuration);o=o.set("videoID",p.editParams.videoID);o=o.set("videoAssetID",p.editParams.videoAssetID);o=o.set("accessToken",p.editParams.accessToken);o=o.set("profileDisplayName",p.editParams.profileDisplayName);o=o.set("profilePictureURI",p.editParams.profilePictureURI);o=o.set("userProfilePictureURI",p.editParams.userProfilePictureURI);o=o.set("userName",p.editParams.userName);o=o.set("isSpherical",p.editParams.isSpherical);o=o.set("videoType",c("VideoComposerDialogVideoType").BASIC_VIDEO);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_EDIT);o=o.set("showCaptionsTab",p.editParams.showCaptionsTab);o=o.set("showRightsTab",p.editParams.showRightsTab);c("VideoPlayerMetaData").genVideoData(o.videoID).then(function(s){return c("VideoComposerDialogActions").loadVideoDataForID(s)}).done();c("VideoComposerDialogTabUtils").fetchEditPostParameters(o.videoType,p.editParams);return o;case c("VideoComposerDialogActionTypes").LOAD_VIDEO_DATA_FOR_ID:o=o.set("videoDataForID",p.videoData);return o;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_HTML_PLAYER:var q=p.videoPlayer;o=o.set("videoDuration",q.duration?q.duration:null);o=o.set("videoHeight",q.videoHeight?q.videoHeight:null);o=o.set("videoWidth",q.videoWidth?q.videoWidth:null);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_PARAMETERS:o=o.set("accessToken",p.data.accessToken);o=o.set("profileDisplayName",p.data.profileDisplayName);o=o.set("profilePictureURI",p.data.profilePictureURI);o=o.set("userProfilePictureURI",p.data.userProfilePictureURI);o=o.set("userName",p.data.userName);o=o.set("showCaptionsTab",p.data.showCaptionsTab);o=o.set("showRightsTab",p.data.showRightsTab);o=o.set("showRightsConfirmationDialog",p.data.showRightsConfirmationDialog);o=o.set("showPremiereOption",p.data.showPremiereOption);o=o.set("minBackdateTime",p.data.minBackdateTime);return o;case c("VideoComposerDialogActionTypes").UPDATE_SHOW_VIDEO_TYPE:o=o.set("showVideoType",p.showVideoType);return o;case c("VideoComposerDialogActionTypes").UPDATE_TITLE:o=o.set("title",p.title);if(p.title&&p.title.trim()){o=o.set("highlightTitleField",false);o=o.set("showTitleTooltip",false)}return o;case c("VideoComposerDialogActionTypes").HIGHLIGHT_TITLE_WITH_ERROR_TOOLTIP:o=o.set("highlightTitleField",true);o=o.set("showTitleTooltip",true);o=o.set("titleTooltipText",p.tooltipText);o=o.set("titleTooltipCaption",p.tooltipCaption);return o;case c("VideoComposerDialogActionTypes").CLOSE_TITLE_ERROR_TOOLTIP:return o.set("showTitleTooltip",false);case c("VideoComposerDialogActionTypes").UPLOAD_PROGRESSED:case c("VideoComposerDialogActionTypes").UPLOAD_FINISHED:return this.$VideoComposerDialogMetadataStore1(o);case c("VideoComposerDialogActionTypes").VIDEO_TYPE_CHANGED:o=o.set("videoType",p.videoType);return o;case c("VideoComposerDialogActionTypes").CONFIRM_RIGHTS:o=o.set("showRightsConfirmationDialog",false);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:var r=this.getState();o=this.getInitialState();o=o.set("actorID",r.actorID);o=o.set("targetID",r.targetID);o=o.set("composerEntryPointRef",r.composerEntryPointRef);return o;default:return o}};n.prototype.$VideoComposerDialogMetadataStore1=function(o){var p=c("VideoComposerDialogUploadStore").getState();if(p.videoUploader){var q=p.videoUploader.getUploadSession(),r=this.getState().get("videoID");if(q&&r!==q.getVideoID()){var s=q.getVideoID();o=o.set("videoID",s)}}return o};n.prototype.getPostRequestDataToSend=function(){var o=this.getState();return c("Promise").resolve({video_title:o.title})};n.prototype.getCrosspostRequestDataToSend=function(){var o=this.getState();return c("Promise").resolve({access_token:o.accessToken,title:o.title,video_asset_id:o.videoAssetID})};n.prototype.getEditRequestDataToSend=function(){var o=this.getState();return c("Promise").resolve({is_video_composer_v2:true,title:o.title})};f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogPublishingStore",["invariant","Promise","ExpirationTypeToExpirationTypeApiMap","FluxReduceStore","immutable","LiftTimeUtils","VideoComposerDialogActions","VideoComposerDialogActionTypes","VideoComposerDialogCrosspostUtils","VideoComposerDialogDispatcher","VideoComposerDialogEditUtils","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogUploadStore","VideoComposerDialogUploadUtils","VideoComposerDialogUtils","VideoComposerDialogVideoTypeConfig","flattenPHPQueryData"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m=c("LiftTimeUtils").MS_IN_SEC,n={backdateYear:null,backdateMonth:null,backdateDay:null,disablePublish:false,editToExpired:false,editToPublished:false,uploadErrorMessage:null,hideFromNewsFeed:false,isAdBreakPrereview:false,isPosting:false,isPostPending:false,isDraft:false,isReviewableBrandedContent:false,scheduleDate:null,originalScheduleDate:null,expireDate:null,originalExpireDate:null,expireType:null,originalExpireType:null,postEndDate:null};i=babelHelpers.inherits(o,c("immutable").Record(n));j=i&&i.prototype;function o(){i.apply(this,arguments)}k=babelHelpers.inherits(p,c("FluxReduceStore"));l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.__moduleID=f.id,r}p.prototype.getInitialState=function(){return new o()};p.prototype.reduce=function(q,r){__p&&__p();var s=c("VideoComposerDialogMetadataStore").getState(),t=s.dialogMode,u=s.showRightsConfirmationDialog;switch(r.type){case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:q=q.set("expireDate",new Date(r.editParams.publishingConfig.expirationTime));q=q.set("originalExpireDate",new Date(r.editParams.publishingConfig.expirationTime));q=q.set("expireType",r.editParams.publishingConfig.expirationType);q=q.set("originalExpireType",r.editParams.publishingConfig.expirationType);q=q.set("scheduleDate",new Date(r.editParams.publishingConfig.scheduledPublishTime));q=q.set("originalScheduleDate",new Date(r.editParams.publishingConfig.scheduledPublishTime));return q;case c("VideoComposerDialogActionTypes").FILE_ADDED:q=q.set("disablePublish",false);q=q.set("uploadErrorMessage",null);return q;case c("VideoComposerDialogActionTypes").EDIT_EXPIRATION:q=q.set("expireDate",r.expirationTime);q=q.set("expireType",r.expirationType);return q;case c("VideoComposerDialogActionTypes").EDIT_SCHEDULED_TIME:q=q.set("scheduleDate",r.scheduleDate);return q;case c("VideoComposerDialogActionTypes").EDIT_SHOULD_EXPIRE:q=q.set("editToExpired",r.expire);return q;case c("VideoComposerDialogActionTypes").EDIT_SHOULD_PUBLISH:q=q.set("editToPublished",r.publish);return q;case c("VideoComposerDialogActionTypes").BACKDATE_CONFIRM:q=q.set("backdateYear",r.year);q=q.set("backdateMonth",r.month);q=q.set("backdateDay",r.day);q=q.set("hideFromNewsFeed",r.hideFromNewsFeed);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return q;case c("VideoComposerDialogActionTypes").POST_FAILED:q=this.$VideoComposerDialogPublishingStore1(q);q=q.set("isPosting",false);q=q.set("isPostPending",false);return q;case c("VideoComposerDialogActionTypes").PUBLISH_POST:var v=c("VideoComposerDialogUploadStore").getState(),w=v.videoUploader,x=v.uploadFinished,y=c("VideoComposerDialogMetadataStore").getState(),z=y.title;this.assertNonEmptyTitle(z);if(t===c("VideoComposerDialogMode").VIDEO_CROSSPOST){q=q.set("isPosting",true);this.$VideoComposerDialogPublishingStore2()}else{if(w&&!(u&&!q.isDraft))w.postUserRequest();if(x){q=q.set("isPosting",true);this.$VideoComposerDialogPublishingStore3()}else q=q.set("isPostPending",true)}q=q.set("uploadErrorMessage",null);return q;case c("VideoComposerDialogActionTypes").UPLOAD_FAILED:q=this.$VideoComposerDialogPublishingStore1(q);q=q.set("uploadErrorMessage",r.errorData.error_summary+": "+r.errorData.error_description);q=q.set("disablePublish",true);q=q.set("isPostPending",false);return q;case c("VideoComposerDialogActionTypes").UPLOAD_FINISHED:if(q.isPostPending){q=q.set("isPostPending",false);q=q.set("isPosting",true);this.$VideoComposerDialogPublishingStore3()}return q;case c("VideoComposerDialogActionTypes").SCHEDULE_CONFIRM:if(r.scheduleDate)q=q.set("scheduleDate",r.scheduleDate);if(r.expireDate){q=q.set("expireDate",r.expireDate);q=q.set("expireType",r.expirationType)}if(r.postEndDate)q=q.set("postEndDate",r.postEndDate);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return q;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_SAVE_DRAFT:case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_CONFIRM:q=q.set("isDraft",true);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return q;case c("VideoComposerDialogActionTypes").SUBMIT_FOR_PREREVIEW:q=q.set("isAdBreakPrereview",true);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return q;case c("VideoComposerDialogActionTypes").CANCEL_UPLOAD:q=this.$VideoComposerDialogPublishingStore1(q);q=q.set("isPostPending",false).set("isPosting",false);return q;case c("VideoComposerDialogActionTypes").CONFIRM_REVIEWABLE_BRANDED_CONTENT:q=q.set("isReviewableBrandedContent",true);return q;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:q=this.getInitialState();return q;default:return q}};p.prototype.$VideoComposerDialogPublishingStore1=function(q){__p&&__p();q=q.set("backdateYear",null);q=q.set("backdateMonth",null);q=q.set("backdateDay",null);q=q.set("hideFromNewsFeed",false);q=q.set("isDraft",false);q=q.set("isReviewableBrandedContent",false);q=q.set("scheduleDate",null);q=q.set("expireDate",null);q=q.set("expireType",null);q=q.set("postEndDate",null);return q};p.prototype.$VideoComposerDialogPublishingStore3=function(){var q=c("VideoComposerDialogMetadataStore").getState(),r=q.showRightsConfirmationDialog,s=q.videoType,t=this.getState(),u=t.isDraft;if(r&&!u)return;var v=c("VideoComposerDialogUploadStore").getState(),w=v.videoUploader;c("VideoComposerDialogUploadUtils").doPost(w,c("VideoComposerDialogVideoTypeConfig").typeConfig[s].displayedTabs)};p.prototype.$VideoComposerDialogPublishingStore2=function(){c("VideoComposerDialogCrosspostUtils").createCrosspost()};p.prototype.assertNonEmptyTitle=function(q){!!q||h(0)};p.prototype.getCrosspostRequestDataToSend=function(){__p&&__p();var q=this.getState(),r={published:true};if(q.isDraft){r.published=false;r.unpublished_content_type="DRAFT"}if(q.scheduleDate){r.published=false;r.unpublished_content_type="SCHEDULED";r.scheduled_publish_time=Math.floor(q.scheduleDate.getTime()/m)}if(q.expireDate)r.expiration={time:Math.floor(q.expireDate.getTime()/m),type:c("ExpirationTypeToExpirationTypeApiMap")[q.expireType||0]};if(q.backdateYear)r.backdated_post={backdated_time:Math.floor(new Date(q.backdateYear||0,(q.backdateMonth||0)-1,q.backdateDay||0).getTime()/m),backdated_time_granularity:"day",hide_from_newsfeed:q.hideFromNewsFeed};return c("Promise").resolve(c("flattenPHPQueryData")(r))};p.prototype.getEditRequestDataToSend=function(){__p&&__p();var q=this.getState(),r={};if(q.editToPublished)r.publish=true;if(q.editToExpired)r.expire=true;var s=q.originalScheduleDate,t=q.scheduleDate;if(s&&t){var u=Math.floor(s.getTime()/m),v=Math.floor(t.getTime()/m);if(u!==v&&!c("VideoComposerDialogEditUtils").areTwoTimesAlmostTheSame(u,v))r.scheduled_publish_time=v}var w=q.originalExpireDate,x=q.expireDate;if(w&&x){var y=Math.floor(w.getTime()/m),z=Math.floor(x.getTime()/m);if(y!==z&&!c("VideoComposerDialogEditUtils").areTwoTimesAlmostTheSame(y,z))r.expiration_time=z}if(q.originalExpireType!==q.expireType)r.expiration_type=q.expireType;return c("Promise").resolve(r)};p.prototype.getPostRequestDataToSend=function(){__p&&__p();var q=this.getState(),r={draft:q.isDraft,ad_break_prereview:q.isAdBreakPrereview,is_reviewable_branded_content:q.isReviewableBrandedContent};if(q.scheduleDate){var s=c("VideoComposerDialogUtils").formatDateAndTime(q.scheduleDate),t=s.dateStr,u=s.timeSec;r.scheduled=true;r.future_date=t;r.future_time=u}if(q.expireDate){r.expiring=true;r.expire_type=q.expireType;r.expire_time=q.expireDate&&q.expireDate.getTime()/m}if(q.postEndDate){var v=c("VideoComposerDialogUtils").formatDateAndTime(q.postEndDate),w=v.dateStr,x=v.timeSec;r["feed_targeted_data[relevant-until-date]"]=w;r["feed_targeted_data[relevant-until-time]"]=x}if(q.backdateYear){r["backdated_date[year]"]=q.backdateYear;r["backdated_date[month]"]=q.backdateMonth;r["backdated_date[day]"]=q.backdateDay;r.hide_from_newsfeed=q.hideFromNewsFeed}return c("Promise").resolve(r)};f.exports=new p(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoCopyrightUploadSettings",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({USE_CUSTOM:"use_custom_copyright_settings",MONITORING_TYPE:"copyright_monitoring_type",MATCH_RULE:"copyright_match_rule_id",OWNERSHIP_COUNTRIES:"copyright_ownership_countries",ARE_COUNTRIES_INCLUDED:"are_countries_included"})}),null);
__d("VideoComposerDialogRightsStore",["fbt","Promise","VideoComposerDialogDispatcher","FluxReduceStore","immutable","VideoComposerDialogActions","VideoComposerDialogRightsActions","VideoComposerDialogTab","VideoCopyrightAPI","VideoCopyrightMonitoringType","VideoComposerDialogActionTypes","VideoComposerDialogMetadataStore","VideoCopyrightUploadSettings"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m={areCountriesIncluded:true,attributionID:null,category:null,copyrightID:null,fbWhitelistedUsers:[],igWhitelistedUsers:[],isIgRightsManagementEnabled:false,matchRuleID:null,monitoringType:c("VideoCopyrightMonitoringType").VIDEO_ONLY.value,ownershipCountries:[],shouldDetectMatches:false,showAttributionSelector:false,showCategoryRequiredError:false};i=babelHelpers.inherits(n,c("immutable").Record(m));j=i&&i.prototype;function n(){i.apply(this,arguments)}k=babelHelpers.inherits(o,c("FluxReduceStore"));l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.__moduleID=f.id,q}o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){__p&&__p();switch(q.type){case c("VideoComposerDialogActionTypes").BOOTLOAD_RIGHTS_PARAMETERS:p=p.set("isIgRightsManagementEnabled",q.data.isIgRightsManagementEnabled).set("showAttributionSelector",q.data.showAttributionSelector);var r=q.data.defaultSettings;if(r&&r[c("VideoCopyrightUploadSettings").USE_CUSTOM])p=p.set("monitoringType",r[c("VideoCopyrightUploadSettings").MONITORING_TYPE]).set("matchRuleID",r[c("VideoCopyrightUploadSettings").MATCH_RULE]).set("ownershipCountries",r[c("VideoCopyrightUploadSettings").OWNERSHIP_COUNTRIES]).set("areCountriesIncluded",r[c("VideoCopyrightUploadSettings").ARE_COUNTRIES_INCLUDED]);return p;case c("VideoComposerDialogActionTypes").BOOTLOAD_EDIT_RIGHTS_PARAMETERS:p=p.set("isIgRightsManagementEnabled",q.data.isIgRightsManagementEnabled).set("showAttributionSelector",q.data.showAttributionSelector).set("shouldDetectMatches",q.data.shouldDetectMatches);return q.data.shouldDetectMatches?p.set("areCountriesIncluded",q.data.areCountriesIncluded).set("attributionID",q.data.attributionID).set("category",q.data.category).set("copyrightID",q.data.copyrightID).set("fbWhitelistedUsers",q.data.fbWhitelistedUsers).set("igWhitelistedUsers",q.data.igWhitelistedUsers).set("matchRuleID",q.data.matchRuleID).set("monitoringType",q.data.monitoringType).set("ownershipCountries",q.data.ownershipCountries):p;case c("VideoComposerDialogActionTypes").UPDATE_MONITORING_TYPE:p=p.set("monitoringType",q.monitoringType);return p;case c("VideoComposerDialogActionTypes").UPDATE_CATEGORY:p=p.set("category",q.category).set("showCategoryRequiredError",false);return p;case c("VideoComposerDialogActionTypes").UPDATE_CATEGORY_REQUIRED_ERROR:p=p.set("showCategoryRequiredError",true);return p;case c("VideoComposerDialogActionTypes").UPDATE_OWNERSHIP_COUNTRIES:p=p.set("ownershipCountries",q.ownershipCountries).set("areCountriesIncluded",q.areCountriesIncluded);return p;case c("VideoComposerDialogActionTypes").UPDATE_SHOULD_DETECT_MATCHES:p=p.set("shouldDetectMatches",q.shouldDetectMatches);return p;case c("VideoComposerDialogActionTypes").UPDATE_MATCH_RULE:p=p.set("matchRuleID",q.matchRuleID);return p;case c("VideoComposerDialogActionTypes").UPDATE_ATTRIBUTION:p=p.set("attributionID",q.attributionID);return p;case c("VideoComposerDialogActionTypes").UPDATE_FB_WHITELISTED_USERS:p=p.set("fbWhitelistedUsers",q.fbWhitelistedUsers);return p;case c("VideoComposerDialogActionTypes").UPDATE_IG_WHITELISTED_USERS:p=p.set("igWhitelistedUsers",q.igWhitelistedUsers);return p;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:p=this.getInitialState();return p;default:return p}};o.prototype.getPostRequestDataToSend=function(){__p&&__p();var p=this.getState(),q=p.attributionID,r=p.category,s=p.copyrightID,t=p.monitoringType,u=p.ownershipCountries,v=p.areCountriesIncluded,w=p.shouldDetectMatches,x=p.matchRuleID,y=p.fbWhitelistedUsers,z=p.igWhitelistedUsers;if(!s&&!w)return c("Promise").resolve({});if(w&&r===null){setTimeout(function(){c("VideoComposerDialogRightsActions").updateShowCategoryRequiredError();c("VideoComposerDialogActions").selectTab(c("VideoComposerDialogTab").RIGHTS)},1);return c("Promise").reject(h._("Media category is required for copyrighted content"))}var A=c("VideoComposerDialogMetadataStore").getState(),B=A.accessToken,C=A.targetID,D=A.videoID;if(!C||!D)return c("Promise").reject(h._("Monitoring matches failed"));var E={areCopyrightCountriesIncluded:v,copyrightAttributionID:q,copyrightRuleID:x,copyrightMonitoringType:t,copyrightOwnershipCountries:u,copyrightWhitelistedIGUserNames:z,copyrightWhitelistedFBUsers:y,selectedCategory:r},F=void 0;if(s&&!w)F=c("VideoCopyrightAPI").uncopyrightVideo(B,C,D,s,E,"video_edit_dialog");else if(s&&w)F=c("VideoCopyrightAPI").editVideoCopyright(B,C,D,s,E,"video_edit_dialog");else F=c("VideoCopyrightAPI").copyrightVideo(B,C,D,E,"video_upload_composer");return F.then(function(G){return{}},function(G){return c("Promise").reject(G.error_user_title)})};f.exports=new o(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogUIStore",["fbt","ComposerXVideoUploadDialogController","DOM","FluxReduceStore","VideoComposerDialogPublishingStore","immutable","React","ReactDOM","VideoComposerDialogActions","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogTab","VideoComposerDialogWrapperContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m={dialogShown:false,initialized:false,selectedTab:c("VideoComposerDialogTab").BASIC,showExitConfirmDialog:false,primaryActionErrorDialogShown:false,primaryActionErrorMessage:null,publishConfirmDialogShown:false,publishConfirmDialogData:null,saveAsDraftDialogShown:false,showReviewableBrandedContentConfirmationDialog:false};i=babelHelpers.inherits(n,c("immutable").Record(m));j=i&&i.prototype;function n(){i.apply(this,arguments)}k=babelHelpers.inherits(o,c("FluxReduceStore"));l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.__moduleID=f.id,q}o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){__p&&__p();switch(q.type){case c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER:case c("VideoComposerDialogActionTypes").INITIALIZE_CROSSPOST_COMPOSER:case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:if(!p.initialized){setTimeout(function(){var A=c("DOM").create("div");c("ReactDOM").render(c("React").createElement(c("VideoComposerDialogWrapperContainer.react"),null),A)},0);p=p.set("initialized",true)}p=p.set("dialogShown",true);return p;case c("VideoComposerDialogActionTypes").POST_FINISHED:p=p.set("publishConfirmDialogShown",true);var r=c("VideoComposerDialogPublishingStore").getState(),s=r.expireDate,t=r.isDraft,u=r.isReviewableBrandedContent,v=r.postEndDate,w=r.scheduleDate;p=p.set("publishConfirmDialogData",{expireDate:s,isDraft:t,isReviewableBrandedContent:u,postEndDate:v,scheduleDate:w});p=p.set("showExitConfirmDialog",false);p=p.set("dialogShown",false);this.$VideoComposerDialogUIStore1();return p;case c("VideoComposerDialogActionTypes").POST_FAILED:p=p.set("primaryActionErrorDialogShown",true);p=p.set("primaryActionErrorMessage",q.errorMessage);return p;case c("VideoComposerDialogActionTypes").EXIT_DIALOG:p=p.set("showExitConfirmDialog",false);p=p.set("dialogShown",false);this.$VideoComposerDialogUIStore1();return p;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_ATTEMPT:p=p.set("showExitConfirmDialog",true);return p;case c("VideoComposerDialogActionTypes").CLOSE_PRIMARY_ERROR_DIALOG:p=p.set("primaryActionErrorDialogShown",false);p=p.set("primaryActionErrorMessage",null);return p;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_REPLACE_FILE:case c("VideoComposerDialogActionTypes").EXIT_DIALOG_SAVE_DRAFT:case c("VideoComposerDialogActionTypes").CLOSE_CONFIRM_DIALOG:p=p.set("showExitConfirmDialog",false);return p;case c("VideoComposerDialogActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG:p=p.set("publishConfirmDialogShown",false);return p;case c("VideoComposerDialogActionTypes").SELECT_TAB:p=p.set("selectedTab",q.tab);return p;case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ATTEMPT:p=p.set("saveAsDraftDialogShown",true);return p;case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ABORT:case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_CONFIRM:p=p.set("saveAsDraftDialogShown",false);return p;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_SUCCESS:p=p.set("showExitConfirmDialog",false);p=p.set("dialogShown",false);this.$VideoComposerDialogUIStore1();return p;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_FAILURE:p=p.set("primaryActionErrorDialogShown",true);p=p.set("primaryActionErrorMessage",q.errorMessage);return p;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:var x=p,y=x.publishConfirmDialogShown,z=x.publishConfirmDialogData;c("ComposerXVideoUploadDialogController").clearInstances();p=this.getInitialState();p=p.set("publishConfirmDialogShown",y);p=p.set("publishConfirmDialogData",z);p=p.set("initialized",true);return p;case c("VideoComposerDialogActionTypes").SHOW_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION:p=p.set("showReviewableBrandedContentConfirmationDialog",true);return p;case c("VideoComposerDialogActionTypes").HIDE_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION:p=p.set("showReviewableBrandedContentConfirmationDialog",false);return p;case c("VideoComposerDialogActionTypes").CONFIRM_REVIEWABLE_BRANDED_CONTENT:p=p.set("showReviewableBrandedContentConfirmationDialog",false);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return p;case c("VideoComposerDialogActionTypes").SHOW_BRANDED_CONTENT_ERROR_DIALOG:p=p.set("primaryActionErrorDialogShown",true);p=p.set("primaryActionErrorMessage",h._("Your tagged business partner requires creators to be on their approved list to tag them in branded content posts. You cannot schedule a post with this business partner until they have approved you."));return p;default:return p}};o.prototype.$VideoComposerDialogUIStore1=function(){setTimeout(c("VideoComposerDialogActions").resetComposer,1)};f.exports=new o(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogUploadStore",["Arbiter","FluxReduceStore","VideoComposerDialogMode","immutable","SubscriptionsHandler","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogUploadUtils","VideoUploadFile"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={composerID:"",fileInput:null,subscriptionsHandler:new(c("SubscriptionsHandler"))(),videoData:null,videoFile:null,videoSize:null,videoUploader:null,uploadFinished:false,uploadProgress:0};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.__moduleID=f.id,p}n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();var q=c("VideoComposerDialogMetadataStore").getState(),r=q.actorID,s=q.targetID,t=q.composerEntryPointRef,u=q.dialogMode;switch(p.type){case c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER:o=o.set("composerID",p.composerID);o=o.set("fileInput",p.fileInput);o=o.set("videoFile",p.file);var v=c("VideoUploadFile").fromFile(p.file);o=o.set("videoSize",v.getSize());return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_PARAMETERS:if(r&&s)c("VideoComposerDialogUploadUtils").loadVideoUploader(r,s,t);return o;case c("VideoComposerDialogActionTypes").FILE_ADDED:if(o.videoUploader)o.videoUploader.cancel();this.$VideoComposerDialogUploadStore1(o);if(r&&s)c("VideoComposerDialogUploadUtils").loadVideoUploader(r,s,t);o=o.set("uploadProgress",0);o=o.set("fileInput",p.fileInput);o=o.set("videoFile",p.file);var w=c("VideoUploadFile").fromFile(p.file);o=o.set("videoSize",w.getSize());return o;case c("VideoComposerDialogActionTypes").INIT_VIDEO_UPLOADER:o=o.set("videoUploader",p.videoUploader);o=o.set("subscriptionsHandler",new(c("SubscriptionsHandler"))());c("VideoComposerDialogUploadUtils").addUploadSubscriptions(o.subscriptionsHandler,p.videoUploader);c("VideoComposerDialogUploadUtils").beginUpload(o.fileInput,o.videoFile,p.videoUploader);o=o.set("videoData",c("VideoComposerDialogUploadUtils").createVideoData(o.videoFile));return o;case c("VideoComposerDialogActionTypes").NAVIGATED_FROM_PAGE:if(o.videoUploader)o.videoUploader.abandon();return o;case c("VideoComposerDialogActionTypes").UPLOAD_FINISHED:o=o.set("uploadFinished",true);return o;case c("VideoComposerDialogActionTypes").POST_FINISHED:if(u===c("VideoComposerDialogMode").VIDEO_UPLOAD)c("VideoComposerDialogUploadUtils").postFinished(p.data||{},o.composerID);return o;case c("VideoComposerDialogActionTypes").UPLOAD_PROGRESSED:o=o.set("uploadProgress",p.progress);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG:c("Arbiter").inform("videoUpload/cancel",{composerID:o.composerID});if(o.videoUploader)o.videoUploader.cancel();return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:this.$VideoComposerDialogUploadStore1(o);o=this.getInitialState();return o;default:return o}};n.prototype.isUploading=function(){var o=c("VideoComposerDialogMetadataStore").getState(),p=o.dialogMode,q=this.getState(),r=q.videoUploader,s=q.uploadFinished;return p===c("VideoComposerDialogMode").VIDEO_UPLOAD&&!!r&&!s};n.prototype.$VideoComposerDialogUploadStore1=function(o){if(o.fileInput&&o.fileInput.input)o.fileInput.clear();if(o.videoUploader)o.videoUploader.abandon();o.subscriptionsHandler.release()};f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoCaptionsLoggerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAPTION_UPLOAD_BUTTON_CLICKED:"caption_upload_button_clicked",CAPTION_SELECTED:"caption_selected",CAPTION_REMOVED:"caption_removed",CAPTION_DEFAULT_LOCALE_CHANGED:"caption_default_locale_changed",CAPTION_ERROR:"caption_error",CONTENT_TAGS_SELECTED:"content_tags_selected",CONTENT_TAGS_REMOVED:"content_tags_removed",PERMISSIONS_CHANGED:"permissions_changed",CAPTION_GENERATE_BUTTON_CLICKED:"caption_generate_button_clicked",CAPTION_GENERATE_COMPLETE:"caption_generate_complete",CAPTION_GENERATE_CANCEL:"caption_generate_cancel",CAPTION_CREATE_BUTTON_CLICKED:"caption_create_button_clicked",CAPTION_CREATE_COMPLETE:"caption_create_complete",CAPTION_UPLOAD_COMPLETE:"caption_upload_complete",VIDEO_LANGUAGE_SELECTED:"video_language_selected",CAPTION_DRAFT_EDITED:"caption_draft_edited",CAPTION_DRAFT_DELETED:"caption_draft_deleted",CAPTION_PUBLISHED_EDITED:"caption_published_edited",CAPTION_PUBLISHED_DELETED:"caption_published_deleted",CAPTION_GENERATE_RETRY:"caption_generate_retry",CHANGE_PUBLISHED_STATE:"change_published_state",CAPTION_EDITOR_SAVE:"caption_editor_save",CAPTION_EDITOR_CLOSE:"caption_editor_close",CAPTION_EDITOR_SET_LANGUAGE:"caption_editor_set_language",CAPTION_TAB_OPENED:"caption_tab_opened",COMPOSER_SAVE:"composer_save"})}),null);
__d("VideoComposerDialogCaptionEditorStore",["VideoComposerDialogActionTypes","VideoComposerDialogCaptionsStore","VideoComposerDialogDispatcher","FluxReduceStore","immutable","ImmutableObject","VideoCaptionEditorLanguages","VideoPlayerController","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorUtils","VideoCaptionEditorLogger","WebApiApplication","VideoCaptionsLoggerEvents","VideoCaptionEditorStateEnums"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("VideoCaptionEditorStateEnums").EditorStateEnum,m=1e3,n=-1,o={captions:c("immutable").List(),language:c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,locale:c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE,availableLanguages:c("immutable").List(c("VideoCaptionEditorLanguages").languagesInEnglish),captionsChangeSet:c("immutable").List(),captionID:"",captionLocale:c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE,editorState:l.INIT,editSectionState:{selected:-1},previewEntry:null,captionSelected:n,nextEntryIdx:0,videoID:"",vpc:null,videoDuration:0,currentPlayPositionInMs:0,shouldShowExitDialog:false,captionFile:null,isPlaying:false};h=babelHelpers.inherits(p,c("immutable").Record(o));i=h&&h.prototype;function p(){h.apply(this,arguments)}j=babelHelpers.inherits(q,c("FluxReduceStore"));k=j&&j.prototype;function q(r){k.constructor.call(this,r);this.__moduleID=f.id;this.$VideoComposerDialogCaptionEditorStore1=new(c("VideoCaptionEditorLogger"))()}q.prototype.getInitialState=function(){return new p()};q.prototype.reduce=function(r,s){__p&&__p();var t=null;switch(s.type){case c("VideoComposerDialogActionTypes").RESET_CAPTION_EDITOR:return this.getInitialState();case c("VideoComposerDialogActionTypes").SET_CAPTIONS:r=this.$VideoComposerDialogCaptionEditorStore4(r,s);break;case c("VideoComposerDialogActionTypes").EDIT_CAPTION_ENTRY:r=this.$VideoComposerDialogCaptionEditorStore5(r,s);break;case c("VideoComposerDialogActionTypes").REMOVE_CAPTION_ENTRY:r=this.$VideoComposerDialogCaptionEditorStore6(r,s);break;case c("VideoComposerDialogActionTypes").ADD_CAPTION_ENTRY:r=this.$VideoComposerDialogCaptionEditorStore7(r,s);break;case c("VideoComposerDialogActionTypes").RESET_PLAYER:r=r.set("previewEntry",null).set("captionSelected",n).set("nextEntryIdx",0).set("videoDuration",null).set("currentPlayPositionInMs",0);break;case c("VideoComposerDialogActionTypes").SET_DURATION:r=r.set("videoDuration",s.duration);break;case c("VideoComposerDialogActionTypes").SET_PLAYER_STATE:r=r.set("isPlaying",s.isPlaying);break;case c("VideoComposerDialogActionTypes").SET_PREVIEW_ENTRY:r=r.set("captionSelected",s.idx);if(s.idx===n)r=r.set("previewEntry",null);else r=r.set("previewEntry",new(c("ImmutableObject"))(this.getCaptions().get(s.idx)));r=r.set("nextEntryIdx",(s.idx+1)%r.captions.size);break;case c("VideoComposerDialogActionTypes").SET_EDITOR_LANGUAGE:if(r.get("captionID"))r=r.set("editorState",l.UNSAVED);r=r.set("language",s.language);this.$VideoComposerDialogCaptionEditorStore8(c("VideoCaptionsLoggerEvents").CAPTION_EDITOR_SET_LANGUAGE);break;case c("VideoComposerDialogActionTypes").SET_EDITOR_LOCALE:if(r.get("captionID"))r=r.set("editorState",l.UNSAVED);r=r.set("locale",s.locale);break;case c("VideoComposerDialogActionTypes").INITIALIZE_EDITOR_LANGUAGE:t=c("VideoComposerDialogCaptionsStore").getState().get("selectedCaption");r=r.set("language",t.language).set("locale",t.locale);break;case c("VideoComposerDialogActionTypes").PLAY_PREVIEW_ENTRY:r=this.$VideoComposerDialogCaptionEditorStore9(r,s);break;case c("VideoComposerDialogActionTypes").SET_NEXT_ENTRY:r=r.set("nextEntryIdx",s.idx);break;case c("VideoComposerDialogActionTypes").SET_VPC:r=r.set("vpc",s.vpc);break;case c("VideoComposerDialogActionTypes").SET_CURRENT_PLAY_POSITION:r=r.set("currentPlayPositionInMs",s.position);break;case c("VideoComposerDialogActionTypes").CONFIRM_CLOSE_DIALOG:r=r.set("editorState",l.EXIT);r=r.set("shouldShowExitDialog",false);this.$VideoComposerDialogCaptionEditorStore8(c("VideoCaptionsLoggerEvents").CAPTION_EDITOR_CLOSE);break;case c("VideoComposerDialogActionTypes").CANCEL_CLOSE_DIALOG:r=r.set("shouldShowExitDialog",false);break;case c("VideoComposerDialogActionTypes").SHOW_EXIT_DIALOG:r=r.set("shouldShowExitDialog",true);break;case c("VideoComposerDialogActionTypes").START_SAVE_CAPTION_CHANGESET:r=r.set("editorState",l.SAVING);var u=r.get("locale");if(c("VideoComposerDialogCaptionEditorUtils").isLanguageDefaultOrEmpty(u)){var v=c("VideoComposerDialogCaptionsStore").getState().get("selectedCaption");if(v!==null&&!c("VideoComposerDialogCaptionEditorUtils").isLanguageDefaultOrEmpty(v.locale)){u=v.locale;r.set("locale",u)}}c("VideoComposerDialogCaptionEditorUtils").saveCaptionChangeset(r.get("captionID"),r.get("captions"),r.get("captionsChangeSet"),u,c("VideoComposerDialogCaptionsStore").getState().get("pageID"));this.$VideoComposerDialogCaptionEditorStore8(c("VideoCaptionsLoggerEvents").CAPTION_EDITOR_SAVE);break;case c("VideoComposerDialogActionTypes").FINISH_SAVE_CAPTION_CHANGESET:r=this.$VideoComposerDialogCaptionEditorStore10(r);break}return r};q.prototype.$VideoComposerDialogCaptionEditorStore8=function(r,s,t){c("VideoComposerDialogCaptionsStore").getLogger().setEvent(r).setError(t).setSubtitleID(this.getState().get("captionID")).setIsCaptionEditor(true).updateExtraData({language:this.getLanguage()}).log()};q.prototype.$VideoComposerDialogCaptionEditorStore4=function(r,s){__p&&__p();var t=s.captions;if(t.size===0)t=c("immutable").List([{node:{text:" ",start_time_in_ms:0,duration_in_ms:m,confidence:1,left:0,width:m*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}}]);r=r.set("captions",t).set("captionsChangeSet",c("immutable").List(new Array(t.size)));var u=!c("VideoComposerDialogCaptionEditorUtils").areHeadLocalesEqual(r.get("locale"),s.captionLocale);if(u)r=r.set("editorState",l.UNSAVED);this.$VideoComposerDialogCaptionEditorStore2=s.appID||c("WebApiApplication").getClientID();this.$VideoComposerDialogCaptionEditorStore3=s.placement;return r.merge({captionID:s.captionID,captionLocale:s.captionLocale,videoID:s.videoID})};q.prototype.$VideoComposerDialogCaptionEditorStore10=function(r){r=r.set("editorState",l.SAVED).set("captionLocale",r.get("locale"));var s=r.get("locale"),t=s!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE&&s!==c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE;if(!t)return r;var u=c("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(r.get("captions"),c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(s),r.get("language"));return r.set("captionFile",u)};q.prototype.$VideoComposerDialogCaptionEditorStore5=function(r,s){var t=r.get("captions");t=t.splice(s.idx,1,s.caption);var u=r.get("captionsChangeSet").splice(s.idx,1,s.caption);r=r.set("captions",t).set("captionsChangeSet",u);return r.set("editorState",l.UNSAVED)};q.prototype.$VideoComposerDialogCaptionEditorStore6=function(r,s){__p&&__p();var t=r.get("captions"),u=t.get(s.idx);t=t["delete"](s.idx);var v=r.get("captionsChangeSet")["delete"](s.idx);if(u&&u.node)v=v.push({node:{id:u.node.id}});r=r.set("captions",t).set("captionsChangeSet",v);var w=r.get("previewEntry");if(w&&r.get("captionSelected")===s.idx)r=r.set("previewEntry",null);return r.set("editorState",l.UNSAVED)};q.prototype.$VideoComposerDialogCaptionEditorStore7=function(r,s){var t=r.get("captions").splice(s.idx,0,s.caption),u=r.get("captionsChangeSet").splice(s.idx,0,s.caption);r=r.set("captions",t).set("captionsChangeSet",u);return r.set("editorState",l.UNSAVED)};q.prototype.$VideoComposerDialogCaptionEditorStore9=function(r,s){__p&&__p();r=r.set("captionSelected",s.idx);if(s.idx===n)r=r.set("previewEntry",null);else{r=r.set("previewEntry",new(c("ImmutableObject"))(this.getCaptions().get(s.idx)));r=r.set("nextEntryIdx",(s.idx+1)%r.captions.size)}var t=r.get("vpc");if(t){var u=r.get("previewEntry");t.emit("captionsList/preview",{startTime:u?u.node.start_time_in_ms:0,endTime:u?u.node.start_time_in_ms+u.node.duration_in_ms:r.videoDuration})}r=r.set("isPlaying",true);return r};q.prototype.getLanguage=function(){return this.getState().get("language")};q.prototype.getCaptions=function(){return this.getState().get("captions")};q.prototype.getLanguages=function(){return this.getState().get("availableLanguages")};q.prototype.getVPC=function(){return this.getState().get("vpc")};f.exports=new q(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoCaptionDeletionCache",["immutable"],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";this.cache=c("immutable").Map()}h.prototype.add=function(i){"use strict";this.cache=this.cache.set(i.id,i)};h.prototype.remove=function(i){"use strict";this.cache=this.cache["delete"](i)};h.prototype.has=function(i){"use strict";return this.cache.get(i)!==undefined};f.exports=h}),null);
__d("VideoCaptionsPublishTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoCaptionsPublishLoggerConfig",this.$VideoCaptionsPublishTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoCaptionsPublishLoggerConfig",this.$VideoCaptionsPublishTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoCaptionsPublishTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoCaptionsPublishTypedLogger1=babelHelpers["extends"]({},this.$VideoCaptionsPublishTypedLogger1,j);return this};h.prototype.setError=function(j){this.$VideoCaptionsPublishTypedLogger1.error=j;return this};h.prototype.setEvent=function(j){this.$VideoCaptionsPublishTypedLogger1.event=j;return this};h.prototype.setIsCaptionEditor=function(j){this.$VideoCaptionsPublishTypedLogger1.is_caption_editor=j;return this};h.prototype.setIsCaptionsEditor=function(j){this.$VideoCaptionsPublishTypedLogger1.is_captions_editor=j;return this};h.prototype.setPublishPhase=function(j){this.$VideoCaptionsPublishTypedLogger1.publish_phase=j;return this};h.prototype.setSubtitleID=function(j){this.$VideoCaptionsPublishTypedLogger1.subtitle_id=j;return this};h.prototype.setVC=function(j){this.$VideoCaptionsPublishTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoCaptionsPublishTypedLogger1.video_id=j;return this};h.prototype.setVideoLanguage=function(j){this.$VideoCaptionsPublishTypedLogger1.video_language=j;return this};h.prototype.setVideoLocale=function(j){this.$VideoCaptionsPublishTypedLogger1.video_locale=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$VideoCaptionsPublishTypedLogger1=babelHelpers["extends"]({},this.$VideoCaptionsPublishTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={error:true,event:true,is_caption_editor:true,is_captions_editor:true,publish_phase:true,subtitle_id:true,vc:true,video_id:true,video_language:true,video_locale:true};f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({ADD_CAPTION_ENTRY:"",REMOVE_CAPTION_ENTRY:"",EDIT_CAPTION_ENTRY:"",SET_PREVIEW_ENTRY:"",SET_EDITOR_LANGUAGE:"",SET_EDITOR_LOCALE:"",SET_CAPTIONS:"",SET_NEXT_ENTRY:"",PLAY_PREVIEW_ENTRY:"",CONFIRM_CLOSE_DIALOG:"",CANCEL_CLOSE_DIALOG:"",SHOW_EXIT_DIALOG:"",START_SAVE_CAPTION_CHANGESET:"",FINISH_SAVE_CAPTION_CHANGESET:"",INITIALIZE_EDITOR_LANGUAGE:"",RESET_CAPTION_EDITOR:""});f.exports=h}),null);
__d("VideoComposerDialogCaptionsTabActionTypes",["immutable","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({SHOW_CAPTION_EDITOR:"",HIDE_CAPTION_EDITOR:"",INITIALIZE_CAPTION_LANDING_SCREEN:"",GENERATE:"",CANCEL_GENERATE:"",CREATE:"",EDIT_CAPTIONS_DRAFT:"",DELETE_CAPTIONS_DRAFT:"",START_SRT_UPLOAD:"",FINISH_SRT_UPLOAD:"",GENERATE_COMPLETE:"",CREATE_COMPLETE:"",SELECT_SPOKEN_LANGUAGE:"",SELECT_SPOKEN_LOCALE:"",FINISHED_FETCH_DRAFTS:"",GENERATE_PROGRESS_UPDATE:"",UPDATE_CAPTION_FILES:"",UPDATE_ERROR_STATE:"",SET_AUTO_GENERATED_CAPTIONS:"",RESET_CAPTIONS_LANDING_TAB:"",RETRY_AUTO_GENERATION:"",RESUME_AUTO_GENERATION:"",RESET_AUTO_GENERATING_LOCALE:"",TRY_RESUME_AUTO_GENERATION:"",INITIALIZE_ALL_CAPTION_FILES:"",BOOTLOAD_PARAMETERS_CAPTIONS_TAB:"",CHANGE_PUBLISHED_STATE:"",PENDING_TO_PUBLISHED:"",CAPTION_LANDING_SCREEN_OPEN_EVENT:"",OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:"",RESET_OPEN_LANDING_SCREEN_STATE:""});f.exports=h}),null);
__d("XVideoCaptionSpeechDetectionAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/speechnonspeech/getresults/",{video_id:{type:"Int",required:true},locale:{type:"String",defaultValue:""}})}),null);
__d("XVideoCaptionUploadAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/captionupload/",{video_id:{type:"Int",required:true}})}),null);
__d("VideoComposerDialogCaptionsStore",["Promise","ActorURI","AsyncRequest","ComposerVideoUploadActions","FluxReduceStore","immutable","InsightsLocaleNamesSwitch","RTISubscriptionManager","VideoCaptionDeletionCache","VideoCaptionsLoggerEvents","VideoCaptionsPublishTypedLogger","VideoComposerDialogActionTypes","VideoComposerDialogCaptionEditorActionTypes","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionMode","VideoComposerDialogCaptionsTabActions","VideoComposerDialogCaptionsTabActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogMode","VideoComposerDialogUploadUtils","VideoUploadUIError","XVideoCaptionGenerateAsyncController","XVideoCaptionSpeechDetectionAsyncController","XVideoCaptionUploadAsyncController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("InsightsLocaleNamesSwitch").module,m={accessToken:null,drafts:c("immutable").List(),isSpokenLanguageSelected:false,publishedStateChangeset:c("immutable").Map(),deletionCache:new(c("VideoCaptionDeletionCache"))(),selectedCaption:null,show_caption_editor:false,videoFile:null,video_id:null,videoData:null,isAutoGenerating:false,isCreating:false,spokenLanguage:c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,autoGeneratingLocale:null,autoGeneratingLanguage:null,spokenLocale:c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE,progress:0,autoGenProcessRate:c("VideoComposerDialogCaptionEditorConstants").DEFAULT_PROCESSING_SPEED,generateStarted:0,composerID:"",pageID:"",serverCaptionLocales:c("immutable").Seq(),captionFiles:c("immutable").Map(),captionURLs:c("immutable").List(),composerMode:null,isOldComposer:false,isSRTUploading:false,videoDurationInSec:0,errors:c("immutable").List(),numAutoGenerationRetries:0,wasOldComposerCaptionTabClicked:false,timeFirstInitialized:null,captionsFeaturesMode:c("VideoComposerDialogCaptionMode").ADVANCED_FEATURES_WITH_SUBTITLES,autoGenV1Subtitle:null,localCaptionFiles:c("immutable").List(),captionURLsForEdit:c("immutable").List(),hasAutoGenV1:false},n=5*1e3,o=50,p=1e3,q=15*1e3;h=babelHelpers.inherits(r,c("immutable").Record(m));i=h&&h.prototype;function r(){h.apply(this,arguments)}j=babelHelpers.inherits(s,c("FluxReduceStore"));k=j&&j.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.__moduleID=f.id,u}s.prototype.getInitialState=function(){return new r()};s.prototype.getIsEditMode=function(){return this.getState().get("composerMode")===c("VideoComposerDialogMode").VIDEO_EDIT};s.prototype.getIsCrosspostMode=function(){return this.getState().get("composerMode")===c("VideoComposerDialogMode").VIDEO_CROSSPOST};s.prototype.shouldEnableOldDataModel=function(){return this.getState().get("captionsFeaturesMode")===c("VideoComposerDialogCaptionMode").OLD_DATA_MODEL};s.prototype.getAllCaptions=function(){return new(c("immutable").List)(this.getState().get("drafts").concat(this.getState().get("captionURLs")).concat(this.getState().get("localCaptionFiles")))};s.prototype.getSpokenLanguage=function(){return this.getState().get("spokenLanguage")};s.prototype.getSpokenLocale=function(){return this.getState().get("spokenLocale")};s.prototype.getAutoGeneratingLocale=function(){return this.getState().get("autoGeneratingLocale")};s.prototype.isSpokenLanguageSelected=function(){return this.getState().get("isSpokenLanguageSelected")};s.prototype.getLogger=function(){var t=this.getState(),u=this.getIsEditMode()===true?"post-publish":"pre-publish";return new(c("VideoCaptionsPublishTypedLogger"))().setVideoID(t.get("video_id")).setVideoLanguage(t.get("spokenLanguage")).setVideoLocale(t.get("spokenLocale")).setPublishPhase(u)};s.prototype.getEnableAdvancedCaptionsFeatures=function(){return this.getState().get("captionsFeaturesMode")===c("VideoComposerDialogCaptionMode").ADVANCED_FEATURES_WITH_SUBTITLES};s.prototype.getpublishedStateChangeset=function(){return this.getState().get("publishedStateChangeset")};s.prototype.wasTabOpenedInOldComposer=function(){var t=this.getState();return t.get("isOldComposer")&&t.get("wasOldComposerCaptionTabClicked")};s.prototype.logComposerSaveEvent=function(){var t=this.getState();if(t.get("timeFirstInitialized")===null||t.get("video_id")===null||t.get("video_id")==="")return;var u=t.get("drafts"),v=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(t.get("captionFiles"),u||c("immutable").List());this.$VideoComposerDialogCaptionsStore1(v)};s.prototype.$VideoComposerDialogCaptionsStore1=function(t){var u=this.getState(),v=u.get("drafts");this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").COMPOSER_SAVE,{session_id:u.get("timeFirstInitialized"),num_captions:String(v.size),num_published_captions:String(t.size)});setTimeout(function(){return c("VideoComposerDialogCaptionsTabActions").resetOpenLandingScreenState()},0)};s.prototype.$VideoComposerDialogCaptionsStore3=function(t,u){__p&&__p();var v,w,x=true;switch(t.type){case c("VideoComposerDialogCaptionsTabActionTypes").SHOW_CAPTION_EDITOR:case c("VideoComposerDialogCaptionsTabActionTypes").CREATE:case c("VideoComposerDialogCaptionsTabActionTypes").EDIT_CAPTIONS_DRAFT:case c("VideoComposerDialogCaptionsTabActionTypes").SELECT_SPOKEN_LANGUAGE:case c("VideoComposerDialogCaptionsTabActionTypes").SELECT_SPOKEN_LOCALE:case c("VideoComposerDialogCaptionsTabActionTypes").DELETE_CAPTIONS_DRAFT:case c("VideoComposerDialogCaptionsTabActionTypes").FINISH_SRT_UPLOAD:return true;case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE:x=true;if(u.size>0)(function(){var y=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY);u.forEach(function(z){if(z.toString().localeCompare(y.toString())===0){x=false;return}})})();return x;case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE_COMPLETE:x=false;if(u.size>0)(function(){var y=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY);u.forEach(function(z){if(z.toString().localeCompare(y.toString())===0){x=true;return}})})();return x}return false};s.prototype.reduce=function(t,u){__p&&__p();var v=null,w=null,x=null,y=null;if(this.$VideoComposerDialogCaptionsStore3(u,t.get("errors"))&&t.get("errors").size>0)t=t.set("errors",c("immutable").List());switch(u.type){case c("VideoComposerDialogActionTypes").RESET_COMPOSER:t=this.getInitialState();return t;case c("VideoComposerDialogCaptionsTabActionTypes").RESET_CAPTIONS_LANDING_TAB:t=this.getInitialState().set("captionsFeaturesMode",t.get("captionsFeaturesMode")).set("captionURLs",t.get("captionURLs")).set("captionURLsForEdit",t.get("captionURLsForEdit")).set("localCaptionFiles",t.get("localCaptionFiles")).set("hasAutoGenV1",t.get("hasAutoGenV1"));return t;case c("VideoComposerDialogCaptionsTabActionTypes").SHOW_CAPTION_EDITOR:t=t.set("show_caption_editor",true);return t;case c("VideoComposerDialogCaptionEditorActionTypes").CONFIRM_CLOSE_DIALOG:t=t.set("show_caption_editor",false);t=this.$VideoComposerDialogCaptionsStore4(t);return t;case c("VideoComposerDialogCaptionEditorActionTypes").FINISH_SAVE_CAPTION_CHANGESET:return this.$VideoComposerDialogCaptionsStore5(t);case c("VideoComposerDialogCaptionsTabActionTypes").OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:return t.set("wasOldComposerCaptionTabClicked",true);case c("VideoComposerDialogCaptionsTabActionTypes").CAPTION_LANDING_SCREEN_OPEN_EVENT:var z=t.get("video_id"),A=t.get("timeFirstInitialized")===null&&z!==null&&z!=="";if(!A)return t;var B=String(Date.now());this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_TAB_OPENED,{session_id:B});return t.set("timeFirstInitialized",B);case c("VideoComposerDialogCaptionsTabActionTypes").RESET_OPEN_LANDING_SCREEN_STATE:return t.set("isOldComposer",false).set("wasOldComposerCaptionTabClicked",false).set("timeFirstInitialized",null);case c("VideoComposerDialogCaptionsTabActionTypes").INITIALIZE_CAPTION_LANDING_SCREEN:var C=u.isOldComposer?u.isOldComposer:false,D=u.dialogMode?u.dialogMode:c("VideoComposerDialogMode").VIDEO_UPLOAD;return this.initialize(t,u.videoFile,u.video_id,u.accessToken,u.composerID,u.pageID,u.videoDurationInSec,D,C);case c("VideoComposerDialogCaptionsTabActionTypes").TRY_RESUME_AUTO_GENERATION:var E=t.get("autoGeneratingLocale")!==null?c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(t.get("autoGeneratingLocale")):null;this.$VideoComposerDialogCaptionsStore6(t.get("video_id"),E);return t;case c("VideoComposerDialogCaptionsTabActionTypes").FINISHED_FETCH_DRAFTS:y=c("VideoComposerDialogCaptionEditorUtils").updateToChangesetValues(u.drafts,t.get("publishedStateChangeset"));y=c("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(y,t.get("deletionCache"));return t.set("drafts",y);case c("VideoComposerDialogCaptionsTabActionTypes").RESET_AUTO_GENERATING_LOCALE:return t.set("autoGeneratingLocale",null).set("autoGeneratingLanguage",null);case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE:t=t.set("isAutoGenerating",true).set("progress",0).set("generateStarted",Date.now()).set("autoGeneratingLocale",t.get("spokenLocale")).set("autoGeneratingLanguage",t.get("spokenLanguage"));w=this.$VideoComposerDialogCaptionsStore7(t.get("video_id"),t.get("spokenLanguage"),t.get("spokenLocale"));if(!w)t=t.set("isAutoGenerating",false).set("autoGeneratingLocale",null).set("autoGeneratingLanguage",null);return t;case c("VideoComposerDialogCaptionsTabActionTypes").CREATE:t=t.set("isCreating",true);t=t.set("selectedCaption",null).set("show_caption_editor",true);this.$VideoComposerDialogCaptionsStore8(t.get("video_id"));return t;case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE_COMPLETE:var F=t.get("spokenLanguage");x=c("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(u.captions,u.locale,F);var G=x!==null&&F!==""&&u.subtitlesID!==null;if(G){t=this.$VideoComposerDialogCaptionsStore9(t,String(u.subtitlesID));t=this.$VideoComposerDialogCaptionsStore10(t,x,u.locale);t=t.set("numAutoGenerationRetries",0)}t=t.set("isAutoGenerating",false).set("autoGenProcessRate",c("VideoComposerDialogCaptionEditorConstants").DEFAULT_PROCESSING_SPEED).set("progress",0).set("autoGeneratingLocale",null).set("autoGeneratingLanguage",null);return t;case c("VideoComposerDialogCaptionsTabActionTypes").CREATE_COMPLETE:t=t.set("isCreating",false);return t;case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE_PROGRESS_UPDATE:t=this.$VideoComposerDialogCaptionsStore11(t,u.progress);return t;case c("VideoComposerDialogCaptionsTabActionTypes").EDIT_CAPTIONS_DRAFT:t=t.set("show_caption_editor",true);v=t.get("drafts").get(u.id);t=t.set("selectedCaption",v);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_DRAFT_EDITED,{},null,v.id);return t;case c("VideoComposerDialogCaptionsTabActionTypes").DELETE_CAPTIONS_DRAFT:y=t.get("drafts");v=t.get("drafts").get(u.id);y=c("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(y["delete"](u.id),t.get("deletionCache"));var H=t.get("captionFiles");H=H["delete"](v.locale);var I=t.get("composerID");if(I){var J=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(H,y);c("ComposerVideoUploadActions").updateCaptions(I,Array.from(J.values()))}c("VideoComposerDialogCaptionEditorUtils").deleteSubtitles(t.get("video_id"),v,t.get("pageID"),t.get("deletionCache"),this.$VideoComposerDialogCaptionsStore12.bind(this));this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_DRAFT_DELETED,{},null,v.id);return t.set("drafts",y).set("captionFiles",H).set("publishedStateChangeset",t.get("publishedStateChangeset")["delete"](v.id));case c("VideoComposerDialogCaptionsTabActionTypes").SELECT_SPOKEN_LANGUAGE:this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").VIDEO_LANGUAGE_SELECTED);t=t.set("spokenLanguage",u.language).set("isSpokenLanguageSelected",true);return t;case c("VideoComposerDialogCaptionsTabActionTypes").SELECT_SPOKEN_LOCALE:t=t.set("spokenLocale",u.locale);return t;case c("VideoComposerDialogCaptionsTabActionTypes").CANCEL_GENERATE:t=t.set("isAutoGenerating",false);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_CANCEL);return t;case c("VideoComposerDialogCaptionsTabActionTypes").START_SRT_UPLOAD:t=t.set("isSRTUploading",true);this.$VideoComposerDialogCaptionsStore13(t.get("video_id"),u.captions,t.get("accessToken"));return t;case c("VideoComposerDialogActionTypes").FETCHED_AUTO_GEN_V1_SUBTITLE:t=t.set("autoGenV1Subtitle",u.autoGenV1Subtitle);return t;case c("VideoComposerDialogActionTypes").UPLOAD_LOCAL_CAPTIONS:t=t.set("localCaptionFiles",t.get("localCaptionFiles").concat(u.captions));return t;case c("VideoComposerDialogActionTypes").UPDATE_ALL_LOCAL_CAPTIONS:t=t.set("localCaptionFiles",c("immutable").List(u.captions));return t;case c("VideoComposerDialogCaptionsTabActionTypes").FINISH_SRT_UPLOAD:t=t.set("isSRTUploading",false);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_UPLOAD_COMPLETE,{},u.error);if(!u.success||u.error){var K=t.get("errors");K=K.push(u.error);t=t.set("errors",K);return t}var L=u.uploadedVideoSubtitles.size>0;if(!L)return t;u.uploadedVideoSubtitles.forEach(function(X,Y){t=this.$VideoComposerDialogCaptionsStore9(t,X.subtitlesID);x=c("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(c("immutable").List(X.captions),Y,l[Y]);t=this.$VideoComposerDialogCaptionsStore10(t,x,Y)}.bind(this));return t;case c("VideoComposerDialogCaptionsTabActionTypes").UPDATE_CAPTION_FILES:x=c("VideoComposerDialogCaptionEditorStore").getState().get("captionFile");var M=c("VideoComposerDialogCaptionEditorStore").getState().get("locale"),N=M!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE&&M!==c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE;if(N)t=this.$VideoComposerDialogCaptionsStore9(t,c("VideoComposerDialogCaptionEditorStore").getState().get("captionID"));var O=x!==null;if(O&&N)return this.$VideoComposerDialogCaptionsStore10(t,x,M);if(N)return this.$VideoComposerDialogCaptionsStore14(t,M);return t;case c("VideoComposerDialogCaptionsTabActionTypes").UPDATE_ERROR_STATE:t=t.set("errors",u.errors).set("show_caption_editor",false);return t;case c("VideoComposerDialogCaptionsTabActionTypes").RETRY_AUTO_GENERATION:var P=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY);t=t.set("isAutoGenerating",false).set("autoGenProcessRate",c("VideoComposerDialogCaptionEditorConstants").DEFAULT_PROCESSING_SPEED).set("progress",0).set("numAutoGenerationRetries",t.get("numAutoGenerationRetries")+1).set("errors",c("immutable").List([P]));this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_RETRY,{},P.toString());setTimeout(c("VideoComposerDialogCaptionsTabActions").generate,c("VideoComposerDialogCaptionEditorConstants").POLL_FAKE_FREQUENCY_GENERATE_MS);return t;case c("VideoComposerDialogCaptionsTabActionTypes").RESUME_AUTO_GENERATION:if(t.get("autoGeneratingLanguage")!==null){this.$VideoComposerDialogCaptionsStore15(t.get("video_id"));this.$VideoComposerDialogCaptionsStore16(t.get("video_id"),t.get("autoGeneratingLanguage"));this.$VideoComposerDialogCaptionsStore17()}return t;case c("VideoComposerDialogCaptionsTabActionTypes").INITIALIZE_ALL_CAPTION_FILES:t=t.set("serverCaptionLocales",u.subtitles.keySeq());u.subtitles.forEach(function(X,Y){if(X.locale===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)return;x=c("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(c("immutable").List(X),Y,l[Y]);if(x===null)return;t=this.$VideoComposerDialogCaptionsStore10(t,x,Y)}.bind(this));return t;case c("VideoComposerDialogCaptionsTabActionTypes").BOOTLOAD_PARAMETERS_CAPTIONS_TAB:t=t.set("captionsFeaturesMode",u.data.captionsFeaturesMode);return t;case c("VideoComposerDialogCaptionsTabActionTypes").CHANGE_PUBLISHED_STATE:y=t.get("drafts");v=t.get("drafts").get(u.id);var Q=v.publishedState;v.publishedState=c("VideoComposerDialogCaptionEditorUtils").getUpdatedPublishState(v.publishedState);y=c("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(y.splice(u.id,1,v),t.get("deletionCache"));var R=t.get("publishedStateChangeset").set(v.id,v.publishedState);if(t.get("composerID")){var S=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(t.get("captionFiles"),t.get("drafts")||c("immutable").List());c("ComposerVideoUploadActions").updateCaptions(t.get("composerID"),Array.from(S.values()))}this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CHANGE_PUBLISHED_STATE,{previous_state:Q,new_state:v.publishedState},null,v.id);return t.set("drafts",y).set("publishedStateChangeset",R);case c("VideoComposerDialogCaptionsTabActionTypes").PENDING_TO_PUBLISHED:return t.set("drafts",c("VideoComposerDialogCaptionEditorUtils").changeAllPendingToPublished(t.get("drafts"))).set("publishedStateChangeset",c("immutable").Map());case c("VideoComposerDialogActionTypes").SET_DEFAULT_CAPTION_LOCALE:var T=u.locale;return t.set("captionFiles",t.get("captionFiles").map(function(X){X.setIsDefault(T==X.getLocale());return X})).set("localCaptionFiles",t.get("localCaptionFiles").map(function(X){X.setIsDefault(T==X.getLocale());return X}));case c("VideoComposerDialogActionTypes").FETCH_CAPTION_EDITOR_CROSSPOST_PARAMS:var U=c("VideoComposerDialogCaptionEditorUtils").getConvertedCaptionURLs(u.captions),V=this.getInitialState();if(u.spokenLocale!==""&&u.spokenLanguage!=="")V=V.set("spokenLocale",u.spokenLocale).set("spokenLanguage",u.spokenLanguage);return V.set("captionsFeaturesMode",u.captionsFeaturesMode).set("composerMode",c("VideoComposerDialogMode").VIDEO_CROSSPOST).set("captionURLs",U);case c("VideoComposerDialogActionTypes").CAPTIONS_EDIT_PARAMS_FETCHED:var W=c("VideoComposerDialogCaptionEditorUtils").getConvertedCaptionURLs(u.data.localCaptionURLs);return t.set("captionsFeaturesMode",u.data.captionsFeaturesMode).set("hasAutoGenV1",u.data.hasAutoGenV1).set("composerMode",c("VideoComposerDialogMode").VIDEO_EDIT).set("captionURLsForEdit",W).set("localCaptionFiles",t.get("localCaptionFiles").concat(W));case c("VideoComposerDialogActionTypes").DELETE_CAPTIONS_URL:return t.set("captionURLs",t.get("captionURLs").splice(u.id,1));case c("VideoComposerDialogActionTypes").DELETE_LOCAL_CAPTION_FILE:return t.set("localCaptionFiles",t.get("localCaptionFiles").splice(u.id,1));case c("VideoComposerDialogActionTypes").CHANGE_PUBLISHED_STATE_URL:v=t.get("captionURLs").get(u.id);v.setPublishState(c("VideoComposerDialogCaptionEditorUtils").getUpdatedPublishState(v.getPublishState()));return t.set("captionURLs",t.get("captionURLs").splice(u.id,1,v));default:return t}};s.prototype.getCrosspostPostData=function(){this.logComposerSaveEvent();return c("Promise").resolve({})};s.prototype.getPostRequestDataToSend=function(){var t=this.getState();if(this.shouldEnableOldDataModel())return c("Promise").resolve({captions:Array.from(t.get("localCaptionFiles"))});c("VideoComposerDialogCaptionEditorUtils").updatePublishedStatesOnServer(t.get("video_id"),t.get("pageID"),this.getpublishedStateChangeset());var u=t.get("drafts"),v=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(t.get("captionFiles"),u||c("immutable").List());this.logComposerSaveEvent();if(this.getSpokenLocale()===c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)return c("Promise").resolve({captions:Array.from(v.values())});else return c("Promise").resolve({captions:Array.from(v.values()),spoken_locale:this.getSpokenLocale()})};s.prototype.getPostDataForEdit=function(){__p&&__p();var t=this.getState();if(this.shouldEnableOldDataModel())return c("Promise").resolve(c("VideoComposerDialogCaptionEditorUtils").getOldCaptionsDataModelForEdit(t.localCaptionFiles,t.captionURLsForEdit));c("VideoComposerDialogCaptionEditorUtils").updatePublishedStatesOnServer(t.get("video_id"),t.get("pageID"),this.getpublishedStateChangeset());var u=t.get("drafts"),v=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFilesForEdit(t.get("captionFiles"),u||c("immutable").List()),w={};t.get("serverCaptionLocales").forEach(function(x,y){w["remove_caption["+y+"]"]=x});if(this.getSpokenLocale()!==c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)w.spoken_locale=this.getSpokenLocale();return c("Promise").resolve(v.merge(w).toObject())};s.prototype.initialize=function(t,u,v,w,x,y,z,A,B){t=this.$VideoComposerDialogCaptionsStore18(t,u,v,w,x,y,z,A,B);this.$VideoComposerDialogCaptionsStore19(t.get("video_id"));this.$VideoComposerDialogCaptionsStore20(t.get("video_id"),true);return t};s.prototype.$VideoComposerDialogCaptionsStore18=function(t,u,v,w,x,y,z,A,B){t=t.set("videoFile",u);if(u)t=t.set("videoData",c("VideoComposerDialogUploadUtils").createVideoData(u));return t.set("video_id",v).set("accessToken",w).set("composerID",x).set("pageID",y).set("videoDurationInSec",z?z:0).set("composerMode",A).set("isOldComposer",B)};s.prototype.$VideoComposerDialogCaptionsStore21=function(t,u){if(!t)return;this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_TAB_OPENED,{session_id:u})};s.prototype.$VideoComposerDialogCaptionsStore5=function(t){__p&&__p();var u=c("VideoComposerDialogCaptionEditorStore").getState().get("locale"),v=c("VideoComposerDialogCaptionEditorStore").getState().get("language"),w=c("VideoComposerDialogCaptionEditorStore").getState().get("captionID"),x=t.get("drafts"),y=x.toArray();for(var z=0;z<x.size;z++){var A=x.get(z);if(A.id===w){A.locale=u;A.language=v;y[z]=A;break}}var B=c("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(c("immutable").List(y),t.get("deletionCache"));return t.set("drafts",B)};s.prototype.$VideoComposerDialogCaptionsStore4=function(t){var u=t.get("drafts"),v=c("immutable").List();for(var w=0;w<u.size;w++){var x=u.get(w);if(x.locale===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)c("VideoComposerDialogCaptionEditorUtils").silentlyDeleteSubtitle(t.get("video_id"),x,t.get("pageID"));else v=v.push(x)}return t.set("drafts",v)};s.prototype.$VideoComposerDialogCaptionsStore9=function(t,u){var v=c("VideoComposerDialogCaptionEditorUtils").addLocaleAsPublishPending(t.get("publishedStateChangeset"),u),w=c("VideoComposerDialogCaptionEditorUtils").updateToChangesetValues(t.get("drafts"),v);return t.set("publishedStateChangeset",v).set("drafts",w)};s.prototype.$VideoComposerDialogCaptionsStore22=function(){return{sessionID:this.getState().get("timeFirstInitialized")}};s.prototype.$VideoComposerDialogCaptionsStore2=function(t,u,v,w){var x=this.getLogger().setEvent(t).setError(v).setSubtitleID(w);if(u!==null)for(var y in u){if(y===null||u[y]===null)return;x.addToExtraData(y,u[y])}x.log()};s.prototype.$VideoComposerDialogCaptionsStore11=function(t,u){var v=t.get("videoDurationInSec");if(v===0)return t;var w=100*u/v;w=Math.min(w,99);if(w>t.get("progress"))t=t.set("progress",w);var x=(Date.now()-t.get("generateStarted"))/1e3;return t.set("autoGenProcessRate",u/x)};s.prototype.$VideoComposerDialogCaptionsStore10=function(t,u,v){var w=c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(v),x=t.get("captionFiles").set(w,u),y=t.get("composerID");if(y){var z=t.get("drafts"),A=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(x,z||c("immutable").List());c("ComposerVideoUploadActions").updateCaptions(y,Array.from(A.values()))}return t.set("captionFiles",x)};s.prototype.$VideoComposerDialogCaptionsStore14=function(t,u){var v=c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(u),w=t.get("captionFiles")["delete"](v),x=t.get("composerID");if(x){var y=t.get("drafts"),z=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(w,y||c("immutable").List());c("ComposerVideoUploadActions").updateCaptions(x,Array.from(z.values()))}return t.set("captionFiles",w)};s.prototype.$VideoComposerDialogCaptionsStore19=function(t){__p&&__p();c("VideoComposerDialogCaptionEditorUtils").fetchCaptions(t,function(u){__p&&__p();if(u&&u.video&&u.video.spoken_language)c("VideoComposerDialogCaptionsTabActions").selectSpokenLanguage(u.video.spoken_language);c("VideoComposerDialogCaptionEditorUtils").convertFetchToObject(t,false,u,function(v){__p&&__p();var w=c("VideoComposerDialogCaptionEditorUtils").makeAllSRTCaptionPromises(v);c("Promise").all(w).then(function(x){__p&&__p();var y=c("immutable").Map(),z="";x.forEach(function(A){if(!A)return;y=y.set(A.locale,A.captions);if(A.isDefault)z=A.locale});c("VideoComposerDialogCaptionsTabActions").initializeAllCaptionFiles(y);if(z!=="")c("VideoComposerDialogCaptionsTabActions").setDefaultLocale(z)}).done()})})};s.prototype.$VideoComposerDialogCaptionsStore12=function(t){var u=t.payload,v=u&&u.success;if(!v)this.$VideoComposerDialogCaptionsStore23()};s.prototype.$VideoComposerDialogCaptionsStore24=function(t,u,v){var w=c("XVideoCaptionGenerateAsyncController").getURIBuilder().setInt("video_id",t).setBool("regenerate",true).setBool("is_new_editor",true);if(u!==c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)w=w.setString("locale_override",u).setString("locale",u);var x=w.getURI(),y=c("ActorURI").create(x,this.getState().get("pageID"));new(c("AsyncRequest"))(y).setMethod("POST").setHandler(v).send()};s.prototype.$VideoComposerDialogCaptionsStore7=function(t,u,v){__p&&__p();if(!c("VideoComposerDialogCaptionEditorUtils").isAutoGenerateable(v))return false;this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_BUTTON_CLICKED);this.$VideoComposerDialogCaptionsStore24(t,v,function(w){var x=w.payload,y=x&&x.status!==0;if(y){this.$VideoComposerDialogCaptionsStore15(t);this.$VideoComposerDialogCaptionsStore16(t,u);this.$VideoComposerDialogCaptionsStore17()}else this.$VideoComposerDialogCaptionsStore25(u)}.bind(this));return true};s.prototype.$VideoComposerDialogCaptionsStore15=function(t){if(t)c("RTISubscriptionManager").subscribe("shortwave/captions/"+t,this.$VideoComposerDialogCaptionsStore26.bind(this))};s.prototype.$VideoComposerDialogCaptionsStore26=function(t){var u=t&&t.payload;if(!u)return;var v=JSON.parse(t.payload);if(!v.progress_ms)return;c("VideoComposerDialogCaptionsTabActions").updateGenerateProgress(v.progress_ms/1e3)};s.prototype.$VideoComposerDialogCaptionsStore27=function(){var t=(new Date()-this.getState().get("generateStarted"))/1e3;return c("VideoComposerDialogCaptionEditorUtils").shouldRetryAutoGeneration(this.getState().get("videoDurationInSec"),t)};s.prototype.$VideoComposerDialogCaptionsStore28=function(){return this.getState().get("numAutoGenerationRetries")>0};s.prototype.$VideoComposerDialogCaptionsStore29=function(t){if(this.$VideoComposerDialogCaptionsStore28()){this.$VideoComposerDialogCaptionsStore25(t);c("VideoComposerDialogCaptionsTabActions").generateComplete(c("immutable").List(),this.getState().get("spokenLocale"),null);return}c("VideoComposerDialogCaptionsTabActions").retryAutoGeneration()};s.prototype.$VideoComposerDialogCaptionsStore16=function(t,u){__p&&__p();var v=false,w=0,x=setInterval(function(){__p&&__p();w++;if(v)return;v=true;if(this.$VideoComposerDialogCaptionsStore27()){clearInterval(x);this.$VideoComposerDialogCaptionsStore29(u);return}c("VideoComposerDialogCaptionEditorUtils").fetchCaptions(t,function(y){__p&&__p();var z=y&&y.video&&y.video.video_subtitles;if(z){var A=y.video.video_subtitles,B=A.map(function(D,E){return{id:D.id,language:D.display_language,locale:D.locale,creationMethod:D.subtitle_creation_method}}),C=c("VideoComposerDialogCaptionEditorUtils").findAutoGeneratedCaption(B,u);if(C){clearInterval(x);this.$VideoComposerDialogCaptionsStore20(t,false);this.$VideoComposerDialogCaptionsStore30(C.id,C.locale);return}if(w===p){this.$VideoComposerDialogCaptionsStore25(u);c("VideoComposerDialogCaptionsTabActions").generateComplete(c("immutable").List(),this.getState().get("spokenLocale"),null);clearInterval(x);return}v=false}}.bind(this))}.bind(this),q)};s.prototype.$VideoComposerDialogCaptionsStore17=function(){var t=0,u=this.getState().get("videoDurationInSec"),v=setInterval(function(){t++;var w=!this.getState().get("isAutoGenerating")||t>=c("VideoComposerDialogCaptionEditorConstants").MAX_FAKE_POLL_ITERATIONS;if(w){clearInterval(v);return}var x=this.getState().get("progress"),y=x*u/100,z=this.getState().get("autoGenProcessRate"),A=y+z*c("VideoComposerDialogCaptionEditorConstants").POLL_FAKE_FREQUENCY_GENERATE_MS*c("VideoComposerDialogCaptionEditorConstants").AUTO_GEN_PROGRESS_RATE_FACTOR/1e3;c("VideoComposerDialogCaptionsTabActions").updateGenerateProgress(A)}.bind(this),c("VideoComposerDialogCaptionEditorConstants").POLL_FAKE_FREQUENCY_GENERATE_MS)};s.prototype.$VideoComposerDialogCaptionsStore8=function(t){this.$VideoComposerDialogCaptionsStore24(t,c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE,function(u){var v=u.payload,w=v&&v.status!==0;if(w)this.$VideoComposerDialogCaptionsStore31(t);else this.$VideoComposerDialogCaptionsStore32()}.bind(this))};s.prototype.$VideoComposerDialogCaptionsStore31=function(t){__p&&__p();var u=false,v=0,w=setInterval(function(){__p&&__p();v++;if(u)return;var x=c("XVideoCaptionSpeechDetectionAsyncController").getURIBuilder().setInt("video_id",t);u=true;var y=x.getURI(),z=c("ActorURI").create(y,this.getState().get("pageID"));new(c("AsyncRequest"))(z).setMethod("POST").setHandler(function(A){__p&&__p();var B=A.payload,C=B&&B.status===2;if(C){clearInterval(w);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_CREATE_COMPLETE);c("VideoComposerDialogCaptionEditorUtils").fetchCaptionedLocales(t,false,function(E){__p&&__p();c("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(E);c("VideoComposerDialogCaptionsTabActions").createComplete();if(this.getState().show_caption_editor){var F=E.findIndex(function(G){return G.language===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE});c("VideoComposerDialogCaptionsTabActions").editCaptionsDraft(F)}else E.forEach(function(G,F){if(G.language===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)c("VideoComposerDialogCaptionsTabActions").deleteCaptionsDraft(F)})}.bind(this));return}var D=B===null||B&&B.status===0;if(D){this.$VideoComposerDialogCaptionsStore32();clearInterval(w);return}if(v===o){this.$VideoComposerDialogCaptionsStore32();clearInterval(w);return}u=false}.bind(this)).send()}.bind(this),n)};s.prototype.$VideoComposerDialogCaptionsStore20=function(t,u){c("VideoComposerDialogCaptionEditorUtils").fetchCaptionedLocales(t,u,c("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch)};s.prototype.$VideoComposerDialogCaptionsStore6=function(t,u){c("VideoComposerDialogCaptionEditorUtils").fetchCaptionedLocales(t,false,function(v){var w=u!==null;if(w)this.$VideoComposerDialogCaptionsStore33(v,u);c("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(v)}.bind(this))};s.prototype.$VideoComposerDialogCaptionsStore33=function(t,u){var v=t.some(function(w){w.locale===u});if(v)c("VideoComposerDialogCaptionsTabActions").resetAutoGeneratingLocale();else c("VideoComposerDialogCaptionsTabActions").resumeAutoGeneration()};s.prototype.uploadCaptionsForSRT=function(t,u,v){this.$VideoComposerDialogCaptionsStore13(t,u,v)};s.prototype.$VideoComposerDialogCaptionsStore13=function(t,u,v){var w=c("XVideoCaptionUploadAsyncController").getURIBuilder().setInt("video_id",t),x=new FormData();u.forEach(function(A,B){var C=A.getIsDefault()?"captions_default":"captions_file"+B;x.append(C,A.getFile())});var y=w.getURI(),z=c("ActorURI").create(y,this.getState().get("pageID"));new(c("AsyncRequest"))(z).setMethod("POST").setHandler(function(A){this.$VideoComposerDialogCaptionsStore34(A,t,u)}.bind(this)).setRawData(x).send()};s.prototype.$VideoComposerDialogCaptionsStore34=function(t,u,v){__p&&__p();var w=t.payload,x=w&&w.success==="true"&&w.error==="";if(!x){var y=w?w.error:c("VideoComposerDialogCaptionEditorConstants").NO_PAYLOAD;c("VideoComposerDialogCaptionsTabActions").finishSRTUpload(x,y,c("immutable").Map());return}c("VideoComposerDialogCaptionEditorUtils").fetchCaptions(u,function(z){__p&&__p();c("VideoComposerDialogCaptionEditorUtils").convertFetchToObject(u,false,z,function(A){c("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(A);var B=c("VideoComposerDialogCaptionEditorUtils").makeSRTCaptionPromises(v,A);c("Promise").all(B).then(function(C){var D=c("immutable").Map();C.forEach(function(E){if(!E)return;D=D.set(E.locale,{subtitlesID:E.subtitlesID,captions:E.captions})});c("VideoComposerDialogCaptionsTabActions").finishSRTUpload(x,w.error,D)}).done()})})};s.prototype.$VideoComposerDialogCaptionsStore25=function(t){var u=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").CAPTION_ERROR_GENERATE_FAIL,t);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_COMPLETE,{},u.toString());this.$VideoComposerDialogCaptionsStore35(u)};s.prototype.$VideoComposerDialogCaptionsStore32=function(){var t=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").CAPTION_ERROR_CREATE_FAIL);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_CREATE_COMPLETE,{},t.toString());this.$VideoComposerDialogCaptionsStore35(t)};s.prototype.$VideoComposerDialogCaptionsStore23=function(){var t=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").CAPTION_ERROR_DELETE_FAIL);this.$VideoComposerDialogCaptionsStore35(t)};s.prototype.$VideoComposerDialogCaptionsStore35=function(t){var u=c("immutable").List([t]),v={type:c("VideoComposerDialogCaptionsTabActionTypes").UPDATE_ERROR_STATE,errors:u};c("VideoComposerDialogDispatcher").dispatch(v)};s.prototype.$VideoComposerDialogCaptionsStore30=function(t,u){this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_COMPLETE);c("VideoComposerDialogCaptionEditorUtils").fetchCaptionByID(t,function(v){var w=v&&v.video_subtitle&&v.video_subtitle.captions&&v.video_subtitle.captions.edges;if(w){var x=v.video_subtitle.captions.edges;c("VideoComposerDialogCaptionsTabActions").generateComplete(c("immutable").List(x),u,t)}})};f.exports=new s(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogCrosspostUtils",["Promise","Arbiter","AsyncRequest","ErrorUtils","GraphAPI","VideoComposerDialogActions","VideoComposerDialogCaptionMode","VideoComposerDialogCaptionsStore","VideoComposerDialogMetadataStore","VideoComposerDialogPublishingStore","VideoComposerDialogTabs","VideoComposerDialogVideoTypeConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(){__p&&__p();var l=c("VideoComposerDialogMetadataStore").getState(),m=l.videoType,n=l.accessToken,o=l.actorID,p=c("VideoComposerDialogCaptionsStore").getState(),q=p.captionsFeaturesMode,r=c("VideoComposerDialogVideoTypeConfig").typeConfig[m].displayedTabs.map(function(s){return c("VideoComposerDialogTabs").get(s).getCrosspostRequestDataToSend()});[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogPublishingStore")].forEach(function(s){r.push(s.getCrosspostRequestDataToSend())});c("Promise").all(r).then(function(s){var t={};s.forEach(function(v){return t=babelHelpers["extends"]({},t,v)});var u=new FormData();Object.keys(t).forEach(function(v){u.append(v,t[v])});return c("GraphAPI")("2.12").object("page",o||"").edge("videos").post(u)}).done(function(s){k(s,n,o||"",q)},function(s){c("VideoComposerDialogActions").crosspostFailed(c("ErrorUtils").normalizeError(s))})},i=function i(l,m){c("VideoComposerDialogActions").crosspostFinished();var n=c("VideoComposerDialogMetadataStore").getState(),o=n.videoAssetID;c("Arbiter").inform("video/newPost"+l,{videoAssetID:o,videoID:m})},j=function j(l){new(c("AsyncRequest"))().setURI("/ajax/video/actions/delete/").setData({fbid:l,redirect:false}).send()},k=function k(l,m,n,o){__p&&__p();var p=c("VideoComposerDialogCaptionsStore").getState(),q=p.localCaptionFiles,r=q.toArray();if(r.length===0){i(n||"",l.id||"");return}if(o!==c("VideoComposerDialogCaptionMode").OLD_DATA_MODEL)c("VideoComposerDialogCaptionsStore").uploadCaptionsForSRT(l.id,r,m);c("Promise").all(r.map(function(s){__p&&__p();var t=new FormData();t.append("access_token",m);t.append("captions_file",s.getFile());if(s.getIsDefault())t.append("default_locale",s.getLocale());var u=c("GraphAPI")("2.11").object("video",l.id).edge("captions").post(t);u.done(function(){},function(v){j(l.id);c("VideoComposerDialogActions").crosspostFailed(c("ErrorUtils").normalizeError(v))});return u})).done(function(l){i(n||"",l.id||"")},function(s){j(l.id);c("VideoComposerDialogActions").crosspostFailed(c("ErrorUtils").normalizeError(s))})};f.exports={createCrosspost:h}}),null);
__d("XPagePostExpirationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/post/expiration/update/",{})}),null);
__d("requiredIfPropIsFalsy",["sprintf"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){return function(k,l,m){if(k[i])return null;if(k[l]===undefined)return new Error(c("sprintf")("Must supply %s to %s if property %s is falsy.",l,m,i));for(var n=arguments.length,o=Array(n>3?n-3:0),p=3;p<n;p++)o[p-3]=arguments[p];return j.apply(undefined,[k,l,m].concat(o))}}f.exports=h}),null);
__d("PostExpireDialogBody.react",["cx","fbt","ActorURI","AsyncRequest","DatePickerRestraints","Dialog","ExpirationType","FBToggleSwitch.react","HelpLink.react","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","React","ReloadPage","XPagePostExpirationController","XUICard.react","XUICardSection.react","XUICheckboxInput.react","XUIDateTimePicker.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIGrayText.react","XUINotice.react","requiredIfPropIsFalsy"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes,m=60*1e3,n=60*m,o=24*n,p=182*o+12*n,q=5*m+30*1e3;j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(){__p&&__p();var s,t;"use strict";for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.state={expirationDate:this.props.originalExpirationTimestamp?new Date(this.props.originalExpirationTimestamp):new Date(Date.now()+n),expirationType:this.props.originalExpirationType?this.props.originalExpirationType:c("ExpirationType").HIDE,expirationToggle:this.props.originalExpirationTimestamp?true:false,invalidTimeAtSubmit:false},this.$PostExpireDialogBody3=function(){if(!this.state.expirationToggle)return null;return c("React").createElement(c("XUICard.react"),{background:"light-wash",className:"_3-8n"},c("React").createElement(c("XUICardSection.react"),{className:"_2ph- _3-8x _3-4v"},c("React").createElement(c("XUIDateTimePicker.react"),{dateRestraints:[c("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-o)),c("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+p))],date:this.state.expirationDate,onChange:this.$PostExpireDialogBody6,timezone:this.props.timezone})),c("React").createElement(c("XUICardSection.react"),{className:"_2ph- _3-8x _3-4v"},c("React").createElement(c("InputLabel_DEPRECATED.react"),{className:"_3-8x"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.expirationType===c("ExpirationType").DELETE,onChange:this.$PostExpireDialogBody7}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",weight:"normal"},i._("Delete the post. Permanently remove the post and its insights at the scheduled time."))))))}.bind(this),this.$PostExpireDialogBody1=function(){__p&&__p();var x=this.$PostExpireDialogBody8(),y=this.$PostExpireDialogBody9(),z=x&&y;if(z)return null;if(this.$PostExpireDialogBody10())return null;var A=null;if(!x||this.state.invalidTimeAtSubmit)A=i._("Posts need to be expired between 10 minutes and 6 months from now.");else if(!y)A=i._("Your new expiration should be more than 6 mins apart from your old expiration time.");return c("React").createElement(c("XUINotice.react"),{use:"warn",className:"_3-8x"},A)}.bind(this),this.$PostExpireDialogBody8=function(){if(!this.state.expirationToggle)return true;var x=this.state.expirationDate.getTime(),y=Date.now()+10*m,z=Date.now()+p;return x>=y&&x<=z}.bind(this),this.$PostExpireDialogBody9=function(){if(!this.state.expirationToggle||!this.props.originalExpirationTimestamp)return true;var x=this.state.expirationDate.getTime();return x>=this.props.originalExpirationTimestamp||x<this.props.originalExpirationTimestamp-q}.bind(this),this.$PostExpireDialogBody2=function(){this.setState({expirationToggle:!this.state.expirationToggle})}.bind(this),this.$PostExpireDialogBody6=function(x){this.setState({expirationDate:x,invalidTimeAtSubmit:false})}.bind(this),this.$PostExpireDialogBody7=function(event){var x=event.target.checked?c("ExpirationType").DELETE:c("ExpirationType").HIDE;this.setState({expirationType:x})}.bind(this),this.$PostExpireDialogBody4=function(){__p&&__p();if(!this.$PostExpireDialogBody8()){this.setState({invalidTimeAtSubmit:true});return null}var x;if(this.props.onSubmit)return this.$PostExpireDialogBody11();if(this.state.expirationToggle){x={post_id:this.props.postID,expiration_time:this.$PostExpireDialogBody10()?null:Math.floor(this.state.expirationDate.getTime()/1e3),expiration_type:this.state.expirationType};this.$PostExpireDialogBody12(x)}else if(this.props.originalExpirationTimestamp||this.props.isRepublish){x={post_id:this.props.postID,expiration_time:0};this.$PostExpireDialogBody12(x)}}.bind(this),this.$PostExpireDialogBody11=function(){if(this.state.expirationToggle){var x=this.$PostExpireDialogBody10()?null:Math.floor(this.state.expirationDate.getTime()/1e3),y=this.state.expirationType;this.props.onSubmit(x,y)}else if(this.props.originalExpirationTimestamp||this.props.isRepublish)this.props.onSubmit(0,null)}.bind(this),this.$PostExpireDialogBody10=function(){if(!this.props.originalExpirationTimestamp)return false;var x=this.props.originalExpirationTimestamp-m,y=this.props.originalExpirationTimestamp+m,z=this.state.expirationDate.getTime();return z>x&&z<y}.bind(this),this.$PostExpireDialogBody13=function(){var x="We encountered an error while performing this operation";new(c("Dialog"))().setBody(x).setButtons([c("Dialog").OK]).show()},this.$PostExpireDialogBody12=function(x){var y=c("XPagePostExpirationController").getURIBuilder().getURI();y=c("ActorURI").create(y,this.props.pageID);new(c("AsyncRequest"))().setURI(y).setMethod("POST").setData(x).setHandler(function(){return c("ReloadPage").now()}).setErrorHandler(this.$PostExpireDialogBody13).send()}.bind(this),this.$PostExpireDialogBody5=function(){var x=null!=this.props.originalExpirationTimestamp,y=this.state.expirationToggle!=x,z=false;if(this.props.originalExpirationTimestamp){var A=Math.floor(this.props.originalExpirationTimestamp/m),B=Math.floor(this.state.expirationDate.getTime()/m);z=B!=A}var C=this.props.originalExpirationType!=null&&this.state.expirationType!=this.props.originalExpirationType;return y||z||C||this.props.isRepublish}.bind(this),t}r.prototype.render=function(){"use strict";var s=this.props.submitLabel?this.props.submitLabel:this.props.isRepublish?i._("Republish"):i._("Save"),t=this.props.isRepublish?c("React").createElement(c("XUINotice.react"),null,i._("Republishing this post will make it visible to the public. You can set a new expiration time here to make the post expire again later.")):null,u=this.state.expirationToggle?i._("Turn Off to Cancel Expiration"):i._("Turn On to Schedule Expiration"),v=i._("When a post expires it will unpublish, which means it will no longer be visible to the public. Page admins can still view unpublished posts and their Insights."),w=this.$PostExpireDialogBody1();return c("React").createElement(c("XUICard.react"),{className:"_3-4u"},t,c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("InputLabel_DEPRECATED.react"),null,c("React").createElement(c("FBToggleSwitch.react"),{checked:this.state.expirationToggle,onToggle:this.$PostExpireDialogBody2,tooltip:u}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,i._("Expire"),c("React").createElement(c("HelpLink.react"),{tooltip:v,alignv:"bottom"}))),this.$PostExpireDialogBody3(),w),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",onClick:this.$PostExpireDialogBody4,disabled:w!==null||!this.$PostExpireDialogBody5(),label:s,use:"confirm"})))};r.propTypes={originalExpirationTimestamp:l.number,originalExpirationType:l.number,timezone:l.string.isRequired,onSubmit:l.func,isRepublish:l.bool,submitLabel:l.string,postID:c("requiredIfPropIsFalsy")("onSubmit",l.number),pageID:c("requiredIfPropIsFalsy")("onSubmit",l.number)};f.exports=r}),null);
__d("PostExpireDialog.react",["fbt","PostExpireDialogBody.react","React","ReactLayeredComponentMixin_DEPRECATED","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j=343,k=c("React").createClass({displayName:"PostExpireDialog",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{originalExpirationTimestamp:i.number,originalExpirationType:i.number,timezone:i.string.isRequired,postID:i.number,pageID:i.number,onSubmit:i.func.isRequired,isRepublish:i.bool,submitLabel:i.string},getInitialState:function l(){return{shown:false}},render:function l(){return c("React").createElement("div",null)},renderLayers:function l(){var m=this.props.isRepublish?h._("Republish"):h._("Edit Expiration");return c("React").createElement(c("XUIDialog.react"),{width:j,shown:this.state.shown},c("React").createElement(c("XUIDialogTitle.react"),null,m),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("PostExpireDialogBody.react"),this.props)))},show:function l(){this.setState({shown:true})},hide:function l(){this.setState({shown:false})}});f.exports=k}),null);
__d("XVideoEditMakeFeaturedController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/edit/feature/",{v:{type:"FBID",required:true},is_videos_tab:{type:"Bool",defaultValue:false}})}),null);
__d("VideoComposerDialogEditUtils",["fbt","invariant","Promise","ActorURI","Arbiter","AsyncRequest","DOM","ExpirationType","FBFeedLocations","PageContentTabConfig","PagesComposer","PostExpireDialog.react","PostScheduleDialog.react","React","ReactDOM","ReloadPage","UserAgent","VideoComposerDialogActions","VideoComposerDialogMetadataStore","VideoComposerDialogPublishingStore","VideoComposerDialogTabs","VideoEditEvent","VideoEditFlow","VideoEditPublishingAction","VideoEditPublishingStatus","VideoEditSource","VideoEditTypedLogger","XVideoEditDialogSaveController","XVideoEditMakeFeaturedController","XVideoGenerateStoryController","ge"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=1e3,k=60*j,l=function l(L,M){if(!L)return false;var N=L-k,O=L+k;return M>N&&M<O},m=function m(L){var M=c("DOM").create("a");M.download="";M.href=L;M.click()},n=function(L){return c("UserAgent").isBrowser("Firefox")?{href:L,target:"_blank"}:{onclick:m.bind(this,L)}}.bind(this),o=function o(L,M,N){var O=c("XVideoEditMakeFeaturedController").getURIBuilder().setFBID("v",L).setBool("is_videos_tab",c("ge")("video_hub_featured_video_container")!=null).getURI();if(M)O=c("ActorURI").create(O,M);new(c("AsyncRequest"))(O).setHandler(function(P){N(P.payload)}).send()},p=function p(event,L){__p&&__p();var M=event.value;if(M===c("VideoEditPublishingAction").MAKE_DRAFT.value)q();else if(M===c("VideoEditPublishingAction").PUBLISH.value)r();else if(M===c("VideoEditPublishingStatus").SCHEDULED.value)s(L);else if(M===c("VideoEditPublishingStatus").DRAFT.value)t();else if(M===c("VideoEditPublishingAction").EXPIRE.value)u();else if(M===c("VideoEditPublishingStatus").PUBLISHED.value)v();else if(M===c("VideoEditPublishingAction").SCHEDULE_PUBLISH.value)x();else if(M===c("VideoEditPublishingAction").CANCEL_EXPIRATION.value)z();else if(M===c("VideoEditPublishingStatus").EXPIRING.value)A(L);else if(M===c("VideoEditPublishingAction").REPUBLISH.value)B();else if(M===c("VideoEditPublishingStatus").EXPIRED.value)C(L);else if(M===c("VideoEditPublishingAction").SCHEDULE_EXPIRATION.value)D(L);else if(M===c("VideoEditPublishingStatus").UNPUBLISHED.value)w();c("VideoComposerDialogActions").selectEditPublishAction(M)},q=function q(){c("VideoComposerDialogActions").editShouldPublish(false);c("VideoComposerDialogActions").editScheduledTime(new Date(0))},r=function r(){c("VideoComposerDialogActions").editShouldPublish(true)},s=function s(L){var M=L.scheduledPublishTime;c("VideoComposerDialogActions").editScheduledTime(new Date(M));c("VideoComposerDialogActions").editShouldPublish(false)},t=function t(){c("VideoComposerDialogActions").editScheduledTime(new Date(0));c("VideoComposerDialogActions").editShouldPublish(false)},u=function u(){c("VideoComposerDialogActions").editShouldExpire(true)},v=function v(){c("VideoComposerDialogActions").editShouldExpire(false);c("VideoComposerDialogActions").editExpiration(new Date(0),c("ExpirationType").NONE)},w=function w(){c("VideoComposerDialogActions").editShouldPublish(false)},x=function x(){var L=h._("OK"),M=c("React").createElement(c("PostScheduleDialog.react"),{timezoneStr:c("PageContentTabConfig").timezone_str,onSubmit:y,submitLabel:L});M=c("ReactDOM").render(M,c("DOM").create("div"));M.show()},y=function y(L){c("VideoComposerDialogActions").editScheduledTime(L);c("VideoComposerDialogActions").editShouldPublish(false)},z=function z(){c("VideoComposerDialogActions").editShouldExpire(false);c("VideoComposerDialogActions").editExpiration(new Date(0),c("ExpirationType").NONE)},A=function A(L){var M=L.expirationTime,N=L.expirationType;c("VideoComposerDialogActions").editShouldExpire(false);c("VideoComposerDialogActions").editExpiration(new Date(M),N)},B=function B(){c("VideoComposerDialogActions").editShouldExpire(false);c("VideoComposerDialogActions").editExpiration(new Date(0),c("ExpirationType").NONE)},C=function C(L){var M=L.expirationTime,N=L.expirationType;c("VideoComposerDialogActions").editExpiration(new Date(M),N)},D=function D(L){var M=h._("OK"),N=c("React").createElement(c("PostExpireDialog.react"),{timezone:c("PageContentTabConfig").timezone_str,onSubmit:function O(P,Q){E(L,P,Q);N instanceof c("PostExpireDialog.react")||i(0);N.hide()},submitLabel:M});N=c("ReactDOM").render(N,c("DOM").create("div"));N.show()},E=function E(L,M,N){if(M)M*=j;else M=L.expirationTime;c("VideoComposerDialogActions").editExpiration(new Date(M),N)},F=function F(L,M,N){__p&&__p();var O=new FormData(),P=[];for(var Q=N,R=Array.isArray(Q),S=0,Q=R?Q:Q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var T;if(R){if(S>=Q.length)break;T=Q[S++]}else{S=Q.next();if(S.done)break;T=S.value}var U=T;P.push(c("VideoComposerDialogTabs").get(U).getEditRequestDataToSend().then(function(V){if(V)Object.keys(V).forEach(function(W){if(V)O.append(W,V[W])})}))}[c("VideoComposerDialogMetadataStore").getEditRequestDataToSend(),c("VideoComposerDialogPublishingStore").getEditRequestDataToSend()].forEach(function(V){return P.push(V.then(function(W){if(W)Object.keys(W).forEach(function(X){O.append(X,W[X])})}))});c("Promise").all(P).done(function(){O.append("edit_flow",c("VideoEditFlow").DIALOG_V2);K(L,M,O)},function(V){c("VideoComposerDialogActions").saveEditedVideoFailure(H())})},G=function G(L,M,N,O,P,Q){__p&&__p();if(Q===c("VideoEditSource").PERMALINK){c("ReloadPage").now();return}if(Q===c("VideoEditSource").TIMELINE&&L&&P){var R=c("XVideoGenerateStoryController").getURIBuilder().getURI(),S={video_id:M,feed_location:c("FBFeedLocations").PAGE_TIMELINE};if(O)S.timeline_identifier=O;J(c("VideoEditEvent").REQUEST_NEW_STORY,Q,M);new(c("AsyncRequest"))().setURI(R).setData(S).setHandler(function(U){I(U,P,Q,M)}).setErrorHandler(function(U){J(c("VideoEditEvent").ERROR_NO_NEW_STORY,Q,M)}).send();return}if(Q===c("VideoEditSource").LIBRARY){var T={id:M,videoID:M};if(N)T.videoAssetID=N;c("Arbiter").inform("video/edited"+L,T)}},H=function H(){return h._("Sorry, something went wrong. Please try again later.")},I=function I(L,M,N,O){var P=L.payload;if(P){J(c("VideoEditEvent").RECEIVED_NEW_STORY,N,O);c("PagesComposer").replaceByID(M,P);J(c("VideoEditEvent").REPLACED_OLD_STORY,N,O)}else J(c("VideoEditEvent").ERROR_NO_NEW_STORY,N,O)},J=function J(event,L,M){new(c("VideoEditTypedLogger"))().setEvent(event).setSource(L).setFlow(c("VideoEditFlow").DIALOG_V2).setVideoID(M).log()},K=function K(L,M,N){var O=c("XVideoEditDialogSaveController").getURIBuilder().setInt("v",M).getURI();O=c("ActorURI").create(O,L);new(c("AsyncRequest"))(O).setRawData(N).setHandler(function(P){var Q=P.payload.error;if(!Q)c("VideoComposerDialogActions").saveEditedVideoSuccess();else c("VideoComposerDialogActions").saveEditedVideoFailure(P.payload.unknownError?H():P.payload.errorMessage)}).setErrorHandler(function(P){c("VideoComposerDialogActions").saveEditedVideoFailure(P.errorDescription)}).send()};f.exports={areTwoTimesAlmostTheSame:l,getDownloadMenuItemProps:n,onMakeFeaturedVideo:o,onPublishingChange:p,onSave:F,onSuccessfulSave:G}}),null);
__d("VideoComposerDialogTabUtils",["Promise","React","VideoComposerDialogActions","VideoComposerDialogTabs","VideoComposerDialogVideoTypeConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(k,l){__p&&__p();var m=c("VideoComposerDialogVideoTypeConfig").typeConfig[k].displayedTabs,n=[];for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n.push(c("VideoComposerDialogTabs").get(s).fetchCrosspostData(l))}c("Promise").all(n).done()},i=function i(k,l){__p&&__p();var m=c("VideoComposerDialogVideoTypeConfig").typeConfig[k].displayedTabs,n=[];for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n.push(c("VideoComposerDialogTabs").get(s).fetchEditPostData(l))}c("Promise").all(n).done(function(){c("VideoComposerDialogActions").editTabsLoaded()})},j=function j(k){return k.map(function(l){var m=c("VideoComposerDialogTabs").get(l).tabContainer;return c("React").createElement(m,{key:l})})};f.exports={fetchCrosspostParameters:h,fetchEditPostParameters:i,getTabContainers:j}}),null);
__d("XBrandedContentComposerInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/branded_content/composer/intercept/",{composer_post_text:{type:"String"},target_id:{type:"String"},sponsor_id:{type:"String"}})}),null);
__d("XVideoComposerDialogInitUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/init_upload/",{target_id:{type:"FBID",required:true},composer_entry_point_ref:{type:"Enum",required:true,enumType:1}})}),null);
__d("VideoComposerDialogUploadUtils",["Promise","ActorURI","Arbiter","AsyncRequest","VideoComposerDialogActions","VideoComposerDialogConstants","VideoComposerDialogMetadataStore","VideoComposerDialogPremiereStore","VideoComposerDialogPublishingStore","VideoComposerDialogTabs","VideoData","VideoUploader","VideoUploadFile","XBrandedContentComposerInterceptController","XVideoComposerDialogInitUploadController","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(p,q){p.addSubscriptions(q.subscribe("upload-finished",c("VideoComposerDialogActions").uploadFinished),q.subscribe("upload-failed",function(event,r){setTimeout(function(){return c("VideoComposerDialogActions").uploadFailed(event,r)},0)}),q.subscribe("upload-progressed",c("VideoComposerDialogActions").uploadProgressed),q.subscribe("post-failed",c("VideoComposerDialogActions").postFailed),q.subscribe("post-finished",c("VideoComposerDialogActions").postFinished),q.subscribe("metadata-parsed",function(event,r){setTimeout(function(){return c("VideoComposerDialogActions").metadataLoadedFromVideoUploader(r)},0)}))},i=function i(p,q,r){var s=p&&p.getInput()?c("VideoUploadFile").fromFileInput(p.getInput()):c("VideoUploadFile").fromFile(q);r.upload(s)},j=function j(p,q){__p&&__p();var r={},s=[];for(var t=q,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;s.push(c("VideoComposerDialogTabs").get(x).getPostRequestDataToSend().then(function(y){Object.assign(r,y)}))}[c("VideoComposerDialogMetadataStore").getPostRequestDataToSend(),c("VideoComposerDialogPublishingStore").getPostRequestDataToSend(),c("VideoComposerDialogPremiereStore").getPostRequestDataToSend()].forEach(function(y){return s.push(y.then(function(z){Object.assign(r,z)}))});c("Promise").all(s).then(function(){return k(p,r)}).done(function(y){if(y)l(r);else p.post(r)},function(y){setTimeout(function(){return c("VideoComposerDialogActions").cancelUpload()},1)})},k=function k(p,q){var r=q.composertags_sponsor[0];if(!r||q.is_reviewable_branded_content||!c("gkx")("AT7QKLh6ljd2y6Mt3fuCwHjrWMKHjMT6FEJH1PoMYY-BLngUvM0ixdFguQGbkMjl0_c0reMMNSz-vkc4bVReifOZyHjC5QX3kgqFOFeWNF0dww"))return c("Promise").resolve(false);var s=p.getUploadParameters().target_id,t=c("ActorURI").create(c("XBrandedContentComposerInterceptController").getURIBuilder().setString("target_id",s).setString("sponsor_id",r).getURI(),s);return new(c("AsyncRequest"))(t).exec().then(function(u){return u.getPayload()&&u.getPayload().shouldInterceptWhitelist},function(){return false})},l=function l(p){c("VideoComposerDialogActions").cancelUpload();if(p.scheduled)c("VideoComposerDialogActions").showBrandedContentErrorDialog();else c("VideoComposerDialogActions").showReviewableBrandedContentConfirmation()},m=function m(p,q,r){var s=c("XVideoComposerDialogInitUploadController").getURIBuilder().setFBID("target_id",q).setEnum("composer_entry_point_ref",r).getURI(),t=c("ActorURI").create(s,p);new(c("AsyncRequest"))(t).setHandler(function(u){c("VideoComposerDialogActions").initVideoUploader(new(c("VideoUploader"))(u.payload.videoUploader[0]))}).send()},n=function n(p){var q=b.URL.createObjectURL(p);return new(c("VideoData"))({aspect_ratio:c("VideoComposerDialogConstants").SIXTEEN_NINE,original_height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,original_width:c("VideoComposerDialogConstants").PLAYER_WIDTH,player_version_overwrite:"pleasantville",sd_src:q,stream_type:"progressive",video_id:""})},o=function o(p,q){var r=c("VideoComposerDialogMetadataStore").getState(),s=r.actorID,t=r.profileDisplayName,u=r.profilePictureURI;c("Arbiter").inform("videoUpload/complete",{videoID:p.video_id,containerType:p.video_container,copyrighted:p.copyrighted,videoAssetID:p.video_asset_id,videoTitle:p.video_title,videoDescription:p.xhpc_message_text,videoThumbnailBlob:p.thumb,isScheduledPost:!!p.scheduled,isHiddenFromTimeline:p.no_story,isSecret:p.secret,isDraft:p.draft=="true",isPageToPage:true,originalComposerID:q,pageID:s,isEpisode:p.episode_data_json!==null&&p.episode_data_json!==undefined&&JSON.parse(p.episode_data_json).isEpisode,userDisplayName:t,userProfilePictureURI:u});c("Arbiter").inform("videoUpload/"+q+"/done");c("Arbiter").inform("Pages/composeFinished",{composerID:q})};f.exports={addUploadSubscriptions:h,beginUpload:i,createVideoData:n,doPost:j,loadVideoUploader:m,postFinished:o}}),null);
__d("XVideoComposerDialogBootloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_params/",{})}),null);
__d("VideoComposerDialogUtils",["ActorURI","AsyncRequest","ComposerEntryPointRef","ComposerXVideoUploadDialogController","PagesSettingsInstreamAdsBlockListContentStore","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListStore","VideoComposerDialogActions","VideoComposerDialogAdBreakStore","VideoComposerDialogBasicStore","VideoComposerDialogCaptionsStore","VideoComposerDialogDispatcher","VideoComposerDialogDistributionStore","VideoComposerDialogEditStore","VideoComposerDialogLoggingStore","VideoComposerDialogMetadataStore","VideoComposerDialogPremiereStore","VideoComposerDialogPublishingStore","VideoComposerDialogShowVideo","VideoComposerDialogUIStore","VideoComposerDialogUploadStore","VideoUploadFile","XVanityURLController","XVideoComposerDialogBootloadController","formatDate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(q){var r=c("XVideoComposerDialogBootloadController").getURIBuilder().getURI(),s=c("ActorURI").create(r,q);new(c("AsyncRequest"))(s).setHandler(function(t){c("VideoComposerDialogActions").bootloadParameters(t.payload)}).send()},i=function i(q){__p&&__p();var r=q.length;for(var s=q.length-1;s>=0;s--){var t=q.charCodeAt(s);if(t>127&&t<=2047)r++;else if(t>2047&&t<=65535)r+=2;if(t>=56320&&t<=57343)s--}return r},j=function j(q){if(q===c("ComposerEntryPointRef").PAGE_CONTENT_TAB_SEASON_DETAILS||q===c("ComposerEntryPointRef").SHOWS_HOME_EPISODES_CARD||q===c("ComposerEntryPointRef").PAGE_COMPOSER_EPISODE_CARD)return c("VideoComposerDialogShowVideo").EPISODE;if(q===c("ComposerEntryPointRef").PAGE_TRAILER)return c("VideoComposerDialogShowVideo").TRAILER;return null},k=function k(q){var r=c("formatDate")(q,"m/d/Y",{skipPatternLocalization:true}),s=60*(q.getHours()*60+q.getMinutes());return{dateStr:r,timeSec:s}},l=function l(q){return c("XVanityURLController").getURIBuilder().setString("vanity",q).getURI()},m=function m(q){p();c("VideoComposerDialogActions").initializeCrosspostComposer(q)},n=function n(q){p();c("VideoComposerDialogActions").initializeEditComposer(q)},o=function o(q){var r=q.composerEntryPointRef?c("ComposerEntryPointRef")[q.composerEntryPointRef.toUpperCase()]:null;if(r===null)return;var s=c("ComposerXVideoUploadDialogController").getComposerInstance(q.composerID).getFileInput(),t=c("VideoUploadFile").fromFileInput(s.getInput());if(!t)return;p();c("VideoComposerDialogActions").initializeComposer(q.actorID,q.targetID,r,q.composerID,s,t.getFile(),q.isVideoShowPage)},p=function p(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogBasicStore"),c("VideoComposerDialogEditStore"),c("VideoComposerDialogLoggingStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore"),c("VideoComposerDialogUIStore"),c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogAdBreakStore"),c("VideoComposerDialogDistributionStore"),c("VideoComposerDialogPublishingStore"),c("VideoComposerDialogPremiereStore")]);c("PagesSettingsInstreamAdsBlockListDispatcher").explicitlyRegisterStores([c("PagesSettingsInstreamAdsBlockListContentStore"),c("PagesSettingsInstreamAdsBlockListStore")])};f.exports={beginBootloading:h,byteLength:i,formatDateAndTime:k,getShowVideoTypeFromEntryPoint:j,getVideoPermalinkURL:l,openCrosspostDialog:function q(r){m(r)},openEditDialog:function q(r){n(r)},openUploadDialog:function q(r){o(r)}}}),null);
__d("VideoCaptionURL",["VideoCaption"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("VideoCaption"));i=h&&h.prototype;function j(k,l,m){"use strict";i.constructor.call(this,l,m);this.$VideoCaptionURL1=k}j.prototype.getURL=function(){"use strict";return this.$VideoCaptionURL1};f.exports=j}),null);
__d("VideoCaptionEditorURL",["VideoCaptionURL"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("VideoCaptionURL"));i=h&&h.prototype;function j(k,l,m,n){i.constructor.call(this,k,l,m);this.$VideoCaptionEditorURL1=n}j.prototype.getPublishState=function(){return this.$VideoCaptionEditorURL1};j.prototype.setPublishState=function(k){this.$VideoCaptionEditorURL1=k};f.exports=j}),null);
__d("VideoSubtitlesCaptionsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1771789996207101"};j.getQueryID=function(){"use strict";return"1479412692112455"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("VideoSubtitlesDetailQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1464334463602332"};j.getQueryID=function(){"use strict";return"1972054256453533"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("XVideoCaptionDeleteAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/delete/",{video_id:{type:"Int",required:true},subtitle_id:{type:"Int",required:true}})}),null);
__d("XVideoCaptionPublishedStateUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/publishedstate/update/",{video_id:{type:"Int",required:true},subtitles_id:{type:"Int",required:true},new_published_state:{type:"Enum",required:true,enumType:0}})}),null);
__d("XVideoComposerDialogCaptionsTabBootloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/captions_tab/bootload_params/",{})}),null);
__d("XVideoComposerDialogCrosspostCaptionEditorTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/crosspost/caption_editor/",{video_asset_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogEditCaptionsTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/captions/",{video_id:{type:"FBID",required:true}})}),null);
__d("moment.instagram",[],(function aa(a,ba,ca,da,b,ea){__p&&__p();(function(c){__p&&__p();var d,fa="2.9.0",e=typeof a!=="undefined"&&(typeof window==="undefined"||window===a.window)?a:this,ga,f=Math.round,ha=Object.prototype.hasOwnProperty,g,h=0,i=1,j=2,k=3,l=4,m=5,n=6,o={},p=[],ia=typeof b!=="undefined"&&b&&b.exports,ja=/^\/?Date\((\-?\d+)/i,ka=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,la=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ma=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,q=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,na=/\d\d?/,oa=/\d{1,3}/,pa=/\d{1,4}/,qa=/[+\-]?\d{1,6}/,ra=/\d+/,sa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,r=/Z|[\+\-]\d\d:?\d\d/gi,ta=/T/i,ua=/[\+\-]?\d+/,va=/[\+\-]?\d+(\.\d{1,3})?/,wa=/\d/,xa=/\d\d/,ya=/\d{3}/,za=/\d{4}/,Aa=/[+-]?\d{6}/,Ba=/[+-]?\d+/,Ca=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Da="YYYY-MM-DDTHH:mm:ssZ",s=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],t=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ea=/([\+\-]|\d\d)/gi,Fa="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Ga={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Ha={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ia={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},u={},v={s:45,m:45,h:22,d:26,M:11},Ja="DDD w W M D d".split(" "),Ka="M D H h m s w W".split(" "),w={M:function(){return this.month()+1},MMM:function(Q){return this.localeData().monthsShort(this,Q)},MMMM:function(Q){return this.localeData().months(this,Q)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(Q){return this.localeData().weekdaysMin(this,Q)},ddd:function(Q){return this.localeData().weekdaysShort(this,Q)},dddd:function(Q){return this.localeData().weekdays(this,Q)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return G(this.year()%100,2)},YYYY:function(){return G(this.year(),4)},YYYYY:function(){return G(this.year(),5)},YYYYYY:function(){var Q=this.year(),R=Q>=0?"+":"-";return R+G(Math.abs(Q),6)},gg:function(){return G(this.weekYear()%100,2)},gggg:function(){return G(this.weekYear(),4)},ggggg:function(){return G(this.weekYear(),5)},GG:function(){return G(this.isoWeekYear()%100,2)},GGGG:function(){return G(this.isoWeekYear(),4)},GGGGG:function(){return G(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return K(this.milliseconds()/100)},SS:function(){return G(K(this.milliseconds()/10),2)},SSS:function(){return G(this.milliseconds(),3)},SSSS:function(){return G(this.milliseconds(),3)},Z:function(){var Q=this.utcOffset(),R="+";if(Q<0){Q=-Q;R="-"}return R+G(K(Q/60),2)+":"+G(K(Q)%60,2)},ZZ:function(){var Q=this.utcOffset(),R="+";if(Q<0){Q=-Q;R="-"}return R+G(K(Q/60),2)+G(K(Q)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},La={},Ma=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],x=false;function y(Q,R,S){switch(arguments.length){case 2:return Q!=null?Q:R;case 3:return Q!=null?Q:R!=null?R:S;default:throw new Error("Implement me")}}function z(Q,R){return ha.call(Q,R)}function A(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function Na(Q){d.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&emptyFunction}function B(Q,R){var S=true;return E(function(){if(S){Na(Q);S=false}return R.apply(this,arguments)},R)}function Oa(Q,R){if(!La[Q]){Na(R);La[Q]=true}}function Pa(Q,R){return function(S){return G(Q.call(this,S),R)}}function Qa(Q,R){return function(S){return this.localeData().ordinal(Q.call(this,S),R)}}function Ra(Q,R){var S=(R.year()-Q.year())*12+(R.month()-Q.month()),T=Q.clone().add(S,"months"),U,V;if(R-T<0){U=Q.clone().add(S-1,"months");V=(R-T)/(T-U)}else{U=Q.clone().add(S+1,"months");V=(R-T)/(U-T)}return-(S+V)}while(Ja.length){g=Ja.pop();w[g+"o"]=Qa(w[g],g)}while(Ka.length){g=Ka.pop();w[g+g]=Pa(w[g],2)}w.DDDD=Pa(w.DDD,3);function Sa(Q,R,S){__p&&__p();var T;if(S==null)return R;if(Q.meridiemHour!=null)return Q.meridiemHour(R,S);else if(Q.isPM!=null){T=Q.isPM(S);if(T&&R<12)R+=12;if(!T&&R===12)R=0;return R}else return R}function Ta(){}function C(Q,R){if(R!==false)eb(Q);Ua(this,Q);this._d=new Date(+Q._d);if(x===false){x=true;d.updateOffset(this);x=false}}function D(Q){var R=$a(Q),S=R.year||0,T=R.quarter||0,U=R.month||0,V=R.week||0,W=R.day||0,X=R.hour||0,Y=R.minute||0,Z=R.second||0,$=R.millisecond||0;this._milliseconds=+$+Z*1e3+Y*6e4+X*36e5;this._days=+W+V*7;this._months=+U+T*3+S*12;this._data={};this._locale=d.localeData();this._bubble()}function E(Q,R){for(var g in R)if(z(R,g))Q[g]=R[g];if(z(R,"toString"))Q.toString=R.toString;if(z(R,"valueOf"))Q.valueOf=R.valueOf;return Q}function Ua(Q,R){__p&&__p();var g,S,T;if(typeof R._isAMomentObject!=="undefined")Q._isAMomentObject=R._isAMomentObject;if(typeof R._i!=="undefined")Q._i=R._i;if(typeof R._f!=="undefined")Q._f=R._f;if(typeof R._l!=="undefined")Q._l=R._l;if(typeof R._strict!=="undefined")Q._strict=R._strict;if(typeof R._tzm!=="undefined")Q._tzm=R._tzm;if(typeof R._isUTC!=="undefined")Q._isUTC=R._isUTC;if(typeof R._offset!=="undefined")Q._offset=R._offset;if(typeof R._pf!=="undefined")Q._pf=R._pf;if(typeof R._locale!=="undefined")Q._locale=R._locale;if(p.length>0)for(g in p){S=p[g];T=R[S];if(typeof T!=="undefined")Q[S]=T}return Q}function F(Q){if(Q<0)return Math.ceil(Q);else return Math.floor(Q)}function G(Q,R,S){var T=""+Math.abs(Q),U=Q>=0;while(T.length<R)T="0"+T;return(U?S?"+":"":"-")+T}function Va(Q,R){var S={milliseconds:0,months:0};S.months=R.month()-Q.month()+(R.year()-Q.year())*12;if(Q.clone().add(S.months,"M").isAfter(R))--S.months;S.milliseconds=+R-+Q.clone().add(S.months,"M");return S}function Wa(Q,R){var S;R=M(R,Q);if(Q.isBefore(R))S=Va(Q,R);else{S=Va(R,Q);S.milliseconds=-S.milliseconds;S.months=-S.months}return S}function Xa(Q,R){__p&&__p();return function(S,T){__p&&__p();var U,V;if(T!==null&&!isNaN(+T)){Oa(R,"moment()."+R+"(period, number) is deprecated. Please use moment()."+R+"(number, period).");V=S;S=T;T=V}S=typeof S==="string"?+S:S;U=d.duration(S,T);Ya(this,U,Q);return this}}function Ya(Q,R,S,T){__p&&__p();var U=R._milliseconds,V=R._days,W=R._months;T=T==null?true:T;if(U)Q._d.setTime(+Q._d+U*S);if(V)Lb(Q,"Date",Kb(Q,"Date")+V*S);if(W)Jb(Q,Kb(Q,"Month")+W*S);if(T)d.updateOffset(Q,V||W)}function H(Q){return Object.prototype.toString.call(Q)==="[object Array]"}function I(Q){return Object.prototype.toString.call(Q)==="[object Date]"||Q instanceof Date}function Za(Q,R,S){var T=Math.min(Q.length,R.length),U=Math.abs(Q.length-R.length),V=0,g;for(g=0;g<T;g++)if(S&&Q[g]!==R[g]||!S&&K(Q[g])!==K(R[g]))V++;return V+U}function J(Q){if(Q){var R=Q.toLowerCase().replace(/(.)s$/,"$1");Q=Ha[Q]||Ia[R]||R}return Q}function $a(Q){var R={},S,T;for(T in Q)if(z(Q,T)){S=J(T);if(S)R[S]=Q[T]}return R}function ab(Q){__p&&__p();var R,S;if(Q.indexOf("week")===0){R=7;S="day"}else if(Q.indexOf("month")===0){R=12;S="month"}else return;d[Q]=function(T,U){__p&&__p();var g,V,W=d._locale[Q],X=[];if(typeof T==="number"){U=T;T=c}V=function(g){var Y=d().utc().set(S,g);return W.call(d._locale,Y,T||"")};if(U!=null)return V(U);else{for(g=0;g<R;g++)X.push(V(g));return X}}}function K(Q){var R=+Q,S=0;if(R!==0&&isFinite(R))if(R>=0)S=Math.floor(R);else S=Math.ceil(R);return S}function L(Q,R){return new Date(Date.UTC(Q,R+1,0)).getUTCDate()}function bb(Q,R,S){return O(d([Q,11,31+R-S]),R,S).week}function cb(Q){return db(Q)?366:365}function db(Q){return Q%4===0&&Q%100!==0||Q%400===0}function eb(Q){var R;if(Q._a&&Q._pf.overflow===-2){R=Q._a[i]<0||Q._a[i]>11?i:Q._a[j]<1||Q._a[j]>L(Q._a[h],Q._a[i])?j:Q._a[k]<0||Q._a[k]>24||Q._a[k]===24&&(Q._a[l]!==0||Q._a[m]!==0||Q._a[n]!==0)?k:Q._a[l]<0||Q._a[l]>59?l:Q._a[m]<0||Q._a[m]>59?m:Q._a[n]<0||Q._a[n]>999?n:-1;if(Q._pf._overflowDayOfYear&&(R<h||R>j))R=j;Q._pf.overflow=R}}function fb(Q){if(Q._isValid==null){Q._isValid=!isNaN(Q._d.getTime())&&Q._pf.overflow<0&&!Q._pf.empty&&!Q._pf.invalidMonth&&!Q._pf.nullInput&&!Q._pf.invalidFormat&&!Q._pf.userInvalidated;if(Q._strict)Q._isValid=Q._isValid&&Q._pf.charsLeftOver===0&&Q._pf.unusedTokens.length===0&&Q._pf.bigHour===c}return Q._isValid}function gb(Q){return Q?Q.toLowerCase().replace("_","-"):Q}function hb(Q){__p&&__p();var g=0,R,S,T,U;while(g<Q.length){U=gb(Q[g]).split("-");R=U.length;S=gb(Q[g+1]);S=S?S.split("-"):null;while(R>0){T=ib(U.slice(0,R).join("-"));if(T)return T;if(S&&S.length>=R&&Za(U,S,true)>=R-1)break;R--}g++}return null}function ib(Q){var R=null;return o[Q]}function M(Q,R){var S,T;if(R._isUTC){S=R.clone();T=(d.isMoment(Q)||I(Q)?+Q:+d(Q))-+S;S._d.setTime(+S._d+T);d.updateOffset(S,false);return S}else return d(Q).local()}E(Ta.prototype,{set:function(Q){var R,g;for(g in Q){R=Q[g];if(typeof R==="function")this[g]=R;else this["_"+g]=R}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(Q){return this._months[Q.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(Q){return this._monthsShort[Q.month()]},monthsParse:function(Q,R,S){__p&&__p();var g,T,U;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(g=0;g<12;g++){T=d.utc([2e3,g]);if(S&&!this._longMonthsParse[g]){this._longMonthsParse[g]=new RegExp("^"+this.months(T,"").replace(".","")+"$","i");this._shortMonthsParse[g]=new RegExp("^"+this.monthsShort(T,"").replace(".","")+"$","i")}if(!S&&!this._monthsParse[g]){U="^"+this.months(T,"")+"|^"+this.monthsShort(T,"");this._monthsParse[g]=new RegExp(U.replace(".",""),"i")}if(S&&R==="MMMM"&&this._longMonthsParse[g].test(Q))return g;else if(S&&R==="MMM"&&this._shortMonthsParse[g].test(Q))return g;else if(!S&&this._monthsParse[g].test(Q))return g}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(Q){return this._weekdays[Q.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(Q){return this._weekdaysShort[Q.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(Q){return this._weekdaysMin[Q.day()]},weekdaysParse:function(Q){__p&&__p();var g,R,S;if(!this._weekdaysParse)this._weekdaysParse=[];for(g=0;g<7;g++){if(!this._weekdaysParse[g]){R=d([2e3,1]).day(g);S="^"+this.weekdays(R,"")+"|^"+this.weekdaysShort(R,"")+"|^"+this.weekdaysMin(R,"");this._weekdaysParse[g]=new RegExp(S.replace(".",""),"i")}if(this._weekdaysParse[g].test(Q))return g}},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(Q){var R=this._longDateFormat[Q];if(!R&&this._longDateFormat[Q.toUpperCase()]){R=this._longDateFormat[Q.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(S){return S.slice(1)});this._longDateFormat[Q]=R}return R},isPM:function(Q){return(Q+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(Q,R,S){if(Q>11)return S?"pm":"PM";else return S?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(Q,R,S){var T=this._calendar[Q];return typeof T==="function"?T.apply(R,[S]):T},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(Q,R,S,T){var U=this._relativeTime[S];return typeof U==="function"?U(Q,R,S,T):U.replace(/%d/i,Q)},pastFuture:function(Q,R){var S=this._relativeTime[Q>0?"future":"past"];return typeof S==="function"?S(R):S.replace(/%s/i,R)},ordinal:function(Q){return this._ordinal.replace("%d",Q)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(Q){return Q},postformat:function(Q){return Q},week:function(Q){return O(Q,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function jb(Q){if(Q.match(/\[[\s\S]/))return Q.replace(/^\[|\]$/g,"");return Q.replace(/\\/g,"")}function kb(Q){__p&&__p();var R=Q.match(ma),g,S;for(g=0,S=R.length;g<S;g++)if(w[R[g]])R[g]=w[R[g]];else R[g]=jb(R[g]);return function(T){var U="";for(g=0;g<S;g++)U+=R[g]instanceof Function?R[g].call(T,Q):R[g];return U}}function N(Q,R){if(!Q.isValid())return Q.localeData().invalidDate();R=lb(R,Q.localeData());if(!u[R])u[R]=kb(R);return u[R](Q)}function lb(Q,R){__p&&__p();var g=5;function S(T){return R.longDateFormat(T)||T}q.lastIndex=0;while(g>=0&&q.test(Q)){Q=Q.replace(q,S);q.lastIndex=0;g-=1}return Q}function mb(Q,R){__p&&__p();var S,T=R._strict;switch(Q){case"Q":return wa;case"DDDD":return ya;case"YYYY":case"GGGG":case"gggg":return T?za:pa;case"Y":case"G":case"g":return Ba;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return T?Aa:qa;case"S":if(T)return wa;case"SS":if(T)return xa;case"SSS":if(T)return ya;case"DDD":return oa;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return sa;case"a":case"A":return R._locale._meridiemParse;case"x":return ua;case"X":return va;case"Z":case"ZZ":return r;case"T":return ta;case"SSSS":return ra;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return T?xa:na;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return na;case"Do":return T?R._locale._ordinalParse:R._locale._ordinalParseLenient;default:S=new RegExp(vb(ub(Q.replace("\\","")),"i"));return S}}function nb(Q){Q=Q||"";var R=Q.match(r)||[],S=R[R.length-1]||[],T=(S+"").match(Ea)||["-",0,0],U=+(T[1]*60)+K(T[2]);return T[0]==="+"?U:-U}function ob(Q,R,S){__p&&__p();var T,U=S._a;switch(Q){case"Q":if(R!=null)U[i]=(K(R)-1)*3;break;case"M":case"MM":if(R!=null)U[i]=K(R)-1;break;case"MMM":case"MMMM":T=S._locale.monthsParse(R,Q,S._strict);if(T!=null)U[i]=T;else S._pf.invalidMonth=R;break;case"D":case"DD":if(R!=null)U[j]=K(R);break;case"Do":if(R!=null)U[j]=K(parseInt(R.match(/\d{1,2}/)[0],10));break;case"DDD":case"DDDD":if(R!=null)S._dayOfYear=K(R);break;case"YY":U[h]=d.parseTwoDigitYear(R);break;case"YYYY":case"YYYYY":case"YYYYYY":U[h]=K(R);break;case"a":case"A":S._meridiem=R;break;case"h":case"hh":S._pf.bigHour=true;case"H":case"HH":U[k]=K(R);break;case"m":case"mm":U[l]=K(R);break;case"s":case"ss":U[m]=K(R);break;case"S":case"SS":case"SSS":case"SSSS":U[n]=K(("0."+R)*1e3);break;case"x":S._d=new Date(K(R));break;case"X":S._d=new Date(parseFloat(R)*1e3);break;case"Z":case"ZZ":S._useUTC=true;S._tzm=nb(R);break;case"dd":case"ddd":case"dddd":T=S._locale.weekdaysParse(R);if(T!=null){S._w=S._w||{};S._w.d=T}else S._pf.invalidWeekday=R;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":Q=Q.substr(0,1);case"gggg":case"GGGG":case"GGGGG":Q=Q.substr(0,2);if(R){S._w=S._w||{};S._w[Q]=K(R)}break;case"gg":case"GG":S._w=S._w||{};S._w[Q]=d.parseTwoDigitYear(R)}}function pb(Q){__p&&__p();var R,S,T,U,V,W,X;R=Q._w;if(R.GG!=null||R.W!=null||R.E!=null){V=1;W=4;S=y(R.GG,Q._a[h],O(d(),1,4).year);T=y(R.W,1);U=y(R.E,1)}else{V=Q._locale._week.dow;W=Q._locale._week.doy;S=y(R.gg,Q._a[h],O(d(),V,W).year);T=y(R.w,1);if(R.d!=null){U=R.d;if(U<V)++T}else if(R.e!=null)U=R.e+V;else U=V}X=Gb(S,T,U,W,V);Q._a[h]=X.year;Q._dayOfYear=X.dayOfYear}function qb(Q){__p&&__p();var g,R,S=[],T,U;if(Q._d)return;T=sb(Q);if(Q._w&&Q._a[j]==null&&Q._a[i]==null)pb(Q);if(Q._dayOfYear){U=y(Q._a[h],T[h]);if(Q._dayOfYear>cb(U))Q._pf._overflowDayOfYear=true;R=Cb(U,0,Q._dayOfYear);Q._a[i]=R.getUTCMonth();Q._a[j]=R.getUTCDate()}for(g=0;g<3&&Q._a[g]==null;++g)Q._a[g]=S[g]=T[g];for(;g<7;g++)Q._a[g]=S[g]=Q._a[g]==null?g===2?1:0:Q._a[g];if(Q._a[k]===24&&Q._a[l]===0&&Q._a[m]===0&&Q._a[n]===0){Q._nextDay=true;Q._a[k]=0}Q._d=(Q._useUTC?Cb:Bb).apply(null,S);if(Q._tzm!=null)Q._d.setUTCMinutes(Q._d.getUTCMinutes()-Q._tzm);if(Q._nextDay)Q._a[k]=24}function rb(Q){var R;if(Q._d)return;R=$a(Q._i);Q._a=[R.year,R.month,R.day||R.date,R.hour,R.minute,R.second,R.millisecond];qb(Q)}function sb(Q){var R=new Date();if(Q._useUTC)return[R.getUTCFullYear(),R.getUTCMonth(),R.getUTCDate()];else return[R.getFullYear(),R.getMonth(),R.getDate()]}function tb(Q){__p&&__p();if(Q._f===d.ISO_8601){xb(Q);return}Q._a=[];Q._pf.empty=true;var R=""+Q._i,g,S,T,U,V,W=R.length,X=0;T=lb(Q._f,Q._locale).match(ma)||[];for(g=0;g<T.length;g++){U=T[g];S=(R.match(mb(U,Q))||[])[0];if(S){V=R.substr(0,R.indexOf(S));if(V.length>0)Q._pf.unusedInput.push(V);R=R.slice(R.indexOf(S)+S.length);X+=S.length}if(w[U]){if(S)Q._pf.empty=false;else Q._pf.unusedTokens.push(U);ob(U,S,Q)}else if(Q._strict&&!S)Q._pf.unusedTokens.push(U)}Q._pf.charsLeftOver=W-X;if(R.length>0)Q._pf.unusedInput.push(R);if(Q._pf.bigHour===true&&Q._a[k]<=12)Q._pf.bigHour=c;Q._a[k]=Sa(Q._locale,Q._a[k],Q._meridiem);qb(Q);eb(Q)}function ub(Q){return Q.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(R,S,T,U,V){return S||T||U||V})}function vb(Q){return Q.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function wb(Q){__p&&__p();var R,S,T,g,U;if(Q._f.length===0){Q._pf.invalidFormat=true;Q._d=new Date(NaN);return}for(g=0;g<Q._f.length;g++){U=0;R=Ua({},Q);if(Q._useUTC!=null)R._useUTC=Q._useUTC;R._pf=A();R._f=Q._f[g];tb(R);if(!fb(R))continue;U+=R._pf.charsLeftOver;U+=R._pf.unusedTokens.length*10;R._pf.score=U;if(T==null||U<T){T=U;S=R}}E(Q,S||R)}function xb(Q){__p&&__p();var g,R,S=Q._i,T=Ca.exec(S);if(T){Q._pf.iso=true;for(g=0,R=s.length;g<R;g++)if(s[g][1].exec(S)){Q._f=s[g][0]+(T[6]||" ");break}for(g=0,R=t.length;g<R;g++)if(t[g][1].exec(S)){Q._f+=t[g][0];break}if(S.match(r))Q._f+="Z";tb(Q)}else Q._isValid=false}function yb(Q){xb(Q);if(Q._isValid===false){delete Q._isValid;d.createFromInputFallback(Q)}}function zb(Q,R){var S=[],g;for(g=0;g<Q.length;++g)S.push(R(Q[g],g));return S}function Ab(Q){__p&&__p();var R=Q._i,S;if(R===c)Q._d=new Date();else if(I(R))Q._d=new Date(+R);else if((S=ja.exec(R))!==null)Q._d=new Date(+S[1]);else if(typeof R==="string")yb(Q);else if(H(R)){Q._a=zb(R.slice(0),function(T){return parseInt(T,10)});qb(Q)}else if(typeof R==="object")rb(Q);else if(typeof R==="number")Q._d=new Date(R);else d.createFromInputFallback(Q)}function Bb(Q,R,S,T,U,V,W){var X=new Date(Q,R,S,T,U,V,W);if(Q<1970)X.setFullYear(Q);return X}function Cb(Q){var R=new Date(Date.UTC.apply(null,arguments));if(Q<1970)R.setUTCFullYear(Q);return R}function Db(Q,R){if(typeof Q==="string")if(!isNaN(Q))Q=parseInt(Q,10);else{Q=R.weekdaysParse(Q);if(typeof Q!=="number")return null}return Q}function Eb(Q,R,S,T,U){return U.relativeTime(R||1,!!S,Q,T)}function Fb(Q,R,S){var T=d.duration(Q).abs(),U=f(T.as("s")),V=f(T.as("m")),W=f(T.as("h")),X=f(T.as("d")),Y=f(T.as("M")),Z=f(T.as("y")),$=U<v.s&&["s",U]||V===1&&["m"]||V<v.m&&["mm",V]||W===1&&["h"]||W<v.h&&["hh",W]||X===1&&["d"]||X<v.d&&["dd",X]||Y===1&&["M"]||Y<v.M&&["MM",Y]||Z===1&&["y"]||["yy",Z];$[2]=R;$[3]=+Q>0;$[4]=S;return Eb.apply({},$)}function O(Q,R,S){var T=S-R,U=S-Q.day(),V;if(U>T)U-=7;if(U<T-7)U+=7;V=d(Q).add(U,"d");return{week:Math.ceil(V.dayOfYear()/7),year:V.year()}}function Gb(Q,R,S,T,U){var V=Cb(Q,0,1).getUTCDay(),W,X;V=V===0?7:V;S=S!=null?S:U;W=U-V+(V>T?7:0)-(V<U?7:0);X=7*(R-1)+(S-U)+W+1;return{year:X>0?Q:Q-1,dayOfYear:X>0?X:cb(Q-1)+X}}function Hb(Q){__p&&__p();var R=Q._i,S=Q._f,T;Q._locale=Q._locale||d.localeData(Q._l);if(R===null||S===c&&R==="")return d.invalid({nullInput:true});if(typeof R==="string")Q._i=R=Q._locale.preparse(R);if(d.isMoment(R))return new C(R,true);else if(S)if(H(S))wb(Q);else tb(Q);else Ab(Q);T=new C(Q);if(T._nextDay){T.add(1,"d");T._nextDay=c}return T}d=function(Q,R,S,T){__p&&__p();var U;if(typeof S==="boolean"){T=S;S=c}U={};U._isAMomentObject=true;U._i=Q;U._f=R;U._l=S;U._strict=T;U._isUTC=false;U._pf=A();return Hb(U)};d.suppressDeprecationWarnings=false;d.createFromInputFallback=B("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(Q){Q._d=new Date(Q._i+(Q._useUTC?" UTC":""))});function Ib(Q,R){__p&&__p();var S,g;if(R.length===1&&H(R[0]))R=R[0];if(!R.length)return d();S=R[0];for(g=1;g<R.length;++g)if(R[g][Q](S))S=R[g];return S}d.min=function(){var Q=[].slice.call(arguments,0);return Ib("isBefore",Q)};d.max=function(){var Q=[].slice.call(arguments,0);return Ib("isAfter",Q)};d.utc=function(Q,R,S,T){__p&&__p();var U;if(typeof S==="boolean"){T=S;S=c}U={};U._isAMomentObject=true;U._useUTC=true;U._isUTC=true;U._l=S;U._i=Q;U._f=R;U._strict=T;U._pf=A();return Hb(U).utc()};d.unix=function(Q){return d(Q*1e3)};d.duration=function(Q,R){__p&&__p();var S=Q,T=null,U,V,W,X;if(d.isDuration(Q))S={ms:Q._milliseconds,d:Q._days,M:Q._months};else if(typeof Q==="number"){S={};if(R)S[R]=Q;else S.milliseconds=Q}else if(!!(T=ka.exec(Q))){U=T[1]==="-"?-1:1;S={y:0,d:K(T[j])*U,h:K(T[k])*U,m:K(T[l])*U,s:K(T[m])*U,ms:K(T[n])*U}}else if(!!(T=la.exec(Q))){U=T[1]==="-"?-1:1;W=function(Y){var Z=Y&&parseFloat(Y.replace(",","."));return(isNaN(Z)?0:Z)*U};S={y:W(T[2]),M:W(T[3]),d:W(T[4]),h:W(T[5]),m:W(T[6]),s:W(T[7]),w:W(T[8])}}else if(S==null)S={};else if(typeof S==="object"&&("from"in S||"to"in S)){X=Wa(d(S.from),d(S.to));S={};S.ms=X.milliseconds;S.M=X.months}V=new D(S);if(d.isDuration(Q)&&z(Q,"_locale"))V._locale=Q._locale;return V};d.version=fa;d.defaultFormat=Da;d.ISO_8601=function(){};d.momentProperties=p;d.updateOffset=function(){};d.relativeTimeThreshold=function(Q,R){if(v[Q]===c)return false;if(R===c)return v[Q];v[Q]=R;return true};d.lang=B("moment.lang is deprecated. Use moment.locale instead.",function(Q,R){return d.locale(Q,R)});d.locale=function(Q,R){var S;if(Q){if(typeof R!=="undefined")S=d.defineLocale(Q,R);else S=d.localeData(Q);if(S)d.duration._locale=d._locale=S}return d._locale._abbr};d.defineLocale=function(Q,R){__p&&__p();if(R!==null){R.abbr=Q;if(!o[Q])o[Q]=new Ta();o[Q].set(R);d.locale(Q);return o[Q]}else{delete o[Q];return null}};d.langData=B("moment.langData is deprecated. Use moment.localeData instead.",function(Q){return d.localeData(Q)});d.localeData=function(Q){__p&&__p();var R;if(Q&&Q._locale&&Q._locale._abbr)Q=Q._locale._abbr;if(!Q)return d._locale;if(!H(Q)){R=ib(Q);if(R)return R;Q=[Q]}return hb(Q)};d.isMoment=function(Q){return Q instanceof C||Q!=null&&z(Q,"_isAMomentObject")};d.isDuration=function(Q){return Q instanceof D};for(g=Ma.length-1;g>=0;--g)ab(Ma[g]);d.normalizeUnits=function(Q){return J(Q)};d.invalid=function(Q){var R=d.utc(NaN);if(Q!=null)E(R._pf,Q);else R._pf.userInvalidated=true;return R};d.parseZone=function(){return d.apply(null,arguments).parseZone()};d.parseTwoDigitYear=function(Q){return K(Q)+(K(Q)>68?1900:2e3)};d.isDate=I;E(d.fn=C.prototype,{clone:function(){return d(this)},valueOf:function(){return+this._d-(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var Q=d(this).utc();if(0<Q.year()&&Q.year()<=9999)if("function"===typeof Date.prototype.toISOString)return this.toDate().toISOString();else return N(Q,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]");else return N(Q,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var Q=this;return[Q.year(),Q.month(),Q.date(),Q.hours(),Q.minutes(),Q.seconds(),Q.milliseconds()]},isValid:function(){return fb(this)},isDSTShifted:function(){if(this._a)return this.isValid()&&Za(this._a,(this._isUTC?d.utc(this._a):d(this._a)).toArray())>0;return false},parsingFlags:function(){return E({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(Q){return this.utcOffset(0,Q)},local:function(Q){if(this._isUTC){this.utcOffset(0,Q);this._isUTC=false;if(Q)this.subtract(this._dateUtcOffset(),"m")}return this},format:function(Q){var R=N(this,Q||d.defaultFormat);return this.localeData().postformat(R)},add:Xa(1,"add"),subtract:Xa(-1,"subtract"),diff:function(Q,R,S){__p&&__p();var T=M(Q,this),U=(T.utcOffset()-this.utcOffset())*6e4,V,W,X,Y;R=J(R);if(R==="year"||R==="month"||R==="quarter"){X=Ra(this,T);if(R==="quarter")X=X/3;else if(R==="year")X=X/12}else{W=this-T;X=R==="second"?W/1e3:R==="minute"?W/6e4:R==="hour"?W/36e5:R==="day"?(W-U)/864e5:R==="week"?(W-U)/6048e5:W}return S?X:F(X)},from:function(Q,R){return d.duration({to:this,from:Q}).locale(this.locale()).humanize(!R)},fromNow:function(Q){return this.from(d(),Q)},calendar:function(Q){var R=Q||d(),S=M(R,this).startOf("day"),T=this.diff(S,"days",true),U=T<-6?"sameElse":T<-1?"lastWeek":T<0?"lastDay":T<1?"sameDay":T<2?"nextDay":T<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(U,this,d(R)))},isLeapYear:function(){return db(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(Q){var R=this._isUTC?this._d.getUTCDay():this._d.getDay();if(Q!=null){Q=Db(Q,this.localeData());return this.add(Q-R,"d")}else return R},month:P("Month",true),startOf:function(Q){__p&&__p();Q=J(Q);switch(Q){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(Q==="week")this.weekday(0);else if(Q==="isoWeek")this.isoWeekday(1);if(Q==="quarter")this.month(Math.floor(this.month()/3)*3);return this},endOf:function(Q){Q=J(Q);if(Q===c||Q==="millisecond")return this;return this.startOf(Q).add(1,Q==="isoWeek"?"week":Q).subtract(1,"ms")},isAfter:function(Q,R){var S;R=J(typeof R!=="undefined"?R:"millisecond");if(R==="millisecond"){Q=d.isMoment(Q)?Q:d(Q);return+this>+Q}else{S=d.isMoment(Q)?+Q:+d(Q);return S<+this.clone().startOf(R)}},isBefore:function(Q,R){var S;R=J(typeof R!=="undefined"?R:"millisecond");if(R==="millisecond"){Q=d.isMoment(Q)?Q:d(Q);return+this<+Q}else{S=d.isMoment(Q)?+Q:+d(Q);return+this.clone().endOf(R)<S}},isBetween:function(Q,R,S){return this.isAfter(Q,S)&&this.isBefore(R,S)},isSame:function(Q,R){var S;R=J(R||"millisecond");if(R==="millisecond"){Q=d.isMoment(Q)?Q:d(Q);return+this===+Q}else{S=+d(Q);return+this.clone().startOf(R)<=S&&S<=+this.clone().endOf(R)}},min:B("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(Q){Q=d.apply(null,arguments);return Q<this?this:Q}),max:B("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(Q){Q=d.apply(null,arguments);return Q>this?this:Q}),zone:B("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(Q,R){if(Q!=null){if(typeof Q!=="string")Q=-Q;this.utcOffset(Q,R);return this}else return-this.utcOffset()}),utcOffset:function(Q,R){__p&&__p();var S=this._offset||0,T;if(Q!=null){if(typeof Q==="string")Q=nb(Q);if(Math.abs(Q)<16)Q=Q*60;if(!this._isUTC&&R)T=this._dateUtcOffset();this._offset=Q;this._isUTC=true;if(T!=null)this.add(T,"m");if(S!==Q)if(!R||this._changeInProgress)Ya(this,d.duration(Q-S,"m"),1,false);else if(!this._changeInProgress){this._changeInProgress=true;d.updateOffset(this,true);this._changeInProgress=null}return this}else return this._isUTC?S:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&this._offset===0},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm)this.utcOffset(this._tzm);else if(typeof this._i==="string")this.utcOffset(nb(this._i));return this},hasAlignedHourOffset:function(Q){if(!Q)Q=0;else Q=d(Q).utcOffset();return(this.utcOffset()-Q)%60===0},daysInMonth:function(){return L(this.year(),this.month())},dayOfYear:function(Q){var R=f((d(this).startOf("day")-d(this).startOf("year"))/864e5)+1;return Q==null?R:this.add(Q-R,"d")},quarter:function(Q){return Q==null?Math.ceil((this.month()+1)/3):this.month((Q-1)*3+this.month()%3)},weekYear:function(Q){var R=O(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return Q==null?R:this.add(Q-R,"y")},isoWeekYear:function(Q){var R=O(this,1,4).year;return Q==null?R:this.add(Q-R,"y")},week:function(Q){var R=this.localeData().week(this);return Q==null?R:this.add((Q-R)*7,"d")},isoWeek:function(Q){var R=O(this,1,4).week;return Q==null?R:this.add((Q-R)*7,"d")},weekday:function(Q){var R=(this.day()+7-this.localeData()._week.dow)%7;return Q==null?R:this.add(Q-R,"d")},isoWeekday:function(Q){return Q==null?this.day()||7:this.day(this.day()%7?Q:Q-7)},isoWeeksInYear:function(){return bb(this.year(),1,4)},weeksInYear:function(){var Q=this.localeData()._week;return bb(this.year(),Q.dow,Q.doy)},get:function(Q){Q=J(Q);return this[Q]()},set:function(Q,R){var S;if(typeof Q==="object")for(S in Q)this.set(S,Q[S]);else{Q=J(Q);if(typeof this[Q]==="function")this[Q](R)}return this},locale:function(Q){var R;if(Q===c)return this._locale._abbr;else{R=d.localeData(Q);if(R!=null)this._locale=R;return this}},lang:B("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(Q){if(Q===c)return this.localeData();else return this.locale(Q)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return-Math.round(this._d.getTimezoneOffset()/15)*15}});function Jb(Q,R){var S;if(typeof R==="string"){R=Q.localeData().monthsParse(R);if(typeof R!=="number")return Q}S=Math.min(Q.date(),L(Q.year(),R));Q._d["set"+(Q._isUTC?"UTC":"")+"Month"](R,S);return Q}function Kb(Q,R){return Q._d["get"+(Q._isUTC?"UTC":"")+R]()}function Lb(Q,R,S){if(R==="Month")return Jb(Q,S);else return Q._d["set"+(Q._isUTC?"UTC":"")+R](S)}function P(Q,R){return function(S){if(S!=null){Lb(this,Q,S);d.updateOffset(this,R);return this}else return Kb(this,Q)}}d.fn.millisecond=d.fn.milliseconds=P("Milliseconds",false);d.fn.second=d.fn.seconds=P("Seconds",false);d.fn.minute=d.fn.minutes=P("Minutes",false);d.fn.hour=d.fn.hours=P("Hours",true);d.fn.date=P("Date",true);d.fn.dates=B("dates accessor is deprecated. Use date instead.",P("Date",true));d.fn.year=P("FullYear",true);d.fn.years=B("years accessor is deprecated. Use year instead.",P("FullYear",true));d.fn.days=d.fn.day;d.fn.months=d.fn.month;d.fn.weeks=d.fn.week;d.fn.isoWeeks=d.fn.isoWeek;d.fn.quarters=d.fn.quarter;d.fn.toJSON=d.fn.toISOString;d.fn.isUTC=d.fn.isUtc;function Mb(Q){return Q*400/146097}function Nb(Q){return Q*146097/400}E(d.duration.fn=D.prototype,{_bubble:function(){__p&&__p();var Q=this._milliseconds,R=this._days,S=this._months,T=this._data,U,V,W,X=0;T.milliseconds=Q%1e3;U=F(Q/1e3);T.seconds=U%60;V=F(U/60);T.minutes=V%60;W=F(V/60);T.hours=W%24;R+=F(W/24);X=F(Mb(R));R-=F(Nb(X));S+=F(R/30);R%=30;X+=F(S/12);S%=12;T.days=R;T.months=S;T.years=X},abs:function(){__p&&__p();this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return F(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+K(this._months/12)*31536e6},humanize:function(Q){var R=Fb(this,!Q,this.localeData());if(Q)R=this.localeData().pastFuture(+this,R);return this.localeData().postformat(R)},add:function(Q,R){var S=d.duration(Q,R);this._milliseconds+=S._milliseconds;this._days+=S._days;this._months+=S._months;this._bubble();return this},subtract:function(Q,R){var S=d.duration(Q,R);this._milliseconds-=S._milliseconds;this._days-=S._days;this._months-=S._months;this._bubble();return this},get:function(Q){Q=J(Q);return this[Q.toLowerCase()+"s"]()},as:function(Q){__p&&__p();var R,S;Q=J(Q);if(Q==="month"||Q==="year"){R=this._days+this._milliseconds/864e5;S=this._months+Mb(R)*12;return Q==="month"?S:S/12}else{R=this._days+Math.round(Nb(this._months/12));switch(Q){case"week":return R/7+this._milliseconds/6048e5;case"day":return R+this._milliseconds/864e5;case"hour":return R*24+this._milliseconds/36e5;case"minute":return R*24*60+this._milliseconds/6e4;case"second":return R*24*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(R*24*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+Q)}}},lang:d.fn.lang,locale:d.fn.locale,toIsoString:B("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var Q=Math.abs(this.years()),R=Math.abs(this.months()),S=Math.abs(this.days()),T=Math.abs(this.hours()),U=Math.abs(this.minutes()),V=Math.abs(this.seconds()+this.milliseconds()/1e3);if(!this.asSeconds())return"P0D";return(this.asSeconds()<0?"-":"")+"P"+(Q?Q+"Y":"")+(R?R+"M":"")+(S?S+"D":"")+(T||U||V?"T":"")+(T?T+"H":"")+(U?U+"M":"")+(V?V+"S":"")},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});d.duration.fn.toString=d.duration.fn.toISOString;function Ob(Q){d.duration.fn[Q]=function(){return this._data[Q]}}for(g in Ga)if(z(Ga,g))Ob(g.toLowerCase());d.duration.fn.asMilliseconds=function(){return this.as("ms")};d.duration.fn.asSeconds=function(){return this.as("s")};d.duration.fn.asMinutes=function(){return this.as("m")};d.duration.fn.asHours=function(){return this.as("h")};d.duration.fn.asDays=function(){return this.as("d")};d.duration.fn.asWeeks=function(){return this.as("weeks")};d.duration.fn.asMonths=function(){return this.as("M")};d.duration.fn.asYears=function(){return this.as("y")};d.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Q){var R=Q%10,S=K(Q%100/10)===1?"th":R===1?"st":R===2?"nd":R===3?"rd":"th";return Q+S}});function Pb(Q){if(typeof ender!=="undefined")return;ga=e.moment;if(Q)e.moment=B("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",d);else e.moment=d}if(ia)b.exports=d;else if(typeof define==="function"&&define.amd){define(function(ba,ea,b){if(b.config&&b.config()&&b.config().noGlobal===true)e.moment=ga;return d});Pb(true)}else Pb()}).call(this)}),null);
__d("VideoComposerDialogCaptionEditorUtils",["fbt","Promise","ActorURI","AsyncRequest","immutable","VideoCaptionEditorURL","VideoCaptionFile","VideoCaptionUtil","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorPublishStateEnum","VideoComposerDialogCaptionMode","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogMode","VideoSubtitlePublishedStatusType","VideoSubtitlesCaptionsQueryWebGraphQLQuery","VideoSubtitlesDetailQueryWebGraphQLQuery","VideoUploadUIError","WebGraphQL","XVideoCaptionDeleteAsyncController","XVideoCaptionPublishedStateUpdateController","XVideoCaptionSaveAsyncController","XVideoComposerDialogCaptionsTabBootloadController","XVideoComposerDialogCrosspostCaptionEditorTabController","XVideoComposerDialogEditCaptionsTabController","moment.instagram"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();i.prototype.saveCaptionChangeset=function(j,k,l,m,n){if(!this.$VideoComposerDialogCaptionEditorUtils1(k))return;var o=c("XVideoCaptionSaveAsyncController").getURIBuilder().setInt("caption_id",j).setString("locale",m).getURI(),p=c("ActorURI").create(o,n);new(c("AsyncRequest"))(p).setMethod("POST").setData({caption:JSON.stringify(k.toArray()),caption_changeset:JSON.stringify(l.toArray())}).setHandler(function(q){c("VideoComposerDialogCaptionEditorActions").finishSaveCaptionChangeset(q);c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionsTabActions").updateCaptionFiles();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()}).send()};i.prototype.$VideoComposerDialogCaptionEditorUtils1=function(j){return j.size>0};i.prototype.getTimeStamp=function(j){var k=Math.floor(j/1e3),l=k>=3599?"hh:mm:ss:SSS":"mm:ss:SS";return c("moment.instagram").utc(j).format(l)};i.prototype.getWidth=function(j,k){return j*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT*k};i.prototype.fetchCaptions=function(j,k){c("WebGraphQL").exec(new(c("VideoSubtitlesCaptionsQueryWebGraphQLQuery"))({video_id:j})).done(k)};i.prototype.makeNewCaptionFile=function(j,k,l){if(j.size===0)return null;var m=j.filter(function(o){return o.node.text!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_CAPTION_TEXT});if(m.size===0)return null;var n=c("VideoCaptionUtil").saveToFile(j.toArray(),k);return n?new(c("VideoCaptionFile"))(n,k,l):null};i.prototype.finishCaptionsFetch=function(j){c("VideoComposerDialogCaptionsTabActions").finishedFetchDrafts(c("immutable").List(j))};i.prototype.fetchCaptionedLocales=function(j,k,l){if(!j)return;this.fetchCaptions(j,function(m){this.convertFetchToObject(j,k,m,l)}.bind(this))};i.prototype.convertFetchToObject=function(j,k,l,m){__p&&__p();var n,o=this,p=l&&l.video&&l.video.video_subtitles;if(p)(function(){var q=c("VideoComposerDialogCaptionsStore").getState(),r=l.video.video_subtitles,s=l.video.default_video_caption_locale,t=[];r.forEach(function(u,v){var w={id:u.id,locale:u.locale,language:u.display_language,creationMethod:u.subtitle_creation_method,publishedState:u.published_state,isDefault:u.locale===s};if(k&&w.locale===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)this.silentlyDeleteSubtitle(j,w,q.get("pageID"));else t.push(w)}.bind(o));m(t)})()};i.prototype.fetchCaptionByID=function(j,k){if(!j)return;c("WebGraphQL").exec(new(c("VideoSubtitlesDetailQueryWebGraphQLQuery"))({subtitles_id:j})).done(k)};i.prototype.findAutoGeneratedCaption=function(j,k){return j.find(function(l){return l.language===k&&l.creationMethod===c("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED})};i.prototype.findSRTUploadCaption=function(j,k){return j.find(function(l){return l.locale===k&&l.creationMethod===c("VideoComposerDialogCaptionEditorConstants").SRT_UPLOAD})};i.prototype.getCaptionErrorMessage=function(j,k){__p&&__p();switch(j){case c("VideoUploadUIError").CAPTION_ERROR_WRONG_FORMAT:return h._("You uploaded a .SRT file with an incorrect file name. Please use this format: filename{suffix}",[h._param("suffix",".en_US.srt")]);case c("VideoUploadUIError").CAPTION_ERROR_DUPLICATE_LOCALE:return h._("You have already added a caption file for {language}. Please remove the older caption file before adding a new one.",[h._param("language",k)]);case c("VideoUploadUIError").CAPTION_ERROR_GENERATE_FAIL:if(k==null)return h._("The caption generation has failed.");return h._("We're unable to auto-generate captions for {language}. You can still write them yourself or upload a file.",[h._param("language",k)]);case c("VideoUploadUIError").CAPTION_ERROR_CREATE_FAIL:return h._("The caption creation has failed.");case c("VideoUploadUIError").CAPTION_ERROR_DELETE_FAIL:return h._("The caption deletion has failed.");case c("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY:return h._("The caption generation has failed. Retrying to generate.");default:return h._("There was an error uploading your caption file.")}};i.prototype.isAutoGenerateable=function(j){var k=this.getHeadLocale(j);return c("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATABLE_HEAD_LOCALES.has(k)};i.prototype.getHeadLocale=function(j){if(j.slice(3,5)!=="XX")return j;var k=c("VideoComposerDialogCaptionEditorConstants").GENERAL_LOCALES_TO_HEAD.get(j);if(k)return k;return""};i.prototype.areHeadLocalesEqual=function(j,k){return this.getHeadLocale(j)===this.getHeadLocale(k)};i.prototype.getGenericLocale=function(j){var k=c("VideoComposerDialogCaptionEditorConstants").HEAD_TO_GENERAL_LOCALES.get(j);if(k)return k;return j};i.prototype.makeSRTCaptionPromises=function(j,k){__p&&__p();var l=[];j.forEach(function(m,n){l.push(new(c("Promise"))(function(o,p){var q=this.findSRTUploadCaption(k,m.getLocale()),r=q!==-1;if(!r){o();return}this.srtSubtitleIDToSubtitles(q.id,q.locale,q.publishedState,false,o)}.bind(this)))}.bind(this));return l};i.prototype.makeAllSRTCaptionPromises=function(j){var k=[];j.forEach(function(l){k.push(new(c("Promise"))(function(m,n){this.srtSubtitleIDToSubtitles(l.id,l.locale,l.publishedState,l.isDefault,m)}.bind(this)))}.bind(this));return k};i.prototype.srtSubtitleIDToSubtitles=function(j,k,l,m,n){this.fetchCaptionByID(j,function(o){var p=o&&o.video_subtitle&&o.video_subtitle.captions&&o.video_subtitle.captions.edges;if(p){var q=o.video_subtitle.captions.edges;n({captions:q,locale:k,publishedState:l,subtitlesID:j,isDefault:m})}else n()})};i.prototype.shouldRetryAutoGeneration=function(j,k){var l=j*c("VideoComposerDialogCaptionEditorConstants").GENERATION_RETRY_THRESHOLD.PCT/100,m=c("VideoComposerDialogCaptionEditorConstants").GENERATION_RETRY_THRESHOLD.TIME_S;return k>Math.max(l,m)};i.prototype.deleteSubtitles=function(j,k,l,m,n){m.add(k);var o=c("XVideoCaptionDeleteAsyncController").getURIBuilder().setInt("video_id",j).setInt("subtitle_id",k.id).getURI(),p=c("ActorURI").create(o,l);new(c("AsyncRequest"))(p).setMethod("POST").setHandler(function(q){m.remove(k.id);n(q)}).send()};i.prototype.silentlyDeleteSubtitle=function(j,k,l){var m=c("XVideoCaptionDeleteAsyncController").getURIBuilder().setInt("video_id",j).setInt("subtitle_id",k.id).getURI(),n=c("ActorURI").create(m,l);new(c("AsyncRequest"))(n).setMethod("POST").send()};i.prototype.beginBootloadingCaptionsTab=function(j){var k=c("XVideoComposerDialogCaptionsTabBootloadController").getURIBuilder().getURI(),l=c("ActorURI").create(k,j);new(c("AsyncRequest"))(l).setHandler(function(m){c("VideoComposerDialogCaptionsTabActions").bootloadParametersCaptionsTab(m.payload)}).send()};i.prototype.getUpdatedPublishState=function(j){if(j===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED||j===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)return c("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT;else return c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING};i.prototype.updateToChangesetValues=function(j,k){var l=j.toArray();for(var m=0;m<j.size;m++){var n=j.get(m),o=k.get(n.id);if(o!==undefined){n.publishedState=o;l[m]=n}}return c("immutable").List(l)};i.prototype.getPublishedStateForServer=function(j){switch(j){case c("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT:return c("VideoSubtitlePublishedStatusType")[j];default:return c("VideoSubtitlePublishedStatusType")[c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED]}};i.prototype.updatePublishedStatesOnServer=function(j,k,l){__p&&__p();var m=false;l.forEach(function(n,o){__p&&__p();var p=c("VideoSubtitlePublishedStatusType")[n]!==undefined;if(!p)return;var q=c("XVideoCaptionPublishedStateUpdateController").getURIBuilder().setInt("video_id",j).setInt("subtitles_id",o).setEnum("new_published_state",this.getPublishedStateForServer(n)),r=q.getURI(),s=c("ActorURI").create(r,String(k));new(c("AsyncRequest"))(s).setMethod("POST").setHandler(function(t){var u=t.payload&&t.payload.success;if(u&&!m){c("VideoComposerDialogCaptionsTabActions").changePublishedStatePendingToPublished();m=true}}).send()}.bind(this))};i.prototype.changeAllPendingToPublished=function(j){var k=j.toArray();for(var l=0;l<j.size;l++)k[l]=this.changeOnePendingToPublished(j.get(l));return c("immutable").List(k)};i.prototype.changeOnePendingToPublished=function(j){var k=j.publishedState===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING;if(k)j.publishedState=c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED;return j};i.prototype.subtitlesListToMap=function(j){var k={};j.forEach(function(l){var m=this.getHeadLocale(l.locale);k[m]=l}.bind(this));return c("immutable").Map(k)};i.prototype.getPublishedCaptionFiles=function(j,k){var l=this.subtitlesListToMap(k);return j.filter(function(m,n){var o=l.get(n);return o&&o.publishedState!==c("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT})};i.prototype.getPublishedCaptionFilesForEdit=function(j,k){var l={},m=0;this.getPublishedCaptionFiles(j,k).forEach(function(n,o){if(n.getIsDefault())l.default_captions_locale=o;l["captions_auto"+m]=n.getFile();m++});return c("immutable").Map(l)};i.prototype.addLocaleAsPublishPending=function(j,k){return j.set(k,c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)};i.prototype.filterOutDeletions=function(j,k){var l=c("immutable").List();j.forEach(function(m){if(!k.has(m.id))l=l.push(m)});return l};i.prototype.fetchCrosspostData=function(j){var k=c("XVideoComposerDialogCrosspostCaptionEditorTabController").getURIBuilder().setFBID("video_asset_id",j.videoAssetID).getURI(),l=c("ActorURI").create(k,j.actorID);return new(c("Promise"))(function(m,n){new(c("AsyncRequest"))(l).setHandler(function(o){m(o)}).send()}).then(function(m){c("VideoComposerDialogCaptionEditorActions").fetchCrosspostParams(m.payload)})};i.prototype.fetchEditData=function(j){var k=c("XVideoComposerDialogEditCaptionsTabController").getURIBuilder().setFBID("video_id",j.videoID).getURI(),l=c("ActorURI").create(k,j.actorID);return new(c("Promise"))(function(m,n){new(c("AsyncRequest"))(l).setHandler(function(o){if(o.payload.captionsFeaturesMode!==c("VideoComposerDialogCaptionMode").OLD_DATA_MODEL)c("VideoComposerDialogCaptionsStore").initialize(c("VideoComposerDialogCaptionsStore").getState(),null,j.videoID,j.accessToken,null,"",null,c("VideoComposerDialogMode").VIDEO_EDIT,false);else c("VideoComposerDialogCaptionEditorActions").editParamsFetched(o.payload);return m()}).send()})};i.prototype.getOldCaptionsDataModelForEdit=function(j,k){__p&&__p();var l={},m=[],n=null;j.forEach(function(o,p){if(o instanceof c("VideoCaptionFile")){var q,r=o.getIsDefault()?"captions_default":o.getIsAutoGenerated()?"captions_auto"+p:"captions_file"+p;Object.assign(l,(q={},q[r]=o.getFile(),q))}if(o.getIsDefault())n=o.getLocale()});if(n)Object.assign(l,{default_captions_locale:n});k.forEach(function(o){if(j.indexOf(o)==-1)m.push(o.getLocale())});m.forEach(function(o,p){var q,r="remove_caption["+p+"]";Object.assign(l,(q={},q[r]=o,q))});return l};i.prototype.getConvertedCaptionURLs=function(j){var k=c("immutable").List(j).map(function(l){var m=new(c("VideoCaptionEditorURL"))(l.uri,l.locale,l.locale_name,c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING);if(l.is_default)m.setIsDefault(true);if(l.is_auto_generated)m.setIsAutoGenerated(true);return m});return k};i.prototype.isLanguageDefaultOrEmpty=function(j){return j===c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED||j===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE};function i(){}f.exports=new i()}),null);
__d("ComposerVideoShowsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirrorRecursive")({SET_IS_EPISODE:"",SET_PLAYLISTS:"",SET_SEASON:"",SET_PLAYLIST_OPTIONS:"",SET_SEASON_OPTIONS:"",REQUEST_VIDEO_LIST_OPTIONS:"",INITIALIZE:"",LOAD_EPISODE_DATA:""});f.exports=h}),null);
__d("ComposerVideoShowsDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("ComposerVideoShowsActions",["ComposerVideoShowsActionTypes","ComposerVideoShowsDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={initialize:function i(j,k,l){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").INITIALIZE,composerID:j,composerEntryPoint:k,isEditing:l})},setIsEpisode:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_IS_EPISODE,isEpisode:j})},setPlaylists:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_PLAYLISTS,playlistIDs:j})},setSeason:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_SEASON,seasonID:j})},setPlaylistOptions:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_PLAYLIST_OPTIONS,value:j})},setSeasonOptions:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_SEASON_OPTIONS,value:j})},requestVideoListOptions:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").REQUEST_VIDEO_LIST_OPTIONS,pageID:j})},loadEpisodeData:function i(j,k){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").LOAD_EPISODE_DATA,composerID:j,isEpisode:k.isEpisode,seasonID:k.seasonID,playlistIDs:k.playlistIDs})}};f.exports=h}),null);
__d("ComposerVideoShowsState",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={composerID:null,isEpisode:null,isRecap:false,shouldShowPlaylistSelector:false,playlistIDs:[],seasonID:null,playlistOptions:{},seasonOptions:{}};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("PageContentTabShowsStore",["EventEmitter","GraphAPI","PageContentTabConstants","PageContentTabDispatcher","PageContentTabAccessToken"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("PageContentTabConstants").ACTION_TYPES;h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(){i.constructor.call(this);this.$PageContentTabShowsStore1=undefined;this.$PageContentTabShowsStore2={videoListDescription:null,videoListTitle:null,videosCount:0};c("PageContentTabDispatcher").register(this.handleDispatcherPayload.bind(this))}k.prototype.getVideoListID=function(){return this.$PageContentTabShowsStore1};k.prototype.getVideoListHeaderInfo=function(){return this.$PageContentTabShowsStore2};k.prototype.handleDispatcherPayload=function(l){__p&&__p();var m=l.action;switch(m.actionType){case j.SET_VIDEO_LIST_ID:this.$PageContentTabShowsStore1=m.videoListID;break;case j.SET_VIDEO_LIST_HEADER_INFO:this.$PageContentTabShowsStore2=m.headerInfo;break;case j.REQUEST_VIDEO_LIST_HEADER_INFO:this.$PageContentTabShowsStore3(m.tab);break;default:return}this.emit("changed",m.pageID,m.tab)};k.prototype.$PageContentTabShowsStore3=function(l){var m=this.$PageContentTabShowsStore1;if(!m)return;c("GraphAPI")("2.8").object("video_list",m).get({access_token:c("PageContentTabAccessToken").getAccessToken(),fields:["id","videos_count","thumbnail","season_number","description","title"]}).then(function(n){c("PageContentTabDispatcher").handleSetVideoListHeaderInfo(l,{videoListDescription:n.description,videoListTitle:n.title,videosCount:n.videos_count,seasonNumber:n.season_number,thumbnail:n.thumbnail})}).done()};f.exports=new k()}),null);
__d("ReactComposerLiveBroadcastPreviewActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_BROADCAST_CONFIG:null,SET_CONTENT_TAGS:null,SET_HAS_VIDEO_STREAM:null,SET_SELECTED_TAB:null,SET_TITLE:null,SET_COMMENT_MODES:null,SET_COPYRIGHTED:null,SET_COPYRIGHT_CONTENT_CATEGORY:null,SET_COPYRIGHT_MONITORING_TYPE:null,SET_COPYRIGHT_RULE_ID:null,SET_COPYRIGHT_OWNERSHIP_COUNTRIES:null,SET_COPYRIGHT_WHITELISTED_FB_USERS:null,SET_COPYRIGHT_WHITELISTED_IG_USERNAMES:null,SET_DID_CLICK_SAVE:null,SET_POST_FINISHED:null,SET_BROADCAST_TYPE:null,SET_EMBEDDABLE:null,SET_VOD_DISABLED:null,SET_DISTURBING:null,SET_MANUAL_GO_LIVE:null,SET_ATTRIBUTION_TAG:null,SET_EPISODE_DATA:null,SET_ATTRIBUTION_APP_ID:null},"LIVE_BROADCASTS")}),null);
__d("ComposerVideoTabsIdentifiers",[],(function a(b,c,d,e,f,g){f.exports={ADBREAKS:"ad-breaks-tab",ATTRIBUTIONS:"attributions-tab",BASIC:"basic-tab",DESTINATION:"destination-tab",ADVANCED:"advanced-tab",CAPTIONS:"captions-tab",SPHERICAL:"spherical-controls-tab",PERMISSIONS:"permissions-tab",RIGHTS:"rights-tab",WHITELIST:"whitelist-tab",SUMMARY:"summary-tab"}}),null);
__d("ReactComposerLiveBroadcastPreviewStore",["ComposerVideoTabsIdentifiers","PrivacyConst","ReactComposerAudienceActionTypes","ReactComposerLiveBroadcastPreviewActionType","ReactComposerStoreBase","VideoBroadcastType","VideoCopyrightUtils"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{accessToken:"",attributionAppID:"",areCopyrightCountriesIncluded:true,broadcastID:"",broadcastType:"",contentTags:[],attributionTag:null,commentModes:[],composerType:"",copyrighted:false,copyrightMonitoringType:c("VideoCopyrightUtils").DEFAULT_LIVE_MONITORING_TYPE,copyrightRuleID:null,copyrightWhitelistedFBUsers:[],copyrightWhitelistedIGUserNames:[],copyrightOwnershipCountries:[],disturbing:false,embeddable:true,embeddedHtml:"",embedUrl:"",hasVideoStream:false,isEditing:false,isLive:false,isScheduled:false,isManualMode:false,isManualGoLive:false,privacy:null,postFinished:false,selectedTab:c("ComposerVideoTabsIdentifiers").BASIC,showKey:false,streamURL:"",secureStreamURL:"",title:"",videoID:"",vodDisabled:false,plannedStartTime:null,scheduleLobbyOpenTime:null,scheduleExpirationTime:null,selectedCategory:null,didClickSave:false}},function(l){__p&&__p();switch(l.type){case c("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_CONFIG:k&&k.$ReactComposerLiveBroadcastPreviewStore1(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_CONTENT_TAGS:k&&k.$ReactComposerLiveBroadcastPreviewStore2(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_ATTRIBUTION_TAG:k&&k.$ReactComposerLiveBroadcastPreviewStore3(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_HAS_VIDEO_STREAM:k&&k.$ReactComposerLiveBroadcastPreviewStore4(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_SELECTED_TAB:k&&k.$ReactComposerLiveBroadcastPreviewStore5(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_TITLE:k&&k.$ReactComposerLiveBroadcastPreviewStore6(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_SHOW_KEY:k&&k.$ReactComposerLiveBroadcastPreviewStore7(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COMMENT_MODES:k&&k.$ReactComposerLiveBroadcastPreviewStore8(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHTED:k&&k.$ReactComposerLiveBroadcastPreviewStore9(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_CONTENT_CATEGORY:k&&k.$ReactComposerLiveBroadcastPreviewStore10(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_MONITORING_TYPE:k&&k.$ReactComposerLiveBroadcastPreviewStore11(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_RULE_ID:k&&k.$ReactComposerLiveBroadcastPreviewStore12(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_FB_USERS:k&&k.$ReactComposerLiveBroadcastPreviewStore13(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_IG_USERNAMES:k&&k.$ReactComposerLiveBroadcastPreviewStore14(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_OWNERSHIP_COUNTRIES:k&&k.$ReactComposerLiveBroadcastPreviewStore15(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_DID_CLICK_SAVE:k&&k.$ReactComposerLiveBroadcastPreviewStore16(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_POST_FINISHED:k&&k.$ReactComposerLiveBroadcastPreviewStore17(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_TYPE:k&&k.$ReactComposerLiveBroadcastPreviewStore18(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_EMBEDDABLE:k&&k.$ReactComposerLiveBroadcastPreviewStore19(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_VOD_DISABLED:k&&k.$ReactComposerLiveBroadcastPreviewStore20(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_DISTURBING:k&&k.$ReactComposerLiveBroadcastPreviewStore21(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_MANUAL_GO_LIVE:k&&k.$ReactComposerLiveBroadcastPreviewStore22(l);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE:k&&k.$ReactComposerLiveBroadcastPreviewStore23(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_EPISODE_DATA:k&&k.$ReactComposerLiveBroadcastPreviewStore24(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_ATTRIBUTION_APP_ID:k&&k.$ReactComposerLiveBroadcastPreviewStore25(l);break}});k=this}j.prototype.getSelectedTab=function(k){"use strict";return this.getComposerData(k).selectedTab};j.prototype.getTitle=function(k){"use strict";return this.getComposerData(k).title};j.prototype.shouldShowKey=function(k){"use strict";return this.getComposerData(k).showKey};j.prototype.getAccessToken=function(k){"use strict";return this.getComposerData(k).accessToken};j.prototype.getStreamURL=function(k){"use strict";return this.getComposerData(k).streamURL};j.prototype.getSecureStreamURL=function(k){"use strict";return this.getComposerData(k).secureStreamURL};j.prototype.getVideoID=function(k){"use strict";return this.getComposerData(k).videoID};j.prototype.getEmbeddable=function(k){"use strict";return this.getComposerData(k).embeddable};j.prototype.getVodDisabled=function(k){"use strict";return this.getComposerData(k).vodDisabled};j.prototype.getDisturbing=function(k){"use strict";return this.getComposerData(k).disturbing};j.prototype.getCommentModes=function(k){"use strict";return this.getComposerData(k).commentModes};j.prototype.getCopyrighted=function(k){"use strict";return this.getComposerData(k).copyrighted};j.prototype.getCopyrightID=function(k){"use strict";return this.getComposerData(k).copyrightID};j.prototype.getCopyrightContentCategory=function(k){"use strict";return this.getComposerData(k).selectedCategory};j.prototype.getCopyrightMonitoringType=function(k){"use strict";return this.getComposerData(k).copyrightMonitoringType};j.prototype.getCopyrightRuleID=function(k){"use strict";return this.getComposerData(k).copyrightRuleID};j.prototype.getCopyrightWhitelistedFBUsers=function(k){"use strict";return this.getComposerData(k).copyrightWhitelistedFBUsers};j.prototype.getCopyrightWhitelistedIGUserNames=function(k){"use strict";return this.getComposerData(k).copyrightWhitelistedIGUserNames};j.prototype.getCopyrightOwnershipCountries=function(k){"use strict";return this.getComposerData(k).copyrightOwnershipCountries};j.prototype.getAreCopyrightCountriesIncluded=function(k){"use strict";return this.getComposerData(k).areCopyrightCountriesIncluded};j.prototype.getBroadcastID=function(k){"use strict";return this.getComposerData(k).broadcastID};j.prototype.getComposerType=function(k){"use strict";return this.getComposerData(k).composerType};j.prototype.getContentTags=function(k){"use strict";return this.getComposerData(k).contentTags};j.prototype.getAttributionTag=function(k){"use strict";return this.getComposerData(k).attributionTag};j.prototype.getEmbeddedHtml=function(k){"use strict";return this.getComposerData(k).embeddedHtml};j.prototype.getEmbedUrl=function(k){"use strict";return this.getComposerData(k).embedUrl};j.prototype.getPlannedStartTime=function(k){"use strict";return this.getComposerData(k).plannedStartTime};j.prototype.getScheduleLobbyOpenTime=function(k){"use strict";return this.getComposerData(k).scheduleLobbyOpenTime};j.prototype.getScheduleExpirationTime=function(k){"use strict";return this.getComposerData(k).scheduleExpirationTime};j.prototype.getBroadcastType=function(k){"use strict";return this.getComposerData(k).broadcastType};j.prototype.getPrivacy=function(k){"use strict";return this.getComposerData(k).privacy};j.prototype.getAttributionAppID=function(k){"use strict";return this.getComposerData(k).attributionAppID};j.prototype.hasVideoStream=function(k){"use strict";return this.getComposerData(k).hasVideoStream};j.prototype.isEditing=function(k){"use strict";return this.getComposerData(k).isEditing};j.prototype.isLive=function(k){"use strict";return this.getComposerData(k).isLive};j.prototype.isScheduled=function(k){"use strict";return this.getComposerData(k).isScheduled};j.prototype.isManualMode=function(k){"use strict";return this.getComposerData(k).isManualMode};j.prototype.isManualGoLive=function(k){"use strict";return this.getComposerData(k).isManualGoLive};j.prototype.getEpisodeData=function(k){"use strict";return this.getComposerData(k).episodeData};j.prototype.postFinished=function(k){"use strict";return this.getComposerData(k).postFinished};j.prototype.saveClicked=function(k){"use strict";return this.getComposerData(k).didClickSave};j.prototype.$ReactComposerLiveBroadcastPreviewStore1=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","config"]),m=l[0],n=l[1];this.getComposerData(m).accessToken=n.accessToken;this.getComposerData(m).broadcastID=n.broadcastID;this.getComposerData(m).isEditing=n.isEditing;this.getComposerData(m).isLive=n.isLive;this.getComposerData(m).isScheduled=n.isScheduled;this.getComposerData(m).isManualMode=n.isManualMode;this.getComposerData(m).streamURL=n.streamURL;this.getComposerData(m).secureStreamURL=n.secureStreamURL;this.getComposerData(m).videoID=n.videoID;this.getComposerData(m).embeddable=n.embeddable;this.getComposerData(m).vodDisabled=n.vodDisabled;this.getComposerData(m).disturbing=n.disturbing;this.getComposerData(m).broadcastType=c("VideoBroadcastType").VALUE_TO_NAME[n.broadcastType];this.getComposerData(m).embeddedHtml=n.embeddedHtml;this.getComposerData(m).embedUrl=n.embedUrl;this.getComposerData(m).composerType=n.composerType;this.getComposerData(m).attributionAppID=n.attributionAppID;this.getComposerData(m).commentModes=n.commentModes;if(n.copyrightData){var o=n.copyrightData;this.getComposerData(m).copyrighted=o.copyrighted;this.getComposerData(m).copyrightID=o.copyrightID;this.getComposerData(m).copyrightMonitoringType=o.monitoringType;this.getComposerData(m).copyrightOwnershipCountries=o.ownershipCountries;this.getComposerData(m).areCopyrightCountriesIncluded=o.areCountriesIncluded;this.getComposerData(m).copyrightRuleID=o.ruleID;this.getComposerData(m).copyrightWhitelistedFBUsers=o.whitelistedFBUsers;this.getComposerData(m).copyrightWhitelistedIGUserNames=o.whitelistedIGUserNames;this.getComposerData(m).selectedCategory=o.selectedCategory}if(n.scheduleData){var p=n.scheduleData;this.getComposerData(m).plannedStartTime=p.plannedStartTime;this.getComposerData(m).scheduleLobbyOpenTime=p.scheduleLobbyOpenTime;this.getComposerData(m).scheduleExpirationTime=p.scheduleExpirationTime}this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","contentTags"]),m=l[0],n=l[1];this.getComposerData(m).contentTags=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","attributionTag"]),m=l[0],n=l[1];this.getComposerData(m).attributionTag=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","hasVideoStream"]),m=l[0],n=l[1];this.getComposerData(m).hasVideoStream=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore23=function(k){"use strict";if(!k.audience)return;var l=this.validateAction(k,["composerID","audience"]),m=l[0],n=l[1];this.getComposerData(m).privacy=Number(n);if(Number(n)===c("PrivacyConst").PostParam.ONLY_ME)this.getComposerData(m).embeddable=false;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore5=function(k){"use strict";var l=this.validateAction(k,["composerID","key"]),m=l[0],n=l[1];this.getComposerData(m).selectedTab=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore6=function(k){"use strict";var l=this.validateAction(k,["composerID","title"]),m=l[0],n=l[1];this.getComposerData(m).title=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore18=function(k){"use strict";var l=this.validateAction(k,["composerID","ambientChecked"]),m=l[0],n=l[1];this.getComposerData(m).broadcastType=n?c("VideoBroadcastType").VALUE_TO_NAME[1]:c("VideoBroadcastType").VALUE_TO_NAME[0];this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore7=function(k){"use strict";var l=this.validateAction(k,["composerID","showKey"]),m=l[0],n=l[1];this.getComposerData(m).showKey=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore8=function(k){"use strict";var l=this.validateAction(k,["composerID","commentModes"]),m=l[0],n=l[1];this.getComposerData(m).commentModes=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore9=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrighted"]),m=l[0],n=l[1];this.getComposerData(m).copyrighted=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore11=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightMonitoringType"]),m=l[0],n=l[1];this.getComposerData(m).copyrightMonitoringType=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore10=function(k){"use strict";var l=this.validateAction(k,["composerID","selectedCategory"]),m=l[0],n=l[1];this.getComposerData(m).selectedCategory=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore12=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightRuleID"]),m=l[0],n=l[1];this.getComposerData(m).copyrightRuleID=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore13=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightWhitelistedFBUsers"]),m=l[0],n=l[1];this.getComposerData(m).copyrightWhitelistedFBUsers=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore14=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightWhitelistedIGUserNames"]),m=l[0],n=l[1];this.getComposerData(m).copyrightWhitelistedIGUserNames=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore15=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightOwnershipCountries","areCopyrightCountriesIncluded"]),m=l[0],n=l[1],o=l[2];this.getComposerData(m).copyrightOwnershipCountries=n;this.getComposerData(m).areCopyrightCountriesIncluded=o;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore16=function(k){"use strict";var l=this.validateAction(k,["composerID","didClickSave"]),m=l[0],n=l[1];this.getComposerData(m).didClickSave=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore17=function(k){"use strict";var l=this.validateAction(k,["composerID","postFinished"]),m=l[0],n=l[1];this.getComposerData(m).postFinished=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore19=function(k){"use strict";var l=this.validateAction(k,["composerID","embeddable"]),m=l[0],n=l[1];this.getComposerData(m).embeddable=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore20=function(k){"use strict";var l=this.validateAction(k,["composerID","vodDisabled"]),m=l[0],n=l[1];this.getComposerData(m).vodDisabled=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore21=function(k){"use strict";var l=this.validateAction(k,["composerID","disturbing"]),m=l[0],n=l[1];this.getComposerData(m).disturbing=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore22=function(k){"use strict";var l=this.validateAction(k,["composerID","isManualGoLive"]),m=l[0],n=l[1];this.getComposerData(m).isManualGoLive=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore24=function(k){"use strict";var l=this.validateAction(k,["composerID","episodeData"]),m=l[0],n=l[1];this.getComposerData(m).episodeData=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore25=function(k){"use strict";var l=this.validateAction(k,["composerID","attributionAppID"]),m=l[0],n=l[1];this.getComposerData(m).attributionAppID=n;this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerLiveBroadcastPreviewActions",["ReactComposerDispatcher","ReactComposerLiveBroadcastPreviewActionType","ReactComposerLiveBroadcastPreviewStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerLiveBroadcastPreviewStore");h.prototype.setBroadcastConfig=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_CONFIG,config:j})};h.prototype.setContentTags=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_CONTENT_TAGS,contentTags:j})};h.prototype.setAttributionTag=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_ATTRIBUTION_TAG,attributionTag:j})};h.prototype.setHasVideoStream=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_HAS_VIDEO_STREAM,hasVideoStream:j})};h.prototype.setSelectedTab=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_SELECTED_TAB,key:j})};h.prototype.setTitle=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_TITLE,title:j})};h.prototype.setShouldBlockComments=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_SHOULD_BLOCK_COMMENTS,shouldBlockComments:j})};h.prototype.setCommentModes=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COMMENT_MODES,commentModes:j})};h.prototype.setCopyrighted=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHTED,copyrighted:j})};h.prototype.setEmbeddable=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_EMBEDDABLE,embeddable:j})};h.prototype.setDisturbing=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_DISTURBING,disturbing:j})};h.prototype.setVodDisabled=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_VOD_DISABLED,vodDisabled:j})};h.prototype.setCopyrightContentCategory=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_CONTENT_CATEGORY,selectedCategory:j})};h.prototype.setDidClickSave=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_DID_CLICK_SAVE,didClickSave:j})};h.prototype.setCopyrightMonitoringType=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_MONITORING_TYPE,copyrightMonitoringType:j})};h.prototype.setCopyrightRuleID=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_RULE_ID,copyrightRuleID:j})};h.prototype.setCopyrightWhitelistedFBUsers=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_FB_USERS,copyrightWhitelistedFBUsers:j})};h.prototype.setCopyrightWhitelistedIGUserNames=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_IG_USERNAMES,copyrightWhitelistedIGUserNames:j})};h.prototype.setCopyrightOwnershipCountries=function(i,j,k){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_OWNERSHIP_COUNTRIES,copyrightOwnershipCountries:j,areCopyrightCountriesIncluded:k})};h.prototype.setPostFinished=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_POST_FINISHED,postFinished:j})};h.prototype.setBroadcastType=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_TYPE,ambientChecked:j})};h.prototype.setManualGoLive=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_MANUAL_GO_LIVE,isManualGoLive:j})};h.prototype.setEpisodeData=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_EPISODE_DATA,episodeData:j})};function h(){"use strict"}f.exports=new h()}),null);
__d("ComposerVideoShowsStore",["ComposerVideoShowsActions","ComposerVideoShowsActionTypes","ComposerVideoShowsDispatcher","ComposerVideoShowsState","ComposerVideoUploadActions","LiveVideoBroadcastActions","PageContentTabShowsStore","ComposerEntryPointRef","FluxReduceStore","ReactComposerLiveBroadcastPreviewActions","AsyncRequest","XShowPagesVideoListsController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return new(c("ComposerVideoShowsState"))()};j.prototype.initialize=function(k,l,m){__p&&__p();var n=void 0;if(this.getState().composerID===k&&m){n=this.getState();n=n.set("shouldShowPlaylistSelector",true)}else{n=this.getInitialState();n=n.set("composerID",k);n=n.set("shouldShowPlaylistSelector",false)}if(l===c("ComposerEntryPointRef").PAGE_CONTENT_TAB_SEASON_DETAILS){n=n.set("isEpisode",true);n=n.set("seasonID",c("PageContentTabShowsStore").getVideoListID()||null)}if(l===c("ComposerEntryPointRef").PAGE_CONTENT_TAB_PLAYLIST_DETAILS){var o=c("PageContentTabShowsStore").getVideoListID();n=n.set("playlistIDs",o?[o]:[]);n=n.set("shouldShowPlaylistSelector",true)}if(l===c("ComposerEntryPointRef").SHOWS_HOME_EPISODES_CARD||l===c("ComposerEntryPointRef").PAGE_COMPOSER_EPISODE_CARD)n=n.set("isEpisode",true);if(l===c("ComposerEntryPointRef").LIVE_BROADCAST)n=n.set("shouldShowPlaylistSelector",true);return n};j.prototype.reduce=function(k,l){__p&&__p();switch(l.type){case c("ComposerVideoShowsActionTypes").INITIALIZE:k=this.initialize(l.composerID,l.composerEntryPoint,l.isEditing);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").SET_IS_EPISODE:k=k.set("isEpisode",l.isEpisode);if(!l.isEpisode)k=k.set("seasonID",null);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").SET_PLAYLISTS:k=k.set("playlistIDs",l.playlistIDs);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").SET_SEASON:k=k.set("seasonID",l.seasonID);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").LOAD_EPISODE_DATA:k=this.initialize(l.composerID,"",true);k=k.set("isEpisode",l.isEpisode);k=k.set("seasonID",l.seasonID);k=k.set("playlistIDs",l.playlistIDs);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").SET_PLAYLIST_OPTIONS:return k.set("playlistOptions",l.value);case c("ComposerVideoShowsActionTypes").SET_SEASON_OPTIONS:return k.set("seasonOptions",l.value);case c("ComposerVideoShowsActionTypes").REQUEST_VIDEO_LIST_OPTIONS:this.$ComposerVideoShowsStore2(l.pageID)}return k};j.prototype.$ComposerVideoShowsStore1=function(k){c("ComposerVideoUploadActions").updateEpisodeData(k.get("composerID"),{isEpisode:k.get("isEpisode"),seasonID:k.get("seasonID"),playlistIDs:k.get("playlistIDs"),isRecap:k.get("isRecap")});c("ReactComposerLiveBroadcastPreviewActions").setEpisodeData(k.get("composerID"),{isEpisode:k.get("isEpisode"),seasonID:k.get("seasonID"),playlistIDs:k.get("playlistIDs"),isRecap:false});c("LiveVideoBroadcastActions").setEpisodeData({isEpisode:k.get("isEpisode"),seasonID:k.get("seasonID"),playlistIDs:k.get("playlistIDs"),isRecap:false})};j.prototype.$ComposerVideoShowsStore2=function(k){var l=c("XShowPagesVideoListsController").getURIBuilder().setFBID("page_id",k).getURI();new(c("AsyncRequest"))(l).setHandler(function(m){var n=m.payload.seasonOptions||{},o=m.payload.playlistOptions||{};c("ComposerVideoShowsActions").setSeasonOptions(n);c("ComposerVideoShowsActions").setPlaylistOptions(o)}).send()};f.exports=new j(c("ComposerVideoShowsDispatcher"))}),null);
__d("ComposerVideoAdBreakActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({DELETE_AD_BREAK:"",INSERT_CURRENT_AD_BREAK:"",SET_AD_BREAKS_EXPERIMENT_ENABLED:"",SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD:"",SET_CURRENT_AD_BREAK:"",SET_EXISTING_AD_BREAKS:"",SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:"",SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:"",SET_THUMBNAIL_URL_FOR_AD_BREAK:"",SET_RIGHT_AGREEMENT:"",SET_VIDEO_DURATION:"",UPDATE_AD_BREAKS_STATUS:""});f.exports=h}),null);
__d("ComposerVideoAdBreakStore",["AdBreakStatus","ReactComposerStoreBase","ComposerVideoAdBreakActionTypes","DateConsts","ReactComposerTaggerActionType","VideoInstreamUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){__p&&__p();var k=void 0;i.constructor.call(this,function(){return{adBreaksDisabled:false,adBreaksExperimentEnabled:false,adBreaksExperimentRevenueLossThreshold:0,currentAdBreak:0,insertedAdBreaks:[],isAdBreakAutoAdjustmentEnabled:false,isAdBreakAutoInsertionEnabled:false,isBrandedContentVideo:false,lastInsertedAdBreak:null,videoDuration:0,videoRightsAgreed:false}},function(l){__p&&__p();switch(l.type){case c("ComposerVideoAdBreakActionTypes").DELETE_AD_BREAK:k&&k.$ComposerVideoAdBreakStore1(l);break;case c("ComposerVideoAdBreakActionTypes").UPDATE_AD_BREAKS_STATUS:k&&k.$ComposerVideoAdBreakStore2(l);break;case c("ComposerVideoAdBreakActionTypes").INSERT_CURRENT_AD_BREAK:k&&k.$ComposerVideoAdBreakStore3(l);break;case c("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_ENABLED:k&&k.$ComposerVideoAdBreakStore4(l);break;case c("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD:k&&k.$ComposerVideoAdBreakStore5(l);break;case c("ComposerVideoAdBreakActionTypes").SET_CURRENT_AD_BREAK:k&&k.$ComposerVideoAdBreakStore6(l);break;case c("ComposerVideoAdBreakActionTypes").SET_EXISTING_AD_BREAKS:k&&k.$ComposerVideoAdBreakStore7(l);break;case c("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:k&&k.$ComposerVideoAdBreakStore8(l);break;case c("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:k&&k.$ComposerVideoAdBreakStore9(l);break;case c("ComposerVideoAdBreakActionTypes").SET_THUMBNAIL_URL_FOR_AD_BREAK:k&&k.$ComposerVideoAdBreakStore10(l);break;case c("ComposerVideoAdBreakActionTypes").SET_VIDEO_DURATION:k&&k.$ComposerVideoAdBreakStore11(l);break;case c("ComposerVideoAdBreakActionTypes").SET_RIGHT_AGREEMENT:k&&k.$ComposerVideoAdBreakStore12(l);break;case c("ReactComposerTaggerActionType").SET_IS_BRANDED_CONTENT_VIDEO:k&&k.$ComposerVideoAdBreakStore13(l);break}});k=this}j.prototype.clearComposerData=function(k){i.clearComposerData.call(this,k);this.emitChange(k)};j.prototype.getAdBreaksExperimentEnabled=function(k){return this.getComposerData(k).adBreaksExperimentEnabled};j.prototype.getAdBreaksExperimentRevenueLossThreshold=function(k){return this.getComposerData(k).adBreaksExperimentRevenueLossThreshold};j.prototype.getAdBreaksStatus=function(k){return this.getComposerData(k).adBreaksDisabled};j.prototype.getCurrentAdBreak=function(k){return this.getComposerData(k).currentAdBreak};j.prototype.getInsertedAdBreaks=function(k){return this.getComposerData(k).insertedAdBreaks};j.prototype.getLastInsertedAdBreak=function(k){return this.getComposerData(k).lastInsertedAdBreak};j.prototype.getIsAdBreakAutoAdjustmentEnabled=function(k){return this.getComposerData(k).isAdBreakAutoAdjustmentEnabled};j.prototype.getIsAdBreakAutoInsertionEnabled=function(k){return this.getComposerData(k).isAdBreakAutoInsertionEnabled};j.prototype.getIsBrandedContentVideo=function(k){return this.getComposerData(k).isBrandedContentVideo};j.prototype.getVideoDuration=function(k){return this.getComposerData(k).videoDuration};j.prototype.getVideoRightsAgreed=function(k){return this.getComposerData(k).videoRightsAgreed};j.prototype.getAdBreakTabState=function(k,l,m){return c("VideoInstreamUtils").getAdBreakTabState(l,this.getIsBrandedContentVideo(k),this.getVideoDuration(k),m)};j.prototype.getShouldDisableAdBreakInsertion=function(k,l,m){return this.getAdBreakTabState(k,l,m).disabled};j.prototype.getHasAdBreaksInserted=function(k){var l=this.getInsertedAdBreaks(k),m=this.getAdBreaksStatus(k);return l.length!==0&&!m};j.prototype.getPostData=function(k){var l=this.getAdBreaksStatus(k),m=this.getIsBrandedContentVideo(k),n=l||m?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED,o=this.getInsertedAdBreaks(k),p=o.map(function(v){return{time_offset:v.timeOffset*c("DateConsts").MS_PER_SEC,status:n}}),q=this.getAdBreaksExperimentEnabled(k),r=this.getAdBreaksExperimentRevenueLossThreshold(k),s=this.getIsAdBreakAutoAdjustmentEnabled(k),t=this.getIsAdBreakAutoInsertionEnabled(k),u={ad_breaks:p,ad_breaks_experiment_revenue_loss_threshold:r,enable_ad_breaks_experiment:q,should_auto_adjust_manual_ad_breaks:s,should_auto_insert_ad_breaks:t&&!l};return u};j.prototype.$ComposerVideoAdBreakStore11=function(k){var l=this.getComposerData(k.composerID);l.videoDuration=k.duration;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore7=function(k){var l=this.getComposerData(k.composerID);l.currentAdBreak=null;var m=k.existingAdBreaks.map(function(n){return{timeOffset:n.time_offset/c("DateConsts").MS_PER_SEC,thumbnailURL:null}});m.sort(function(n,o){return n.timeOffset-o.timeOffset});l.insertedAdBreaks=m;l.videoRightsAgreed=l.videoRightsAgreed||m.length>0;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore8=function(k){var l=this.getComposerData(k.composerID);l.isAdBreakAutoAdjustmentEnabled=k.enabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore9=function(k){var l=this.getComposerData(k.composerID);l.isAdBreakAutoInsertionEnabled=k.enabled;l.videoRightsAgreed=l.videoRightsAgreed||l.isAdBreakAutoInsertionEnabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore10=function(k){var l=this.getComposerData(k.composerID),m=this.getInsertedAdBreaks(k.composerID),n=m.map(function(o){k.adBreaks.forEach(function(p){if(o.timeOffset===p.timeOffset)o.thumbnailURL=p.thumbnailURL});return Object.assign({},o)});l.insertedAdBreaks=n;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore1=function(k){var l=this.getComposerData(k.composerID);l.lastInsertedAdBreak=null;var m=l.insertedAdBreaks;m.splice(k.adBreakIndex,1);var n=m.map(function(o){return Object.assign({},o)});l.insertedAdBreaks=n;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore2=function(k){var l=this.getComposerData(k.composerID);l.adBreaksDisabled=k.adBreaksDisabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore3=function(k){__p&&__p();var l=this.getComposerData(k.composerID),m=this.getCurrentAdBreak(k.composerID),n=this.getInsertedAdBreaks(k.composerID);if(m===null)return;if(n.findIndex(function(r){return r.timeOffset===m})>=0)return;m=Number(m);var o=this.$ComposerVideoAdBreakStore14(n,m),p={timeOffset:m,thumbnailURL:null};l.lastInsertedAdBreak=p;n.splice(o,0,p);var q=n.map(function(r){return Object.assign({},r)});l.insertedAdBreaks=q;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore6=function(k){var l=this.getComposerData(k.composerID);l.currentAdBreak=k.adBreak;l.lastInsertedAdBreak=null;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore13=function(k){var l=this.getComposerData(k.composerID);l.isBrandedContentVideo=k.isBrandedContentVideo;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore4=function(k){var l=this.getComposerData(k.composerID);l.adBreaksExperimentEnabled=k.adBreaksExperimentEnabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore5=function(k){var l=this.getComposerData(k.composerID);l.adBreaksExperimentRevenueLossThreshold=k.adBreaksExperimentRevenueLossThreshold;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore12=function(k){var l=this.getComposerData(k.composerID);l.videoRightsAgreed=k.agree;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore14=function(k,l){var m=void 0;for(m=0;m<k.length;m++)if(k[m].timeOffset>l)break;return m};f.exports=new j()}),null);
__d("ComposerVideoAdBreakActions",["ReactComposerDispatcher","ComposerVideoAdBreakActionTypes","ComposerVideoAdBreakStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("ComposerVideoAdBreakStore");var h={deleteAdBreak:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").DELETE_AD_BREAK,composerID:j,adBreakIndex:k})},setAdBreaksExperimentEnabled:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_ENABLED,composerID:j,adBreaksExperimentEnabled:k})},setAdBreaksExperimentRevenueLossThreshold:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD,composerID:j,adBreaksExperimentRevenueLossThreshold:k})},updateAdBreaksStatus:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").UPDATE_AD_BREAKS_STATUS,composerID:j,adBreaksDisabled:k})},setIsAdBreakAutoAdjustmentEnabled:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED,composerID:j,enabled:k})},setIsAdBreakAutoInsertionEnabled:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED,composerID:j,enabled:k})},insertCurrentAdBreak:function i(j){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").INSERT_CURRENT_AD_BREAK,composerID:j})},setCurrentAdBreak:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_CURRENT_AD_BREAK,composerID:j,adBreak:k})},setExistingAdBreaks:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_EXISTING_AD_BREAKS,composerID:j,existingAdBreaks:k})},setThumbnailURLForAdBreak:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_THUMBNAIL_URL_FOR_AD_BREAK,composerID:j,adBreaks:k})},setVideoDuration:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_VIDEO_DURATION,composerID:j,duration:k})},setVideoRightsAgreed:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_RIGHT_AGREEMENT,composerID:j,agree:k})}};f.exports=h}),null);
__d("ShowsVideoDataTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ShowsVideoDataLoggerConfig",this.$ShowsVideoDataTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ShowsVideoDataLoggerConfig",this.$ShowsVideoDataTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ShowsVideoDataTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$ShowsVideoDataTypedLogger1)};h.prototype.updateData=function(j){this.$ShowsVideoDataTypedLogger1=babelHelpers["extends"]({},this.$ShowsVideoDataTypedLogger1,j);return this};h.prototype.setAutoCrosspostToParent=function(j){this.$ShowsVideoDataTypedLogger1.auto_crosspost_to_parent=j;return this};h.prototype.setIsEpisode=function(j){this.$ShowsVideoDataTypedLogger1.is_episode=j;return this};h.prototype.setPageID=function(j){this.$ShowsVideoDataTypedLogger1.page_id=j;return this};h.prototype.setPlaylistIds=function(j){this.$ShowsVideoDataTypedLogger1.playlist_ids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setSeasonID=function(j){this.$ShowsVideoDataTypedLogger1.season_id=j;return this};h.prototype.setSource=function(j){this.$ShowsVideoDataTypedLogger1.source=j;return this};h.prototype.setSquareThumbnailDimensions=function(j){this.$ShowsVideoDataTypedLogger1.square_thumbnail_dimensions=j;return this};h.prototype.setVC=function(j){this.$ShowsVideoDataTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$ShowsVideoDataTypedLogger1.video_id=j;return this};var i={auto_crosspost_to_parent:true,is_episode:true,page_id:true,playlist_ids:true,season_id:true,source:true,square_thumbnail_dimensions:true,vc:true,video_id:true};f.exports=h}),null);
__d("VideoUploadSphericalControlsAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CREATE_THUMBNAIL:"create_thumbnail",DRAG_VIDEO_PREVIEW:"drag_video_preview",SCROLL_VIDEO_PREVIEW:"scroll_video_preview",RESET:"reset",CHANGE_VIEWPORT:"change_viewport",CHANGE_FOV:"change_fov",TOGGLE_DIRECTORS_CUT:"toggle_directors_cut",ADD_POINT_OF_INTEREST:"add_point_of_interest",REMOVE_POINT_OF_INTEREST:"remove_point_of_interest",EDIT_POINT_OF_INTEREST:"edit_point_of_interest",CLEAR_POINTS_OF_INTEREST:"clear_points_of_interest",SEARCH_POINT_OF_INTEREST:"search_point_of_interest",TAB_IMPRESSION:"tab_impression",SAVE_EDITS:"save_edits",UPLOAD:"upload"})}),null);
__d("XSphericalMediaNUXController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/spherical_media/show_nux/",{})}),null);
__d("ComposerVideoPostUtils",["Promise","regeneratorRuntime","AsyncRequest","BasicVector","ComposerVideoAdBreakActions","ComposerVideoAdBreakStore","ComposerVideoShowsActions","ComposerVideoUploadActions","ComposerVideoUploadSphericalAction","ComposerVideoUploadSphericalGuideKeyframeData","ComposerVideoUploadSphericalStore","ComposerVideoUploadStore","FileVideoThumbnail","immutable","PagesSettingsInstreamAdsBlockListStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","SearchableEntry","ShowsVideoDataTypedLogger","VideoCaptionFile","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionsStore","VideoContentCategoryType","VideoCopyrightUtils","VideoEditFlow","VideoUploadSphericalControlsAction","VideoUploadSphericalLogger","XSphericalMediaNUXController","flattenPHPQueryData","idx","isEmpty"],(function aa(ba,a,ca,da,b,ea){__p&&__p();var c=a("immutable").List,d=1e3,e=60*d,f={updateStore:function g(h,i){__p&&__p();var j=i.locationEntry?new(a("SearchableEntry"))(i.locationEntry):null;j=j?{place:j,implicitLocation:{}}:null;a("ComposerVideoUploadActions").updateTitle(h,i.title);a("ComposerVideoUploadActions").updateDescription(h,i.description);a("ComposerVideoUploadActions").updateFeedType(h,i.feedType);a("ComposerVideoUploadActions").updateCategory(h,i.category);a("ComposerVideoUploadActions").updateContentTags(h,i.contentTags);a("ComposerVideoUploadActions").updateThumbnail(h,i.thumbnail);a("ComposerVideoUploadActions").updateCaptions(h,i.captions);a("ComposerVideoUploadActions").updateLiveCaptions(h,i.liveCaptions);a("ComposerVideoUploadActions").updateSpherical(h,i.isSpherical);a("ComposerVideoUploadActions").updateExpiration(h,i.expirationTime,i.expirationType);a("ComposerVideoUploadActions").updatePublish(h,false);a("ComposerVideoUploadActions").updateExpire(h,false);a("ComposerVideoUploadActions").updateScheduledPublishTime(h,i.scheduledPublishTime);a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").PEOPLE,i.tags);if(i.sponsorData)a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").SPONSOR,i.sponsorData);if(j)a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").LOCATION,j);if(i.productTags)a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").PRODUCT,i.productTags);if(i.backdate)a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").BACKDATE,i.backdate);if(i.episodeData&&i.isShowPage)a("ComposerVideoShowsActions").loadEpisodeData(h,i.episodeData);a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").OG,null);a("ComposerVideoUploadActions").updateEmbeddable(h,i.embeddable);a("ComposerVideoUploadActions").updateIsFeaturedVideo(h,i.isFeaturedVideo?i.isFeaturedVideo:false);a("ComposerVideoUploadActions").updateCopyrighted(h,i.isCopyrighted?i.isCopyrighted:false);a("ComposerVideoUploadActions").updateCopyrightOwnershipCountries(h,i.ownershipCountries||[],!!i.areCountriesIncluded);a("ComposerVideoUploadActions").updateCopyrightAttributionID(h,i.attributionID);a("ComposerVideoUploadActions").updateCopyrightWhitelistedFBUsers(h,i.whitelistedFBUsers||[]);a("ComposerVideoUploadActions").updateCopyrightWhitelistedIGUserNames(h,i.whitelistedIGUserNames||[]);a("ComposerVideoUploadActions").updateCopyrightRuleID(h,i.ruleIDs&&i.ruleIDs.length?i.ruleIDs[0].toString():null);a("ComposerVideoUploadActions").updateCopyrightMonitoringType(h,i.monitoringType||a("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE);a("ComposerVideoUploadActions").updateCopyrightReferenceCategory(h,i.selectedCategory);a("ComposerVideoUploadActions").updateInternalVideoSettings(h,i.isInternalVideo);a("ComposerVideoUploadActions").updateFTEOnly(h,i.isFTEOnly);a("ComposerVideoUploadActions").updatePermissions(h,i.permissions);a("ComposerVideoUploadActions").updateExternalVideoID(h,i.externalVideoID);a("ComposerVideoUploadActions").updateCustomLabels(h,i.customLabels);a("ComposerVideoUploadActions").updateVideoDurationInSec(h,i.duration);a("ComposerVideoUploadActions").updateEnableThumbnailExperiment(h,i.enableThumbnailExperiment);a("ComposerVideoUploadSphericalStore").clearComposerData(h);a("ComposerVideoUploadSphericalAction").updateEnableOmnistab(h,i.enableOmnistab);a("ComposerVideoUploadSphericalAction").updateFOV(h,i.fov);a("ComposerVideoUploadSphericalAction").updateCurrentViewport(h,i.initialPitch,i.initialHeading);a("ComposerVideoUploadSphericalAction").updateGuideEnabled(h,i.guideEnabled);a("ComposerVideoUploadSphericalAction").updateProjection(h,i.projection);a("ComposerVideoUploadSphericalAction").updateStereoMode(h,i.stereoMode);a("ComposerVideoUploadSphericalAction").updateHasSpatialAudio(h,i.hasSpatialAudio);var k=[[0,i.initialPitch,i.initialHeading]].concat(i.guideKeyframes).map(function(l){return a("ComposerVideoUploadSphericalGuideKeyframeData").getFromLegacyParams(l)});a("ComposerVideoUploadSphericalAction").updateGuideKeyframes(h,c(k));a("ComposerVideoAdBreakStore").clearComposerData(h);if(i.existingAdBreaks)a("ComposerVideoAdBreakActions").setExistingAdBreaks(h,i.existingAdBreaks);a("ComposerVideoAdBreakActions").updateAdBreaksStatus(h,i.adBreaksDisabled);a("ComposerVideoAdBreakActions").setAdBreaksExperimentEnabled(h,i.enableAdBreaksExperiment);a("ComposerVideoAdBreakActions").setAdBreaksExperimentRevenueLossThreshold(h,i.adBreaksExperimentRevenueLossThreshold);a("ComposerVideoAdBreakActions").setIsAdBreakAutoAdjustmentEnabled(h,i.isAdBreakAutoAdjustmentEnabled);a("ComposerVideoAdBreakActions").setIsAdBreakAutoInsertionEnabled(h,i.isAdBreakAutoInsertionEnabled)},getDetailsFromStore:function g(h){__p&&__p();var i,j=a("ComposerVideoUploadStore").getTitle(h),k=a("ComposerVideoUploadStore").getExternalVideoID(h),l=a("ComposerVideoUploadStore").getCustomLabels(h),m=a("ComposerVideoUploadStore").getEnableThumbnailExperiment(h),n=a("ComposerVideoUploadStore").getFeedType(h),o=a("ComposerVideoUploadStore").getCallToAction(h),p=a("ComposerVideoUploadStore").getCategory(h),q=a("ComposerVideoUploadStore").getContentTags(h),r=a("ComposerVideoUploadStore").getThumbnail(h),s=a("ComposerVideoUploadStore").getDescription(h),t=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").PEOPLE)||[],u=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").LOCATION)||{};u=u?u.place:{};var v=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").BACKDATE),w=t.map(function($){return $.getUniqueID()}),x=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").ACTIVITY),y=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").TARGETING),z=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").SPONSOR)||{},A={directShareStatus:z.directShareStatus,sponsorRelationship:z.sponsorRelationship,sponsors:[]};(z.sponsors||[]).map(function($){A.sponsors.push($.getUniqueID())});var B=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").PRODUCT)||[],C=B.map(function($){return $.getUniqueID()}),D=a("ComposerVideoUploadStore").getCaptions(h),E=a("ComposerVideoUploadStore").getLiveCaptions(h),F=a("ComposerVideoUploadStore").getExpirationTime(h),G=a("ComposerVideoUploadStore").getExpirationType(h),H=a("ComposerVideoUploadStore").getScheduledPublishTime(h),I=a("ComposerVideoUploadStore").getPublish(h),J=a("ComposerVideoUploadStore").getSpherical(h),K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=a("ComposerVideoUploadSphericalStore").getPostData(h)||{};K=Q.initialHeading;L=Q.initialPitch;M=Q.fov;N=Q.guide_enabled;O=Q.guide_keyframes;P=Q.enable_omnistab;var R=a("ComposerVideoUploadStore").getExpire(h),S=a("ComposerVideoUploadStore").getEmbeddable(h),T=a("ComposerVideoUploadStore").getExcludeNewsfeed(h),U=a("ComposerVideoUploadStore").getIsSecretVideo(h),V=a("ComposerVideoUploadStore").getBlockSocialActions(h),W=a("ComposerVideoUploadStore").getCopyrighted(h),X=a("ComposerVideoUploadStore").getCopyrightMonitoringType(h),Y=a("ComposerVideoUploadStore").getCopyrightRuleID(h),fa=a("ComposerVideoUploadStore").getCopyrightOwnershipCountries(h),ga=a("ComposerVideoUploadStore").getAreCopyrightCountriesIncluded(h),ha=a("ComposerVideoUploadStore").getCopyrightWhitelistedFBUsers(h),ia=a("ComposerVideoUploadStore").getCopyrightWhitelistedIGUserNames(h),ja=a("ComposerVideoUploadStore").getCopyrightAttributionID(h),ka=a("ComposerVideoUploadStore").getCopyrightReferenceCategory(h),la=a("ComposerVideoUploadStore").getInternalSetting(h),ma=a("ComposerVideoUploadStore").getFteOnly(h),na=a("ComposerVideoUploadStore").getPermissions(h),oa=a("ComposerVideoUploadStore").getEpisodeData(h),pa=a("ComposerVideoUploadStore").getSquareThumbnailDimensions(h),Z=a("ComposerVideoAdBreakStore").getPostData(h)||{},qa=Z.ad_breaks,ra=Z.ad_breaks_experiment_revenue_loss_threshold,sa=Z.enable_ad_breaks_experiment,ta=Z.should_auto_adjust_manual_ad_breaks,ua=Z.should_auto_insert_ad_breaks,va=a("PagesSettingsInstreamAdsBlockListStore").getComposerBlockListIdsToApply(),wa=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").FUNDRAISER),xa=(i=wa)!=null?i.charityID:i;return{adBreaks:qa,adBreaksBlockListsToApply:va,title:j,externalVideoID:k,callToAction:o,captions:D,customLabels:l,enableAdBreaksExperiment:sa,enableThumbnailExperiment:m,adBreaksExperimentRevenueLossThreshold:ra,isAdBreakAutoAdjustmentEnabled:ta,isAdBreakAutoInsertionEnabled:ua,liveCaptions:E,category:p,contentTags:q,isCopyrighted:W,copyrightMonitoringType:X,copyrightRuleID:Y,copyrightAttributionID:ja,copyrightOwnershipCountries:fa,copyrightWhitelistedFBUsers:ha,copyrightWhitelistedIGUserNames:ia,areCopyrightCountriesIncluded:ga,thumbnail:r,description:s,guideEnabled:N,guideKeyframes:O,backdate:v,feedType:n,fov:M,initialHeading:K,initialPitch:L,isSpherical:J,locationEntry:u,expirationTime:F,expirationType:G,scheduledPublishTime:H,selectedCategory:ka,sponsorData:A,tags:w,productTags:C,activity:x,targeting:y,publish:I,expire:R,embeddable:S,noStory:T,isSecret:U,blockSocialActions:V,isInternalVideo:la,isFTEOnly:ma,permissions:na,enableOmnistab:P,episodeData:oa,squareThumbnailDimensions:pa,charityID:xa}},logSphericalComposerDataIfNeeded:function g(h){var i=arguments.length<=1||arguments[1]===undefined?false:arguments[1],j=f.getDetailsFromStore(h),k=j.isSpherical,l=j.guideKeyframes;if(k){var m=i?a("VideoUploadSphericalControlsAction").UPLOAD:a("VideoUploadSphericalControlsAction").SAVE_EDITS,n=l.length>0;a("VideoUploadSphericalLogger").setUserAction(m).setFinalGuideEnabled(n).setFinalNumGuidePoints(l.length).log()}},logShowsVideoData:function g(h,i,j,k){var l=a("ComposerVideoUploadStore").getEpisodeData(h),m=JSON.stringify(this.calculateSquareThumbnailDimensions(a("ComposerVideoUploadStore").getSquareThumbnailDimensions(h)));if(l){var n=l.isEpisode&&j==="upload"?a("ComposerVideoUploadStore").getShareToParentPageOptionSelected(h):false;new(a("ShowsVideoDataTypedLogger"))().setVideoID(i).setSource(j).setIsEpisode(l.isEpisode).setSeasonID(l.seasonID).setPlaylistIds(l.playlistIDs).setSquareThumbnailDimensions(m).setAutoCrosspostToParent(n).setPageID(k).log()}},createFormData:function g(h,i,j,k,l,m,n,o,p,q,r,s,t){__p&&__p();var u,v,w=h.thumbnail,x=new FormData();x.append("edit_flow",a("VideoEditFlow").DIALOG);var y=a("flattenPHPQueryData")({ad_breaks:h.adBreaks});Object.keys(y).forEach(function(W){x.append(W,y[W])});if(h.adBreaksBlockListsToApply!==null){x.append("has_ad_breaks_block_lists","true");x.append("ad_breaks_block_lists",h.adBreaksBlockListsToApply)}x.append("content_category",h.category);x.append("content_tags",this.getContentTagEntryIDs(h.contentTags));x.append("free_form_tags",this.getFreeFormContentTags(h.contentTags));x.append("description",h.description);x.append("tags",h.tags);x.append("title",h.title);x.append("external_video_id",h.externalVideoID);x.append("custom_labels",h.customLabels);x.append("enable_ad_breaks_experiment",h.enableAdBreaksExperiment);x.append("ad_breaks_experiment_revenue_loss_threshold",h.adBreaksExperimentRevenueLossThreshold);x.append("should_auto_adjust_manual_ad_breaks",h.isAdBreakAutoAdjustmentEnabled);x.append("should_auto_insert_ad_breaks",h.isAdBreakAutoInsertionEnabled);x.append("enable_thumbnail_experiment",h.enableThumbnailExperiment);x.append("feed_type",h.feedType);var z=h.locationEntry?h.locationEntry.getUniqueID():null,A=h.locationEntry&&!h.locationEntry.getUniqueID()?h.locationEntry.getTitle():null;if(z)x.append("place_id",z);else if(A)x.append("place_name",A);if(h.sponsorData&&h.sponsorData.sponsors){x.append("sponsor_tags",h.sponsorData.sponsors);x.append("direct_share_status",h.sponsorData.directShareStatus);x.append("sponsor_relationship",h.sponsorData.sponsorRelationship)}if(h.productTags)x.append("product_tags",h.productTags);if(h.backdate.year)x.append("backtime_year",h.backdate.year);if(h.backdate.month)x.append("backtime_month",h.backdate.month);if(h.backdate.day)x.append("backtime_day",h.backdate.day);if(h.backdate.hour)x.append("backtime_hour",h.backdate.hour);if(h.backdate.minute)x.append("backtime_minute",h.backdate.minute);if(h.expire)x.append("expire",h.expire);if(h.publish)x.append("publish",h.publish);var B=j.scheduledPublishTime,C=h.scheduledPublishTime;if(C!==B){var D=this._isTwoTimesAlmostTheSame(B,C);if(!D)x.append("scheduled_publish_time",String(C/1e3))}var E=j.expirationTime,F=j.expirationType,G=h.expirationTime,H=h.expirationType;this._isTwoTimesAlmostTheSame(E,G);if(E!==G){var I=this._isTwoTimesAlmostTheSame(E,G);if(!I)x.append("expiration_time",String(G/1e3))}if(F!==H)x.append("expiration_type",H);var J=h.embeddable;if(m!=J){x.append("has_embeddable","true");x.append("embeddable",J)}var K=h.permissions;if(K&&K.length===1){var L=K[0],M=L.allow;if(q!=M){x.append("has_shared_with_business","true");x.append("shared_with_business",M)}}if(s&&K&&K.length>0)(function(){var W=a("flattenPHPQueryData")({crossposting_config:K});Object.keys(W).forEach(function(X){x.append(X,W[X])})})();var N=h.captions.concat(h.liveCaptions),O=[],P=null;if(N)N.forEach(function(W,X){if(W instanceof a("VideoCaptionFile")){var Y=W.getIsDefault()?"captions_default":W.getIsAutoGenerated()?"captions_auto"+X:"captions_file"+X;x.append(Y,W.getFile())}if(W.getIsDefault())P=W.getLocale()});if(P)x.append("default_captions_locale",P);if(l)l.forEach(function(W){if(N.indexOf(W)==-1)O.push(W.getLocale())});O.forEach(function(W,X){x.append("remove_caption["+X+"]",W)});if(h.isSpherical)(function(){x.append("spherical",h.isSpherical);x.append("initial_heading",h.initialHeading);x.append("initial_pitch",h.initialPitch);x.append("fov",h.fov);x.append("guide_enabled",!!h.guideEnabled);var W=a("flattenPHPQueryData")({guide_keyframes:h.guideKeyframes});Object.keys(W).forEach(function(X){x.append(X,W[X])});x.append("enable_omnistab",h.enableOmnistab)})();if(h.episodeData)x.append("episode_data",JSON.stringify(h.episodeData));if(h.squareThumbnailDimensions)x.append("square_thumb_dimensions",JSON.stringify(this.calculateSquareThumbnailDimensions(h.squareThumbnailDimensions)));if(o)x.append("source",o);x.append("copyrighted",h.isCopyrighted);if(h.copyrightMonitoringType)x.append("monitoring_type",h.copyrightMonitoringType);if(h.selectedCategory)x.append("video_copyright_content_category",h.selectedCategory);if(n!=h.isFTEOnly){x.append("has_fte_only","true");x.append("fte_only",h.isFTEOnly)}var Q=i.multilingual_specified_lang;if(Q)x.append("multilingual_specified_lang",Q);var R=i.multilingual_statuses;if(R)R.forEach(function(W,X){x.append("multilingual_statuses["+X+"]",W)});var S=i.multilingual_status_langs;if(S)S.forEach(function(W,X){x.append("multilingual_status_langs["+X+"]",W)});var T=a("Promise").resolve(null);if(p){var U=k.indexOf(w);if(U!=-1)x.append("preferred_thumbnail_index",U+1);if(w instanceof a("FileVideoThumbnail")){T=w.getData();x.append("preferred_thumbnail_index",k.length+1)}}var V=h.spokenLocale;if(!V)V=a("VideoComposerDialogCaptionsStore").getSpokenLocale();if(V&&V!==a("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)x.append("spoken_locale",V);T.then(function(W){if(W)x.append("custom_thumbnail",W);var X=r&&r(h);if(X)X.done(function(){return t(x)},function(Y){});else t(x)}).done()},getContentCategory:function g(h){var i=Object.keys(a("VideoContentCategoryType"));for(var j=0;j<i.length;j++)if(a("VideoContentCategoryType")[i[j]].value===h)return i[j];return""},getContentTagEntryIDs:function g(h){if(!h||h.length<=0)return[];return h.filter(function(i){return!i.getAuxiliaryData().isFreeForm}).map(function(i){return i.getUniqueID()})},getFreeFormContentTags:function g(h){if(!h||h.length<=0)return[];return h.filter(function(i){return i.getAuxiliaryData().isFreeForm}).map(function(i){return i.getUniqueID()})},getVideoTJAppID:function g(h){if(!h)return null;return h.getUniqueID()},getAttributionTagID:function g(h){if(!h)return null;return h.getUniqueID()},getGameID:function g(h){if(!h)return null;return h.getUniqueID()},getGroupIDs:function g(h){if(!h||h.size<=0)return[];return h.map(function(i){return i.getUniqueID()}).toArray()},convertContentTagToEntryArray:function g(h){var i=[];if(h&&!a("isEmpty")(h))for(var j in h)i.push(h[j]);return i},convertFreeFormTagsToEntryArray:function g(h){if(h&&!a("isEmpty")(h))return h.map(function(i){return new(a("SearchableEntry"))({uniqueID:i,title:i,auxiliaryData:{isFreeForm:true}})});return[]},hasInvalidBackdate:function g(h,i){var j=new Date(h.year,h.month-1,h.day,h.hour,h.minute),k=new Date(i*d);return k.getTime()<j.getTime()},calculateSquareThumbnailDimensions:function g(h){if(!h)return null;var i=h.getArea(),j=h.getPosition(),k=new(a("BasicVector"))(j.width,j.height).div(h.getZoom());return{width:i.width/k.x,height:i.height/k.y,left:i.x/k.x,top:i.y/k.y}},_isTwoTimesAlmostTheSame:function g(h,i){if(!h)return false;var j=h-e,k=h+e;return i>j&&i<k},convertBaseTargeting:function g(h){__p&&__p();if(!h)return{};var i={};if(h.age_min)i.age_min=h.age_min;if(h.age_max)i.age_max=h.age_max;if(h.fan_of)i.interests=h.fan_of.map(function(k){return k.id});if(h.genders)i.genders=h.genders;if(h.geo_locations){var j=h.geo_locations;if(j.countries)i.countries=j.countries;if(j.cities)i.cities=j.cities;if(j.regions)i.regions=j.regions;if(j.zips)i.zipcodes=j.zips}if(h.locales)i.locales=h.locales;if(h.relationship_statuses)i.relationship_statuses=h.relationship_statuses;if(h.education_statuses)i.education_statuses=h.education_statuses;return i},convertExcludedLocations:function g(h){__p&&__p();if(h&&h.excluded_geo_locations){var i=h.excluded_geo_locations;if(i.countries)h.excluded_countries=i.countries;if(i.cities)h.excluded_cities=i.cities.map(function(j){return j.key});if(i.regions)h.excluded_regions=i.regions;if(i.zips)h.excluded_zipcodes=i.zips;delete h.excluded_geo_locations}},shouldShowNux:function g(h){__p&&__p();var i,j;return a("regeneratorRuntime").async(function k(l){while(1)switch(l.prev=l.next){case 0:i=a("XSphericalMediaNUXController").getURIBuilder().getURI();j=new(a("AsyncRequest"))().setURI(i).setData({nux_id:h});l.next=4;return a("regeneratorRuntime").awrap(j.exec(true));case 4:return l.abrupt("return",l.sent.payload.showNux);case 5:case"end":return l.stop()}},null,this)}};b.exports=f}),null);
__d("ComposerVideoUploadActionType",[],(function a(b,c,d,e,f,g){f.exports={SET_SOURCES:"SET_SOURCES",UPDATE_BLOCK_SOCIAL_ACTIONS:"UPDATE_BLOCK_SOCIAL_ACTIONS",UPDATE_CALL_TO_ACTION:"UPDATE_CALL_TO_ACTION",UPDATE_CAN_GENERATE_THUMBNAILS:"UPDATE_CAN_GENERATE_THUMBNAILS",UPDATE_CAPTIONS:"UPDATE_CAPTIONS",UPDATE_CATEGORY:"UPDATE_CATEGORY",UPDATE_CONTENT_TAGS:"UPDATE_CONTENT_TAGS",UPDATE_COPYRIGHTED:"UPDATE_COPYRIGHTED",UPDATE_COPYRIGHT_ATTRIBUTION_ID:"UPDATE_COPYRIGHT_ATTRIBUTION_ID",UPDATE_COPYRIGHT_MONITORING_TYPE:"UPDATE_COPYRIGHT_MONITORING_TYPE",UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS:"UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS",UPDATE_COPYRIGHT_RULE_ID:"UPDATE_COPYRIGHT_RULE_ID",UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES:"UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES",UPDATE_COPYRIGHT_WHITELISTED_FB_USERS:"UPDATE_COPYRIGHT_WHITELISTED_FB_USERS",UPDATE_COPYRIGHT_WHITELISTED_IG_USERS:"UPDATE_COPYRIGHT_WHITELISTED_IG_USERS",UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS:"UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS",UPDATE_CUSTOM_LABELS:"UPDATE_CUSTOM_LABELS",UPDATE_CUSTOM_THUMBNAIL:"UPDATE_CUSTOM_THUMBNAIL",UPDATE_DESCRIPTION:"UPDATE_DESCRIPTION",UPDATE_DISTURBING:"UPDATE_DISTURBING",UPDATE_EMBEDDABLE:"UPDATE_EMBEDDABLE",UPDATE_EXCLUDE_NEWSFEED:"UPDATE_EXCLUDE_NEWSFEED",UPDATE_EXPIRATION:"UPDATE_EXPIRATION",UPDATE_EXPIRE:"UPDATE_EXPIRE",UPDATE_FEED_TYPE:"UPDATE_FEED_TYPE",UPDATE_FTE_ONLY:"UPDATE_FTE_ONLY",UPDATE_GAME:"UPDATE_GAME",UPDATE_GENERATED_THUMBNAILS:"UPDATE_GENERATED_THUMBNAILS",UPDATE_INTERNAL_VIDEO_SETTINGS:"UPDATE_INTERNAL_VIDEO_SETTINGS",UPDATE_IS_SECRET_VIDEO:"UPDATE_IS_SECRET_VIDEO",UPDATE_IS_FEATURED_VIDEO:"UPDATE_IS_FEATURED_VIDEO",UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE:"UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE",UPDATE_OPT_OUT_MONETIZATION:"UPDATE_OPT_OUT_MONETIZATION",UPDATE_PERMISSIONS:"UPDATE_PERMISSIONS",UPDATE_PUBLISH:"update_publish",UPDATE_SCHEDULED_PUBLISH_TIME:"UPDATE_SCHEDULED_PUBLISH_TIME",UPDATE_SCRUBBED_THUMBNAIL:"UPDATE_SCRUBBED_THUMBNAIL",UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP:"UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP",UPDATE_SPHERICAL:"UPDATE_SPHERICAL",UPDATE_TAGS:"UPDATE_TAGS",UPDATE_THUMBNAIL:"UPDATE_THUMBNAIL",UPDATE_SQUARE_THUMBNAIL_DIMENSIONS:"UPDATE_SQUARE_THUMBNAIL_DIMENSIONS",UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW:"UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW",UPDATE_TITLE:"UPDATE_TITLE",UPDATE_EXTERNAL_VIDEO_ID:"UPDATE_EXTERNAL_VIDEO_ID",UPDATE_LIVE_CAPTIONS:"UPDATE_LIVE_CAPTIONS",UPDATE_SPONSOR_RELATIONSHIP:"UPDATE_SPONSOR_RELATIONSHIP",UPDATE_EPISODE_DATA:"UPDATE_EPISODE_DATA",UPDATE_DIRECT_SHARE_STATUS:"UPDATE_DIRECT_SHARE_STATUS",UPDATE_VIDEO_DURATION_IN_SEC:"UPDATE_VIDEO_DURATION_IN_SEC",UPDATE_COPYRIGHT_REFERENCE_CATEGORY:"UPDATE_COPYRIGHT_REFERENCE_CATEGORY",UPDATE_PLAYER_SEEK_POSITION:"UPDATE_PLAYER_SEEK_POSITION",UPDATE_ENABLE_THUMBNAIL_EXPERIMENT:"UPDATE_ENABLE_THUMBNAIL_EXPERIMENT",UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID:"UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID",UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED:"UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED",UPDATE_SHARE_TO_PARENT_PAGE_TEXT:"UPDATE_SHARE_TO_PARENT_PAGE_TEXT",UPDATE_NUMBER_PRODUCTS:"UPDATE_NUMBER_PRODUCTS"}}),null);
__d("ComposerVideoUploadActions",["ComposerVideoUploadStore","ComposerVideoUploadActionType","ReactComposerDispatcher"],(function a(b,c,d,e,f,g){__p&&__p();c("ComposerVideoUploadStore");h.prototype.updateBlockSocialActions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_BLOCK_SOCIAL_ACTIONS,blockSocialActions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCallToAction=function(i,j,k,l){"use strict";var m={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CALL_TO_ACTION,ctaType:j,ctaLink:k,ctaCaption:l};c("ReactComposerDispatcher").dispatch(m)};h.prototype.updateCategory=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CATEGORY,category:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateContentTags=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CONTENT_TAGS,contentTags:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrighted=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHTED,copyrighted:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightMonitoringType=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_MONITORING_TYPE,copyrightMonitoringType:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightRuleID=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_RULE_ID,copyrightRuleID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightAttributionID=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_ATTRIBUTION_ID,copyrightAttributionID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightWhitelistedFBUsers=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_FB_USERS,copyrightWhitelistedFBUsers:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightWhitelistedIGUserNames=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_IG_USERS,copyrightWhitelistedIGUserNames:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightOwnershipCountries=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?true:arguments[2];"use strict";var l={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES,copyrightOwnershipCountries:j,areCopyrightCountriesIncluded:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateCopyrightExcludedSegments=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS,copyrightExcludedSegments:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightReferenceFileDisabled=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS,isReferenceFileDisabled:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCustomThumbnail=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CUSTOM_THUMBNAIL,customThumbnail:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateDescription=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_DESCRIPTION,description:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateDisturbing=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_DISTURBING,disturbing:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateEmbeddable=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EMBEDDABLE,embeddable:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateExcludeNewsfeed=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EXCLUDE_NEWSFEED,excludeNewsfeed:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateExpiration=function(i,j,k){"use strict";var l={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EXPIRATION,expirationTime:j,expirationType:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateExpire=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EXPIRE,expire:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateFTEOnly=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_FTE_ONLY,fteOnly:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateInternalVideoSettings=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_INTERNAL_VIDEO_SETTINGS,internalSetting:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateIsSecretVideo=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_IS_SECRET_VIDEO,isSecretVideo:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateIsFeaturedVideo=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_IS_FEATURED_VIDEO,isFeaturedVideo:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updatePublish=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_PUBLISH,publish:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateScheduledPublishTime=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SCHEDULED_PUBLISH_TIME,scheduledPublishTime:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateTags=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_TAGS,tags:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGame=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_GAME,gameID:Number.parseInt(j.getUniqueID(),10)};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateNumProducts=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_NUMBER_PRODUCTS,numProducts:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateSpherical=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SPHERICAL,spherical:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateThumbnail=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?false:arguments[2];"use strict";var l={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_THUMBNAIL,thumbnail:j,isSelectedByUser:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateSquareThumbnailDimensions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SQUARE_THUMBNAIL_DIMENSIONS,dimensions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateThumbnailFromSphericalPreview=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW,customThumbnail:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateTitle=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_TITLE,title:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateFeedType=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_FEED_TYPE,feedType:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGeneratedThumbnails=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_GENERATED_THUMBNAILS,generatedThumbnails:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateScrubbedThumbnail=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL,scrubbedThumbnail:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateScrubbedThumbnailTimestamp=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP,timestamp:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setSources=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").SET_SOURCES,sources:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCaptions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CAPTIONS,captions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateLiveCaptions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_LIVE_CAPTIONS,liveCaptions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateLastCaptionUploadErrorMessage=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE,lastCaptionUploadErrorMessage:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updatePermissions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_PERMISSIONS,permissions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateExternalVideoID=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EXTERNAL_VIDEO_ID,externalVideoID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCustomLabels=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CUSTOM_LABELS,customLabels:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateSponsorRelationship=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SPONSOR_RELATIONSHIP,sponsorRelationship:j})};h.prototype.updateEpisodeData=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EPISODE_DATA,episodeData:j})};h.prototype.updateSharedToSponsorStatus=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_DIRECT_SHARE_STATUS,sharedToSponsorStatus:j})};h.prototype.updateVideoDurationInSec=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_VIDEO_DURATION_IN_SEC,videoDurationInSec:j})};h.prototype.updateCopyrightReferenceCategory=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_CATEGORY,selectedCategory:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updatePlayerSeekPosition=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_PLAYER_SEEK_POSITION,seekPositionInMs:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateEnableThumbnailExperiment=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_ENABLE_THUMBNAIL_EXPERIMENT,enableThumbnailExperiment:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateFundraiserForStoryCharityID=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID,fundraiserForStoryCharityID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateShareToParentPageOptionSelected=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED,shareToParentPageOptionSelected:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateShareToParentPageText=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_TEXT,shareToParentPageText:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ComposerVideoUploadStore",["Promise","ComposerVideoUploadActionType","BasicVector","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","ReactComposerStoreBase","ComposerVideoPostUtils","FileVideoThumbnail","VideoCopyrightMonitoringType","VideoCopyrightSegmentSource","VideoCopyrightUtils","VideoFeedType","VideoThumbnailSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k;i.constructor.call(this,function(){return{areCopyrightCountriesIncluded:true,blockSocialActions:true,captions:[],liveCaptions:[],content_tags:[],copyrighted:false,copyrightMonitoringType:c("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE,copyrightRuleID:null,copyrightWhitelistedFBUsers:[],copyrightWhitelistedIGUserNames:[],copyrightOwnershipCountries:[],copyrightExcludedSegments:[],customThumbnail:null,description:"",disturbing:false,embeddable:true,enableThumbnailExperiment:false,excludeNewsfeed:false,expirationType:null,expire:false,feedType:c("VideoFeedType").NOT_HIGHLIGHTED.index,fteOnly:false,gameID:null,generatedThumbnails:[],internalSetting:false,isSecretVideo:false,isFeaturedVideo:false,isReferenceFileDisabled:false,lastCaptionUploadErrorMessage:"",numProducts:0,permissions:[],publish:false,scheduledPublishTime:null,scrubbedThumbnail:null,scrubbedThumbnailTimestamp:null,sources:{},spherical:false,tags:[],thumbnail:null,squareThumbnailDimensions:null,title:"",externalVideoID:"",customLabels:[],sponsorRelationship:c("BrandedContentSponsorRelationship").WITH,episodeData:null,sharedToSponsorStatus:c("BrandedContentSharedToSponsorStatus").NOT_SHARED,videoDurationInSec:0,selectedCategory:null,seekPositionInMs:0,fundraiserForStoryCharityID:null,shareToParentPageOptionSelected:false,shareToParentPageText:""}},function(l){__p&&__p();switch(l.type){case c("ComposerVideoUploadActionType").UPDATE_BLOCK_SOCIAL_ACTIONS:k&&k.$ComposerVideoUploadStore1(l);break;case c("ComposerVideoUploadActionType").UPDATE_CALL_TO_ACTION:k&&k.$ComposerVideoUploadStore2(l);break;case c("ComposerVideoUploadActionType").UPDATE_CATEGORY:k&&k.$ComposerVideoUploadStore3(l);break;case c("ComposerVideoUploadActionType").UPDATE_CONTENT_TAGS:k&&k.$ComposerVideoUploadStore4(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHTED:k&&k.$ComposerVideoUploadStore5(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_MONITORING_TYPE:k&&k.$ComposerVideoUploadStore6(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_ATTRIBUTION_ID:k&&k.$ComposerVideoUploadStore7(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS:k&&k.$ComposerVideoUploadStore8(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_RULE_ID:k&&k.$ComposerVideoUploadStore9(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_FB_USERS:k&&k.$ComposerVideoUploadStore10(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_IG_USERS:k&&k.$ComposerVideoUploadStore11(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES:k&&k.$ComposerVideoUploadStore12(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS:k&&k.$ComposerVideoUploadStore13(l);break;case c("ComposerVideoUploadActionType").UPDATE_CUSTOM_THUMBNAIL:k&&k.$ComposerVideoUploadStore14(l);break;case c("ComposerVideoUploadActionType").UPDATE_DESCRIPTION:k&&k.$ComposerVideoUploadStore15(l);break;case c("ComposerVideoUploadActionType").UPDATE_DISTURBING:k&&k.$ComposerVideoUploadStore16(l);break;case c("ComposerVideoUploadActionType").UPDATE_EMBEDDABLE:k&&k.$ComposerVideoUploadStore17(l);break;case c("ComposerVideoUploadActionType").UPDATE_EXCLUDE_NEWSFEED:k&&k.$ComposerVideoUploadStore18(l);break;case c("ComposerVideoUploadActionType").UPDATE_EXPIRATION:k&&k.$ComposerVideoUploadStore19(l);break;case c("ComposerVideoUploadActionType").UPDATE_EXPIRE:k&&k.$ComposerVideoUploadStore20(l);break;case c("ComposerVideoUploadActionType").UPDATE_FTE_ONLY:k&&k.$ComposerVideoUploadStore21(l);break;case c("ComposerVideoUploadActionType").UPDATE_INTERNAL_VIDEO_SETTINGS:k&&k.$ComposerVideoUploadStore22(l);break;case c("ComposerVideoUploadActionType").UPDATE_IS_SECRET_VIDEO:k&&k.$ComposerVideoUploadStore23(l);break;case c("ComposerVideoUploadActionType").UPDATE_IS_FEATURED_VIDEO:k&&k.$ComposerVideoUploadStore24(l);break;case c("ComposerVideoUploadActionType").UPDATE_PUBLISH:k&&k.$ComposerVideoUploadStore25(l);break;case c("ComposerVideoUploadActionType").UPDATE_SCHEDULED_PUBLISH_TIME:k&&k.$ComposerVideoUploadStore26(l);break;case c("ComposerVideoUploadActionType").UPDATE_SPHERICAL:k&&k.$ComposerVideoUploadStore27(l);break;case c("ComposerVideoUploadActionType").UPDATE_TAGS:k&&k.$ComposerVideoUploadStore28(l);break;case c("ComposerVideoUploadActionType").UPDATE_THUMBNAIL:k&&k.$ComposerVideoUploadStore29(l);break;case c("ComposerVideoUploadActionType").UPDATE_SQUARE_THUMBNAIL_DIMENSIONS:k&&k.$ComposerVideoUploadStore30(l);break;case c("ComposerVideoUploadActionType").UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW:k&&k.$ComposerVideoUploadStore31(l);break;case c("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL:k&&k.$ComposerVideoUploadStore32(l);break;case c("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP:k&&k.$ComposerVideoUploadStore33(l);break;case c("ComposerVideoUploadActionType").UPDATE_TITLE:k&&k.$ComposerVideoUploadStore34(l);break;case c("ComposerVideoUploadActionType").UPDATE_FEED_TYPE:k&&k.$ComposerVideoUploadStore35(l);break;case c("ComposerVideoUploadActionType").UPDATE_GENERATED_THUMBNAILS:k&&k.$ComposerVideoUploadStore36(l);break;case c("ComposerVideoUploadActionType").SET_SOURCES:k&&k.$ComposerVideoUploadStore37(l);break;case c("ComposerVideoUploadActionType").UPDATE_CAPTIONS:k&&k.$ComposerVideoUploadStore38(l);break;case c("ComposerVideoUploadActionType").UPDATE_LIVE_CAPTIONS:k&&k.$ComposerVideoUploadStore39(l);break;case c("ComposerVideoUploadActionType").UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE:k&&k.$ComposerVideoUploadStore40(l);break;case c("ComposerVideoUploadActionType").UPDATE_PERMISSIONS:k&&k.$ComposerVideoUploadStore41(l);break;case c("ComposerVideoUploadActionType").UPDATE_EXTERNAL_VIDEO_ID:k&&k.$ComposerVideoUploadStore42(l);break;case c("ComposerVideoUploadActionType").UPDATE_CUSTOM_LABELS:k&&k.$ComposerVideoUploadStore43(l);break;case c("ComposerVideoUploadActionType").UPDATE_SPONSOR_RELATIONSHIP:k&&k.$ComposerVideoUploadStore44(l);break;case c("ComposerVideoUploadActionType").UPDATE_EPISODE_DATA:k&&k.$ComposerVideoUploadStore45(l);break;case c("ComposerVideoUploadActionType").UPDATE_DIRECT_SHARE_STATUS:k&&k.$ComposerVideoUploadStore46(l);break;case c("ComposerVideoUploadActionType").UPDATE_VIDEO_DURATION_IN_SEC:k&&k.$ComposerVideoUploadStore47(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_CATEGORY:k&&k.$ComposerVideoUploadStore48(l);break;case c("ComposerVideoUploadActionType").UPDATE_PLAYER_SEEK_POSITION:k&&k.$ComposerVideoUploadStore49(l);break;case c("ComposerVideoUploadActionType").UPDATE_ENABLE_THUMBNAIL_EXPERIMENT:k&&k.$ComposerVideoUploadStore50(l);break;case c("ComposerVideoUploadActionType").UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID:k&&k.$ComposerVideoUploadStore51(l);break;case c("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED:k&&k.$ComposerVideoUploadStore52(l);break;case c("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_TEXT:k&&k.$ComposerVideoUploadStore53(l);break;case c("ComposerVideoUploadActionType").UPDATE_GAME:k&&k.$ComposerVideoUploadStore54(l);break;case c("ComposerVideoUploadActionType").UPDATE_NUMBER_PRODUCTS:k&&k.$ComposerVideoUploadStore55(l);break}});k=this}j.prototype.getBlockSocialActions=function(k){"use strict";return this.getComposerData(k).blockSocialActions};j.prototype.getCallToAction=function(k){"use strict";return this.getComposerData(k).callToAction};j.prototype.getCategory=function(k){"use strict";return this.getComposerData(k).category};j.prototype.getContentTags=function(k){"use strict";return this.getComposerData(k).contentTags};j.prototype.getCopyrighted=function(k){"use strict";return this.getComposerData(k).copyrighted};j.prototype.getCopyrightMonitoringType=function(k){"use strict";return this.getComposerData(k).copyrightMonitoringType};j.prototype.getCopyrightAttributionID=function(k){"use strict";return this.getComposerData(k).copyrightAttributionID};j.prototype.getCopyrightRuleID=function(k){"use strict";return this.getComposerData(k).copyrightRuleID};j.prototype.getCopyrightWhitelistedFBUsers=function(k){"use strict";return this.getComposerData(k).copyrightWhitelistedFBUsers};j.prototype.getCopyrightWhitelistedIGUserNames=function(k){"use strict";return this.getComposerData(k).copyrightWhitelistedIGUserNames};j.prototype.getCopyrightOwnershipCountries=function(k){"use strict";return this.getComposerData(k).copyrightOwnershipCountries};j.prototype.getAreCopyrightCountriesIncluded=function(k){"use strict";return this.getComposerData(k).areCopyrightCountriesIncluded};j.prototype.getCopyrightExcludedSegments=function(k){"use strict";var l=this.getComposerData(k).copyrightExcludedSegments;if(l.length===0)return[{start_time_in_sec:null,duration_in_sec:null,media_type:c("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value,segment_source:c("VideoCopyrightSegmentSource").PUBLISHER_DEFINED,included:false}];return l};j.prototype.getIsCopyrightReferenceDisabled=function(k){"use strict";return this.getComposerData(k).isReferenceFileDisabled};j.prototype.getCustomThumbnail=function(k){"use strict";return this.getComposerData(k).customThumbnail};j.prototype.getScrubbedThumbnail=function(k){"use strict";return this.getComposerData(k).scrubbedThumbnail};j.prototype.getScrubbedThumbnailTimestamp=function(k){"use strict";return this.getComposerData(k).scrubbedThumbnailTimestamp};j.prototype.getDescription=function(k){"use strict";return this.getComposerData(k).description};j.prototype.getDisturbing=function(k){"use strict";return this.getComposerData(k).disturbing};j.prototype.getEmbeddable=function(k){"use strict";return this.getComposerData(k).embeddable};j.prototype.getExcludeNewsfeed=function(k){"use strict";return this.getComposerData(k).excludeNewsfeed};j.prototype.getExpirationTime=function(k){"use strict";return this.getComposerData(k).expirationTime};j.prototype.getExpirationType=function(k){"use strict";return this.getComposerData(k).expirationType};j.prototype.getExpire=function(k){"use strict";return this.getComposerData(k).expire};j.prototype.getFteOnly=function(k){"use strict";return this.getComposerData(k).fteOnly};j.prototype.getInternalSetting=function(k){"use strict";return this.getComposerData(k).internalSetting};j.prototype.getIsSecretVideo=function(k){"use strict";return this.getComposerData(k).isSecretVideo};j.prototype.getIsFeaturedVideo=function(k){"use strict";return this.getComposerData(k).isFeaturedVideo};j.prototype.getPublish=function(k){"use strict";return this.getComposerData(k).publish};j.prototype.getScheduledPublishTime=function(k){"use strict";return this.getComposerData(k).scheduledPublishTime};j.prototype.getSpherical=function(k){"use strict";return this.getComposerData(k).spherical};j.prototype.getTags=function(k){"use strict";return this.getComposerData(k).tags};j.prototype.getThumbnail=function(k){"use strict";return this.getComposerData(k).thumbnail};j.prototype.getSquareThumbnailDimensions=function(k){"use strict";return this.getComposerData(k).squareThumbnailDimensions};j.prototype.getTitle=function(k){"use strict";return this.getComposerData(k).title};j.prototype.getFeedType=function(k){"use strict";return this.getComposerData(k).feedType};j.prototype.getGeneratedThumbnails=function(k){"use strict";return this.getComposerData(k).generatedThumbnails};j.prototype.getSources=function(k){"use strict";return this.getComposerData(k).sources};j.prototype.getCaptions=function(k){"use strict";return this.getComposerData(k).captions};j.prototype.getLiveCaptions=function(k){"use strict";return this.getComposerData(k).liveCaptions};j.prototype.getLastCaptionUploadErrorMessage=function(k){"use strict";return this.getComposerData(k).lastCaptionUploadErrorMessage};j.prototype.getPermissions=function(k){"use strict";return this.getComposerData(k).permissions};j.prototype.getExternalVideoID=function(k){"use strict";return this.getComposerData(k).externalVideoID};j.prototype.getCustomLabels=function(k){"use strict";return this.getComposerData(k).customLabels};j.prototype.getEnableThumbnailExperiment=function(k){"use strict";return this.getComposerData(k).enableThumbnailExperiment};j.prototype.getSponsorRelationship=function(k){"use strict";return this.getComposerData(k).sponsorRelationship};j.prototype.getEpisodeData=function(k){"use strict";return this.getComposerData(k).episodeData};j.prototype.getSharedToSponsorStatus=function(k){"use strict";return this.getComposerData(k).sharedToSponsorStatus};j.prototype.getVideoDurationInSec=function(k){"use strict";return this.getComposerData(k).videoDurationInSec};j.prototype.getCopyrightReferenceCategory=function(k){"use strict";return this.getComposerData(k).selectedCategory};j.prototype.getPlayerSeekPositionInMs=function(k){"use strict";return this.getComposerData(k).seekPositionInMs||0};j.prototype.getFundraiserForStoryCharityID=function(k){"use strict";return this.getComposerData(k).fundraiserForStoryCharityID};j.prototype.getShareToParentPageOptionSelected=function(k){"use strict";return this.getComposerData(k).shareToParentPageOptionSelected};j.prototype.getShareToParentPageText=function(k){"use strict";return this.getComposerData(k).shareToParentPageText};j.prototype.getNumProducts=function(k){"use strict";return this.getComposerData(k).numProducts};j.prototype.$ComposerVideoUploadStore56=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shouldDisableAdBreakInsertion=k.shouldDisableAdBreakInsertion;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore1=function(k){"use strict";var l=this.getComposerData(k.composerID);l.blockSocialActions=k.blockSocialActions;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore2=function(k){"use strict";var l=this.getComposerData(k.composerID);l.callToAction={ctaType:k.ctaType,ctaLink:k.ctaLink,ctaCaption:k.ctaCaption};this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore3=function(k){"use strict";var l=this.getComposerData(k.composerID);l.category=k.category;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore4=function(k){"use strict";var l=this.getComposerData(k.composerID);l.contentTags=k.contentTags;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore5=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrighted=k.copyrighted;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore6=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightMonitoringType=k.copyrightMonitoringType;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore7=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightAttributionID=k.copyrightAttributionID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore9=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightRuleID=k.copyrightRuleID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore10=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightWhitelistedFBUsers=k.copyrightWhitelistedFBUsers;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore11=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightWhitelistedIGUserNames=k.copyrightWhitelistedIGUserNames;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore12=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightOwnershipCountries=k.copyrightOwnershipCountries;l.areCopyrightCountriesIncluded=k.areCopyrightCountriesIncluded;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore13=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightExcludedSegments=k.copyrightExcludedSegments;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore8=function(k){"use strict";var l=this.getComposerData(k.composerID);l.isReferenceFileDisabled=k.isReferenceFileDisabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore14=function(k){"use strict";var l=this.getComposerData(k.composerID);l.customThumbnail=k.customThumbnail;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore15=function(k){"use strict";var l=this.getComposerData(k.composerID);l.description=k.description;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore16=function(k){"use strict";var l=this.getComposerData(k.composerID);l.disturbing=k.disturbing;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore17=function(k){"use strict";var l=this.getComposerData(k.composerID);l.embeddable=k.embeddable;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore18=function(k){"use strict";var l=this.getComposerData(k.composerID);l.excludeNewsfeed=k.excludeNewsfeed;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore20=function(k){"use strict";var l=this.getComposerData(k.composerID);l.expire=k.expire;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore22=function(k){"use strict";var l=this.getComposerData(k.composerID);l.internalSetting=k.internalSetting;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore21=function(k){"use strict";var l=this.getComposerData(k.composerID);l.fteOnly=k.fteOnly;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore23=function(k){"use strict";var l=this.getComposerData(k.composerID);l.isSecretVideo=k.isSecretVideo;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore24=function(k){"use strict";var l=this.getComposerData(k.composerID);l.isFeaturedVideo=k.isFeaturedVideo;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore25=function(k){"use strict";var l=this.getComposerData(k.composerID);l.publish=k.publish;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore26=function(k){"use strict";var l=this.getComposerData(k.composerID);l.scheduledPublishTime=k.scheduledPublishTime;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore27=function(k){"use strict";var l=this.getComposerData(k.composerID);l.spherical=k.spherical;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore28=function(k){"use strict";var l=this.getComposerData(k.composerID);l.tags=k.tags;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore29=function(k){"use strict";var l=this.getComposerData(k.composerID);l.thumbnail=k.thumbnail;l.isThumbnailSelectedByUser=k.isSelectedByUser;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore30=function(k){"use strict";var l=this.getComposerData(k.composerID);l.squareThumbnailDimensions=k.dimensions;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore31=function(k){"use strict";var l=this.getComposerData(k.composerID);l.customThumbnail=k.customThumbnail;l.thumbnail=k.customThumbnail;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore32=function(k){"use strict";var l=this.getComposerData(k.composerID);l.scrubbedThumbnail=k.scrubbedThumbnail;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore33=function(k){"use strict";var l=this.getComposerData(k.composerID);l.scrubbedThumbnailTimestamp=k.timestamp;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore34=function(k){"use strict";var l=this.getComposerData(k.composerID);l.title=k.title;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore35=function(k){"use strict";var l=this.getComposerData(k.composerID);l.feedType=k.feedType;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore36=function(k){"use strict";var l=this.getComposerData(k.composerID);l.generatedThumbnails=k.generatedThumbnails;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore37=function(k){"use strict";var l=this.getComposerData(k.composerID);l.sources=k.sources;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore38=function(k){"use strict";var l=this.getComposerData(k.composerID);l.captions=k.captions;l.lastCaptionUploadErrorMessage="";this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore39=function(k){"use strict";var l=this.getComposerData(k.composerID);l.liveCaptions=k.liveCaptions;l.lastCaptionUploadErrorMessage="";this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore40=function(k){"use strict";var l=this.getComposerData(k.composerID);l.lastCaptionUploadErrorMessage=k.lastCaptionUploadErrorMessage;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore19=function(k){"use strict";var l=this.getComposerData(k.composerID);l.expirationTime=k.expirationTime;l.expirationType=k.expirationType;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore41=function(k){"use strict";var l=this.getComposerData(k.composerID);l.permissions=k.permissions;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore42=function(k){"use strict";var l=this.getComposerData(k.composerID);l.externalVideoID=k.externalVideoID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore43=function(k){"use strict";var l=this.getComposerData(k.composerID);l.customLabels=k.customLabels;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore50=function(k){"use strict";var l=this.getComposerData(k.composerID);l.enableThumbnailExperiment=k.enableThumbnailExperiment;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore44=function(k){"use strict";var l=this.getComposerData(k.composerID);l.sponsorRelationship=k.sponsorRelationship;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore46=function(k){"use strict";var l=this.getComposerData(k.composerID);l.sharedToSponsorStatus=k.sharedToSponsorStatus;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore47=function(k){"use strict";var l=this.getComposerData(k.composerID);l.videoDurationInSec=k.videoDurationInSec;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore45=function(k){"use strict";var l=this.getComposerData(k.composerID);l.episodeData=k.episodeData;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore48=function(k){"use strict";var l=this.getComposerData(k.composerID);l.selectedCategory=k.selectedCategory;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore49=function(k){"use strict";var l=this.getComposerData(k.composerID);l.seekPositionInMs=k.seekPositionInMs;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore51=function(k){"use strict";var l=this.getComposerData(k.composerID);l.fundraiserForStoryCharityID=k.fundraiserForStoryCharityID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore52=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shareToParentPageOptionSelected=k.shareToParentPageOptionSelected;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore53=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shareToParentPageText=k.shareToParentPageText;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore54=function(k){"use strict";var l=this.getComposerData(k.composerID);l.gameID=k.gameID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore55=function(k){"use strict";var l=this.getComposerData(k.composerID);l.numProducts=k.numProducts;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore57=function(k){"use strict";if(!k)return null;var l=k.getArea(),m=k.getPosition(),n=new(c("BasicVector"))(m.width,m.height).div(k.getZoom());return{width:l.width/n.x,height:l.height/n.y,left:l.x/n.x,top:l.y/n.y}};j.prototype.getPostData=function(k){"use strict";__p&&__p();var l=this.getComposerData(k),m=l.tags.map(function(q){return q.getUniqueID()}),n=l.permissions.length>0?l.permissions[0].allow:false,o={areCopyrightCountriesIncluded:l.areCopyrightCountriesIncluded,composertags_with:undefined,content_category:l.category,content_tags:c("ComposerVideoPostUtils").getContentTagEntryIDs(l.contentTags||[]),copyrighted:l.copyrighted,copyrightAttributionID:l.copyrightAttributionID,copyrightMonitoringType:l.copyrightMonitoringType,copyrightRuleID:l.copyrightRuleID,copyrightWhitelistedFBUsers:l.copyrightWhitelistedFBUsers,copyrightWhitelistedIGUserNames:l.copyrightWhitelistedIGUserNames,copyrightOwnershipCountries:l.copyrightOwnershipCountries,copyrightExcludedSegments:l.copyrightExcludedSegments,isReferenceFileDisabled:l.isReferenceFileDisabled,video_title:l.title,feed_type:l.feedType,free_form_tags:c("ComposerVideoPostUtils").getFreeFormContentTags(l.contentTags||[]),xhpc_message:l.description,thumbnail_type:undefined,user_uploaded_custom_thumbnail_timestamp:undefined,user_scrubbed_thumbnail_timestamp:undefined,thumb:undefined,disturbing:l.disturbing,embeddable:l.embeddable,no_story:l.excludeNewsfeed,secret:l.isSecretVideo,social_actions:!l.blockSocialActions,spherical:l.spherical,internal_video:l.internalSetting,fte_only:l.fteOnly,captions:l.captions,monitoring_type:l.copyrightMonitoringType,shared_with_business:n,crossposting_config:l.permissions,external_video_id:l.externalVideoID,custom_labels:l.customLabels,enable_thumbnail_experiment:l.enableThumbnailExperiment,sponsor_relationship:l.sponsorRelationship,episode_data_json:undefined,direct_share_status:l.sharedToSponsorStatus,square_custom_thumbnail_dimensions:undefined,videoDurationInSec:l.videoDurationInSec,selectedCategory:l.selectedCategory,fundraiser_for_story_charity_id:undefined,share_to_parent_page_option_selected:l.shareToParentPageOptionSelected,share_to_parent_page_text:l.shareToParentPageText,gameID:l.gameID,numProducts:l.numProducts},p=c("ComposerVideoPostUtils").calculateSquareThumbnailDimensions(l.squareThumbnailDimensions);if(p)o.square_custom_thumbnail_dimensions=JSON.stringify(p);else delete o.square_custom_thumbnail_dimensions;if(l.gameID)o.gameID=l.gameID;else delete o.gameID;if(l.numProducts)o.numProducts=l.numProducts;else delete o.numProducts;if(l.episodeData)o.episode_data_json=JSON.stringify(l.episodeData);else delete o.episode_data_json;if(l.fundraiserForStoryCharityID)o.fundraiser_for_story_charity_id=l.fundraiserForStoryCharityID;else delete o.fundraiser_for_story_charity_id;if(m.length>0)o.composertags_with=m;else delete o.composertags_with;if(l.thumbnail){if(l.thumbnail instanceof c("FileVideoThumbnail"))o.thumbnail_type=c("VideoThumbnailSource").CUSTOM;else if(l.scrubbedThumbnail!==null&&l.scrubbedThumbnail===l.thumbnail){o.thumbnail_type=c("VideoThumbnailSource").SCRUBBER_SELECTED;o.user_scrubbed_thumbnail_timestamp=l.thumbnail.getTime()}else if(l.isThumbnailSelectedByUser){o.thumbnail_type=c("VideoThumbnailSource").GENERATED_SELECTED;o.user_uploaded_custom_thumbnail_timestamp=l.thumbnail.getTime()}else o.thumbnail_type=c("VideoThumbnailSource").GENERATED_DEFAULT;return l.thumbnail.getData().then(function(l){o.thumb=l;return o})}else return c("Promise").resolve(o)};f.exports=new j()}),null);
__d("VideoUploadLeaveConfirmationDialog.react",["fbt","PublishingToolsWebdriverTestDataIDs","React","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogButton.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=700,m=360;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.prototype.render=function(){"use strict";__p&&__p();var o=void 0,p=void 0,q=void 0,r=void 0,s=void 0;if(this.props.isProfileVideo){o=m;p=h._("Cancel Profile Video?");q=h._("Your profile video won't be saved if you leave this page.");r=h._("Stay on This Page");s=h._("Leave This Page")}else{o=l;p=h._("Discard Post?");q=h._("If you leave now, this post will be discarded. To save your post, choose one of the options under the Publish button.");r=h._("Return to Post");s=h._("Discard")}return c("React").createElement(c("XUIDialog.react"),{shown:true,layerHideOnBlur:false,width:o,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},p),c("React").createElement(c("XUIDialogBody.react"),null,q),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:r,onClick:this.props.onContinue}),c("React").createElement(c("XUIDialogButton.react"),{use:"confirm",action:"cancel",label:s,onClick:this.props.onCancel,"data-testid":c("PublishingToolsWebdriverTestDataIDs").VIDEO_UPLOAD_DIALOG_CLOSE_CONFIRM_BUTTON})))};function n(){"use strict";i.apply(this,arguments)}n.propTypes={onContinue:k.func.isRequired,onCancel:k.func.isRequired,isProfileVideo:k.bool};f.exports=n}),null);
__d("ComposerXVideoUploadDialog.react",["csx","cx","ix","fbt","Arbiter","ComposerVideoShowsStore","DOM","DOMContainer.react","FluxContainer","Image.react","ProfileVideoWWWFrontendActionTypedLogger","PublishingToolsWebdriverTestDataIDs","React","ReactDOM","SubscriptionsHandler","VideoComposerDialogMode","VideoComposerDialogUIEvent","VideoComposerDialogUITypedLogger","VideoComposerDialogVersion","VideoUploadProcessingDialog.react","XUICloseButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","VideoUploadLeaveConfirmationDialog.react","OptimisticVideoPostUtils","containsNode","setImmediate","getViewportDimensions"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m,n=c("React").PropTypes,o=770,p=489,q=550;l=babelHelpers.inherits(r,c("React").Component);m=l&&l.prototype;function r(){__p&&__p();var s,t;"use strict";for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=m.constructor).call.apply(s,[this].concat(v)),this.state={stage:"editing",videoID:null,showLeaveConfirmationDialog:false,showThrobber:false,shouldShowNewEditDialog:false,pageID:null,isSecretVideo:false,shouldShowVideoLibrary:false,isEpisode:false},this.$ComposerXVideoUploadDialog1=null,this.$ComposerXVideoUploadDialog3=null,this.onCancelPostingClick=function(){this.setState({showLeaveConfirmationDialog:false});if(this.props&&this.props.onCancel)this.props.onCancel();if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2.setEvent("leave_this_page_click").setSessionID(this.props.composerID).log();this.$ComposerXVideoUploadDialog4(c("VideoComposerDialogUIEvent").EXIT_COMPOSER_CONFIRM)}.bind(this),this.onContinuePostingClick=function(){this.setState({showLeaveConfirmationDialog:false});if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2.setEvent("stay_on_this_page_click").setSessionID(this.props.composerID).log();this.$ComposerXVideoUploadDialog4(c("VideoComposerDialogUIEvent").EXIT_COMPOSER_CANCEL)}.bind(this),this.onComposerClick=function(x){if(this.props.isProfileVideo&&x.nativeEvent&&x.nativeEvent.target)if(c("containsNode")(this.$ComposerXVideoUploadDialog3,x.nativeEvent.target))this.onComposerDialogClose()}.bind(this),this.onComposerDialogClose=function(){this.setState({showLeaveConfirmationDialog:true});if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2.setEvent("cancel_button_click").setSessionID(this.props.composerID).log();this.$ComposerXVideoUploadDialog4(c("VideoComposerDialogUIEvent").EXIT_COMPOSER_ATTEMPT)}.bind(this),this.onDone=function(){if(this.props&&this.props.onDone){var x=this.props.onDone;c("setImmediate")(function(){return x({videoID:this.state.videoID})}.bind(this))}}.bind(this),this.renderThrobber=function(){return c("React").createElement(c("Image.react"),{className:"_2z4p"+(this.state.showThrobber?" _2z4q":""),src:j("85428")})}.bind(this),t}r.getStores=function(){"use strict";return[c("ComposerVideoShowsStore")]};r.calculateState=function(){"use strict";var s=c("ComposerVideoShowsStore").getState().toObject(),t=s.isEpisode;return{isEpisode:t}};r.prototype.componentDidMount=function(){"use strict";__p&&__p();if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2=new(c("ProfileVideoWWWFrontendActionTypedLogger"))();var s=new(c("SubscriptionsHandler"))();this.$ComposerXVideoUploadDialog1=s;s.addSubscriptions(c("Arbiter").subscribe("videoUpload/started",function(t){this.setState({stage:"editing",videoID:null})}.bind(this)),c("Arbiter").subscribe("videoUpload/complete",function(t,u){if(this.props.onComplete)this.props.onComplete(u.videoID);var v=this.props.showProcessingDialog&&(!this.props.canShowOptimisticPost||!c("OptimisticVideoPostUtils").shouldShowOptimisticPost(u));this.setState({stage:"finished",videoID:u.videoID,shouldShowVideoUploadProcessingDialog:v,shouldShowNewEditDialog:!!u.shouldShowNewEditDialog,pageID:u.pageID,isSecretVideo:u.isSecret,shouldShowVideoLibrary:!!u.shouldShowVideoLibrary})}.bind(this)),c("Arbiter").subscribe("videoUpload/showThrobber",function(t,u){if(this.props.composerID===u.composerID)this.setState({showThrobber:true})}.bind(this)),c("Arbiter").subscribe("videoUpload/hideThrobber",function(t,u){if(this.props.composerID===u.composerID)this.setState({showThrobber:false})}.bind(this)));if(this.props.showDialogCancelButton)this.$ComposerXVideoUploadDialog3=c("DOM").find(c("ReactDOM").findDOMNode(this.props.composer),"._306")};r.prototype.componentWillUnmount=function(){"use strict";if(this.$ComposerXVideoUploadDialog1)this.$ComposerXVideoUploadDialog1.release()};r.prototype.$ComposerXVideoUploadDialog4=function(event){"use strict";new(c("VideoComposerDialogUITypedLogger"))().setEvent(event).setActorID(this.state.pageID).setComposerDialogVersion(c("VideoComposerDialogVersion").V1).setComposerEntryPoint(this.props.composerEntryPointRef).setDialogMode(c("VideoComposerDialogMode").VIDEO_UPLOAD).log()};r.prototype.renderLayers=function(){"use strict";__p&&__p();if(this.state.stage=="finished"){if(!this.state.shouldShowVideoUploadProcessingDialog){this.onDone();return null}return c("React").createElement(c("VideoUploadProcessingDialog.react"),{videoID:this.state.videoID,onClose:this.onDone,show:true,shouldShowNewEditDialog:this.state.shouldShowNewEditDialog,pageID:this.state.pageID,isReferenceVideo:this.props.isReferenceVideo,isSecretVideo:this.state.isSecretVideo,shouldShowVideoLibrary:this.state.shouldShowVideoLibrary,key:"dialog"})}else{var s;if(this.props.isReferenceVideo)s=k._("Add Reference File");else if(this.props.isProfileVideo)s=k._("Create Profile Video");else if(this.props.isPageTrailer)s=k._("Add Trailer");else if(this.state.isEpisode)s=k._("Upload Episode");else s=k._("Upload Video");var t=null;if(!this.props.showDialogCancelButton)t=c("React").createElement(c("XUICloseButton.react"),{className:"_51-t",onClick:this.onComposerDialogClose,"data-testid":c("PublishingToolsWebdriverTestDataIDs").VIDEO_UPLOAD_DIALOG_CLOSE_BUTTON});var u=c("getViewportDimensions")().height>q?100:30;return c("React").createElement(c("XUIDialog.react"),{shown:true,layerHideOnBlur:false,width:this.props.compactMode?p:o,fixedTopPosition:u,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},s,c("React").createElement("div",{className:"_51-u"},this.renderThrobber(),t)),c("React").createElement(c("XUIDialogBody.react"),{useCustomPadding:true},c("React").createElement(c("DOMContainer.react"),{onClick:this.onComposerClick},this.props.composer)))}};r.prototype.render=function(){"use strict";var s;if(this.state.showLeaveConfirmationDialog)s=c("React").createElement(c("VideoUploadLeaveConfirmationDialog.react"),{isProfileVideo:this.props.isProfileVideo,onContinue:this.onContinuePostingClick,onCancel:this.onCancelPostingClick});return c("React").createElement("div",null,s,this.renderLayers())};r.propTypes={composer:n.object.isRequired,composerID:n.string.isRequired,canShowOptimisticPost:n.bool,showProcessingDialog:n.bool,onCancel:n.func,onComplete:n.func,onDone:n.func,compactMode:n.bool,isReferenceVideo:n.bool,isProfileVideo:n.bool,isPageTrailer:n.bool};r.defaultProps={canShowOptimisticPost:false,showProcessingDialog:true,compactMode:false,isReferenceVideo:false,isProfileVideo:false};f.exports=c("FluxContainer").create(r)}),null);
__d("ComposerVideoUploadSphericalGuidePointCarouselItem.react",["cx","Image.react","React","ShimButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=1e3,l=60,m=60,n=m*l*k,o=l*k,p=function p(r){r=Math.ceil(r/k)*k;var s=Math.floor(r/n),t=Math.floor(r/o)%m,u=Math.floor(r/k)%l,v=s>0?""+s:"",w=s>0?":"+(t<10?"0":"")+t:""+t,x=":"+(u<10?"0":"")+u;return v+w+x};i=babelHelpers.inherits(q,c("React").PureComponent);j=i&&i.prototype;q.prototype.render=function(){var r=this.props,s=r.isSelected,t=r.thumbnailURI,u=r.timestamp,v=r.isEditingKeyframe,w=r.isSelectedForDeletion,x=void 0;if(u===0)x=null;else if(w)x=c("React").createElement("div",{className:"_66xo"});else x=c("React").createElement("div",{className:"_66xp"});var y=76,z=76,A=t?c("React").createElement(c("Image.react"),{className:s&&v?"_66xq":"",width:z,height:y,src:t}):c("React").createElement("div",{className:"_66xr"});return c("React").createElement(c("ShimButton.react"),{className:"_66xs"+(s?" _66xt":"")+(this.props.timestamp===0?" _66xu":""),onClick:function(B){return this.$ComposerVideoUploadSphericalGuidePointCarouselItem1(B)}.bind(this)},A,c("React").createElement("div",{className:"_66xv"},p(u)),x)};q.prototype.$ComposerVideoUploadSphericalGuidePointCarouselItem1=function(event){event.preventDefault();if(this.props.timestamp!==0)this.props.onSelectForDeletion()};function q(){i.apply(this,arguments)}f.exports=q}),null);
__d("ComposerVideoUploadSphericalGuidePointCarousel.react",["ix","cx","ComposerVideoUploadSphericalGuidePointCarouselItem.react","Image.react","Locale","React","ShimButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=8,m=80,n=15,o=32,p=16;j=babelHelpers.inherits(q,c("React").PureComponent);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.state={itemOffsetIndex:0,justifyRight:false},s}q.prototype.$ComposerVideoUploadSphericalGuidePointCarousel1=function(r){return function(){this.setState({itemOffsetIndex:this.state.itemOffsetIndex+r,justifyRight:r>0})}.bind(this)};q.prototype.$ComposerVideoUploadSphericalGuidePointCarousel2=function(r,s,t){if(r===t-l)this.setState({itemOffsetIndex:Math.max(r,0),justifyRight:true});else if(r<s)this.setState({itemOffsetIndex:Math.max(r,0),justifyRight:false});else if(r>s+l-1)this.setState({itemOffsetIndex:Math.min(r-l+1,t-1),justifyRight:true})};q.prototype.UNSAFE_componentWillReceiveProps=function(r){__p&&__p();var s=this.state.itemOffsetIndex,t=r.items,u=this.props.items,v=t.size;if(v>=u.size){var w=u.findIndex(function(y){return y.isSelected}),x=t.findIndex(function(y){return y.isSelected});if(x>=0&&x!==w)this.$ComposerVideoUploadSphericalGuidePointCarousel2(x,s,v)}else if(v<this.props.items.size)if(s>r.items.size-l)this.$ComposerVideoUploadSphericalGuidePointCarousel2(v-l,s,v);else if(v<l)this.$ComposerVideoUploadSphericalGuidePointCarousel2(0,s,v)};q.prototype.render=function(){__p&&__p();var r=this.props.items,s=this.state,t=s.itemOffsetIndex,u=s.justifyRight,v=r.map(function(F,G){var H=F.thumbnailURI,I=F.timestamp,J=F.isSelected,K=F.isSelectedForDeletion;return c("React").createElement(c("ComposerVideoUploadSphericalGuidePointCarouselItem.react"),{isSelected:J,isSelectedForDeletion:K,thumbnailURI:H,timestamp:I,key:G,onSelectForDeletion:function(){return this.props.onItemSelectedForDeletion(I)}.bind(this),isEditingKeyframe:this.props.isEditingKeyframe})}.bind(this)),w=v.size,x=w>l,y=void 0,z=void 0,A=void 0,B=void 0;A=h("124201");B=h("124211");if(c("Locale").isRTL()){var C=[B,A];A=C[0];B=C[1]}var D=0;if(x){if(t>0){D++;y=c("React").createElement(c("ShimButton.react"),{className:"_66xh",onClick:this.$ComposerVideoUploadSphericalGuidePointCarousel1(-1)},c("React").createElement("div",{className:"_66xi"},c("React").createElement(c("Image.react"),{src:A})))}if(t<w-l){D++;z=c("React").createElement(c("ShimButton.react"),{className:"_66xh",onClick:this.$ComposerVideoUploadSphericalGuidePointCarousel1(1)},c("React").createElement("div",{className:"_66xi"},c("React").createElement(c("Image.react"),{src:B})))}}var E=t*m;if(D>0)E+=E>0?u?o:n:0;if(D>1)E+=u?p:0;E*=c("Locale").isRTL()?1:-1;return c("React").createElement("div",{className:"_66xj"},y,c("React").createElement("div",{className:"_66xk"+(D===1?" _66xl":"")+(D===2?" _66xm":"")},c("React").createElement("div",{className:"_66xn",style:{transform:"translateX("+E+"px)"}},v.toJS())),z)};f.exports=q}),null);
__d("ComposerVideoUploadSphericalMediaToolkitButton.react",["cx","React","Image.react","ShimButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("ShimButton.react"),{className:c("joinClasses")(this.props.className,"_h6s"),onClick:this.props.onClick},c("React").createElement(c("Image.react"),{className:"_2k7z",src:this.props.thumbnail}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalGuideSection.react",["ix","cx","ComposerVideoUploadSphericalGuidePointCarousel.react","ComposerVideoUploadSphericalMediaToolkitButton.react","React","XUICardSection.react","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$ComposerVideoUploadSphericalGuideSection2=function(r){if(this.$ComposerVideoUploadSphericalGuideSection1()<1)return;r.preventDefault();this.props.onPointsOfInterestRemoved()}.bind(this),n}l.prototype.render=function(){var m=this.props.keyframes,n=this.$ComposerVideoUploadSphericalGuideSection1();return c("React").createElement("div",{className:"_4zkp"},c("React").createElement(c("XUICardSection.react"),{className:"_4zkt"},c("React").createElement("div",{className:"_4zku"},c("React").createElement(c("ComposerVideoUploadSphericalGuidePointCarousel.react"),{isEditingKeyframe:this.props.isEditingKeyframe,items:m,onItemSelectedForDeletion:this.props.onToggleGuideKeyframeForDeletion}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_1yxe"+(n<1?" _1yxf":""),thumbnail:n<1?h("396629"):h("402967"),onClick:this.$ComposerVideoUploadSphericalGuideSection2}))))};l.prototype.$ComposerVideoUploadSphericalGuideSection1=function(){return this.props.keyframes.reduce(function(m,n){return m+(n.isSelectedForDeletion?1:0)},0)};f.exports=l}),null);
__d("ComposerVideoUploadSphericalEvents",[],(function a(b,c,d,e,f,g){"use strict";f.exports={GUIDE:{KEYFRAMES_UPDATE:"ComposerVideoUploadSphericalVideoPreviewGuide/keyframesUpdate",CURRENT_POI_UPDATE:"ComposerVideoUploadSphericalVideoPreviewGuide/currentPOIUpdate"},PREVIEW:{INITAL_VIEWPORT_UPDATE:"ComposerVideoUploadSphericalVideoPreview/initialViewportUpdate",GUIDE_KEYFRAMES_UPDATE:"ComposerVideoUploadSphericalVideoPreview/guideKeyframesUpdate",GUIDE_STATE_UPDATE:"ComposerVideoUploadSphericalVideoPreview/guideStateUpdate",GUIDE_VISIBILITY_UPDATE:"ComposerVideoUploadSphericalVideoPreview/guideVisibilityUpdate",KEYFRAME_EDITING_STATE_UPDATE:"ComposerVideoUploadSphericalVideoPreview/keyframeEditingStateUpdate",FIELD_OF_VIEW_UPDATE:"ComposerVideoUploadSphericalVideoPreview/fieldOfViewUpdate",MOBILE_PREVIEW_UPDATE:"ComposerVideoUploadSphericalVideoPreview/mobilePreviewUpdate"},OVERLAY_BUTTONS:{ADD_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/addPOI",SAVE_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/savePOI",EDIT_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/editPOI",REMOVE_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/removePOI",CLEAR_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/clearPOI",CREATE_THUMBNAIL:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/createThumbnail"},VIEWPORT_CONTROL:{VIEWPORT_UPDATE:"ComposerVideoUploadSphericalVideoPreviewViewportControl/viewportUpdate",FIELD_OF_VIEW_UPDATE:"ComposerVideoUploadSphericalVideoPreviewViewportControl/fieldOfViewUpdate"},MEDIA_TOOLKIT:{SAVE_HOTSPOT:"composerVideoUploadSphericalMediaToolkit/saveHotspot"}}}),null);
__d("ComposerVideoUploadSphericalAddAnnotationLayer.react",["ix","cx","ComposerVideoUploadSphericalMediaToolkitButton.react","React","asset"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){"use strict";return c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_2ysg _4wni",thumbnail:h("439005"),onClick:this.props.handleAddButtonClick})};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadSphericalHotspotSaveNux.react",["fbt","React","XUIAmbientNUX.react","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){return c("React").createElement(c("XUIAmbientNUX.react"),{customwidth:150,contextRef:j.contextRef,position:"right",shown:j.showNux,width:"custom",onCloseButtonClick:j.handleNuxClosed},c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},h._("Click outside the annotation to save")))}f.exports=i}),null);
__d("SphericalVideoMediaToolkitAlignments",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right"})}),null);
__d("SphericalVideoMediaToolkitBackgrounds",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BLACK:"black",WHITE:"white",NONE:"none"})}),null);
__d("SphericalVideoMediaToolkitColors",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BLACK:"black",BLUE:"blue",GREEN:"green",PURPLE:"purple",ROSE:"rose",WHITE:"white",YELLOW:"yellow"})}),null);
__d("SphericalVideoMediaToolkitFontSizes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SMALL:"small",MEDIUM:"medium",LARGE:"large"})}),null);
__d("SphericalVideoMediaToolkitFontWeights",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIGHT:"light",BOLD:"bold"})}),null);
__d("SphericalVideoMediaToolkitTextStyles",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALIGNMENT:"alignment",BACKGROUND:"backgroundColor",COLOR:"color",FONT_SIZE:"fontSize",FONT_WEIGHT:"fontWeight"})}),null);
__d("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles",["SphericalVideoMediaToolkitAlignments","SphericalVideoMediaToolkitBackgrounds","SphericalVideoMediaToolkitColors","SphericalVideoMediaToolkitFontSizes","SphericalVideoMediaToolkitFontWeights","SphericalVideoMediaToolkitTextStyles","SphericalVideoHotspotTextAlignment"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;f.exports=(m={},m[c("SphericalVideoMediaToolkitTextStyles").COLOR]=(h={},h[c("SphericalVideoMediaToolkitColors").BLACK]="#000000",h[c("SphericalVideoMediaToolkitColors").BLUE]="#1C4F8C",h[c("SphericalVideoMediaToolkitColors").GREEN]="#6BCEBB",h[c("SphericalVideoMediaToolkitColors").PURPLE]="#8C72CB",h[c("SphericalVideoMediaToolkitColors").ROSE]="#F2B8AD",h[c("SphericalVideoMediaToolkitColors").WHITE]="#FFFFFF",h[c("SphericalVideoMediaToolkitColors").YELLOW]="#FCD872",h),m[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE]=(i={},i[c("SphericalVideoMediaToolkitFontSizes").SMALL]=12,i[c("SphericalVideoMediaToolkitFontSizes").MEDIUM]=16,i[c("SphericalVideoMediaToolkitFontSizes").LARGE]=20,i),m[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT]=(j={},j[c("SphericalVideoMediaToolkitAlignments").LEFT]=c("SphericalVideoHotspotTextAlignment").LEFT,j[c("SphericalVideoMediaToolkitAlignments").CENTER]=c("SphericalVideoHotspotTextAlignment").CENTER,j[c("SphericalVideoMediaToolkitAlignments").RIGHT]=c("SphericalVideoHotspotTextAlignment").RIGHT,j),m[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND]=(k={},k[c("SphericalVideoMediaToolkitBackgrounds").BLACK]="#000000",k[c("SphericalVideoMediaToolkitBackgrounds").NONE]="none",k[c("SphericalVideoMediaToolkitBackgrounds").WHITE]="#FFFFFF",k),m[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT]=(l={},l[c("SphericalVideoMediaToolkitFontWeights").LIGHT]="light",l[c("SphericalVideoMediaToolkitFontWeights").BOLD]="bold",l),m)}),null);
__d("SphericalHotspotAnimations",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({DISSOLVE:"",HARD_CUT:""});f.exports=h}),null);
__d("SphericalHotspotDurations",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({FIVE_SEC:"",TEN_SEC:"",FULL_VIDEO:""});f.exports=h}),null);
__d("SphericalVideoHotspotActionTrigger",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SINGLE_CLICK:"single_click"})}),null);
__d("ComposerVideoUploadSphericalMediaToolkitConstants",["fbt","SphericalVideoMediaToolkitAlignments","SphericalVideoMediaToolkitBackgrounds","SphericalVideoMediaToolkitColors","SphericalVideoMediaToolkitFontSizes","SphericalVideoMediaToolkitFontWeights","SphericalVideoMediaToolkitTextStyles","SphericalHotspotAnimations","SphericalHotspotDurations","SphericalVideoHotspotActionTrigger","SphericalVideoHotspotAnimation","ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles"],(function a(b,c,d,e,f,g,h){f.exports={BOX_SHADOW:"rgba(0, 0, 0, .1) 0 3px 5px",DEFAULT_ALIGNMENT:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT][c("SphericalVideoMediaToolkitAlignments").CENTER],DEFAULT_ANIMATION:c("SphericalVideoHotspotAnimation").NO_ANIM,DEFAULT_BACKGROUND_COLOR:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND][c("SphericalVideoMediaToolkitBackgrounds").WHITE],DEFAULT_COLOR:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").COLOR][c("SphericalVideoMediaToolkitColors").BLUE],DEFAULT_DURATION_MS:5e3,DEFAULT_FONT_FAMILY:"Montserrat",DEFAULT_FONT_SIZE:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE][c("SphericalVideoMediaToolkitFontSizes").MEDIUM],DEFAULT_FONT_WEIGHT:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT][c("SphericalVideoMediaToolkitFontWeights").LIGHT],DEFAULT_HEIGHT_FOR_IMAGE:50,DEFAULT_HEIGHT_FOR_TEXT:34,DEFAULT_ID:"default_id",DEFAULT_IMAGE_DATA:"",DEFAULT_LINE_HEIGHT:1.3,DEFAULT_LINK_ACTION_URL:"",DEFAULT_LINK_ACTION_TRIGGER:c("SphericalVideoHotspotActionTrigger").SINGLE_CLICK,DEFAULT_PADDING:8,DEFAULT_PITCH:0,DEFAULT_START_TIME:0,DEFAULT_TEXT:"",DEFAULT_WIDTH_FOR_IMAGE:50,DEFAULT_WIDTH_FOR_TEXT:200,DEFAULT_YAW:0,EDITING_BACKGROUND_COLOR:{"#000000":"rgba(0, 0, 0, .5)","#FFFFFF":"rgba(255, 255, 255, .8)",none:"rgba(255, 255, 255, .4)"},HOTSPOT_ENTRY_NUX_ID:5555,HOTSPOT_SAVE_NUX_ID:5556,IMAGE_BAR_PREVIEW_HEIGHT_PX:46,IMAGE_BAR_PREVIEW_WIDTH_PX:46,IMAGE_HOTSPOT_DEFAULT_MAX_HEIGHT_PX:100,IMAGE_HOTSPOT_DEFAULT_MAX_WIDTH_PX:100,IMAGE_HOTSPOT_MAX_FILE_SIZE:2621440,IMAGE_HOTSPOT_MAX_HEIGHT_PX:150,IMAGE_HOTSPOT_MAX_WIDTH_PX:150,IMAGE_HOTSPOT_MIN_HEIGHT_PX:25,IMAGE_HOTSPOT_MIN_WIDTH_PX:25,SHARED_OPTION_DEFAULT_ANIMATION:c("SphericalHotspotAnimations").HARD_CUT,SHARED_OPTION_DEFAULT_DURATION:c("SphericalHotspotDurations").FIVE_SEC,SUPPORTED_CHARS_REGEX:/^[\u0020-\u007e\u00ax-\u00ff\u0100-\u017f\u0180-\u024f\u20ac\u2018\u2019\u201c\u201d\t\n\r]*$/,SUPPORTED_IMAGE_FILE_EXTENSIONS:["png","jpg","jpeg"],TEXT_BAR_DEFAULT_ALIGNMENT:c("SphericalVideoMediaToolkitAlignments").CENTER,TEXT_BAR_DEFAULT_BACKGROUND:c("SphericalVideoMediaToolkitBackgrounds").WHITE,TEXT_BAR_DEFAULT_COLOR:c("SphericalVideoMediaToolkitColors").BLUE,TEXT_BAR_DEFAULT_FONT_SIZE:c("SphericalVideoMediaToolkitFontSizes").MEDIUM,TEXT_BAR_DEFAULT_FONT_WEIGHT:c("SphericalVideoMediaToolkitFontWeights").LIGHT,TEXTAREA_MAX_CHARS:50,TEXTAREA_MIN_ROWS:1,TEXTAREA_PLACEHOLDER:h._("Type something")}}),null);
__d("ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow.react",["cx","invariant","ComposerVideoUploadSphericalMediaToolkitConstants","React","ReactDOM","TextAreaControl"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.componentDidMount=function(){this.$ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow1||i(0);this.props.setTextareaRef(this.$ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow1);var m=new(c("TextAreaControl"))(c("ReactDOM").findDOMNode(this.$ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow1)).setAutogrow(true);m.resetHeight();this.props.handleTextareaMounted()};l.prototype.render=function(){return c("React").createElement("textarea",{className:"_2cvs",defaultValue:this.props.defaultValue,value:this.props.value,maxLength:this.props.maxLength,placeholder:this.props.placeholder,ref:function(m){return this.$ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow1=m}.bind(this),rows:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXTAREA_MIN_ROWS,onChange:this.props.onChange})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadSphericalMediaToolkitStyleBarImages",["ix","SphericalVideoMediaToolkitAlignments","SphericalVideoMediaToolkitBackgrounds","SphericalVideoMediaToolkitColors","SphericalVideoMediaToolkitFontSizes","SphericalVideoMediaToolkitFontWeights","SphericalVideoMediaToolkitTextStyles"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n;f.exports=(n={},n[c("SphericalVideoMediaToolkitTextStyles").COLOR]=(i={},i[c("SphericalVideoMediaToolkitColors").BLACK]=h("403017"),i[c("SphericalVideoMediaToolkitColors").BLUE]=h("403018"),i[c("SphericalVideoMediaToolkitColors").GREEN]=h("403019"),i[c("SphericalVideoMediaToolkitColors").PURPLE]=h("403020"),i[c("SphericalVideoMediaToolkitColors").ROSE]=h("403021"),i[c("SphericalVideoMediaToolkitColors").WHITE]=h("403022"),i[c("SphericalVideoMediaToolkitColors").YELLOW]=h("403023"),i),n[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE]=(j={},j[c("SphericalVideoMediaToolkitFontSizes").SMALL]=h("403024"),j[c("SphericalVideoMediaToolkitFontSizes").MEDIUM]=h("403024"),j[c("SphericalVideoMediaToolkitFontSizes").LARGE]=h("403024"),j),n[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT]=(k={},k[c("SphericalVideoMediaToolkitAlignments").LEFT]=h("403011"),k[c("SphericalVideoMediaToolkitAlignments").CENTER]=h("403010"),k[c("SphericalVideoMediaToolkitAlignments").RIGHT]=h("403012"),k),n[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND]=(l={},l[c("SphericalVideoMediaToolkitBackgrounds").BLACK]=h("403013"),l[c("SphericalVideoMediaToolkitBackgrounds").NONE]=h("403014"),l[c("SphericalVideoMediaToolkitBackgrounds").WHITE]=h("403015"),l),n[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT]=(m={},m[c("SphericalVideoMediaToolkitFontWeights").LIGHT]=h("403027"),m[c("SphericalVideoMediaToolkitFontWeights").BOLD]=h("403016"),m),n)}),null);
__d("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react",["cx","Image.react","React","ShimButton.react","ComposerVideoUploadSphericalMediaToolkitStyleBarImages"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),{className:"_27mk",onClick:function(){return this.props.handleClick(this.props.textStyleType)}.bind(this)},c("React").createElement(c("Image.react"),{className:"_qon",src:c("ComposerVideoUploadSphericalMediaToolkitStyleBarImages")[this.props.textStyleType][this.props.textStyleValue]}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBar.react",["cx","ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react","FlexLayout.react","React","SphericalVideoMediaToolkitTextStyles"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("FlexLayout.react"),{className:"_27mj _4pf6",align:"center",justify:"all"},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").COLOR,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").COLOR],handleClick:this.props.handleButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE],handleClick:this.props.handleButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT],handleClick:this.props.handleButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT],handleClick:this.props.handleButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").BACKGROUND,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND],handleClick:this.props.handleButtonClick}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("SphericalHotspotSharedOptions",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({DURATION:"",ANIMATION:""});f.exports=h}),null);
__d("ComposerVideoUploadSphericalMediaToolkitSharedOptions",["SphericalHotspotAnimations","SphericalHotspotDurations","SphericalHotspotSharedOptions"],(function a(b,c,d,e,f,g){"use strict";var h;f.exports=(h={},h[c("SphericalHotspotSharedOptions").DURATION]=[c("SphericalHotspotDurations").FIVE_SEC,c("SphericalHotspotDurations").TEN_SEC,c("SphericalHotspotDurations").FULL_VIDEO],h[c("SphericalHotspotSharedOptions").ANIMATION]=[c("SphericalHotspotAnimations").DISSOLVE,c("SphericalHotspotAnimations").HARD_CUT],h)}),null);
__d("ImageResizeHandleCorners",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({NW:"",NE:"",SW:"",SE:""});f.exports=h}),null);
__d("degToRad",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i*Math.PI/180}f.exports=h}),null);
/**
 * License: https://www.facebook.com/legal/license/sp9U-49Yqrm/
 */
__d("gl-matrix-2.4.0",[],(function aa(ba,ca,da,ea,fa,a){"use strict";__p&&__p();var ga={},ha={exports:ga},ia;function ja(){__p&&__p();(function b(na,c){if(typeof ga==="object"&&typeof ha==="object")ha.exports=c();else if(typeof ia==="function"&&ia.amd)ia([],c);else{var d=c();for(var e in d)(typeof ga==="object"?ga:na)[e]=d[e]}})(this,function(){__p&&__p();return function(b){__p&&__p();var na={};function c(d){if(na[d])return na[d].exports;var fa=na[d]={i:d,l:false,exports:{}};b[d].call(fa.exports,fa,fa.exports,c);fa.l=true;return fa.exports}c.m=b;c.c=na;c.d=function(a,d,e){if(!c.o(a,d))Object.defineProperty(a,d,{configurable:false,enumerable:true,get:e})};c.n=function(fa){var d=fa&&fa.__esModule?function e(){return fa["default"]}:function e(){return fa};c.d(d,"a",d);return d};c.o=function(d,e){return Object.prototype.hasOwnProperty.call(d,e)};c.p="";return c(c.s=4)}([function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.setMatrixArrayType=e;a.toRadian=pa;a.equals=qa;var na=a.EPSILON=1e-6,c=a.ARRAY_TYPE=typeof Float32Array!=="undefined"?Float32Array:Array,d=a.RANDOM=Math.random;function e(f){a.ARRAY_TYPE=c=f}var oa=Math.PI/180;function pa(f){return f*oa}function qa(f,ra){return Math.abs(f-ra)<=na*Math.max(1,Math.abs(f),Math.abs(ra))}},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.sub=a.mul=undefined;a.create=e;a.fromMat4=oa;a.clone=pa;a.copy=qa;a.fromValues=f;a.set=ra;a.identity=sa;a.transpose=ta;a.invert=ua;a.adjoint=va;a.determinant=wa;a.multiply=xa;a.translate=g;a.rotate=ya;a.scale=h;a.fromTranslation=i;a.fromRotation=za;a.fromScaling=Aa;a.fromMat2d=Ba;a.fromQuat=Ca;a.normalFromMat4=Da;a.projection=Ea;a.str=Fa;a.frob=Ga;a.add=Ha;a.subtract=j;a.multiplyScalar=k;a.multiplyScalarAndAdd=l;a.exactEquals=m;a.equals=n;var na=b(0),c=d(na);function d(q){__p&&__p();if(q&&q.__esModule)return q;else{var r={};if(q!=null)for(var s in q)if(Object.prototype.hasOwnProperty.call(q,s))r[s]=q[s];r["default"]=q;return r}}function e(){__p&&__p();var q=new c.ARRAY_TYPE(9);q[0]=1;q[1]=0;q[2]=0;q[3]=0;q[4]=1;q[5]=0;q[6]=0;q[7]=0;q[8]=1;return q}function oa(q,r){__p&&__p();q[0]=r[0];q[1]=r[1];q[2]=r[2];q[3]=r[4];q[4]=r[5];q[5]=r[6];q[6]=r[8];q[7]=r[9];q[8]=r[10];return q}function pa(q){__p&&__p();var r=new c.ARRAY_TYPE(9);r[0]=q[0];r[1]=q[1];r[2]=q[2];r[3]=q[3];r[4]=q[4];r[5]=q[5];r[6]=q[6];r[7]=q[7];r[8]=q[8];return r}function qa(q,r){__p&&__p();q[0]=r[0];q[1]=r[1];q[2]=r[2];q[3]=r[3];q[4]=r[4];q[5]=r[5];q[6]=r[6];q[7]=r[7];q[8]=r[8];return q}function f(q,r,s,t,u,v,w,x,y){__p&&__p();var z=new c.ARRAY_TYPE(9);z[0]=q;z[1]=r;z[2]=s;z[3]=t;z[4]=u;z[5]=v;z[6]=w;z[7]=x;z[8]=y;return z}function ra(q,r,s,t,u,v,w,x,y,z){__p&&__p();q[0]=r;q[1]=s;q[2]=t;q[3]=u;q[4]=v;q[5]=w;q[6]=x;q[7]=y;q[8]=z;return q}function sa(q){__p&&__p();q[0]=1;q[1]=0;q[2]=0;q[3]=0;q[4]=1;q[5]=0;q[6]=0;q[7]=0;q[8]=1;return q}function ta(q,r){__p&&__p();if(q===r){var s=r[1],t=r[2],u=r[5];q[1]=r[3];q[2]=r[6];q[3]=s;q[5]=r[7];q[6]=t;q[7]=u}else{q[0]=r[0];q[1]=r[3];q[2]=r[6];q[3]=r[1];q[4]=r[4];q[5]=r[7];q[6]=r[2];q[7]=r[5];q[8]=r[8]}return q}function ua(q,r){__p&&__p();var s=r[0],t=r[1],u=r[2],v=r[3],w=r[4],x=r[5],y=r[6],z=r[7],A=r[8],B=A*w-x*z,C=-A*v+x*y,D=z*v-w*y,E=s*B+t*C+u*D;if(!E)return null;E=1/E;q[0]=B*E;q[1]=(-A*t+u*z)*E;q[2]=(x*t-u*w)*E;q[3]=C*E;q[4]=(A*s-u*y)*E;q[5]=(-x*s+u*v)*E;q[6]=D*E;q[7]=(-z*s+t*y)*E;q[8]=(w*s-t*v)*E;return q}function va(q,r){__p&&__p();var s=r[0],t=r[1],u=r[2],v=r[3],w=r[4],x=r[5],y=r[6],z=r[7],A=r[8];q[0]=w*A-x*z;q[1]=u*z-t*A;q[2]=t*x-u*w;q[3]=x*y-v*A;q[4]=s*A-u*y;q[5]=u*v-s*x;q[6]=v*z-w*y;q[7]=t*y-s*z;q[8]=s*w-t*v;return q}function wa(q){var r=q[0],s=q[1],t=q[2],u=q[3],v=q[4],w=q[5],x=q[6],y=q[7],z=q[8];return r*(z*v-w*y)+s*(-z*u+w*x)+t*(y*u-v*x)}function xa(q,r,s){__p&&__p();var t=r[0],u=r[1],v=r[2],w=r[3],x=r[4],y=r[5],z=r[6],A=r[7],B=r[8],C=s[0],D=s[1],E=s[2],F=s[3],G=s[4],H=s[5],I=s[6],J=s[7],K=s[8];q[0]=C*t+D*w+E*z;q[1]=C*u+D*x+E*A;q[2]=C*v+D*y+E*B;q[3]=F*t+G*w+H*z;q[4]=F*u+G*x+H*A;q[5]=F*v+G*y+H*B;q[6]=I*t+J*w+K*z;q[7]=I*u+J*x+K*A;q[8]=I*v+J*y+K*B;return q}function g(q,r,s){__p&&__p();var t=r[0],u=r[1],v=r[2],w=r[3],x=r[4],y=r[5],z=r[6],A=r[7],B=r[8],C=s[0],D=s[1];q[0]=t;q[1]=u;q[2]=v;q[3]=w;q[4]=x;q[5]=y;q[6]=C*t+D*w+z;q[7]=C*u+D*x+A;q[8]=C*v+D*y+B;return q}function ya(q,r,s){__p&&__p();var t=r[0],u=r[1],v=r[2],w=r[3],x=r[4],y=r[5],z=r[6],A=r[7],B=r[8],C=Math.sin(s),D=Math.cos(s);q[0]=D*t+C*w;q[1]=D*u+C*x;q[2]=D*v+C*y;q[3]=D*w-C*t;q[4]=D*x-C*u;q[5]=D*y-C*v;q[6]=z;q[7]=A;q[8]=B;return q}function h(q,r,s){__p&&__p();var t=s[0],u=s[1];q[0]=t*r[0];q[1]=t*r[1];q[2]=t*r[2];q[3]=u*r[3];q[4]=u*r[4];q[5]=u*r[5];q[6]=r[6];q[7]=r[7];q[8]=r[8];return q}function i(q,r){__p&&__p();q[0]=1;q[1]=0;q[2]=0;q[3]=0;q[4]=1;q[5]=0;q[6]=r[0];q[7]=r[1];q[8]=1;return q}function za(q,r){__p&&__p();var s=Math.sin(r),t=Math.cos(r);q[0]=t;q[1]=s;q[2]=0;q[3]=-s;q[4]=t;q[5]=0;q[6]=0;q[7]=0;q[8]=1;return q}function Aa(q,r){__p&&__p();q[0]=r[0];q[1]=0;q[2]=0;q[3]=0;q[4]=r[1];q[5]=0;q[6]=0;q[7]=0;q[8]=1;return q}function Ba(q,r){__p&&__p();q[0]=r[0];q[1]=r[1];q[2]=0;q[3]=r[2];q[4]=r[3];q[5]=0;q[6]=r[4];q[7]=r[5];q[8]=1;return q}function Ca(q,r){__p&&__p();var s=r[0],t=r[1],u=r[2],v=r[3],w=s+s,x=t+t,y=u+u,z=s*w,A=t*w,B=t*x,C=u*w,D=u*x,E=u*y,F=v*w,G=v*x,H=v*y;q[0]=1-B-E;q[3]=A-H;q[6]=C+G;q[1]=A+H;q[4]=1-z-E;q[7]=D-F;q[2]=C-G;q[5]=D+F;q[8]=1-z-B;return q}function Da(q,r){__p&&__p();var s=r[0],t=r[1],u=r[2],v=r[3],w=r[4],x=r[5],y=r[6],z=r[7],A=r[8],B=r[9],C=r[10],D=r[11],E=r[12],F=r[13],G=r[14],H=r[15],I=s*x-t*w,J=s*y-u*w,K=s*z-v*w,L=t*y-u*x,M=t*z-v*x,N=u*z-v*y,O=A*F-B*E,P=A*G-C*E,Q=A*H-D*E,R=B*G-C*F,S=B*H-D*F,T=C*H-D*G,U=I*T-J*S+K*R+L*Q-M*P+N*O;if(!U)return null;U=1/U;q[0]=(x*T-y*S+z*R)*U;q[1]=(y*Q-w*T-z*P)*U;q[2]=(w*S-x*Q+z*O)*U;q[3]=(u*S-t*T-v*R)*U;q[4]=(s*T-u*Q+v*P)*U;q[5]=(t*Q-s*S-v*O)*U;q[6]=(F*N-G*M+H*L)*U;q[7]=(G*K-E*N-H*J)*U;q[8]=(E*M-F*K+H*I)*U;return q}function Ea(q,r,s){__p&&__p();q[0]=2/r;q[1]=0;q[2]=0;q[3]=0;q[4]=-2/s;q[5]=0;q[6]=-1;q[7]=1;q[8]=1;return q}function Fa(q){return"mat3("+q[0]+", "+q[1]+", "+q[2]+", "+q[3]+", "+q[4]+", "+q[5]+", "+q[6]+", "+q[7]+", "+q[8]+")"}function Ga(q){return Math.sqrt(Math.pow(q[0],2)+Math.pow(q[1],2)+Math.pow(q[2],2)+Math.pow(q[3],2)+Math.pow(q[4],2)+Math.pow(q[5],2)+Math.pow(q[6],2)+Math.pow(q[7],2)+Math.pow(q[8],2))}function Ha(q,r,s){__p&&__p();q[0]=r[0]+s[0];q[1]=r[1]+s[1];q[2]=r[2]+s[2];q[3]=r[3]+s[3];q[4]=r[4]+s[4];q[5]=r[5]+s[5];q[6]=r[6]+s[6];q[7]=r[7]+s[7];q[8]=r[8]+s[8];return q}function j(q,r,s){__p&&__p();q[0]=r[0]-s[0];q[1]=r[1]-s[1];q[2]=r[2]-s[2];q[3]=r[3]-s[3];q[4]=r[4]-s[4];q[5]=r[5]-s[5];q[6]=r[6]-s[6];q[7]=r[7]-s[7];q[8]=r[8]-s[8];return q}function k(q,r,s){__p&&__p();q[0]=r[0]*s;q[1]=r[1]*s;q[2]=r[2]*s;q[3]=r[3]*s;q[4]=r[4]*s;q[5]=r[5]*s;q[6]=r[6]*s;q[7]=r[7]*s;q[8]=r[8]*s;return q}function l(q,r,s,h){__p&&__p();q[0]=r[0]+s[0]*h;q[1]=r[1]+s[1]*h;q[2]=r[2]+s[2]*h;q[3]=r[3]+s[3]*h;q[4]=r[4]+s[4]*h;q[5]=r[5]+s[5]*h;q[6]=r[6]+s[6]*h;q[7]=r[7]+s[7]*h;q[8]=r[8]+s[8]*h;return q}function m(q,r){return q[0]===r[0]&&q[1]===r[1]&&q[2]===r[2]&&q[3]===r[3]&&q[4]===r[4]&&q[5]===r[5]&&q[6]===r[6]&&q[7]===r[7]&&q[8]===r[8]}function n(q,r){var s=q[0],t=q[1],u=q[2],v=q[3],w=q[4],x=q[5],y=q[6],z=q[7],A=q[8],B=r[0],C=r[1],D=r[2],E=r[3],F=r[4],G=r[5],H=r[6],I=r[7],J=r[8];return Math.abs(s-B)<=c.EPSILON*Math.max(1,Math.abs(s),Math.abs(B))&&Math.abs(t-C)<=c.EPSILON*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(u-D)<=c.EPSILON*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(v-E)<=c.EPSILON*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(w-F)<=c.EPSILON*Math.max(1,Math.abs(w),Math.abs(F))&&Math.abs(x-G)<=c.EPSILON*Math.max(1,Math.abs(x),Math.abs(G))&&Math.abs(y-H)<=c.EPSILON*Math.max(1,Math.abs(y),Math.abs(H))&&Math.abs(z-I)<=c.EPSILON*Math.max(1,Math.abs(z),Math.abs(I))&&Math.abs(A-J)<=c.EPSILON*Math.max(1,Math.abs(A),Math.abs(J))}var o=a.mul=xa,p=a.sub=j},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.forEach=a.sqrLen=a.len=a.sqrDist=a.dist=a.div=a.mul=a.sub=undefined;a.create=e;a.clone=oa;a.length=pa;a.fromValues=qa;a.copy=f;a.set=ra;a.add=sa;a.subtract=ta;a.multiply=ua;a.divide=va;a.ceil=wa;a.floor=xa;a.min=g;a.max=ya;a.round=h;a.scale=i;a.scaleAndAdd=za;a.distance=Aa;a.squaredDistance=Ba;a.squaredLength=Ca;a.negate=Da;a.inverse=Ea;a.normalize=Fa;a.dot=Ga;a.cross=Ha;a.lerp=j;a.hermite=k;a.bezier=l;a.random=m;a.transformMat4=n;a.transformMat3=o;a.transformQuat=p;a.rotateX=q;a.rotateY=r;a.rotateZ=s;a.angle=t;a.str=u;a.exactEquals=v;a.equals=w;var na=b(0),c=d(na);function d(F){__p&&__p();if(F&&F.__esModule)return F;else{var G={};if(F!=null)for(var H in F)if(Object.prototype.hasOwnProperty.call(F,H))G[H]=F[H];G["default"]=F;return G}}function e(){var F=new c.ARRAY_TYPE(3);F[0]=0;F[1]=0;F[2]=0;return F}function oa(F){var G=new c.ARRAY_TYPE(3);G[0]=F[0];G[1]=F[1];G[2]=F[2];return G}function pa(F){var G=F[0],H=F[1],I=F[2];return Math.sqrt(G*G+H*H+I*I)}function qa(F,G,H){var I=new c.ARRAY_TYPE(3);I[0]=F;I[1]=G;I[2]=H;return I}function f(F,G){F[0]=G[0];F[1]=G[1];F[2]=G[2];return F}function ra(F,G,H,I){F[0]=G;F[1]=H;F[2]=I;return F}function sa(F,G,H){F[0]=G[0]+H[0];F[1]=G[1]+H[1];F[2]=G[2]+H[2];return F}function ta(F,G,H){F[0]=G[0]-H[0];F[1]=G[1]-H[1];F[2]=G[2]-H[2];return F}function ua(F,G,H){F[0]=G[0]*H[0];F[1]=G[1]*H[1];F[2]=G[2]*H[2];return F}function va(F,G,H){F[0]=G[0]/H[0];F[1]=G[1]/H[1];F[2]=G[2]/H[2];return F}function wa(F,G){F[0]=Math.ceil(G[0]);F[1]=Math.ceil(G[1]);F[2]=Math.ceil(G[2]);return F}function xa(F,G){F[0]=Math.floor(G[0]);F[1]=Math.floor(G[1]);F[2]=Math.floor(G[2]);return F}function g(F,G,H){F[0]=Math.min(G[0],H[0]);F[1]=Math.min(G[1],H[1]);F[2]=Math.min(G[2],H[2]);return F}function ya(F,G,H){F[0]=Math.max(G[0],H[0]);F[1]=Math.max(G[1],H[1]);F[2]=Math.max(G[2],H[2]);return F}function h(F,G){F[0]=Math.round(G[0]);F[1]=Math.round(G[1]);F[2]=Math.round(G[2]);return F}function i(F,G,H){F[0]=G[0]*H;F[1]=G[1]*H;F[2]=G[2]*H;return F}function za(F,G,H,i){F[0]=G[0]+H[0]*i;F[1]=G[1]+H[1]*i;F[2]=G[2]+H[2]*i;return F}function Aa(F,G){var H=G[0]-F[0],I=G[1]-F[1],J=G[2]-F[2];return Math.sqrt(H*H+I*I+J*J)}function Ba(F,G){var H=G[0]-F[0],I=G[1]-F[1],J=G[2]-F[2];return H*H+I*I+J*J}function Ca(F){var G=F[0],H=F[1],I=F[2];return G*G+H*H+I*I}function Da(F,G){F[0]=-G[0];F[1]=-G[1];F[2]=-G[2];return F}function Ea(F,G){F[0]=1/G[0];F[1]=1/G[1];F[2]=1/G[2];return F}function Fa(F,G){var H=G[0],I=G[1],J=G[2],C=H*H+I*I+J*J;if(C>0){C=1/Math.sqrt(C);F[0]=G[0]*C;F[1]=G[1]*C;F[2]=G[2]*C}return F}function Ga(F,G){return F[0]*G[0]+F[1]*G[1]+F[2]*G[2]}function Ha(F,G,H){var I=G[0],J=G[1],K=G[2],L=H[0],M=H[1],N=H[2];F[0]=J*N-K*M;F[1]=K*L-I*N;F[2]=I*M-J*L;return F}function j(F,G,H,I){var J=G[0],K=G[1],L=G[2];F[0]=J+I*(H[0]-J);F[1]=K+I*(H[1]-K);F[2]=L+I*(H[2]-L);return F}function k(F,G,H,I,J,K){var L=K*K,M=L*(2*K-3)+1,N=L*(K-2)+K,O=L*(K-1),P=L*(3-2*K);F[0]=G[0]*M+H[0]*N+I[0]*O+J[0]*P;F[1]=G[1]*M+H[1]*N+I[1]*O+J[1]*P;F[2]=G[2]*M+H[2]*N+I[2]*O+J[2]*P;return F}function l(F,G,H,I,J,K){var L=1-K,M=L*L,N=K*K,O=M*L,P=3*K*M,Q=3*N*L,R=N*K;F[0]=G[0]*O+H[0]*P+I[0]*Q+J[0]*R;F[1]=G[1]*O+H[1]*P+I[1]*Q+J[1]*R;F[2]=G[2]*O+H[2]*P+I[2]*Q+J[2]*R;return F}function m(F,i){i=i||1;var G=c.RANDOM()*2*Math.PI,H=c.RANDOM()*2-1,I=Math.sqrt(1-H*H)*i;F[0]=Math.cos(G)*I;F[1]=Math.sin(G)*I;F[2]=H*i;return F}function n(F,G,H){var I=G[0],J=G[1],K=G[2],L=H[3]*I+H[7]*J+H[11]*K+H[15];L=L||1;F[0]=(H[0]*I+H[4]*J+H[8]*K+H[12])/L;F[1]=(H[1]*I+H[5]*J+H[9]*K+H[13])/L;F[2]=(H[2]*I+H[6]*J+H[10]*K+H[14])/L;return F}function o(F,G,H){var I=G[0],J=G[1],K=G[2];F[0]=I*H[0]+J*H[3]+K*H[6];F[1]=I*H[1]+J*H[4]+K*H[7];F[2]=I*H[2]+J*H[5]+K*H[8];return F}function p(F,G,H){var I=G[0],J=G[1],K=G[2],L=H[0],M=H[1],N=H[2],O=H[3],P=O*I+M*K-N*J,Q=O*J+N*I-L*K,R=O*K+L*J-M*I,S=-L*I-M*J-N*K;F[0]=P*O+S*-L+Q*-N-R*-M;F[1]=Q*O+S*-M+R*-L-P*-N;F[2]=R*O+S*-N+P*-M-Q*-L;return F}function q(F,G,H,I){__p&&__p();var J=[],K=[];J[0]=G[0]-H[0];J[1]=G[1]-H[1];J[2]=G[2]-H[2];K[0]=J[0];K[1]=J[1]*Math.cos(I)-J[2]*Math.sin(I);K[2]=J[1]*Math.sin(I)+J[2]*Math.cos(I);F[0]=K[0]+H[0];F[1]=K[1]+H[1];F[2]=K[2]+H[2];return F}function r(F,G,H,I){__p&&__p();var J=[],K=[];J[0]=G[0]-H[0];J[1]=G[1]-H[1];J[2]=G[2]-H[2];K[0]=J[2]*Math.sin(I)+J[0]*Math.cos(I);K[1]=J[1];K[2]=J[2]*Math.cos(I)-J[0]*Math.sin(I);F[0]=K[0]+H[0];F[1]=K[1]+H[1];F[2]=K[2]+H[2];return F}function s(F,G,H,I){__p&&__p();var J=[],K=[];J[0]=G[0]-H[0];J[1]=G[1]-H[1];J[2]=G[2]-H[2];K[0]=J[0]*Math.cos(I)-J[1]*Math.sin(I);K[1]=J[0]*Math.sin(I)+J[1]*Math.cos(I);K[2]=J[2];F[0]=K[0]+H[0];F[1]=K[1]+H[1];F[2]=K[2]+H[2];return F}function t(F,G){var H=qa(F[0],F[1],F[2]),I=qa(G[0],G[1],G[2]);Fa(H,H);Fa(I,I);var J=Ga(H,I);if(J>1)return 0;else if(J<-1)return Math.PI;else return Math.acos(J)}function u(F){return"vec3("+F[0]+", "+F[1]+", "+F[2]+")"}function v(F,G){return F[0]===G[0]&&F[1]===G[1]&&F[2]===G[2]}function w(F,G){var H=F[0],I=F[1],J=F[2],K=G[0],L=G[1],M=G[2];return Math.abs(H-K)<=c.EPSILON*Math.max(1,Math.abs(H),Math.abs(K))&&Math.abs(I-L)<=c.EPSILON*Math.max(1,Math.abs(I),Math.abs(L))&&Math.abs(J-M)<=c.EPSILON*Math.max(1,Math.abs(J),Math.abs(M))}var x=a.sub=ta,y=a.mul=ua,z=a.div=va,A=a.dist=Aa,B=a.sqrDist=Ba,C=a.len=pa,D=a.sqrLen=Ca,E=a.forEach=function(){__p&&__p();var F=e();return function(G,H,I,J,K,L){__p&&__p();var M=void 0,N=void 0;if(!H)H=3;if(!I)I=0;if(J)N=Math.min(J*H+I,G.length);else N=G.length;for(M=I;M<N;M+=H){F[0]=G[M];F[1]=G[M+1];F[2]=G[M+2];K(F,F,L);G[M]=F[0];G[M+1]=F[1];G[M+2]=F[2]}return G}}()},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.forEach=a.sqrLen=a.len=a.sqrDist=a.dist=a.div=a.mul=a.sub=undefined;a.create=e;a.clone=oa;a.fromValues=pa;a.copy=qa;a.set=f;a.add=ra;a.subtract=sa;a.multiply=ta;a.divide=ua;a.ceil=va;a.floor=wa;a.min=xa;a.max=g;a.round=ya;a.scale=h;a.scaleAndAdd=i;a.distance=za;a.squaredDistance=Aa;a.length=Ba;a.squaredLength=Ca;a.negate=Da;a.inverse=Ea;a.normalize=Fa;a.dot=Ga;a.lerp=Ha;a.random=j;a.transformMat4=k;a.transformQuat=l;a.str=m;a.exactEquals=n;a.equals=o;var na=b(0),c=d(na);function d(x){__p&&__p();if(x&&x.__esModule)return x;else{var y={};if(x!=null)for(var z in x)if(Object.prototype.hasOwnProperty.call(x,z))y[z]=x[z];y["default"]=x;return y}}function e(){var x=new c.ARRAY_TYPE(4);x[0]=0;x[1]=0;x[2]=0;x[3]=0;return x}function oa(x){var y=new c.ARRAY_TYPE(4);y[0]=x[0];y[1]=x[1];y[2]=x[2];y[3]=x[3];return y}function pa(x,y,z,A){var B=new c.ARRAY_TYPE(4);B[0]=x;B[1]=y;B[2]=z;B[3]=A;return B}function qa(x,y){x[0]=y[0];x[1]=y[1];x[2]=y[2];x[3]=y[3];return x}function f(x,y,z,A,B){x[0]=y;x[1]=z;x[2]=A;x[3]=B;return x}function ra(x,y,z){x[0]=y[0]+z[0];x[1]=y[1]+z[1];x[2]=y[2]+z[2];x[3]=y[3]+z[3];return x}function sa(x,y,z){x[0]=y[0]-z[0];x[1]=y[1]-z[1];x[2]=y[2]-z[2];x[3]=y[3]-z[3];return x}function ta(x,y,z){x[0]=y[0]*z[0];x[1]=y[1]*z[1];x[2]=y[2]*z[2];x[3]=y[3]*z[3];return x}function ua(x,y,z){x[0]=y[0]/z[0];x[1]=y[1]/z[1];x[2]=y[2]/z[2];x[3]=y[3]/z[3];return x}function va(x,y){x[0]=Math.ceil(y[0]);x[1]=Math.ceil(y[1]);x[2]=Math.ceil(y[2]);x[3]=Math.ceil(y[3]);return x}function wa(x,y){x[0]=Math.floor(y[0]);x[1]=Math.floor(y[1]);x[2]=Math.floor(y[2]);x[3]=Math.floor(y[3]);return x}function xa(x,y,z){x[0]=Math.min(y[0],z[0]);x[1]=Math.min(y[1],z[1]);x[2]=Math.min(y[2],z[2]);x[3]=Math.min(y[3],z[3]);return x}function g(x,y,z){x[0]=Math.max(y[0],z[0]);x[1]=Math.max(y[1],z[1]);x[2]=Math.max(y[2],z[2]);x[3]=Math.max(y[3],z[3]);return x}function ya(x,y){x[0]=Math.round(y[0]);x[1]=Math.round(y[1]);x[2]=Math.round(y[2]);x[3]=Math.round(y[3]);return x}function h(x,y,z){x[0]=y[0]*z;x[1]=y[1]*z;x[2]=y[2]*z;x[3]=y[3]*z;return x}function i(x,y,z,h){x[0]=y[0]+z[0]*h;x[1]=y[1]+z[1]*h;x[2]=y[2]+z[2]*h;x[3]=y[3]+z[3]*h;return x}function za(x,y){var z=y[0]-x[0],A=y[1]-x[1],B=y[2]-x[2],C=y[3]-x[3];return Math.sqrt(z*z+A*A+B*B+C*C)}function Aa(x,y){var z=y[0]-x[0],A=y[1]-x[1],B=y[2]-x[2],C=y[3]-x[3];return z*z+A*A+B*B+C*C}function Ba(x){var y=x[0],z=x[1],A=x[2],B=x[3];return Math.sqrt(y*y+z*z+A*A+B*B)}function Ca(x){var y=x[0],z=x[1],A=x[2],B=x[3];return y*y+z*z+A*A+B*B}function Da(x,y){x[0]=-y[0];x[1]=-y[1];x[2]=-y[2];x[3]=-y[3];return x}function Ea(x,y){x[0]=1/y[0];x[1]=1/y[1];x[2]=1/y[2];x[3]=1/y[3];return x}function Fa(x,y){var z=y[0],A=y[1],B=y[2],C=y[3],u=z*z+A*A+B*B+C*C;if(u>0){u=1/Math.sqrt(u);x[0]=z*u;x[1]=A*u;x[2]=B*u;x[3]=C*u}return x}function Ga(x,y){return x[0]*y[0]+x[1]*y[1]+x[2]*y[2]+x[3]*y[3]}function Ha(x,y,z,A){var B=y[0],C=y[1],D=y[2],E=y[3];x[0]=B+A*(z[0]-B);x[1]=C+A*(z[1]-C);x[2]=D+A*(z[2]-D);x[3]=E+A*(z[3]-E);return x}function j(x,y){y=y||1;x[0]=c.RANDOM();x[1]=c.RANDOM();x[2]=c.RANDOM();x[3]=c.RANDOM();Fa(x,x);h(x,x,y);return x}function k(x,y,z){var A=y[0],B=y[1],C=y[2],D=y[3];x[0]=z[0]*A+z[4]*B+z[8]*C+z[12]*D;x[1]=z[1]*A+z[5]*B+z[9]*C+z[13]*D;x[2]=z[2]*A+z[6]*B+z[10]*C+z[14]*D;x[3]=z[3]*A+z[7]*B+z[11]*C+z[15]*D;return x}function l(x,y,z){var A=y[0],B=y[1],C=y[2],D=z[0],E=z[1],F=z[2],G=z[3],H=G*A+E*C-F*B,I=G*B+F*A-D*C,J=G*C+D*B-E*A,K=-D*A-E*B-F*C;x[0]=H*G+K*-D+I*-F-J*-E;x[1]=I*G+K*-E+J*-D-H*-F;x[2]=J*G+K*-F+H*-E-I*-D;x[3]=y[3];return x}function m(x){return"vec4("+x[0]+", "+x[1]+", "+x[2]+", "+x[3]+")"}function n(x,y){return x[0]===y[0]&&x[1]===y[1]&&x[2]===y[2]&&x[3]===y[3]}function o(x,y){var z=x[0],A=x[1],B=x[2],C=x[3],D=y[0],E=y[1],F=y[2],G=y[3];return Math.abs(z-D)<=c.EPSILON*Math.max(1,Math.abs(z),Math.abs(D))&&Math.abs(A-E)<=c.EPSILON*Math.max(1,Math.abs(A),Math.abs(E))&&Math.abs(B-F)<=c.EPSILON*Math.max(1,Math.abs(B),Math.abs(F))&&Math.abs(C-G)<=c.EPSILON*Math.max(1,Math.abs(C),Math.abs(G))}var p=a.sub=sa,q=a.mul=ta,r=a.div=ua,s=a.dist=za,t=a.sqrDist=Aa,u=a.len=Ba,v=a.sqrLen=Ca,w=a.forEach=function(){__p&&__p();var x=e();return function(y,z,A,B,C,D){__p&&__p();var E=void 0,F=void 0;if(!z)z=4;if(!A)A=0;if(B)F=Math.min(B*z+A,y.length);else F=y.length;for(E=A;E<F;E+=z){x[0]=y[E];x[1]=y[E+1];x[2]=y[E+2];x[3]=y[E+3];C(x,x,D);y[E]=x[0];y[E+1]=x[1];y[E+2]=x[2];y[E+3]=x[3]}return y}}()},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.vec4=a.vec3=a.vec2=a.quat=a.mat4=a.mat3=a.mat2d=a.mat2=a.glMatrix=undefined;var na=b(0),c=i(na),d=b(5),e=i(d),oa=b(6),pa=i(oa),qa=b(1),f=i(qa),ra=b(7),sa=i(ra),ta=b(8),ua=i(ta),va=b(9),wa=i(va),xa=b(2),g=i(xa),ya=b(3),h=i(ya);function i(za){__p&&__p();if(za&&za.__esModule)return za;else{var Aa={};if(za!=null)for(var Ba in za)if(Object.prototype.hasOwnProperty.call(za,Ba))Aa[Ba]=za[Ba];Aa["default"]=za;return Aa}}a.glMatrix=c;a.mat2=e;a.mat2d=pa;a.mat3=f;a.mat4=sa;a.quat=ua;a.vec2=wa;a.vec3=g;a.vec4=h},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.sub=a.mul=undefined;a.create=e;a.clone=oa;a.copy=pa;a.identity=qa;a.fromValues=f;a.set=ra;a.transpose=sa;a.invert=ta;a.adjoint=ua;a.determinant=va;a.multiply=wa;a.rotate=xa;a.scale=g;a.fromRotation=ya;a.fromScaling=h;a.str=i;a.frob=za;a.LDU=Aa;a.add=Ba;a.subtract=Ca;a.exactEquals=Da;a.equals=Ea;a.multiplyScalar=Fa;a.multiplyScalarAndAdd=Ga;var na=b(0),c=d(na);function d(k){__p&&__p();if(k&&k.__esModule)return k;else{var l={};if(k!=null)for(var m in k)if(Object.prototype.hasOwnProperty.call(k,m))l[m]=k[m];l["default"]=k;return l}}function e(){var k=new c.ARRAY_TYPE(4);k[0]=1;k[1]=0;k[2]=0;k[3]=1;return k}function oa(k){var l=new c.ARRAY_TYPE(4);l[0]=k[0];l[1]=k[1];l[2]=k[2];l[3]=k[3];return l}function pa(k,l){k[0]=l[0];k[1]=l[1];k[2]=l[2];k[3]=l[3];return k}function qa(k){k[0]=1;k[1]=0;k[2]=0;k[3]=1;return k}function f(k,l,m,n){var o=new c.ARRAY_TYPE(4);o[0]=k;o[1]=l;o[2]=m;o[3]=n;return o}function ra(k,l,m,n,o){k[0]=l;k[1]=m;k[2]=n;k[3]=o;return k}function sa(k,l){__p&&__p();if(k===l){var m=l[1];k[1]=l[2];k[2]=m}else{k[0]=l[0];k[1]=l[2];k[2]=l[1];k[3]=l[3]}return k}function ta(k,l){var m=l[0],n=l[1],o=l[2],p=l[3],q=m*p-o*n;if(!q)return null;q=1/q;k[0]=p*q;k[1]=-n*q;k[2]=-o*q;k[3]=m*q;return k}function ua(k,l){var m=l[0];k[0]=l[3];k[1]=-l[1];k[2]=-l[2];k[3]=m;return k}function va(k){return k[0]*k[3]-k[2]*k[1]}function wa(k,l,m){var n=l[0],o=l[1],p=l[2],q=l[3],r=m[0],s=m[1],t=m[2],u=m[3];k[0]=n*r+p*s;k[1]=o*r+q*s;k[2]=n*t+p*u;k[3]=o*t+q*u;return k}function xa(k,l,m){var n=l[0],o=l[1],p=l[2],q=l[3],r=Math.sin(m),s=Math.cos(m);k[0]=n*s+p*r;k[1]=o*s+q*r;k[2]=n*-r+p*s;k[3]=o*-r+q*s;return k}function g(k,l,m){var n=l[0],o=l[1],p=l[2],q=l[3],r=m[0],s=m[1];k[0]=n*r;k[1]=o*r;k[2]=p*s;k[3]=q*s;return k}function ya(k,l){var m=Math.sin(l),n=Math.cos(l);k[0]=n;k[1]=m;k[2]=-m;k[3]=n;return k}function h(k,l){k[0]=l[0];k[1]=0;k[2]=0;k[3]=l[1];return k}function i(k){return"mat2("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"}function za(k){return Math.sqrt(Math.pow(k[0],2)+Math.pow(k[1],2)+Math.pow(k[2],2)+Math.pow(k[3],2))}function Aa(k,l,m,n){k[2]=n[2]/n[0];m[0]=n[0];m[1]=n[1];m[3]=n[3]-k[2]*m[1];return[k,l,m]}function Ba(k,l,m){k[0]=l[0]+m[0];k[1]=l[1]+m[1];k[2]=l[2]+m[2];k[3]=l[3]+m[3];return k}function Ca(k,l,m){k[0]=l[0]-m[0];k[1]=l[1]-m[1];k[2]=l[2]-m[2];k[3]=l[3]-m[3];return k}function Da(k,l){return k[0]===l[0]&&k[1]===l[1]&&k[2]===l[2]&&k[3]===l[3]}function Ea(k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=l[0],r=l[1],s=l[2],t=l[3];return Math.abs(m-q)<=c.EPSILON*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(n-r)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(o-s)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(p-t)<=c.EPSILON*Math.max(1,Math.abs(p),Math.abs(t))}function Fa(k,l,m){k[0]=l[0]*m;k[1]=l[1]*m;k[2]=l[2]*m;k[3]=l[3]*m;return k}function Ga(k,l,m,g){k[0]=l[0]+m[0]*g;k[1]=l[1]+m[1]*g;k[2]=l[2]+m[2]*g;k[3]=l[3]+m[3]*g;return k}var Ha=a.mul=wa,j=a.sub=Ca},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.sub=a.mul=undefined;a.create=e;a.clone=oa;a.copy=pa;a.identity=qa;a.fromValues=f;a.set=ra;a.invert=sa;a.determinant=ta;a.multiply=ua;a.rotate=va;a.scale=wa;a.translate=xa;a.fromRotation=g;a.fromScaling=ya;a.fromTranslation=h;a.str=i;a.frob=za;a.add=Aa;a.subtract=Ba;a.multiplyScalar=Ca;a.multiplyScalarAndAdd=Da;a.exactEquals=Ea;a.equals=Fa;var na=b(0),c=d(na);function d(j){__p&&__p();if(j&&j.__esModule)return j;else{var k={};if(j!=null)for(var l in j)if(Object.prototype.hasOwnProperty.call(j,l))k[l]=j[l];k["default"]=j;return k}}function e(){var j=new c.ARRAY_TYPE(6);j[0]=1;j[1]=0;j[2]=0;j[3]=1;j[4]=0;j[5]=0;return j}function oa(j){var k=new c.ARRAY_TYPE(6);k[0]=j[0];k[1]=j[1];k[2]=j[2];k[3]=j[3];k[4]=j[4];k[5]=j[5];return k}function pa(j,k){j[0]=k[0];j[1]=k[1];j[2]=k[2];j[3]=k[3];j[4]=k[4];j[5]=k[5];return j}function qa(j){j[0]=1;j[1]=0;j[2]=0;j[3]=1;j[4]=0;j[5]=0;return j}function f(j,k,l,m,n,o){var p=new c.ARRAY_TYPE(6);p[0]=j;p[1]=k;p[2]=l;p[3]=m;p[4]=n;p[5]=o;return p}function ra(j,k,l,m,n,o,p){j[0]=k;j[1]=l;j[2]=m;j[3]=n;j[4]=o;j[5]=p;return j}function sa(j,k){__p&&__p();var l=k[0],m=k[1],n=k[2],o=k[3],p=k[4],q=k[5],r=l*o-m*n;if(!r)return null;r=1/r;j[0]=o*r;j[1]=-m*r;j[2]=-n*r;j[3]=l*r;j[4]=(n*q-o*p)*r;j[5]=(m*p-l*q)*r;return j}function ta(j){return j[0]*j[3]-j[1]*j[2]}function ua(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=l[0],t=l[1],u=l[2],v=l[3],w=l[4],x=l[5];j[0]=m*s+o*t;j[1]=n*s+p*t;j[2]=m*u+o*v;j[3]=n*u+p*v;j[4]=m*w+o*x+q;j[5]=n*w+p*x+r;return j}function va(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=Math.sin(l),t=Math.cos(l);j[0]=m*t+o*s;j[1]=n*t+p*s;j[2]=m*-s+o*t;j[3]=n*-s+p*t;j[4]=q;j[5]=r;return j}function wa(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=l[0],t=l[1];j[0]=m*s;j[1]=n*s;j[2]=o*t;j[3]=p*t;j[4]=q;j[5]=r;return j}function xa(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=l[0],t=l[1];j[0]=m;j[1]=n;j[2]=o;j[3]=p;j[4]=m*s+o*t+q;j[5]=n*s+p*t+r;return j}function g(j,k){var l=Math.sin(k),m=Math.cos(k);j[0]=m;j[1]=l;j[2]=-l;j[3]=m;j[4]=0;j[5]=0;return j}function ya(j,k){j[0]=k[0];j[1]=0;j[2]=0;j[3]=k[1];j[4]=0;j[5]=0;return j}function h(j,k){j[0]=1;j[1]=0;j[2]=0;j[3]=1;j[4]=k[0];j[5]=k[1];return j}function i(j){return"mat2d("+j[0]+", "+j[1]+", "+j[2]+", "+j[3]+", "+j[4]+", "+j[5]+")"}function za(j){return Math.sqrt(Math.pow(j[0],2)+Math.pow(j[1],2)+Math.pow(j[2],2)+Math.pow(j[3],2)+Math.pow(j[4],2)+Math.pow(j[5],2)+1)}function Aa(j,k,l){j[0]=k[0]+l[0];j[1]=k[1]+l[1];j[2]=k[2]+l[2];j[3]=k[3]+l[3];j[4]=k[4]+l[4];j[5]=k[5]+l[5];return j}function Ba(j,k,l){j[0]=k[0]-l[0];j[1]=k[1]-l[1];j[2]=k[2]-l[2];j[3]=k[3]-l[3];j[4]=k[4]-l[4];j[5]=k[5]-l[5];return j}function Ca(j,k,l){j[0]=k[0]*l;j[1]=k[1]*l;j[2]=k[2]*l;j[3]=k[3]*l;j[4]=k[4]*l;j[5]=k[5]*l;return j}function Da(j,k,l,wa){j[0]=k[0]+l[0]*wa;j[1]=k[1]+l[1]*wa;j[2]=k[2]+l[2]*wa;j[3]=k[3]+l[3]*wa;j[4]=k[4]+l[4]*wa;j[5]=k[5]+l[5]*wa;return j}function Ea(j,k){return j[0]===k[0]&&j[1]===k[1]&&j[2]===k[2]&&j[3]===k[3]&&j[4]===k[4]&&j[5]===k[5]}function Fa(j,k){var l=j[0],m=j[1],n=j[2],o=j[3],p=j[4],q=j[5],r=k[0],s=k[1],t=k[2],u=k[3],v=k[4],w=k[5];return Math.abs(l-r)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(r))&&Math.abs(m-s)<=c.EPSILON*Math.max(1,Math.abs(m),Math.abs(s))&&Math.abs(n-t)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(t))&&Math.abs(o-u)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(p-v)<=c.EPSILON*Math.max(1,Math.abs(p),Math.abs(v))&&Math.abs(q-w)<=c.EPSILON*Math.max(1,Math.abs(q),Math.abs(w))}var Ga=a.mul=ua,Ha=a.sub=Ba},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.sub=a.mul=undefined;a.create=e;a.clone=oa;a.copy=pa;a.fromValues=qa;a.set=f;a.identity=ra;a.transpose=sa;a.invert=ta;a.adjoint=ua;a.determinant=va;a.multiply=wa;a.translate=xa;a.scale=g;a.rotate=ya;a.rotateX=h;a.rotateY=i;a.rotateZ=za;a.fromTranslation=Aa;a.fromScaling=Ba;a.fromRotation=Ca;a.fromXRotation=Da;a.fromYRotation=Ea;a.fromZRotation=Fa;a.fromRotationTranslation=Ga;a.getTranslation=Ha;a.getScaling=j;a.getRotation=k;a.fromRotationTranslationScale=l;a.fromRotationTranslationScaleOrigin=m;a.fromQuat=n;a.frustum=o;a.perspective=p;a.perspectiveFromFieldOfView=q;a.ortho=r;a.lookAt=s;a.targetTo=t;a.str=u;a.frob=v;a.add=w;a.subtract=x;a.multiplyScalar=y;a.multiplyScalarAndAdd=z;a.exactEquals=A;a.equals=B;var na=b(0),c=d(na);function d(E){__p&&__p();if(E&&E.__esModule)return E;else{var F={};if(E!=null)for(var G in E)if(Object.prototype.hasOwnProperty.call(E,G))F[G]=E[G];F["default"]=E;return F}}function e(){__p&&__p();var E=new c.ARRAY_TYPE(16);E[0]=1;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=1;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=1;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function oa(E){__p&&__p();var F=new c.ARRAY_TYPE(16);F[0]=E[0];F[1]=E[1];F[2]=E[2];F[3]=E[3];F[4]=E[4];F[5]=E[5];F[6]=E[6];F[7]=E[7];F[8]=E[8];F[9]=E[9];F[10]=E[10];F[11]=E[11];F[12]=E[12];F[13]=E[13];F[14]=E[14];F[15]=E[15];return F}function pa(E,F){__p&&__p();E[0]=F[0];E[1]=F[1];E[2]=F[2];E[3]=F[3];E[4]=F[4];E[5]=F[5];E[6]=F[6];E[7]=F[7];E[8]=F[8];E[9]=F[9];E[10]=F[10];E[11]=F[11];E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15];return E}function qa(E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T){__p&&__p();var U=new c.ARRAY_TYPE(16);U[0]=E;U[1]=F;U[2]=G;U[3]=H;U[4]=I;U[5]=J;U[6]=K;U[7]=L;U[8]=M;U[9]=N;U[10]=O;U[11]=P;U[12]=Q;U[13]=R;U[14]=S;U[15]=T;return U}function f(E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U){__p&&__p();E[0]=F;E[1]=G;E[2]=H;E[3]=I;E[4]=J;E[5]=K;E[6]=L;E[7]=M;E[8]=N;E[9]=O;E[10]=P;E[11]=Q;E[12]=R;E[13]=S;E[14]=T;E[15]=U;return E}function ra(E){__p&&__p();E[0]=1;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=1;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=1;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function sa(E,F){__p&&__p();if(E===F){var G=F[1],H=F[2],I=F[3],J=F[6],K=F[7],L=F[11];E[1]=F[4];E[2]=F[8];E[3]=F[12];E[4]=G;E[6]=F[9];E[7]=F[13];E[8]=H;E[9]=J;E[11]=F[14];E[12]=I;E[13]=K;E[14]=L}else{E[0]=F[0];E[1]=F[4];E[2]=F[8];E[3]=F[12];E[4]=F[1];E[5]=F[5];E[6]=F[9];E[7]=F[13];E[8]=F[2];E[9]=F[6];E[10]=F[10];E[11]=F[14];E[12]=F[3];E[13]=F[7];E[14]=F[11];E[15]=F[15]}return E}function ta(E,F){__p&&__p();var G=F[0],H=F[1],I=F[2],J=F[3],K=F[4],L=F[5],M=F[6],N=F[7],O=F[8],P=F[9],Q=F[10],R=F[11],S=F[12],T=F[13],U=F[14],V=F[15],W=G*L-H*K,X=G*M-I*K,Y=G*N-J*K,Z=H*M-I*L,$=H*N-J*L,Ia=I*N-J*M,Ja=O*T-P*S,Ka=O*U-Q*S,La=O*V-R*S,Ma=P*U-Q*T,Na=P*V-R*T,Oa=Q*V-R*U,Pa=W*Oa-X*Na+Y*Ma+Z*La-$*Ka+Ia*Ja;if(!Pa)return null;Pa=1/Pa;E[0]=(L*Oa-M*Na+N*Ma)*Pa;E[1]=(I*Na-H*Oa-J*Ma)*Pa;E[2]=(T*Ia-U*$+V*Z)*Pa;E[3]=(Q*$-P*Ia-R*Z)*Pa;E[4]=(M*La-K*Oa-N*Ka)*Pa;E[5]=(G*Oa-I*La+J*Ka)*Pa;E[6]=(U*Y-S*Ia-V*X)*Pa;E[7]=(O*Ia-Q*Y+R*X)*Pa;E[8]=(K*Na-L*La+N*Ja)*Pa;E[9]=(H*La-G*Na-J*Ja)*Pa;E[10]=(S*$-T*Y+V*W)*Pa;E[11]=(P*Y-O*$-R*W)*Pa;E[12]=(L*Ka-K*Ma-M*Ja)*Pa;E[13]=(G*Ma-H*Ka+I*Ja)*Pa;E[14]=(T*X-S*Z-U*W)*Pa;E[15]=(O*Z-P*X+Q*W)*Pa;return E}function ua(E,F){__p&&__p();var G=F[0],H=F[1],I=F[2],J=F[3],K=F[4],L=F[5],M=F[6],N=F[7],O=F[8],P=F[9],Q=F[10],R=F[11],S=F[12],T=F[13],U=F[14],V=F[15];E[0]=L*(Q*V-R*U)-P*(M*V-N*U)+T*(M*R-N*Q);E[1]=-(H*(Q*V-R*U)-P*(I*V-J*U)+T*(I*R-J*Q));E[2]=H*(M*V-N*U)-L*(I*V-J*U)+T*(I*N-J*M);E[3]=-(H*(M*R-N*Q)-L*(I*R-J*Q)+P*(I*N-J*M));E[4]=-(K*(Q*V-R*U)-O*(M*V-N*U)+S*(M*R-N*Q));E[5]=G*(Q*V-R*U)-O*(I*V-J*U)+S*(I*R-J*Q);E[6]=-(G*(M*V-N*U)-K*(I*V-J*U)+S*(I*N-J*M));E[7]=G*(M*R-N*Q)-K*(I*R-J*Q)+O*(I*N-J*M);E[8]=K*(P*V-R*T)-O*(L*V-N*T)+S*(L*R-N*P);E[9]=-(G*(P*V-R*T)-O*(H*V-J*T)+S*(H*R-J*P));E[10]=G*(L*V-N*T)-K*(H*V-J*T)+S*(H*N-J*L);E[11]=-(G*(L*R-N*P)-K*(H*R-J*P)+O*(H*N-J*L));E[12]=-(K*(P*U-Q*T)-O*(L*U-M*T)+S*(L*Q-M*P));E[13]=G*(P*U-Q*T)-O*(H*U-I*T)+S*(H*Q-I*P);E[14]=-(G*(L*U-M*T)-K*(H*U-I*T)+S*(H*M-I*L));E[15]=G*(L*Q-M*P)-K*(H*Q-I*P)+O*(H*M-I*L);return E}function va(E){var F=E[0],G=E[1],H=E[2],I=E[3],J=E[4],K=E[5],L=E[6],M=E[7],N=E[8],O=E[9],P=E[10],Q=E[11],R=E[12],S=E[13],T=E[14],U=E[15],V=F*K-G*J,W=F*L-H*J,X=F*M-I*J,Y=G*L-H*K,Z=G*M-I*K,$=H*M-I*L,Ia=N*S-O*R,Ja=N*T-P*R,Ka=N*U-Q*R,La=O*T-P*S,Ma=O*U-Q*S,Na=P*U-Q*T;return V*Na-W*Ma+X*La+Y*Ka-Z*Ja+$*Ia}function wa(E,F,G){__p&&__p();var H=F[0],I=F[1],J=F[2],K=F[3],L=F[4],M=F[5],N=F[6],O=F[7],P=F[8],Q=F[9],R=F[10],S=F[11],T=F[12],U=F[13],V=F[14],W=F[15],X=G[0],Y=G[1],Z=G[2],$=G[3];E[0]=X*H+Y*L+Z*P+$*T;E[1]=X*I+Y*M+Z*Q+$*U;E[2]=X*J+Y*N+Z*R+$*V;E[3]=X*K+Y*O+Z*S+$*W;X=G[4];Y=G[5];Z=G[6];$=G[7];E[4]=X*H+Y*L+Z*P+$*T;E[5]=X*I+Y*M+Z*Q+$*U;E[6]=X*J+Y*N+Z*R+$*V;E[7]=X*K+Y*O+Z*S+$*W;X=G[8];Y=G[9];Z=G[10];$=G[11];E[8]=X*H+Y*L+Z*P+$*T;E[9]=X*I+Y*M+Z*Q+$*U;E[10]=X*J+Y*N+Z*R+$*V;E[11]=X*K+Y*O+Z*S+$*W;X=G[12];Y=G[13];Z=G[14];$=G[15];E[12]=X*H+Y*L+Z*P+$*T;E[13]=X*I+Y*M+Z*Q+$*U;E[14]=X*J+Y*N+Z*R+$*V;E[15]=X*K+Y*O+Z*S+$*W;return E}function xa(E,F,G){__p&&__p();var H=G[0],I=G[1],J=G[2],K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0;if(F===E){E[12]=F[0]*H+F[4]*I+F[8]*J+F[12];E[13]=F[1]*H+F[5]*I+F[9]*J+F[13];E[14]=F[2]*H+F[6]*I+F[10]*J+F[14];E[15]=F[3]*H+F[7]*I+F[11]*J+F[15]}else{K=F[0];L=F[1];M=F[2];N=F[3];O=F[4];P=F[5];Q=F[6];R=F[7];S=F[8];T=F[9];U=F[10];V=F[11];E[0]=K;E[1]=L;E[2]=M;E[3]=N;E[4]=O;E[5]=P;E[6]=Q;E[7]=R;E[8]=S;E[9]=T;E[10]=U;E[11]=V;E[12]=K*H+O*I+S*J+F[12];E[13]=L*H+P*I+T*J+F[13];E[14]=M*H+Q*I+U*J+F[14];E[15]=N*H+R*I+V*J+F[15]}return E}function g(E,F,G){__p&&__p();var H=G[0],I=G[1],J=G[2];E[0]=F[0]*H;E[1]=F[1]*H;E[2]=F[2]*H;E[3]=F[3]*H;E[4]=F[4]*I;E[5]=F[5]*I;E[6]=F[6]*I;E[7]=F[7]*I;E[8]=F[8]*J;E[9]=F[9]*J;E[10]=F[10]*J;E[11]=F[11]*J;E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15];return E}function ya(E,F,G,H){__p&&__p();var I=H[0],J=H[1],K=H[2],L=Math.sqrt(I*I+J*J+K*K),M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0,W=void 0,X=void 0,Y=void 0,Z=void 0,$=void 0,Ia=void 0,Ja=void 0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0,Oa=void 0,Pa=void 0,Qa=void 0;if(Math.abs(L)<c.EPSILON)return null;L=1/L;I*=L;J*=L;K*=L;M=Math.sin(G);N=Math.cos(G);O=1-N;P=F[0];Q=F[1];R=F[2];S=F[3];T=F[4];U=F[5];V=F[6];W=F[7];X=F[8];Y=F[9];Z=F[10];$=F[11];Ia=I*I*O+N;Ja=J*I*O+K*M;Ka=K*I*O-J*M;La=I*J*O-K*M;Ma=J*J*O+N;Na=K*J*O+I*M;Oa=I*K*O+J*M;Pa=J*K*O-I*M;Qa=K*K*O+N;E[0]=P*Ia+T*Ja+X*Ka;E[1]=Q*Ia+U*Ja+Y*Ka;E[2]=R*Ia+V*Ja+Z*Ka;E[3]=S*Ia+W*Ja+$*Ka;E[4]=P*La+T*Ma+X*Na;E[5]=Q*La+U*Ma+Y*Na;E[6]=R*La+V*Ma+Z*Na;E[7]=S*La+W*Ma+$*Na;E[8]=P*Oa+T*Pa+X*Qa;E[9]=Q*Oa+U*Pa+Y*Qa;E[10]=R*Oa+V*Pa+Z*Qa;E[11]=S*Oa+W*Pa+$*Qa;if(F!==E){E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15]}return E}function h(E,F,G){__p&&__p();var H=Math.sin(G),I=Math.cos(G),J=F[4],K=F[5],L=F[6],M=F[7],N=F[8],O=F[9],P=F[10],Q=F[11];if(F!==E){E[0]=F[0];E[1]=F[1];E[2]=F[2];E[3]=F[3];E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15]}E[4]=J*I+N*H;E[5]=K*I+O*H;E[6]=L*I+P*H;E[7]=M*I+Q*H;E[8]=N*I-J*H;E[9]=O*I-K*H;E[10]=P*I-L*H;E[11]=Q*I-M*H;return E}function i(E,F,G){__p&&__p();var H=Math.sin(G),I=Math.cos(G),J=F[0],K=F[1],L=F[2],M=F[3],N=F[8],O=F[9],P=F[10],Q=F[11];if(F!==E){E[4]=F[4];E[5]=F[5];E[6]=F[6];E[7]=F[7];E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15]}E[0]=J*I-N*H;E[1]=K*I-O*H;E[2]=L*I-P*H;E[3]=M*I-Q*H;E[8]=J*H+N*I;E[9]=K*H+O*I;E[10]=L*H+P*I;E[11]=M*H+Q*I;return E}function za(E,F,G){__p&&__p();var H=Math.sin(G),I=Math.cos(G),J=F[0],K=F[1],L=F[2],M=F[3],N=F[4],O=F[5],P=F[6],Q=F[7];if(F!==E){E[8]=F[8];E[9]=F[9];E[10]=F[10];E[11]=F[11];E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15]}E[0]=J*I+N*H;E[1]=K*I+O*H;E[2]=L*I+P*H;E[3]=M*I+Q*H;E[4]=N*I-J*H;E[5]=O*I-K*H;E[6]=P*I-L*H;E[7]=Q*I-M*H;return E}function Aa(E,F){__p&&__p();E[0]=1;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=1;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=1;E[11]=0;E[12]=F[0];E[13]=F[1];E[14]=F[2];E[15]=1;return E}function Ba(E,F){__p&&__p();E[0]=F[0];E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=F[1];E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=F[2];E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Ca(E,F,G){__p&&__p();var H=G[0],I=G[1],J=G[2],K=Math.sqrt(H*H+I*I+J*J),L=void 0,M=void 0,N=void 0;if(Math.abs(K)<c.EPSILON)return null;K=1/K;H*=K;I*=K;J*=K;L=Math.sin(F);M=Math.cos(F);N=1-M;E[0]=H*H*N+M;E[1]=I*H*N+J*L;E[2]=J*H*N-I*L;E[3]=0;E[4]=H*I*N-J*L;E[5]=I*I*N+M;E[6]=J*I*N+H*L;E[7]=0;E[8]=H*J*N+I*L;E[9]=I*J*N-H*L;E[10]=J*J*N+M;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Da(E,F){__p&&__p();var G=Math.sin(F),H=Math.cos(F);E[0]=1;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=H;E[6]=G;E[7]=0;E[8]=0;E[9]=-G;E[10]=H;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Ea(E,F){__p&&__p();var G=Math.sin(F),H=Math.cos(F);E[0]=H;E[1]=0;E[2]=-G;E[3]=0;E[4]=0;E[5]=1;E[6]=0;E[7]=0;E[8]=G;E[9]=0;E[10]=H;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Fa(E,F){__p&&__p();var G=Math.sin(F),H=Math.cos(F);E[0]=H;E[1]=G;E[2]=0;E[3]=0;E[4]=-G;E[5]=H;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=1;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Ga(E,F,G){__p&&__p();var H=F[0],I=F[1],J=F[2],K=F[3],L=H+H,M=I+I,N=J+J,O=H*L,P=H*M,Q=H*N,R=I*M,S=I*N,T=J*N,U=K*L,V=K*M,W=K*N;E[0]=1-(R+T);E[1]=P+W;E[2]=Q-V;E[3]=0;E[4]=P-W;E[5]=1-(O+T);E[6]=S+U;E[7]=0;E[8]=Q+V;E[9]=S-U;E[10]=1-(O+R);E[11]=0;E[12]=G[0];E[13]=G[1];E[14]=G[2];E[15]=1;return E}function Ha(E,F){E[0]=F[12];E[1]=F[13];E[2]=F[14];return E}function j(E,F){var G=F[0],H=F[1],I=F[2],J=F[4],K=F[5],L=F[6],M=F[8],N=F[9],O=F[10];E[0]=Math.sqrt(G*G+H*H+I*I);E[1]=Math.sqrt(J*J+K*K+L*L);E[2]=Math.sqrt(M*M+N*N+O*O);return E}function k(E,F){__p&&__p();var G=F[0]+F[5]+F[10],H=0;if(G>0){H=Math.sqrt(G+1)*2;E[3]=.25*H;E[0]=(F[6]-F[9])/H;E[1]=(F[8]-F[2])/H;E[2]=(F[1]-F[4])/H}else if(F[0]>F[5]&F[0]>F[10]){H=Math.sqrt(1+F[0]-F[5]-F[10])*2;E[3]=(F[6]-F[9])/H;E[0]=.25*H;E[1]=(F[1]+F[4])/H;E[2]=(F[8]+F[2])/H}else if(F[5]>F[10]){H=Math.sqrt(1+F[5]-F[0]-F[10])*2;E[3]=(F[8]-F[2])/H;E[0]=(F[1]+F[4])/H;E[1]=.25*H;E[2]=(F[6]+F[9])/H}else{H=Math.sqrt(1+F[10]-F[0]-F[5])*2;E[3]=(F[1]-F[4])/H;E[0]=(F[8]+F[2])/H;E[1]=(F[6]+F[9])/H;E[2]=.25*H}return E}function l(E,F,G,H){__p&&__p();var I=F[0],J=F[1],K=F[2],L=F[3],M=I+I,N=J+J,O=K+K,P=I*M,Q=I*N,R=I*O,S=J*N,T=J*O,U=K*O,V=L*M,W=L*N,X=L*O,Y=H[0],Z=H[1],$=H[2];E[0]=(1-(S+U))*Y;E[1]=(Q+X)*Y;E[2]=(R-W)*Y;E[3]=0;E[4]=(Q-X)*Z;E[5]=(1-(P+U))*Z;E[6]=(T+V)*Z;E[7]=0;E[8]=(R+W)*$;E[9]=(T-V)*$;E[10]=(1-(P+S))*$;E[11]=0;E[12]=G[0];E[13]=G[1];E[14]=G[2];E[15]=1;return E}function m(E,F,G,H,I){__p&&__p();var J=F[0],K=F[1],L=F[2],M=F[3],N=J+J,O=K+K,P=L+L,Q=J*N,R=J*O,S=J*P,T=K*O,U=K*P,V=L*P,W=M*N,X=M*O,Y=M*P,Z=H[0],$=H[1],Ia=H[2],Ja=I[0],Ka=I[1],La=I[2];E[0]=(1-(T+V))*Z;E[1]=(R+Y)*Z;E[2]=(S-X)*Z;E[3]=0;E[4]=(R-Y)*$;E[5]=(1-(Q+V))*$;E[6]=(U+W)*$;E[7]=0;E[8]=(S+X)*Ia;E[9]=(U-W)*Ia;E[10]=(1-(Q+T))*Ia;E[11]=0;E[12]=G[0]+Ja-(E[0]*Ja+E[4]*Ka+E[8]*La);E[13]=G[1]+Ka-(E[1]*Ja+E[5]*Ka+E[9]*La);E[14]=G[2]+La-(E[2]*Ja+E[6]*Ka+E[10]*La);E[15]=1;return E}function n(E,F){__p&&__p();var G=F[0],H=F[1],I=F[2],J=F[3],K=G+G,L=H+H,M=I+I,N=G*K,O=H*K,P=H*L,Q=I*K,R=I*L,S=I*M,T=J*K,U=J*L,V=J*M;E[0]=1-P-S;E[1]=O+V;E[2]=Q-U;E[3]=0;E[4]=O-V;E[5]=1-N-S;E[6]=R+T;E[7]=0;E[8]=Q+U;E[9]=R-T;E[10]=1-N-P;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function o(E,F,G,H,I,J,K){__p&&__p();var L=1/(G-F),M=1/(I-H),N=1/(J-K);E[0]=J*2*L;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=J*2*M;E[6]=0;E[7]=0;E[8]=(G+F)*L;E[9]=(I+H)*M;E[10]=(K+J)*N;E[11]=-1;E[12]=0;E[13]=0;E[14]=K*J*2*N;E[15]=0;return E}function p(E,F,G,H,I){__p&&__p();var J=1/Math.tan(F/2),K=1/(H-I);E[0]=J/G;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=J;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=(I+H)*K;E[11]=-1;E[12]=0;E[13]=0;E[14]=2*I*H*K;E[15]=0;return E}function q(E,F,G,H){__p&&__p();var I=Math.tan(F.upDegrees*Math.PI/180),J=Math.tan(F.downDegrees*Math.PI/180),K=Math.tan(F.leftDegrees*Math.PI/180),L=Math.tan(F.rightDegrees*Math.PI/180),M=2/(K+L),N=2/(I+J);E[0]=M;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=N;E[6]=0;E[7]=0;E[8]=-((K-L)*M*.5);E[9]=(I-J)*N*.5;E[10]=H/(G-H);E[11]=-1;E[12]=0;E[13]=0;E[14]=H*G/(G-H);E[15]=0;return E}function r(E,F,G,H,I,J,K){__p&&__p();var L=1/(F-G),M=1/(H-I),N=1/(J-K);E[0]=-2*L;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=-2*M;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=2*N;E[11]=0;E[12]=(F+G)*L;E[13]=(I+H)*M;E[14]=(K+J)*N;E[15]=1;return E}function s(E,F,G,H){__p&&__p();var I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=F[0],T=F[1],U=F[2],V=H[0],W=H[1],X=H[2],Y=G[0],Z=G[1],$=G[2];if(Math.abs(S-Y)<c.EPSILON&&Math.abs(T-Z)<c.EPSILON&&Math.abs(U-$)<c.EPSILON)return mat4.identity(E);O=S-Y;P=T-Z;Q=U-$;R=1/Math.sqrt(O*O+P*P+Q*Q);O*=R;P*=R;Q*=R;I=W*Q-X*P;J=X*O-V*Q;K=V*P-W*O;R=Math.sqrt(I*I+J*J+K*K);if(!R){I=0;J=0;K=0}else{R=1/R;I*=R;J*=R;K*=R}L=P*K-Q*J;M=Q*I-O*K;N=O*J-P*I;R=Math.sqrt(L*L+M*M+N*N);if(!R){L=0;M=0;N=0}else{R=1/R;L*=R;M*=R;N*=R}E[0]=I;E[1]=L;E[2]=O;E[3]=0;E[4]=J;E[5]=M;E[6]=P;E[7]=0;E[8]=K;E[9]=N;E[10]=Q;E[11]=0;E[12]=-(I*S+J*T+K*U);E[13]=-(L*S+M*T+N*U);E[14]=-(O*S+P*T+Q*U);E[15]=1;return E}function t(E,F,G,H){__p&&__p();var I=F[0],J=F[1],K=F[2],L=H[0],M=H[1],N=H[2],O=I-G[0],P=J-G[1],Q=K-G[2],R=O*O+P*P+Q*Q;if(R>0){R=1/Math.sqrt(R);O*=R;P*=R;Q*=R}var S=M*Q-N*P,T=N*O-L*Q,U=L*P-M*O;E[0]=S;E[1]=T;E[2]=U;E[3]=0;E[4]=P*U-Q*T;E[5]=Q*S-O*U;E[6]=O*T-P*S;E[7]=0;E[8]=O;E[9]=P;E[10]=Q;E[11]=0;E[12]=I;E[13]=J;E[14]=K;E[15]=1;return E}function u(E){return"mat4("+E[0]+", "+E[1]+", "+E[2]+", "+E[3]+", "+E[4]+", "+E[5]+", "+E[6]+", "+E[7]+", "+E[8]+", "+E[9]+", "+E[10]+", "+E[11]+", "+E[12]+", "+E[13]+", "+E[14]+", "+E[15]+")"}function v(E){return Math.sqrt(Math.pow(E[0],2)+Math.pow(E[1],2)+Math.pow(E[2],2)+Math.pow(E[3],2)+Math.pow(E[4],2)+Math.pow(E[5],2)+Math.pow(E[6],2)+Math.pow(E[7],2)+Math.pow(E[8],2)+Math.pow(E[9],2)+Math.pow(E[10],2)+Math.pow(E[11],2)+Math.pow(E[12],2)+Math.pow(E[13],2)+Math.pow(E[14],2)+Math.pow(E[15],2))}function w(E,F,G){__p&&__p();E[0]=F[0]+G[0];E[1]=F[1]+G[1];E[2]=F[2]+G[2];E[3]=F[3]+G[3];E[4]=F[4]+G[4];E[5]=F[5]+G[5];E[6]=F[6]+G[6];E[7]=F[7]+G[7];E[8]=F[8]+G[8];E[9]=F[9]+G[9];E[10]=F[10]+G[10];E[11]=F[11]+G[11];E[12]=F[12]+G[12];E[13]=F[13]+G[13];E[14]=F[14]+G[14];E[15]=F[15]+G[15];return E}function x(E,F,G){__p&&__p();E[0]=F[0]-G[0];E[1]=F[1]-G[1];E[2]=F[2]-G[2];E[3]=F[3]-G[3];E[4]=F[4]-G[4];E[5]=F[5]-G[5];E[6]=F[6]-G[6];E[7]=F[7]-G[7];E[8]=F[8]-G[8];E[9]=F[9]-G[9];E[10]=F[10]-G[10];E[11]=F[11]-G[11];E[12]=F[12]-G[12];E[13]=F[13]-G[13];E[14]=F[14]-G[14];E[15]=F[15]-G[15];return E}function y(E,F,G){__p&&__p();E[0]=F[0]*G;E[1]=F[1]*G;E[2]=F[2]*G;E[3]=F[3]*G;E[4]=F[4]*G;E[5]=F[5]*G;E[6]=F[6]*G;E[7]=F[7]*G;E[8]=F[8]*G;E[9]=F[9]*G;E[10]=F[10]*G;E[11]=F[11]*G;E[12]=F[12]*G;E[13]=F[13]*G;E[14]=F[14]*G;E[15]=F[15]*G;return E}function z(E,F,G,g){__p&&__p();E[0]=F[0]+G[0]*g;E[1]=F[1]+G[1]*g;E[2]=F[2]+G[2]*g;E[3]=F[3]+G[3]*g;E[4]=F[4]+G[4]*g;E[5]=F[5]+G[5]*g;E[6]=F[6]+G[6]*g;E[7]=F[7]+G[7]*g;E[8]=F[8]+G[8]*g;E[9]=F[9]+G[9]*g;E[10]=F[10]+G[10]*g;E[11]=F[11]+G[11]*g;E[12]=F[12]+G[12]*g;E[13]=F[13]+G[13]*g;E[14]=F[14]+G[14]*g;E[15]=F[15]+G[15]*g;return E}function A(E,F){return E[0]===F[0]&&E[1]===F[1]&&E[2]===F[2]&&E[3]===F[3]&&E[4]===F[4]&&E[5]===F[5]&&E[6]===F[6]&&E[7]===F[7]&&E[8]===F[8]&&E[9]===F[9]&&E[10]===F[10]&&E[11]===F[11]&&E[12]===F[12]&&E[13]===F[13]&&E[14]===F[14]&&E[15]===F[15]}function B(E,F){var G=E[0],H=E[1],I=E[2],J=E[3],K=E[4],L=E[5],M=E[6],N=E[7],O=E[8],P=E[9],Q=E[10],R=E[11],S=E[12],T=E[13],U=E[14],V=E[15],W=F[0],X=F[1],Y=F[2],Z=F[3],$=F[4],Ia=F[5],Ja=F[6],Ka=F[7],La=F[8],Ma=F[9],Na=F[10],Oa=F[11],Pa=F[12],Qa=F[13],Ra=F[14],Sa=F[15];return Math.abs(G-W)<=c.EPSILON*Math.max(1,Math.abs(G),Math.abs(W))&&Math.abs(H-X)<=c.EPSILON*Math.max(1,Math.abs(H),Math.abs(X))&&Math.abs(I-Y)<=c.EPSILON*Math.max(1,Math.abs(I),Math.abs(Y))&&Math.abs(J-Z)<=c.EPSILON*Math.max(1,Math.abs(J),Math.abs(Z))&&Math.abs(K-$)<=c.EPSILON*Math.max(1,Math.abs(K),Math.abs($))&&Math.abs(L-Ia)<=c.EPSILON*Math.max(1,Math.abs(L),Math.abs(Ia))&&Math.abs(M-Ja)<=c.EPSILON*Math.max(1,Math.abs(M),Math.abs(Ja))&&Math.abs(N-Ka)<=c.EPSILON*Math.max(1,Math.abs(N),Math.abs(Ka))&&Math.abs(O-La)<=c.EPSILON*Math.max(1,Math.abs(O),Math.abs(La))&&Math.abs(P-Ma)<=c.EPSILON*Math.max(1,Math.abs(P),Math.abs(Ma))&&Math.abs(Q-Na)<=c.EPSILON*Math.max(1,Math.abs(Q),Math.abs(Na))&&Math.abs(R-Oa)<=c.EPSILON*Math.max(1,Math.abs(R),Math.abs(Oa))&&Math.abs(S-Pa)<=c.EPSILON*Math.max(1,Math.abs(S),Math.abs(Pa))&&Math.abs(T-Qa)<=c.EPSILON*Math.max(1,Math.abs(T),Math.abs(Qa))&&Math.abs(U-Ra)<=c.EPSILON*Math.max(1,Math.abs(U),Math.abs(Ra))&&Math.abs(V-Sa)<=c.EPSILON*Math.max(1,Math.abs(V),Math.abs(Sa))}var C=a.mul=wa,D=a.sub=x},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.setAxes=a.sqlerp=a.rotationTo=a.equals=a.exactEquals=a.normalize=a.sqrLen=a.squaredLength=a.len=a.length=a.lerp=a.dot=a.scale=a.mul=a.add=a.set=a.copy=a.fromValues=a.clone=undefined;a.create=sa;a.identity=ta;a.setAxisAngle=ua;a.getAxisAngle=va;a.multiply=wa;a.rotateX=xa;a.rotateY=g;a.rotateZ=ya;a.calculateW=h;a.slerp=i;a.invert=za;a.conjugate=Aa;a.fromMat3=Ba;a.fromEuler=Ca;a.str=Da;var na=b(0),c=ra(na),d=b(1),e=ra(d),oa=b(2),pa=ra(oa),qa=b(3),f=ra(qa);function ra(y){__p&&__p();if(y&&y.__esModule)return y;else{var z={};if(y!=null)for(var A in y)if(Object.prototype.hasOwnProperty.call(y,A))z[A]=y[A];z["default"]=y;return z}}function sa(){var y=new c.ARRAY_TYPE(4);y[0]=0;y[1]=0;y[2]=0;y[3]=1;return y}function ta(y){y[0]=0;y[1]=0;y[2]=0;y[3]=1;return y}function ua(y,z,A){A=A*.5;var B=Math.sin(A);y[0]=B*z[0];y[1]=B*z[1];y[2]=B*z[2];y[3]=Math.cos(A);return y}function va(y,z){__p&&__p();var A=Math.acos(z[3])*2,B=Math.sin(A/2);if(B!=0){y[0]=z[0]/B;y[1]=z[1]/B;y[2]=z[2]/B}else{y[0]=1;y[1]=0;y[2]=0}return A}function wa(y,z,A){var B=z[0],C=z[1],D=z[2],E=z[3],F=A[0],G=A[1],H=A[2],I=A[3];y[0]=B*I+E*F+C*H-D*G;y[1]=C*I+E*G+D*F-B*H;y[2]=D*I+E*H+B*G-C*F;y[3]=E*I-B*F-C*G-D*H;return y}function xa(y,z,A){A*=.5;var B=z[0],C=z[1],D=z[2],E=z[3],F=Math.sin(A),G=Math.cos(A);y[0]=B*G+E*F;y[1]=C*G+D*F;y[2]=D*G-C*F;y[3]=E*G-B*F;return y}function g(y,z,A){A*=.5;var B=z[0],C=z[1],D=z[2],E=z[3],F=Math.sin(A),G=Math.cos(A);y[0]=B*G-D*F;y[1]=C*G+E*F;y[2]=D*G+B*F;y[3]=E*G-C*F;return y}function ya(y,z,A){A*=.5;var B=z[0],C=z[1],D=z[2],E=z[3],F=Math.sin(A),G=Math.cos(A);y[0]=B*G+C*F;y[1]=C*G-B*F;y[2]=D*G+E*F;y[3]=E*G-D*F;return y}function h(y,z){var A=z[0],B=z[1],C=z[2];y[0]=A;y[1]=B;y[2]=C;y[3]=Math.sqrt(Math.abs(1-A*A-B*B-C*C));return y}function i(y,z,A,B){__p&&__p();var C=z[0],D=z[1],E=z[2],F=z[3],G=A[0],H=A[1],I=A[2],J=A[3],K=void 0,L=void 0,M=void 0,N=void 0,O=void 0;L=C*G+D*H+E*I+F*J;if(L<0){L=-L;G=-G;H=-H;I=-I;J=-J}if(1-L>1e-6){K=Math.acos(L);M=Math.sin(K);N=Math.sin((1-B)*K)/M;O=Math.sin(B*K)/M}else{N=1-B;O=B}y[0]=N*C+O*G;y[1]=N*D+O*H;y[2]=N*E+O*I;y[3]=N*F+O*J;return y}function za(y,z){var A=z[0],B=z[1],C=z[2],D=z[3],m=A*A+B*B+C*C+D*D,E=m?1/m:0;y[0]=-A*E;y[1]=-B*E;y[2]=-C*E;y[3]=D*E;return y}function Aa(y,z){y[0]=-z[0];y[1]=-z[1];y[2]=-z[2];y[3]=z[3];return y}function Ba(y,z){__p&&__p();var A=z[0]+z[4]+z[8],B=void 0;if(A>0){B=Math.sqrt(A+1);y[3]=.5*B;B=.5/B;y[0]=(z[5]-z[7])*B;y[1]=(z[6]-z[2])*B;y[2]=(z[1]-z[3])*B}else{var C=0;if(z[4]>z[0])C=1;if(z[8]>z[C*3+C])C=2;var D=(C+1)%3,E=(C+2)%3;B=Math.sqrt(z[C*3+C]-z[D*3+D]-z[E*3+E]+1);y[C]=.5*B;B=.5/B;y[3]=(z[D*3+E]-z[E*3+D])*B;y[D]=(z[D*3+C]+z[C*3+D])*B;y[E]=(z[E*3+C]+z[C*3+E])*B}return y}function Ca(y,z,A,B){__p&&__p();var C=.5*Math.PI/180;z*=C;A*=C;B*=C;var D=Math.sin(z),E=Math.cos(z),F=Math.sin(A),G=Math.cos(A),H=Math.sin(B),I=Math.cos(B);y[0]=D*G*I-E*F*H;y[1]=E*F*I+D*G*H;y[2]=E*G*H-D*F*I;y[3]=E*G*I+D*F*H;return y}function Da(y){return"quat("+y[0]+", "+y[1]+", "+y[2]+", "+y[3]+")"}var Ea=a.clone=f.clone,Fa=a.fromValues=f.fromValues,Ga=a.copy=f.copy,Ha=a.set=f.set,j=a.add=f.add,k=a.mul=wa,l=a.scale=f.scale,m=a.dot=f.dot,n=a.lerp=f.lerp,o=a.length=f.length,p=a.len=o,q=a.squaredLength=f.squaredLength,r=a.sqrLen=q,s=a.normalize=f.normalize,t=a.exactEquals=f.exactEquals,u=a.equals=f.equals,v=a.rotationTo=function(){__p&&__p();var y=pa.create(),z=pa.fromValues(1,0,0),A=pa.fromValues(0,1,0);return function(B,C,D){__p&&__p();var m=pa.dot(C,D);if(m<-.999999){pa.cross(y,z,C);if(pa.len(y)<1e-6)pa.cross(y,A,C);pa.normalize(y,y);ua(B,y,Math.PI);return B}else if(m>.999999){B[0]=0;B[1]=0;B[2]=0;B[3]=1;return B}else{pa.cross(y,C,D);B[0]=y[0];B[1]=y[1];B[2]=y[2];B[3]=1+m;return s(B,B)}}}(),w=a.sqlerp=function(){var y=sa(),z=sa();return function(A,B,C,D,E,F){i(y,B,E,F);i(z,C,D,F);i(A,y,z,2*F*(1-F));return A}}(),x=a.setAxes=function(){__p&&__p();var y=e.create();return function(z,A,B,C){__p&&__p();y[0]=B[0];y[3]=B[1];y[6]=B[2];y[1]=C[0];y[4]=C[1];y[7]=C[2];y[2]=-A[0];y[5]=-A[1];y[8]=-A[2];return s(z,Ba(z,y))}}()},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.forEach=a.sqrLen=a.sqrDist=a.dist=a.div=a.mul=a.sub=a.len=undefined;a.create=e;a.clone=oa;a.fromValues=pa;a.copy=qa;a.set=f;a.add=ra;a.subtract=sa;a.multiply=ta;a.divide=ua;a.ceil=va;a.floor=wa;a.min=xa;a.max=g;a.round=ya;a.scale=h;a.scaleAndAdd=i;a.distance=za;a.squaredDistance=Aa;a.length=Ba;a.squaredLength=Ca;a.negate=Da;a.inverse=Ea;a.normalize=Fa;a.dot=Ga;a.cross=Ha;a.lerp=j;a.random=k;a.transformMat2=l;a.transformMat2d=m;a.transformMat3=n;a.transformMat4=o;a.str=p;a.exactEquals=q;a.equals=r;var na=b(0),c=d(na);function d(A){__p&&__p();if(A&&A.__esModule)return A;else{var B={};if(A!=null)for(var C in A)if(Object.prototype.hasOwnProperty.call(A,C))B[C]=A[C];B["default"]=A;return B}}function e(){var A=new c.ARRAY_TYPE(2);A[0]=0;A[1]=0;return A}function oa(A){var B=new c.ARRAY_TYPE(2);B[0]=A[0];B[1]=A[1];return B}function pa(A,B){var C=new c.ARRAY_TYPE(2);C[0]=A;C[1]=B;return C}function qa(A,B){A[0]=B[0];A[1]=B[1];return A}function f(A,B,C){A[0]=B;A[1]=C;return A}function ra(A,B,C){A[0]=B[0]+C[0];A[1]=B[1]+C[1];return A}function sa(A,B,C){A[0]=B[0]-C[0];A[1]=B[1]-C[1];return A}function ta(A,B,C){A[0]=B[0]*C[0];A[1]=B[1]*C[1];return A}function ua(A,B,C){A[0]=B[0]/C[0];A[1]=B[1]/C[1];return A}function va(A,B){A[0]=Math.ceil(B[0]);A[1]=Math.ceil(B[1]);return A}function wa(A,B){A[0]=Math.floor(B[0]);A[1]=Math.floor(B[1]);return A}function xa(A,B,C){A[0]=Math.min(B[0],C[0]);A[1]=Math.min(B[1],C[1]);return A}function g(A,B,C){A[0]=Math.max(B[0],C[0]);A[1]=Math.max(B[1],C[1]);return A}function ya(A,B){A[0]=Math.round(B[0]);A[1]=Math.round(B[1]);return A}function h(A,B,C){A[0]=B[0]*C;A[1]=B[1]*C;return A}function i(A,B,C,h){A[0]=B[0]+C[0]*h;A[1]=B[1]+C[1]*h;return A}function za(A,B){var C=B[0]-A[0],D=B[1]-A[1];return Math.sqrt(C*C+D*D)}function Aa(A,B){var C=B[0]-A[0],D=B[1]-A[1];return C*C+D*D}function Ba(A){var B=A[0],C=A[1];return Math.sqrt(B*B+C*C)}function Ca(A){var B=A[0],C=A[1];return B*B+C*C}function Da(A,B){A[0]=-B[0];A[1]=-B[1];return A}function Ea(A,B){A[0]=1/B[0];A[1]=1/B[1];return A}function Fa(A,B){var C=B[0],D=B[1],s=C*C+D*D;if(s>0){s=1/Math.sqrt(s);A[0]=B[0]*s;A[1]=B[1]*s}return A}function Ga(A,B){return A[0]*B[0]+A[1]*B[1]}function Ha(A,B,C){var D=B[0]*C[1]-B[1]*C[0];A[0]=A[1]=0;A[2]=D;return A}function j(A,B,C,D){var E=B[0],F=B[1];A[0]=E+D*(C[0]-E);A[1]=F+D*(C[1]-F);return A}function k(A,h){h=h||1;var B=c.RANDOM()*2*Math.PI;A[0]=Math.cos(B)*h;A[1]=Math.sin(B)*h;return A}function l(A,B,C){var D=B[0],E=B[1];A[0]=C[0]*D+C[2]*E;A[1]=C[1]*D+C[3]*E;return A}function m(A,B,C){var D=B[0],E=B[1];A[0]=C[0]*D+C[2]*E+C[4];A[1]=C[1]*D+C[3]*E+C[5];return A}function n(A,B,C){var D=B[0],E=B[1];A[0]=C[0]*D+C[3]*E+C[6];A[1]=C[1]*D+C[4]*E+C[7];return A}function o(A,B,C){var D=B[0],E=B[1];A[0]=C[0]*D+C[4]*E+C[12];A[1]=C[1]*D+C[5]*E+C[13];return A}function p(A){return"vec2("+A[0]+", "+A[1]+")"}function q(A,B){return A[0]===B[0]&&A[1]===B[1]}function r(A,B){var C=A[0],D=A[1],E=B[0],F=B[1];return Math.abs(C-E)<=c.EPSILON*Math.max(1,Math.abs(C),Math.abs(E))&&Math.abs(D-F)<=c.EPSILON*Math.max(1,Math.abs(D),Math.abs(F))}var s=a.len=Ba,t=a.sub=sa,u=a.mul=ta,v=a.div=ua,w=a.dist=za,x=a.sqrDist=Aa,y=a.sqrLen=Ca,z=a.forEach=function(){__p&&__p();var A=e();return function(B,C,D,E,F,G){__p&&__p();var H=void 0,I=void 0;if(!C)C=2;if(!D)D=0;if(E)I=Math.min(E*C+D,B.length);else I=B.length;for(H=D;H<I;H+=C){A[0]=B[H];A[1]=B[H+1];F(A,A,G);B[H]=A[0];B[H+1]=A[1]}return B}}()}])})}var ka=false,la=function(){if(!ka){ka=true;ja()}return ha.exports},ma=function(b){switch(b){case undefined:return la()}};fa.exports=ma}),null);
__d("gl-matrix",["gl-matrix-2.4.0"],(function a(b,c,d,e,f,g){f.exports=c("gl-matrix-2.4.0")()}),null);
__d("radToDeg",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i*180/Math.PI}f.exports=h}),null);
__d("SphericalProjectionUtils",["invariant","degToRad","gl-matrix","radToDeg"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("gl-matrix").vec3,j=c("gl-matrix").mat4,k=Math.acos,l=Math.sin,m=Math.cos,n=15,o=.2,p={convert3dTo2dNormalized:function q(r,s,t,u,v,w,x){__p&&__p();var y=c("degToRad")(r),z=c("degToRad")(s),A=c("degToRad")(t),B=c("degToRad")(u),C=c("degToRad")(v),D=j.create();j.perspective(D,C,w/x,.1,100);var E=j.create();j.rotateX(E,E,z);j.rotateY(E,E,y);j.invert(E,E);var F=j.create();j.rotateX(F,F,B);j.rotateY(F,F,A);j.multiply(F,F,E);j.multiply(F,D,F);var G=i.fromValues(0,0,-1);i.transformMat4(G,G,F);var H=.5+G[0]/2,I=.5+G[1]/2;return{x:H,y:I,isNegativeTwin:G[2]>1}},convert3dTo2dScaled:function q(r,s,t,u,v,w,x){var y=p.convert3dTo2dNormalized.apply(p,arguments),z=y.x,A=y.y,B=y.isNegativeTwin;return{x:z*w,y:A*x,isNegativeTwin:B}},convert3dTo2dScaledUnique:function q(r,s,t,u,v,w,x){var y=p.convert3dTo2dNormalized.apply(p,arguments),z=y.x,A=y.y,B=y.isNegativeTwin;if(B)z=A=-1;else{z*=w;A*=x}return{x:z,y:A}},convert3dTo2dOnScreen:function q(r,s,t,u,v,w,x){var y=p.convert3dTo2dScaled.apply(p,arguments),z=y.x,A=y.y,B=y.isNegativeTwin;if(B){z=-z;A=s>0?-x:x}z=Math.max(0,Math.min(w,z));A=Math.max(0,Math.min(x,A));return{x:z,y:A}},convert2dTo3dNormalized:function q(r,s,t,u,v,w,x){__p&&__p();r<=1&&r>=-1||h(0);s<=1&&s>=-1||h(0);var y=c("degToRad")(t),z=c("degToRad")(u),A=c("degToRad")(v),B=j.create();j.perspective(B,A,w/x,.1,100);var C=-r/B[0],D=-s/B[5],E=y,F=z,G=Math.atan(Math.tan(A/2)*B[5]/B[0]),H=E+(C<0?G:-G),I=F+(D>0?A/2:-A/2),J=void 0,K=void 0,L=void 0,M=void 0,N=void 0;M=N=J=0;while(J<n&&!(Math.abs(c("radToDeg")(H-E))<o&&Math.abs(c("radToDeg")(I-F))<o)){J++;K=(E+H)/2;L=(F+I)/2;var O=p._getRelativePositionWithoutProjection(y,z,K,L),P=O.x,Q=O.y;if((D-N)*(D-Q)<=0)I=L;else{F=L;N=Q}if((C-M)*(C-P)<=0)H=K;else{E=K;M=P}}var R=void 0,S=void 0;if(J<n){R=Math.ceil(c("radToDeg")(E));S=Math.ceil(c("radToDeg")(F))}else{R=t;S=u}return{yaw:R,pitch:S}},convert2dTo3dScaled:function q(r,s,t,u,v,w,x){var y=w/2,z=x/2;return p.convert2dTo3dNormalized((r-y)*(2/w),(s-z)*(2/x),t,u,v,w,x)},_getRelativePositionWithoutProjection:function q(r,s,t,u){var v=(s-u)/2,w=(s+u)/2,x=Math.cos((r-t)/2),y=Math.sin((r-t)/2),z=Math.cos(v)*x,A=Math.sin(v)*x,B=Math.cos(w)*y,C=Math.sin(w)*y,D=2*A*C+2*z*B,E=2*B*C-2*z*A,F=1-2*A*A-2*B*B;return{x:D/F,y:E/F}},distanceBetweenSphericalCoordinatesDeg:function q(r,s,t,u){return c("radToDeg")(p.distanceBetweenSphericalCoordinatesRad.apply(p,Array.from(arguments).map(c("degToRad"))))},distanceBetweenSphericalCoordinatesRad:function q(r,s,t,u){return k(l(s)*l(u)+m(s)*m(u)*m(r-t))}};f.exports=p}),null);
__d("ComposerVideoUploadSphericalMediaToolkitUtils",["invariant","FBHotspot","ComposerVideoUploadSphericalMediaToolkitConstants","ImageResizeHandleCorners","SphericalHotspotSharedOptions","SphericalVideoMediaToolkitTextStyles","ComposerVideoUploadSphericalMediaToolkitSharedOptions","SphericalHotspotAnimations","SphericalHotspotDurations","SphericalProjectionUtils","SphericalVideoHotspotAnimation","SphericalVideoHotspotType","ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,j={calculateHotspotStyle:function k(l,m,n,o,p,q,r){var s=c("SphericalProjectionUtils").convert3dTo2dScaledUnique(n?r:m.yaw,n?o:m.pitch,r,o,l,q,p),t=s.x,u=s.y,v="-"+m.content.height/2+"px 0 0 -"+m.content.width/2+"px";if(m.content.type===c("SphericalVideoHotspotType").TEXT)return{background:n?c("ComposerVideoUploadSphericalMediaToolkitConstants").EDITING_BACKGROUND_COLOR[m.content.backgroundColor]:m.content.backgroundColor,boxShadow:m.content.backgroundColor==="none"?"none":c("ComposerVideoUploadSphericalMediaToolkitConstants").BOX_SHADOW,color:m.content.color,fontFamily:m.content.fontFamily+", Helvetica, serif",fontSize:m.content.fontSize+"px",fontWeight:m.content.fontWeight==="light"?300:700,height:m.content.height+"px",left:t+"px",lineHeight:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_LINE_HEIGHT,margin:v,textAlign:m.content.alignment,top:u+"px",width:m.content.width+"px"};else if(m.content.type===c("SphericalVideoHotspotType").IMAGE)return{height:m.content.height+"px",left:t+"px",margin:v,top:u+"px",width:m.content.width+"px"};return null},calculateImageDimensionsByMousePosition:function k(l,m,n,o,p,q,r){__p&&__p();var s=q,t=r,u=(m-o)*2,v=(n-p)*2;switch(l){case c("ImageResizeHandleCorners").NW:s-=v;t-=u;break;case c("ImageResizeHandleCorners").NE:s-=v;t+=u;break;case c("ImageResizeHandleCorners").SW:s+=v;t-=u;break;case c("ImageResizeHandleCorners").SE:s+=v;t+=u;break}return{height:s,width:t}},calculateImageMaxScaledDimensions:function k(l,m,n,o){__p&&__p();var p=void 0,q=void 0;if(l===m){p=Math.min(n,o);q=Math.min(n,o)}else if(l>m){p=n;q=m/l*n}else{q=o;p=l/m*o}return{height:p,width:q}},calculateImageMinScaledDimensions:function k(l,m,n,o){__p&&__p();var p=void 0,q=void 0;if(l===m){p=Math.max(n,o);q=Math.max(n,o)}else if(l<m){p=n;q=m/l*n}else{q=o;p=l/m*o}return{height:p,width:q}},constrainImageDimensionsToAspectRatio:function k(l,m){var n=l.height,o=l.width,p=o/n;if(p>m)n=o/m;else o=m*n;return{height:n,width:o}},constrainImageDimensionsToMinAndMax:function k(l,m,n){return{height:Math.min(Math.max(l.height,n.height),m.height),width:Math.min(Math.max(l.width,n.width),m.width)}},calculatePreviewVisibility:function k(l,m,n,o,p,q,r){if(n.startTime>l||n.endTime<=l)return false;var s=c("SphericalProjectionUtils").convert3dTo2dScaledUnique(n.yaw,n.pitch,r,o,m,q,p),t=s.x,u=s.y;return t!==-1&&u!==-1},calculateResizableImageHotspotStyle:function k(l,m,n,o){var p="-"+l/2+"px 0 0 -"+m/2+"px";return{height:l+"px",left:o/2+"px",margin:p,top:n/2+"px",width:m+"px"}},getAnimationOption:function k(l){__p&&__p();var m=c("ComposerVideoUploadSphericalMediaToolkitConstants").SHARED_OPTION_DEFAULT_ANIMATION;if(!l)return m;switch(l.content.animation){case c("SphericalVideoHotspotAnimation").DISSOLVE:m=c("SphericalHotspotAnimations").DISSOLVE;break;case c("SphericalVideoHotspotAnimation").NO_ANIM:m=c("SphericalHotspotAnimations").HARD_CUT;break;default:break}return m},getDurationOption:function k(l){__p&&__p();var m=c("ComposerVideoUploadSphericalMediaToolkitConstants").SHARED_OPTION_DEFAULT_DURATION;if(!l)return m;var n=l.endTime-l.startTime;if(l.startTime===0&&n>10*i)m=c("SphericalHotspotDurations").FULL_VIDEO;else if(n>5*i)m=c("SphericalHotspotDurations").TEN_SEC;else m=c("SphericalHotspotDurations").FIVE_SEC;return m},getDefaultHotspot:function k(l,m){if(l===c("SphericalVideoHotspotType").TEXT)return new(c("FBHotspot"))({pitch:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_PITCH,yaw:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_YAW,startTime:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_START_TIME,endTime:Math.min(c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_START_TIME+c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_DURATION_MS,m),content:{alignment:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ALIGNMENT,backgroundColor:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_BACKGROUND_COLOR,color:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_COLOR,fontFamily:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_FONT_FAMILY,fontSize:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_FONT_SIZE,fontWeight:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_FONT_WEIGHT,text:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_TEXT,type:c("SphericalVideoHotspotType").TEXT,animation:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ANIMATION,height:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_HEIGHT_FOR_TEXT,id:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ID,width:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_WIDTH_FOR_TEXT}});else return new(c("FBHotspot"))({pitch:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_PITCH,yaw:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_YAW,startTime:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_START_TIME,endTime:Math.min(c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_START_TIME+c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_DURATION_MS,m),content:{animation:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ANIMATION,height:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_HEIGHT_FOR_IMAGE,id:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ID,imageData:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_IMAGE_DATA,type:c("SphericalVideoHotspotType").IMAGE,width:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_WIDTH_FOR_IMAGE}})},getNextAnimationOption:function k(l){var m=c("ComposerVideoUploadSphericalMediaToolkitSharedOptions")[c("SphericalHotspotSharedOptions").ANIMATION].indexOf(l),n=(m+1)%c("ComposerVideoUploadSphericalMediaToolkitSharedOptions")[c("SphericalHotspotSharedOptions").ANIMATION].length;return c("ComposerVideoUploadSphericalMediaToolkitSharedOptions")[c("SphericalHotspotSharedOptions").ANIMATION][n]},getNextDurationOption:function k(l){var m=c("ComposerVideoUploadSphericalMediaToolkitSharedOptions")[c("SphericalHotspotSharedOptions").DURATION].indexOf(l),n=(m+1)%c("ComposerVideoUploadSphericalMediaToolkitSharedOptions")[c("SphericalHotspotSharedOptions").DURATION].length;return c("ComposerVideoUploadSphericalMediaToolkitSharedOptions")[c("SphericalHotspotSharedOptions").DURATION][n]},getTextBarStyle:function k(l,m,n){return Object.keys(c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n]).find(function(o){return m.content.type===c("SphericalVideoHotspotType").TEXT&&c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][o]===m.content[n]})||l[n]},getTextBarStyles:function k(l){var m={alignment:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_ALIGNMENT,backgroundColor:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_BACKGROUND,color:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_COLOR,fontSize:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_FONT_SIZE,fontWeight:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_FONT_WEIGHT};if(!l)return m;return{alignment:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT),backgroundColor:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").BACKGROUND),color:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").COLOR),fontSize:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE),fontWeight:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT)}},updateHotspotWithAnimationOption:function k(l,m){__p&&__p();var n=m.content.animation;switch(l){case c("SphericalHotspotAnimations").DISSOLVE:n=c("SphericalVideoHotspotAnimation").DISSOLVE;break;case c("SphericalHotspotAnimations").HARD_CUT:n=c("SphericalVideoHotspotAnimation").NO_ANIM;break;default:break}if(m.content.type===c("SphericalVideoHotspotType").TEXT)return this.updateTextHotspotContent(m,{animation:n});else if(m.content.type===c("SphericalVideoHotspotType").IMAGE)return this.updateImageHotspotContent(m,{animation:n});return m},updateImageHotspotContent:function k(l,m){l.content.type===c("SphericalVideoHotspotType").IMAGE||h(0);var n=babelHelpers["extends"]({},l.content,m);return l.set("content",n)},updateTextHotspotContent:function k(l,m){l.content.type===c("SphericalVideoHotspotType").TEXT||h(0);var n=babelHelpers["extends"]({},l.content,m);return l.set("content",n)}};f.exports=j}),null);
__d("ComposerVideoUploadSphericalSharedOptionsButton.react",["cx","FlexLayout.react","Image.react","ShimButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),{className:c("joinClasses")(this.props.className,"_3c_m"),onClick:this.props.onClick},c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_3c_y",justify:"all"},c("React").createElement("div",null,this.props.config.label),c("React").createElement(c("Image.react"),{src:this.props.config.thumbnail})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalSharedOptionsBar.react",["cx","FlexLayout.react","React","ComposerVideoUploadSphericalSharedOptionsButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_3c_j"},c("React").createElement(c("FlexLayout.react"),{className:"_3c_l",align:"center",justify:"start"},c("React").createElement(c("ComposerVideoUploadSphericalSharedOptionsButton.react"),{config:this.props.durationConfig,onClick:this.props.handleDurationButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalSharedOptionsButton.react"),{className:"_3c_o",config:this.props.animationConfig,onClick:this.props.handleAnimationButtonClick})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalAnnotationEditLayer.react",["ix","cx","invariant","ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBar.react","ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow.react","FBHotspot","ComposerVideoUploadSphericalHotspotSaveNux.react","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitUtils","React","ComposerVideoUploadSphericalSharedOptionsBar.react","SphericalVideoHotspotType","asset"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;m.prototype.componentDidMount=function(){"use strict";if(this.props.showNux)this.props.handleNuxView()};m.prototype.render=function(){"use strict";var n=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateHotspotStyle(this.props.fov,this.props.hotspot,true,this.props.pitch,this.props.viewportHeight,this.props.viewportWidth,this.props.yaw),o=this.props.textareaDefaultValue?this.props.textareaDefaultValue:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_TEXT;this.props.hotspot.content.type===c("SphericalVideoHotspotType").TEXT||j(0);var p=o+this.props.hotspot.content.fontSize+this.props.hotspot.content.fontWeight;return c("React").createElement("div",{className:"_js1"},c("React").createElement("div",{className:"_th5"},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBar.react"),{textStyles:this.props.textStyles,handleButtonClick:this.props.handleTextStyleButtonClick}),this.props.enableDurationAnimation&&c("React").createElement(c("ComposerVideoUploadSphericalSharedOptionsBar.react"),{animationConfig:this.props.animationConfig,durationConfig:this.props.durationConfig,handleAnimationButtonClick:this.props.handleAnimationButtonClick,handleDurationButtonClick:this.props.handleDurationButtonClick})),c("React").createElement("div",{className:"_63-t",style:n},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow.react"),{ref:function(q){return this.$ComposerVideoUploadSphericalAnnotationEditLayer1=q}.bind(this),defaultValue:o,key:p,maxLength:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXTAREA_MAX_CHARS,placeholder:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXTAREA_PLACEHOLDER,value:this.props.textareaValue,onChange:this.props.handleTextareaValueChange,handleTextareaMounted:this.props.handleTextareaMounted,setTextareaRef:this.props.setTextareaRef}),c("React").createElement(c("ComposerVideoUploadSphericalHotspotSaveNux.react"),{contextRef:function(){return this.$ComposerVideoUploadSphericalAnnotationEditLayer1}.bind(this),showNux:this.props.showNux,handleNuxClosed:this.props.handleNuxClosed})),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_2ysg",thumbnail:h("402967"),onClick:this.props.handleDeleteButtonClick}))};function m(){"use strict";k.apply(this,arguments)}f.exports=m}),null);
__d("ComposerVideoUploadSphericalMediaToolkitSharedOptionsConfig",["fbt","ix","SphericalHotspotAnimations","SphericalHotspotDurations","SphericalHotspotSharedOptions","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l;f.exports=(l={},l[c("SphericalHotspotSharedOptions").DURATION]=(j={},j[c("SphericalHotspotDurations").FIVE_SEC]={label:h._("5 Seconds"),thumbnail:i("496539")},j[c("SphericalHotspotDurations").TEN_SEC]={label:h._("10 Seconds"),thumbnail:i("496537")},j[c("SphericalHotspotDurations").FULL_VIDEO]={label:h._("Full Video"),thumbnail:i("496530")},j),l[c("SphericalHotspotSharedOptions").ANIMATION]=(k={},k[c("SphericalHotspotAnimations").DISSOLVE]={label:h._("Dissolve"),thumbnail:i("405028")},k[c("SphericalHotspotAnimations").HARD_CUT]={label:h._("Hard Cut"),thumbnail:i("405025")},k),l)}),null);
__d("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions",["SphericalVideoMediaToolkitAlignments","SphericalVideoMediaToolkitBackgrounds","SphericalVideoMediaToolkitColors","SphericalVideoMediaToolkitFontSizes","SphericalVideoMediaToolkitFontWeights","SphericalVideoMediaToolkitTextStyles"],(function a(b,c,d,e,f,g){"use strict";var h;f.exports=(h={},h[c("SphericalVideoMediaToolkitTextStyles").COLOR]=[c("SphericalVideoMediaToolkitColors").BLACK,c("SphericalVideoMediaToolkitColors").BLUE,c("SphericalVideoMediaToolkitColors").GREEN,c("SphericalVideoMediaToolkitColors").PURPLE,c("SphericalVideoMediaToolkitColors").ROSE,c("SphericalVideoMediaToolkitColors").WHITE,c("SphericalVideoMediaToolkitColors").YELLOW],h[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE]=[c("SphericalVideoMediaToolkitFontSizes").SMALL,c("SphericalVideoMediaToolkitFontSizes").MEDIUM,c("SphericalVideoMediaToolkitFontSizes").LARGE],h[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT]=[c("SphericalVideoMediaToolkitAlignments").LEFT,c("SphericalVideoMediaToolkitAlignments").CENTER,c("SphericalVideoMediaToolkitAlignments").RIGHT],h[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND]=[c("SphericalVideoMediaToolkitBackgrounds").BLACK,c("SphericalVideoMediaToolkitBackgrounds").WHITE,c("SphericalVideoMediaToolkitBackgrounds").NONE],h[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT]=[c("SphericalVideoMediaToolkitFontWeights").LIGHT,c("SphericalVideoMediaToolkitFontWeights").BOLD],h)}),null);
__d("ComposerVideoUploadSphericalAnnotationEditLayerContainer.react",["invariant","ComposerVideoUploadSphericalAddAnnotationLayer.react","ComposerVideoUploadSphericalAnnotationEditLayer.react","ComposerVideoUploadSphericalEvents","ComposerVideoUploadSphericalErrorUtils","FBHotspot","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitUtils","React","ComposerVideoUploadSphericalMediaToolkitSharedOptionsConfig","SphericalHotspotSharedOptions","SphericalVideoHotspotType","ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles","ComposerVideoUploadSphericalMediaToolkitStyleBarOptions","SubscriptionsHandler","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";__p&&__p();j.constructor.call(this,m);this.state={animationOption:c("ComposerVideoUploadSphericalMediaToolkitUtils").getAnimationOption(this.props.hotspot),durationOption:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDurationOption(this.props.hotspot),hotspot:this.props.hotspot?this.props.hotspot:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDefaultHotspot(c("SphericalVideoHotspotType").TEXT,this.props.controller.getPlaybackDuration()*k),textareaDefaultValue:this.props.hotspot&&this.props.hotspot.content.type===c("SphericalVideoHotspotType").TEXT?this.props.hotspot.content.text:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_TEXT,textStyles:c("ComposerVideoUploadSphericalMediaToolkitUtils").getTextBarStyles(this.props.hotspot)};this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer5=function(){var n=c("ComposerVideoUploadSphericalMediaToolkitUtils").getNextAnimationOption(this.state.animationOption),o=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateHotspotWithAnimationOption(n,this.state.hotspot);this.setState({animationOption:n,hotspot:o})}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer6=function(){var n=c("ComposerVideoUploadSphericalMediaToolkitUtils").getNextDurationOption(this.state.durationOption);this.setState({durationOption:n})}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer8=function(event){this.state.hotspot.content.type===c("SphericalVideoHotspotType").TEXT||h(0);var n=event.target.value;if(!c("ComposerVideoUploadSphericalMediaToolkitConstants").SUPPORTED_CHARS_REGEX.test(n)){this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer3.blur();c("ComposerVideoUploadSphericalErrorUtils").showUnsupportedCharsDialog();return}var o=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateTextHotspotContent(this.state.hotspot,{text:n,height:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer3.scrollHeight});this.setState({hotspot:o})}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer9=function(n){__p&&__p();var o=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n].indexOf(this.state.textStyles[n]),p=(o+1)%c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n].length,q=babelHelpers["extends"]({},this.state.textStyles),r=void 0;switch(n){case"alignment":var s=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=s;r={alignment:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][s]};break;case"backgroundColor":var t=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=t;r={backgroundColor:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][t]};break;case"color":var u=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=u;r={color:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][u]};break;case"fontSize":var v=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=v;r={fontSize:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][v]};break;case"fontWeight":var w=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=w;r={fontWeight:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][w]};break;default:n;throw new Error("unexpected text style type")}var x=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateTextHotspotContent(this.state.hotspot,r);x.content.type===c("SphericalVideoHotspotType").TEXT||h(0);this.setState({textStyles:q,hotspot:x,textareaDefaultValue:x.content.text})}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer10=function(n){this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer3=n}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer7=function(){var n=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateTextHotspotContent(this.state.hotspot,{height:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer3.scrollHeight});this.setState({hotspot:n})}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer1={animationOption:c("ComposerVideoUploadSphericalMediaToolkitUtils").getAnimationOption(null),durationOption:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDurationOption(null),hotspot:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDefaultHotspot(c("SphericalVideoHotspotType").TEXT,this.props.controller.getPlaybackDuration()*k),textareaDefaultValue:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_TEXT,textStyles:c("ComposerVideoUploadSphericalMediaToolkitUtils").getTextBarStyles(null)};this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer2=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer2.addSubscriptions(m.controller.addListener(c("ComposerVideoUploadSphericalEvents").MEDIA_TOOLKIT.SAVE_HOTSPOT,function(){return this.props.handleSaveHotspotEdits(this.state.hotspot,this.state.durationOption)}.bind(this)));this.props.toggleEditingState(true)}l.prototype.UNSAFE_componentWillReceiveProps=function(m){"use strict";if(!m.isEditing&&this.props.isEditing)this.setState(this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer1);if(m.hotspot&&(!this.props.hotspot||this.props.hotspot.content.id!==m.hotspot.content.id)){m.hotspot.content.type===c("SphericalVideoHotspotType").TEXT||h(0);this.setState({hotspot:m.hotspot,textareaDefaultValue:m.hotspot.content.text,textStyles:c("ComposerVideoUploadSphericalMediaToolkitUtils").getTextBarStyles(m.hotspot),animationOption:c("ComposerVideoUploadSphericalMediaToolkitUtils").getAnimationOption(m.hotspot),durationOption:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDurationOption(m.hotspot)})}};l.prototype.componentWillUnmount=function(){"use strict";this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer2.release()};l.prototype.render=function(){"use strict";if(!this.props.isEditing)return c("React").createElement(c("ComposerVideoUploadSphericalAddAnnotationLayer.react"),{handleAddButtonClick:function(){return this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer4(true)}.bind(this)});this.state.hotspot.content.type===c("SphericalVideoHotspotType").TEXT||h(0);var m=this.state.hotspot.content.text;return c("React").createElement(c("ComposerVideoUploadSphericalAnnotationEditLayer.react"),{animationConfig:c("ComposerVideoUploadSphericalMediaToolkitSharedOptionsConfig")[c("SphericalHotspotSharedOptions").ANIMATION][this.state.animationOption],durationConfig:c("ComposerVideoUploadSphericalMediaToolkitSharedOptionsConfig")[c("SphericalHotspotSharedOptions").DURATION][this.state.durationOption],enableDurationAnimation:this.props.enableDurationAnimation,fov:this.props.fov,hotspot:this.state.hotspot,pitch:this.props.pitch,showNux:this.props.showNux,textareaDefaultValue:this.state.textareaDefaultValue,textareaValue:m,textStyles:this.state.textStyles,viewportHeight:this.props.viewportHeight,viewportWidth:this.props.viewportWidth,yaw:this.props.yaw,handleAnimationButtonClick:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer5,handleDeleteButtonClick:function(){return this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer4(false)}.bind(this),handleDurationButtonClick:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer6,handleNuxClosed:this.props.handleNuxClosed,handleNuxView:this.props.handleNuxView,handleTextareaMounted:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer7,handleTextareaValueChange:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer8,handleTextStyleButtonClick:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer9,setTextareaRef:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer10})};l.prototype.$ComposerVideoUploadSphericalAnnotationEditLayerContainer4=function(m){"use strict";if(!m)this.setState(this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer1);this.props.toggleEditingState(m)};f.exports=l}),null);
__d("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_pxk"+(!this.props.shouldCapturePointerEvents?" _py2":""),this.props.className),onMouseDown:this.props.handleMouseDown})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalImageEditLayerResizableImage.react",["cx","FBHotspot","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitUtils","ImageResizeHandleCorners","React","ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react","ScaledImage.react","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={dragHandleCorner:null,hotspotHeight:this.props.hotspot.content.height,hotspotWidth:this.props.hotspot.content.width,isDragging:false,origClientX:0,origClientY:0},m}k.prototype.componentDidMount=function(){this.$ComposerVideoUploadSphericalImageEditLayerResizableImage1=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalImageEditLayerResizableImage1.addSubscriptions(this.props.controller.addListener("mouseMove",function(l){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage2(l)}.bind(this)),this.props.controller.addListener("mouseUp",function(l){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage3(l)}.bind(this)),this.props.controller.addListener("mouseLeave",function(l){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage3(l)}.bind(this)))};k.prototype.UNSAFE_componentWillReceiveProps=function(l){if(l.hotspot.content.id!==this.props.hotspot.content.id||l.imageFileData.md5!==this.props.imageFileData.md5)this.setState({hotspotHeight:l.hotspot.content.height,hotspotWidth:l.hotspot.content.width})};k.prototype.componentWillUnmount=function(){this.$ComposerVideoUploadSphericalImageEditLayerResizableImage1.release()};k.prototype.render=function(){var l=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateResizableImageHotspotStyle(this.state.hotspotHeight,this.state.hotspotWidth,this.props.viewportHeight,this.props.viewportWidth);return c("React").createElement("div",{className:"_pwu",style:l},c("React").createElement(c("ScaledImage.react"),{className:"_pwv"+(this.state.isDragging?" _py2":""),draggable:"false",height:this.state.hotspotHeight,imageSize:{height:this.props.imageFileData.height,width:this.props.imageFileData.width},src:this.props.imageFileData.imageBinary,width:this.state.hotspotWidth}),c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react"),{className:"_pxl",shouldCapturePointerEvents:!this.state.isDragging,handleMouseDown:function(m){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage4(m,c("ImageResizeHandleCorners").NW)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react"),{className:"_pxx",shouldCapturePointerEvents:!this.state.isDragging,handleMouseDown:function(m){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage4(m,c("ImageResizeHandleCorners").NE)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react"),{className:"_pxm",shouldCapturePointerEvents:!this.state.isDragging,handleMouseDown:function(m){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage4(m,c("ImageResizeHandleCorners").SW)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react"),{className:"_py1",shouldCapturePointerEvents:!this.state.isDragging,handleMouseDown:function(m){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage4(m,c("ImageResizeHandleCorners").SE)}.bind(this)}))};k.prototype.$ComposerVideoUploadSphericalImageEditLayerResizableImage4=function(l,m){this.setState({origClientX:l.clientX,origClientY:l.clientY,isDragging:true,dragHandleCorner:m})};k.prototype.$ComposerVideoUploadSphericalImageEditLayerResizableImage2=function(l){if(!this.state.isDragging||!this.state.dragHandleCorner)return;var m=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageDimensionsByMousePosition(this.state.dragHandleCorner,l.clientX,l.clientY,this.state.origClientX,this.state.origClientY,this.props.hotspot.content.height,this.props.hotspot.content.width),n=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageMaxScaledDimensions(this.props.imageFileData.height,this.props.imageFileData.width,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MAX_HEIGHT_PX,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MAX_WIDTH_PX),o=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageMinScaledDimensions(this.props.imageFileData.height,this.props.imageFileData.width,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_HEIGHT_PX,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_WIDTH_PX);m=c("ComposerVideoUploadSphericalMediaToolkitUtils").constrainImageDimensionsToMinAndMax(m,n,o);m=c("ComposerVideoUploadSphericalMediaToolkitUtils").constrainImageDimensionsToAspectRatio(m,this.props.imageFileData.width/this.props.imageFileData.height);this.setState({hotspotHeight:m.height,hotspotWidth:m.width})};k.prototype.$ComposerVideoUploadSphericalImageEditLayerResizableImage3=function(l){if(!this.state.isDragging)return;this.props.updateHotspotDimensions(this.state.hotspotHeight,this.state.hotspotWidth);this.setState({isDragging:false})};f.exports=k}),null);
__d("ComposerVideoUploadSphericalImageEditLayer.react",["ix","cx","invariant","FBHotspot","ComposerVideoUploadSphericalHotspotSaveNux.react","ComposerVideoUploadSphericalImageEditLayerResizableImage.react","ComposerVideoUploadSphericalMediaToolkitButton.react","React","SphericalVideoHotspotType","asset","md5"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;m.prototype.componentDidMount=function(){if(this.props.showNux)this.props.handleNuxView()};m.prototype.render=function(){__p&&__p();var n=this.props,o=n.hotspot,p=n.imageBinaryToMd5,q=n.uploadedImageFileData;o.content.type===c("SphericalVideoHotspotType").IMAGE||j(0);var r=o.content.imageData,s=Object.prototype.hasOwnProperty.call(p,r)?p[r]:null,t=q.find(function(u){return u.md5===s});o.content.type===c("SphericalVideoHotspotType").IMAGE||j(0);if(!s||!t)t={height:o.content.height,imageBinary:o.content.imageData,md5:c("md5")(o.content.imageData),width:o.content.width};return c("React").createElement("div",{className:"_4ym3"},c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImage.react"),{ref:function(u){return this.$ComposerVideoUploadSphericalImageEditLayer1=u}.bind(this),controller:this.props.controller,hotspot:this.props.hotspot,imageFileData:t,viewportHeight:this.props.viewportHeight,viewportWidth:this.props.viewportWidth,updateHotspotDimensions:this.props.updateHotspotDimensions}),c("React").createElement(c("ComposerVideoUploadSphericalHotspotSaveNux.react"),{contextRef:function(){return this.$ComposerVideoUploadSphericalImageEditLayer1}.bind(this),showNux:this.props.showNux,handleNuxClosed:this.props.handleNuxClosed}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_2ysg",thumbnail:h("402967"),onClick:this.props.handleDeleteButtonClick}))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("ComposerVideoUploadSphericalImageUploadBar.react",["ix","cx","fbt","invariant","AbstractButton.react","FileInput.react","FlexLayout.react","Image.react","ComposerVideoUploadSphericalMediaToolkitConstants","ScaledImage.react","ShimButton.react","React","asset"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m;l=babelHelpers.inherits(n,c("React").PureComponent);m=l&&l.prototype;n.prototype.componentDidUpdate=function(){this.$ComposerVideoUploadSphericalImageUploadBar1||k(0);this.$ComposerVideoUploadSphericalImageUploadBar1.scrollLeft=this.$ComposerVideoUploadSphericalImageUploadBar1.scrollWidth};n.prototype.render=function(){var o=this.props.uploadedImageFileData.map(function(q){return c("React").createElement(c("ShimButton.react"),{className:"_63z0",key:q.imageBinary,onClick:function(r){r.preventDefault();this.props.handleUploadedImageClick(q)}.bind(this)},c("React").createElement(c("ScaledImage.react"),{imageSize:{height:q.height,width:q.width},className:"_63z1",height:c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_BAR_PREVIEW_HEIGHT_PX,src:q.imageBinary,width:c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_BAR_PREVIEW_WIDTH_PX}))}.bind(this)),p=c("ComposerVideoUploadSphericalMediaToolkitConstants").SUPPORTED_IMAGE_FILE_EXTENSIONS.map(function(q){return"."+q}).join(",");return c("React").createElement("div",{className:"_4ym4 _4pf6",ref:function(q){return this.$ComposerVideoUploadSphericalImageUploadBar1=q}.bind(this)},c("React").createElement(c("FlexLayout.react"),{className:"_63y_",align:"center",justify:"start"},o,c("React").createElement("div",{className:"_63z0",key:"uploadImageButton"},c("React").createElement(c("FileInput.react"),{accept:p,name:"uploadImageButton",onChange:function(q){return this.props.handleImageFileUpload(q.target.files[0])}.bind(this)},c("React").createElement(c("AbstractButton.react"),{className:"_4ym5",href:{url:"#"},image:c("React").createElement(c("Image.react"),{src:h("378289")}),label:j._("button for uploading image file"),labelIsHidden:true})))))};function n(){l.apply(this,arguments)}f.exports=n}),null);
__d("ComposerVideoUploadSphericalImageEditLayerContainer.react",["cx","invariant","ComposerVideoUploadSphericalEvents","FBHotspot","ComposerVideoUploadSphericalImageEditLayer.react","ComposerVideoUploadSphericalImageUploadBar.react","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitUtils","React","ComposerVideoUploadSphericalSharedOptionsBar.react","ComposerVideoUploadSphericalMediaToolkitSharedOptionsConfig","SphericalHotspotSharedOptions","SphericalVideoHotspotType","SubscriptionsHandler","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.state={animationOption:c("ComposerVideoUploadSphericalMediaToolkitUtils").getAnimationOption(this.props.hotspot),durationOption:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDurationOption(this.props.hotspot),hotspot:this.props.hotspot||c("ComposerVideoUploadSphericalMediaToolkitUtils").getDefaultHotspot(c("SphericalVideoHotspotType").IMAGE,this.props.controller.getPlaybackDuration()*l)};this.$ComposerVideoUploadSphericalImageEditLayerContainer3=function(){var o=c("ComposerVideoUploadSphericalMediaToolkitUtils").getNextAnimationOption(this.state.animationOption),p=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateHotspotWithAnimationOption(o,this.state.hotspot);this.setState({animationOption:o,hotspot:p})}.bind(this);this.$ComposerVideoUploadSphericalImageEditLayerContainer4=function(){var o=c("ComposerVideoUploadSphericalMediaToolkitUtils").getNextDurationOption(this.state.durationOption);this.setState({durationOption:o})}.bind(this);this.$ComposerVideoUploadSphericalImageEditLayerContainer2=function(o){var p={height:o.height,width:o.width};if(o.height>c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_DEFAULT_MAX_HEIGHT_PX||o.width>c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_DEFAULT_MAX_WIDTH_PX)p=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageMaxScaledDimensions(o.height,o.width,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_DEFAULT_MAX_HEIGHT_PX,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_DEFAULT_MAX_WIDTH_PX);else if(o.height<c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_HEIGHT_PX||o.width<c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_WIDTH_PX)p=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageMinScaledDimensions(o.height,o.width,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_HEIGHT_PX,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_WIDTH_PX);var q=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateImageHotspotContent(this.state.hotspot,{imageData:o.imageBinary,height:p.height,width:p.width});this.setState({hotspot:q});this.props.toggleEditingState(true)}.bind(this);this.$ComposerVideoUploadSphericalImageEditLayerContainer5=function(o,p){var q=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateImageHotspotContent(this.state.hotspot,{height:o});q=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateImageHotspotContent(q,{width:p});this.setState({hotspot:q})}.bind(this);this.$ComposerVideoUploadSphericalImageEditLayerContainer1=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalImageEditLayerContainer1.addSubscriptions(n.controller.addListener(c("ComposerVideoUploadSphericalEvents").MEDIA_TOOLKIT.SAVE_HOTSPOT,function(){return this.props.handleSaveHotspotEdits(this.state.hotspot,this.state.durationOption)}.bind(this)))}m.prototype.UNSAFE_componentWillReceiveProps=function(n){if(!n.isEditing&&this.props.isEditing)this.setState({animationOption:c("ComposerVideoUploadSphericalMediaToolkitUtils").getAnimationOption(null),durationOption:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDurationOption(null),hotspot:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDefaultHotspot(c("SphericalVideoHotspotType").IMAGE,this.props.controller.getPlaybackDuration()*l)});if(n.hotspot&&(!this.props.hotspot||this.props.hotspot.content.id!==n.hotspot.content.id)){n.hotspot.content.type===c("SphericalVideoHotspotType").IMAGE||i(0);this.setState({hotspot:n.hotspot,animationOption:c("ComposerVideoUploadSphericalMediaToolkitUtils").getAnimationOption(n.hotspot),durationOption:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDurationOption(n.hotspot)})}};m.prototype.componentWillUnmount=function(){this.$ComposerVideoUploadSphericalImageEditLayerContainer1.release()};m.prototype.render=function(){return c("React").createElement("div",{className:"_3quf"},c("React").createElement("div",{className:"_th5"},c("React").createElement(c("ComposerVideoUploadSphericalImageUploadBar.react"),{uploadedImageFileData:this.props.uploadedImageFileData,handleImageFileUpload:this.props.handleImageFileUpload,handleUploadedImageClick:this.$ComposerVideoUploadSphericalImageEditLayerContainer2}),this.props.enableDurationAnimation&&this.props.isEditing&&c("React").createElement(c("ComposerVideoUploadSphericalSharedOptionsBar.react"),{animationConfig:c("ComposerVideoUploadSphericalMediaToolkitSharedOptionsConfig")[c("SphericalHotspotSharedOptions").ANIMATION][this.state.animationOption],durationConfig:c("ComposerVideoUploadSphericalMediaToolkitSharedOptionsConfig")[c("SphericalHotspotSharedOptions").DURATION][this.state.durationOption],handleAnimationButtonClick:this.$ComposerVideoUploadSphericalImageEditLayerContainer3,handleDurationButtonClick:this.$ComposerVideoUploadSphericalImageEditLayerContainer4})),this.props.isEditing&&c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayer.react"),{controller:this.props.controller,fov:this.props.fov,hotspot:this.state.hotspot,imageBinaryToMd5:this.props.imageBinaryToMd5,pitch:this.props.pitch,showNux:this.props.showNux,uploadedImageFileData:this.props.uploadedImageFileData,viewportHeight:this.props.viewportHeight,viewportWidth:this.props.viewportWidth,yaw:this.props.yaw,handleDeleteButtonClick:function(){return this.props.toggleEditingState(false)}.bind(this),handleNuxClosed:this.props.handleNuxClosed,handleNuxView:this.props.handleNuxView,updateHotspotDimensions:this.$ComposerVideoUploadSphericalImageEditLayerContainer5}))};f.exports=m}),null);
__d("ComposerVideoUploadSphericalMediaToolkitDropdownOption.react",["cx","FlexLayout.react","Image.react","React","ShimButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),{className:"_46sw",onClick:this.props.onClick},c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_l-8",justify:"all"},c("React").createElement("div",{className:"_46su"},this.props.optionData.fbt),c("React").createElement(c("Image.react"),{className:"_46sv",src:this.props.optionData.thumbnail})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalMediaToolkitDropdown.react",["ix","cx","FlexLayout.react","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalMediaToolkitDropdownOption.react","React","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={dropdownOpen:false},this.$ComposerVideoUploadSphericalMediaToolkitDropdown1=function(event){event.preventDefault();this.setState({dropdownOpen:!this.state.dropdownOpen})}.bind(this),n}l.prototype.render=function(){var m=this.props.options.find(function(q){return q.optionName===this.props.selectedOptionName}.bind(this)),n=this.props.options.length>1?c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_46st",thumbnail:h("388066"),onClick:this.$ComposerVideoUploadSphericalMediaToolkitDropdown1}):null,o=m&&c("React").createElement("div",{className:"_46so"},c("React").createElement(c("FlexLayout.react"),{className:"_k1-"},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitDropdownOption.react"),{optionData:m,onClick:this.$ComposerVideoUploadSphericalMediaToolkitDropdown1}),n)),p=this.state.dropdownOpen?this.props.options.filter(function(q){return q.optionName!==this.props.selectedOptionName}.bind(this)).map(function(q){return c("React").createElement("button",{key:q.optionName,className:"_46sp _6798",onClick:function(event){return this.$ComposerVideoUploadSphericalMediaToolkitDropdown2(event,q.optionName)}.bind(this)},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitDropdownOption.react"),{optionData:q}))}.bind(this)):null;return c("React").createElement("div",{className:"_k1z"},c("React").createElement("div",{className:"_46ss"+(!this.props.applyAnimations?" _4pf5":"")+(this.props.displayDropdown?" _4pf6":"")+(!this.props.displayDropdown&&this.props.applyAnimations?" _4pf8":"")},o,p))};l.prototype.$ComposerVideoUploadSphericalMediaToolkitDropdown2=function(event,m){this.props.handleOptionSelect(m);this.setState({dropdownOpen:false})};f.exports=l}),null);
__d("ComposerVideoUploadSphericalMediaToolkitPanelLayer.react",["ix","cx","FlexLayout.react","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalMediaToolkitDropdown.react","React","asset"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_k1y"},c("React").createElement(c("FlexLayout.react"),{align:"start",justify:"all"},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitDropdown.react"),{options:this.props.dropdownOptions,selectedOptionName:this.props.selectedMediaOption,handleOptionSelect:this.props.handleMediaOptionSelect,displayDropdown:this.props.displayPanelLayer,applyAnimations:this.props.applyAnimations}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:(!this.props.applyAnimations?"_4pf5":"")+(this.props.displayPanelLayer?" _4pf6":"")+(!this.props.displayPanelLayer&&this.props.applyAnimations?" _4pf8":""),thumbnail:h("394831"),onClick:function(){return this.props.toggleMediaToolkit(false)}.bind(this)})))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadSphericalHotspotPreviewElement.react",["cx","ComposerVideoUploadSphericalMediaToolkitUtils","React","ScaledImage.react","SphericalVideoHotspotAnimation","SphericalVideoHotspotType","SubscriptionsHandler","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";j.constructor.call(this,m);this.$ComposerVideoUploadSphericalHotspotPreviewElement2=function(){this.forceUpdate()}.bind(this);this.$ComposerVideoUploadSphericalHotspotPreviewElement1=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalHotspotPreviewElement1.addSubscriptions(m.controller.addListener("updateStatus",this.$ComposerVideoUploadSphericalHotspotPreviewElement2))}l.prototype.componentWillUnmount=function(){"use strict";this.$ComposerVideoUploadSphericalHotspotPreviewElement1.release()};l.prototype.render=function(){__p&&__p();var m,n=this;"use strict";var o=this.props.hotspot,p=Math.floor(this.props.controller.getCurrentTimePosition()*k),q=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculatePreviewVisibility(p,this.props.fov,o,this.props.pitch,this.props.viewportHeight,this.props.viewportWidth,this.props.yaw),r=o.content.animation===c("SphericalVideoHotspotAnimation").DISSOLVE,s=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateHotspotStyle(this.props.fov,o,false,this.props.pitch,this.props.viewportHeight,this.props.viewportWidth,this.props.yaw),t=null;if(o.content.type===c("SphericalVideoHotspotType").TEXT)t=c("React").createElement("div",{className:"_3h6h"},o.content.text);else if(o.content.type===c("SphericalVideoHotspotType").IMAGE)(function(){__p&&__p();var u=o.content.imageData,v=Object.prototype.hasOwnProperty.call(n.props.imageBinaryToMd5,u)?n.props.imageBinaryToMd5[u]:null,w=n.props.uploadedImageFileData.find(function(z){return z.md5===v}),x=void 0,y=void 0;if(v&&w){x=w.height;y=w.width}else{x=o.content.height;y=o.content.width}t=c("React").createElement(c("ScaledImage.react"),{className:"_2ysf",draggable:"false",height:o.content.height,imageSize:{height:x,width:y},src:u,width:o.content.width})})();return c("React").createElement("button",{className:"_1eeh"+(!q?" _3c_f":"")+(r?" _3c_g":""),style:s,onClick:function(){return this.props.handlePreviewElementClick(o.content.id)}.bind(this)},t)};f.exports=l}),null);
__d("ComposerVideoUploadSphericalMetadataPreviewLayer.react",["cx","ComposerVideoUploadSphericalHotspotPreviewElement.react","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";var l=this.props.hotspots.hotspots.map(function(m){return c("React").createElement(c("ComposerVideoUploadSphericalHotspotPreviewElement.react"),{key:m.content.id,controller:this.props.controller,fov:this.props.fov,hotspot:m,imageBinaryToMd5:this.props.imageBinaryToMd5,pitch:this.props.pitch,uploadedImageFileData:this.props.uploadedImageFileData,viewportHeight:this.props.viewportHeight,viewportWidth:this.props.viewportWidth,yaw:this.props.yaw,handlePreviewElementClick:this.props.handlePreviewElementClick})}.bind(this));return c("React").createElement("div",{className:"_2eym"},l)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalToolkitEntryPointLayer.react",["ix","cx","fbt","BasicFBNux","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalMediaToolkitConstants","React","SphericalVideoExperiments","XUIAmbientNUX.react","XUIText.react","asset"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={showNux:c("SphericalVideoExperiments").showHotspotEntryNux},o}m.prototype.componentDidMount=function(){"use strict";if(this.state.showNux)c("BasicFBNux").onView(c("ComposerVideoUploadSphericalMediaToolkitConstants").HOTSPOT_ENTRY_NUX_ID)};m.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_341v _2miw",ref:function(n){return this.$ComposerVideoUploadSphericalToolkitEntryPointLayer1=n}.bind(this),thumbnail:h("416792"),onClick:function(){this.props.toggleMediaToolkit(true);this.props.activateAnimations()}.bind(this)}),c("React").createElement(c("XUIAmbientNUX.react"),{customwidth:250,contextRef:function(){return this.$ComposerVideoUploadSphericalToolkitEntryPointLayer1}.bind(this),position:"right",shown:this.state.showNux,width:"custom",onCloseButtonClick:function(){return this.$ComposerVideoUploadSphericalToolkitEntryPointLayer2()}.bind(this)},c("React").createElement(c("XUIText.react"),{size:"body2",display:"block",weight:"bold"},j._("Overlay Text and Images")),c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},j._("Add more detail to each frame of your video with text and images."))))};m.prototype.$ComposerVideoUploadSphericalToolkitEntryPointLayer2=function(){"use strict";this.setState({showNux:false});c("BasicFBNux").onDismiss(c("ComposerVideoUploadSphericalMediaToolkitConstants").HOTSPOT_ENTRY_NUX_ID)};f.exports=m}),null);
__d("SphericalDirectorDropdownOptions",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({TEXT:"",IMAGE:""});f.exports=h}),null);
__d("ComposerVideoUploadSphericalMediaToolkit.react",["cx","fbt","ix","BasicFBNux","ComposerVideoUploadSphericalAnnotationEditLayerContainer.react","ComposerVideoUploadSphericalEvents","ComposerVideoUploadSphericalErrorUtils","ComposerVideoUploadSphericalImageEditLayerContainer.react","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitPanelLayer.react","ComposerVideoUploadSphericalMediaToolkitUtils","ComposerVideoUploadSphericalMetadataPreviewLayer.react","React","SphericalHotspotDurations","SphericalVideoExperiments","SphericalVideoHotspotType","SphericalDirectorDropdownOptions","ComposerVideoUploadSphericalToolkitEntryPointLayer.react","md5","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m,n=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,o=(m={},m[c("SphericalDirectorDropdownOptions").TEXT]={fbt:i._("Text"),optionName:c("SphericalDirectorDropdownOptions").TEXT,thumbnail:j("415898")},m[c("SphericalDirectorDropdownOptions").IMAGE]={fbt:i._("Images"),optionName:c("SphericalDirectorDropdownOptions").IMAGE,thumbnail:j("415897")},m);k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){"use strict";__p&&__p();l.constructor.call(this,q);this.state={currentEditHotspot:null,imageBinaryToMd5:{},isEditing:false,selectedMediaOption:this.props.enableTextHotspots?c("SphericalDirectorDropdownOptions").TEXT:c("SphericalDirectorDropdownOptions").IMAGE,showHotspotSaveNux:c("SphericalVideoExperiments").showHotspotSaveNux,showMediaToolkitLayer:false,uploadedImageFileData:[],viewportHeight:0,viewportWidth:0,shouldAnimate:false};this.$ComposerVideoUploadSphericalMediaToolkit10=function(r){__p&&__p();var s=r.name.indexOf(".")!=-1?r.name.split(".").pop().toLowerCase():"";if(!c("ComposerVideoUploadSphericalMediaToolkitConstants").SUPPORTED_IMAGE_FILE_EXTENSIONS.includes(s)){c("ComposerVideoUploadSphericalErrorUtils").showFileExtensionDialog(s,c("ComposerVideoUploadSphericalMediaToolkitConstants").SUPPORTED_IMAGE_FILE_EXTENSIONS.join(", "));return}if(r.size>c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MAX_FILE_SIZE){c("ComposerVideoUploadSphericalErrorUtils").showImageTooLargeDialog(c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MAX_FILE_SIZE/1048576);return}var t=new FileReader();t.onload=function(){__p&&__p();var u=new Image(),v=String(t.result);u.src=v;var w=c("md5")(v),x=this.state.uploadedImageFileData.findIndex(function(A){return A.md5===w});if(x>-1){var y=[].concat(this.state.uploadedImageFileData),z=y[x];y.splice(x,1);y.push(z);this.setState({uploadedImageFileData:y});return}u.onload=function(){var A,B={height:u.height,imageBinary:v,md5:w,width:u.width},C=[].concat(this.state.uploadedImageFileData,[B]),D=babelHelpers["extends"]({},this.state.imageBinaryToMd5,(A={},A[v]=w,A));this.setState({uploadedImageFileData:C,imageBinaryToMd5:D})}.bind(this)}.bind(this);t.onerror=function(){c("ComposerVideoUploadSphericalErrorUtils").showFileUploadErrorDialog(t.error.name)};t.readAsDataURL(r)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit4=function(r){switch(r){case c("SphericalDirectorDropdownOptions").TEXT:this.setState({selectedMediaOption:r});break;case c("SphericalDirectorDropdownOptions").IMAGE:this.setState({selectedMediaOption:r});break}this.$ComposerVideoUploadSphericalMediaToolkit9(false)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit6=function(){this.setState({showHotspotSaveNux:false});c("BasicFBNux").onDismiss(c("ComposerVideoUploadSphericalMediaToolkitConstants").HOTSPOT_SAVE_NUX_ID)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit7=function(){if(this.state.showHotspotSaveNux)c("BasicFBNux").onView(c("ComposerVideoUploadSphericalMediaToolkitConstants").HOTSPOT_SAVE_NUX_ID)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit12=function(r){__p&&__p();var s=this.props.hotspots.hotspots,t=s.findIndex(function(w){return w.content.id===r}),u=t!==-1?s[t]:null;if(u){var v=void 0;switch(u.content.type){case c("SphericalVideoHotspotType").TEXT:v=c("SphericalDirectorDropdownOptions").TEXT;break;case c("SphericalVideoHotspotType").IMAGE:v=c("SphericalDirectorDropdownOptions").IMAGE;break}this.setState({currentEditHotspot:u,selectedMediaOption:v});this.$ComposerVideoUploadSphericalMediaToolkit1.setSphericalOrientation(u.yaw,u.pitch);this.$ComposerVideoUploadSphericalMediaToolkit1.seek(u.startTime/n);this.$ComposerVideoUploadSphericalMediaToolkit1.emit(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE);this.props.onViewportUpdate(u.yaw,u.pitch);this.$ComposerVideoUploadSphericalMediaToolkit5(true);this.$ComposerVideoUploadSphericalMediaToolkit9(true);this.props.onHotspotDeleted(r)}}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit8=function(r,s){__p&&__p();if(r.content.type===c("SphericalVideoHotspotType").TEXT&&r.content.text==="")return;if(this.$ComposerVideoUploadSphericalMediaToolkit1.getCurrentTimePosition()===this.$ComposerVideoUploadSphericalMediaToolkit1.getPlaybackDuration()){c("ComposerVideoUploadSphericalErrorUtils").showLastFrameDialog();return}var t=this.$ComposerVideoUploadSphericalMediaToolkit1.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport"),u=Math.floor(this.$ComposerVideoUploadSphericalMediaToolkit1.getCurrentTimePosition()*n),v=this.$ComposerVideoUploadSphericalMediaToolkit1.getPlaybackDuration()*n,w=r.set("pitch",Math.round(t.pitch));w=w.set("yaw",Math.round(t.yaw));var x=u;switch(s){case c("SphericalHotspotDurations").FIVE_SEC:x=Math.min(u+5*n,v);break;case c("SphericalHotspotDurations").TEN_SEC:x=Math.min(u+10*n,v);break;case c("SphericalHotspotDurations").FULL_VIDEO:x=v;break;default:break}w=w.set("startTime",s===c("SphericalHotspotDurations").FULL_VIDEO?0:u);w=w.set("endTime",x);var y=false;if(w.content.id===c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ID){if(r.content.type===c("SphericalVideoHotspotType").TEXT)w=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateTextHotspotContent(w,{id:this.props.nextId.toString()});else if(r.content.type===c("SphericalVideoHotspotType").IMAGE)w=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateImageHotspotContent(w,{id:this.props.nextId.toString()});y=true}this.props.onHotspotAdded(w,y);this.$ComposerVideoUploadSphericalMediaToolkit9(false)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit9=function(r){if(r)this.$ComposerVideoUploadSphericalMediaToolkit1.pause();else this.setState({currentEditHotspot:null});this.$ComposerVideoUploadSphericalMediaToolkit1.setOption("ComposerVideoUploadSphericalMediaToolkit","isEditingHotspot",r);this.setState({isEditing:r})}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit5=function(r){if(!r)this.$ComposerVideoUploadSphericalMediaToolkit9(false);this.props.onGuideVisibilityUpdate(!r);this.setState({showMediaToolkitLayer:r})}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit11=function(){this.setState({shouldAnimate:true})}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit3=false;this.$ComposerVideoUploadSphericalMediaToolkit1=q.controller;this.$ComposerVideoUploadSphericalMediaToolkit1.registerOption("ComposerVideoUploadSphericalMediaToolkit","isEditingHotspot",function(){return this.$ComposerVideoUploadSphericalMediaToolkit3}.bind(this),function(r){return this.$ComposerVideoUploadSphericalMediaToolkit3=r}.bind(this))}p.prototype.componentDidMount=function(){"use strict";if(!this.$ComposerVideoUploadSphericalMediaToolkit2)return;var q=this.$ComposerVideoUploadSphericalMediaToolkit2.offsetWidth,r=this.$ComposerVideoUploadSphericalMediaToolkit2.offsetHeight;this.setState({viewportWidth:q,viewportHeight:r})};p.prototype.componentWillUnmount=function(){"use strict";this.props.onGuideVisibilityUpdate(true)};p.prototype.render=function(){"use strict";var q=this.props,r=q.enableTextHotspots,s=q.enableImageHotspots,t=[];if(r)t.push(o[c("SphericalDirectorDropdownOptions").TEXT]);if(s)t.push(o[c("SphericalDirectorDropdownOptions").IMAGE]);var u=c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitPanelLayer.react"),{dropdownOptions:t,selectedMediaOption:this.state.selectedMediaOption,handleMediaOptionSelect:this.$ComposerVideoUploadSphericalMediaToolkit4,toggleMediaToolkit:this.$ComposerVideoUploadSphericalMediaToolkit5,displayPanelLayer:this.state.showMediaToolkitLayer,applyAnimations:this.state.shouldAnimate}),v=r&&this.state.showMediaToolkitLayer&&this.state.selectedMediaOption===c("SphericalDirectorDropdownOptions").TEXT?c("React").createElement(c("ComposerVideoUploadSphericalAnnotationEditLayerContainer.react"),{controller:this.$ComposerVideoUploadSphericalMediaToolkit1,enableDurationAnimation:this.props.enableDurationAnimation,fov:this.props.fov,hotspot:this.state.currentEditHotspot,isEditing:this.state.isEditing,pitch:this.props.pitch,showNux:this.state.showHotspotSaveNux,viewportHeight:this.state.viewportHeight,viewportWidth:this.state.viewportWidth,yaw:this.props.yaw,handleNuxClosed:this.$ComposerVideoUploadSphericalMediaToolkit6,handleNuxView:this.$ComposerVideoUploadSphericalMediaToolkit7,handleSaveHotspotEdits:this.$ComposerVideoUploadSphericalMediaToolkit8,toggleEditingState:this.$ComposerVideoUploadSphericalMediaToolkit9}):null,w=s&&this.state.showMediaToolkitLayer&&this.state.selectedMediaOption===c("SphericalDirectorDropdownOptions").IMAGE?c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerContainer.react"),{controller:this.$ComposerVideoUploadSphericalMediaToolkit1,enableDurationAnimation:this.props.enableDurationAnimation,fov:this.props.fov,hotspot:this.state.currentEditHotspot,imageBinaryToMd5:this.state.imageBinaryToMd5,isEditing:this.state.isEditing,pitch:this.props.pitch,showNux:this.state.showHotspotSaveNux,uploadedImageFileData:this.state.uploadedImageFileData,viewportHeight:this.state.viewportHeight,viewportWidth:this.state.viewportWidth,yaw:this.props.yaw,handleImageFileUpload:this.$ComposerVideoUploadSphericalMediaToolkit10,handleNuxClosed:this.$ComposerVideoUploadSphericalMediaToolkit6,handleNuxView:this.$ComposerVideoUploadSphericalMediaToolkit7,handleSaveHotspotEdits:this.$ComposerVideoUploadSphericalMediaToolkit8,toggleEditingState:this.$ComposerVideoUploadSphericalMediaToolkit9}):null,x=!this.state.showMediaToolkitLayer?c("React").createElement(c("ComposerVideoUploadSphericalToolkitEntryPointLayer.react"),{toggleMediaToolkit:this.$ComposerVideoUploadSphericalMediaToolkit5,activateAnimations:this.$ComposerVideoUploadSphericalMediaToolkit11}):null,y=c("React").createElement(c("ComposerVideoUploadSphericalMetadataPreviewLayer.react"),{controller:this.$ComposerVideoUploadSphericalMediaToolkit1,fov:this.props.fov,hotspots:this.props.hotspots,imageBinaryToMd5:this.state.imageBinaryToMd5,pitch:this.props.pitch,uploadedImageFileData:this.state.uploadedImageFileData,viewportHeight:this.state.viewportHeight,viewportWidth:this.state.viewportWidth,yaw:this.props.yaw,handlePreviewElementClick:this.$ComposerVideoUploadSphericalMediaToolkit12});return c("React").createElement("div",{className:"_3kfp",ref:function(z){return this.$ComposerVideoUploadSphericalMediaToolkit2=z}.bind(this)},u,v,w,x,y)};f.exports=p}),null);
__d("ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){return c("React").createElement("div",{className:"_65ep"},c("React").createElement("div",{className:"_-hw"},j.label))}f.exports=i}),null);
__d("ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={hovered:false},this.$ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu1=function(){this.setState({hovered:true})}.bind(this),this.$ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu2=function(){this.setState({hovered:false})}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_65en",onMouseEnter:this.$ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu1,onMouseLeave:this.$ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu2},c("React").createElement(c("Image.react"),{src:this.state.hovered?this.props.buttonIconOnHover:this.props.buttonIconDefault}),c("React").createElement("div",{className:"_62or"},c("React").createElement("div",{className:"_62os"},this.props.children)))};f.exports=k}),null);
__d("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react",["ix","cx","Image.react","React","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){return c("React").createElement("a",{href:"#",className:"_65eo",onClick:k.onSelect},c("React").createElement(c("Image.react"),{src:k.isSelected?h("384999"):h("385001")}),c("React").createElement("div",{className:"_-hv"},k.label),c("React").createElement(c("Image.react"),{className:"_62op",src:k.icon}))}f.exports=j}),null);
__d("ComposerVideoUploadSphericalVideoPreviewEmbeddedControls",["ComposerVideoUploadSphericalEvents","VideoControls","SubscriptionsHandler","VideoUploadSphericalLogger"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();var k=arguments.length<=2||arguments[2]===undefined?false:arguments[2];"use strict";this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls4=function(l){this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls1.updateDisplayElapsedTime(l);this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls5()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls5=function(){this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls1.updatePointsOfInterestConfig(this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getPointsOfInterestConfig"))}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2=j;this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls1=new(c("VideoControls"))(j,i,{hideSettings:true,hideOnEvents:{autoplay:false,finish:false,pause:false},showButtons:{},pointsOfInterestConfig:j.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getPointsOfInterestConfig"),displayElapsedTime:j.getOption("VideoWithSphericalGuide","enabled"),forceVisible:true,hideGradient:true,useDarkTheme:k});this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls3=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls3.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.addListener("VideoWithSphericalGuide/stateToggle",this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls4),this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.addListener(c("ComposerVideoUploadSphericalEvents").GUIDE.KEYFRAMES_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls5),this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.addListener(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls5),this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.addListener("updateStatus",function(l){c("VideoUploadSphericalLogger").setVideoPreviewPosition(Math.round(l.position))}))}h.prototype.destroy=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls3.release()};f.exports=h}),null);
__d("ComposerVideoUploadSphericalVideoBottomControlBar.react",["cx","fbt","ix","ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react","ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu.react","ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react","ComposerVideoUploadSphericalVideoPreviewEmbeddedControls","React","SphericalDirectorComponentSources","VideoProjection","VideoStereoFormat","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;m.prototype.componentDidMount=function(){this.$ComposerVideoUploadSphericalVideoBottomControlBar1=new(c("ComposerVideoUploadSphericalVideoPreviewEmbeddedControls"))(this.refs.controls,this.props.controller,true)};m.prototype.componentWillUnmount=function(){this.$ComposerVideoUploadSphericalVideoBottomControlBar1.destroy()};m.prototype.render=function(){__p&&__p();var n=this.props.hasSpatialAudio?"on":"off",o="Unknown";if(this.props.projection===c("VideoProjection").EQUIRECTANGULAR)o="Equirect";else if(this.props.projection===c("VideoProjection").CUBEMAP)o="Cubemap";var p="Unknown";if(this.props.stereoMode===c("VideoStereoFormat").MONO)p="Mono";else if(this.props.stereoMode===c("VideoStereoFormat").LEFT_RIGHT)p="Side-by-Side";else if(this.props.stereoMode===c("VideoStereoFormat").TOP_BOTTOM)p="Top-Bottom";var q=this.props.componentSource===c("SphericalDirectorComponentSources").STANDALONE,r=this.props.componentSource===c("SphericalDirectorComponentSources").STANDALONE;return c("React").createElement("div",{className:"_24a7"},c("React").createElement("div",{className:"_4uhh",ref:"controls"}),c("React").createElement("div",{className:"_4uhi"},c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu.react"),{buttonIconDefault:j("438982"),buttonIconOnHover:j("438981")},c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react"),{label:i._("Audio 360 is {=}",[i._param("=",c("React").createElement("span",{className:"_45ll"},i._({"off":"off","on":"on"},[i._enum(n,{off:"off",on:"on"})])))])})),c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu.react"),{buttonIconDefault:j("428197"),buttonIconOnHover:j("428193")},q?c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378733"),isSelected:this.props.projection===c("VideoProjection").EQUIRECTANGULAR,label:i._("Equirect"),onSelect:function(){return this.props.onProjectionSelected(c("VideoProjection").EQUIRECTANGULAR)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378732"),isSelected:this.props.projection===c("VideoProjection").CUBEMAP,label:i._("Cubemap"),onSelect:function(){return this.props.onProjectionSelected(c("VideoProjection").CUBEMAP)}.bind(this)})):c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react"),{label:i._("{=} projection",[i._param("=",c("React").createElement("span",{className:"_45ll"},i._({"Equirect":"Equirect","Cubemap":"Cubemap","Unknown":"Unknown"},[i._enum(o,{Equirect:"Equirect",Cubemap:"Cubemap",Unknown:"Unknown"})])))])}),c("React").createElement("div",{className:"_45lm"}),this.props.projection===c("VideoProjection").EQUIRECTANGULAR&&r?c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378736"),isSelected:this.props.stereoMode===c("VideoStereoFormat").MONO,label:i._("Mono"),onSelect:function(){return this.props.onStereoModeSelected(c("VideoStereoFormat").MONO)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378738"),isSelected:this.props.stereoMode===c("VideoStereoFormat").LEFT_RIGHT,label:i._("Side-by-Side"),onSelect:function(){return this.props.onStereoModeSelected(c("VideoStereoFormat").LEFT_RIGHT)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378739"),isSelected:this.props.stereoMode===c("VideoStereoFormat").TOP_BOTTOM,label:i._("Top-Bottom"),onSelect:function(){return this.props.onStereoModeSelected(c("VideoStereoFormat").TOP_BOTTOM)}.bind(this)})):c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react"),{label:i._("{=} mode",[i._param("=",c("React").createElement("span",{className:"_45ll"},i._({"Mono":"Mono","Side-by-Side":"Side-by-Side","Left-Right":"Left-Right","Unknown":"Unknown"},[i._enum(p,{Mono:"Mono","Side-by-Side":"Side-by-Side","Left-Right":"Left-Right",Unknown:"Unknown"})])))])})))))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("ComposerVideoUploadSphericalVideoIntroTextSection.react",["cx","fbt","React","SphericalDirectorComponentSources"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(k){var l=i._("Set guide points.");if(k.enableTextHotspots&&k.enableImageHotspots)l=i._("Set guide points and overlay text and images.");else if(k.enableTextHotspots)l=i._("Set guide points and overlay text.");else if(k.enableImageHotspots)l=i._("Set guide points and overlay images.");var m=" ",n=i._("Your final video will automatically pan to these parts."),o=k.componentSource===c("SphericalDirectorComponentSources").PAGE_COMPOSER_V1||k.componentSource===c("SphericalDirectorComponentSources").EDIT_DIALOG_V1||k.componentSource===c("SphericalDirectorComponentSources").CROSSPOST_DIALOG_V1;return c("React").createElement("div",{className:"_16_7"},!o&&c("React").createElement("div",{className:"_2fb1 _4h--"}),c("React").createElement("div",{className:"_16_8"},i._("Direct your audience to the parts you want them to see")),c("React").createElement("div",{className:"_16_9"},l,m,n),c("React").createElement("div",{className:"_2fb1 _4h--"}))}f.exports=j}),null);
__d("SphericalRenderer",["DOM","EventEmitter","EventListener","VideoProjection","VideoStereoFormat","gkx","gl-matrix"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("gl-matrix").glMatrix,k=c("gl-matrix").mat4,l=Math.max(window.devicePixelRatio||1,1);function m(){"use strict"}h=babelHelpers.inherits(n,c("EventEmitter"));i=h&&h.prototype;function n(o,p,q){"use strict";__p&&__p();i.constructor.call(this);this.$SphericalRenderer2=q;this.$SphericalRenderer21=q.fieldOfView;this.$SphericalRenderer16=true;this.$SphericalRenderer15=o;this.$SphericalRenderer1=p;this.$SphericalRenderer10=k.create();this.$SphericalRenderer11=k.create();this.$SphericalRenderer12=k.create();this.$SphericalRenderer3=false;this.$SphericalRenderer18=[];this.$SphericalRenderer20=null;this.$SphericalRenderer19=null;this.$SphericalRenderer17=q.projectionType===c("VideoProjection").UNPADDED_CUBESTRIP;this.$SphericalRenderer9=q.projectionType===c("VideoProjection").ROTATED_CUBEMAP;this.$SphericalRenderer7=q.projectionType===c("VideoProjection").CDS_BARREL;this.$SphericalRenderer8=false;this.$SphericalRenderer23=new m();this.$SphericalRenderer23.ready=false;this.$SphericalRenderer24=false;this.$SphericalRenderer4=this.$SphericalRenderer25.bind(this);this.$SphericalRenderer5=this.$SphericalRenderer26.bind(this);this.$SphericalRenderer1.addEventListener("webglcontextlost",this.$SphericalRenderer4);this.$SphericalRenderer1.addEventListener("webglcontextrestored",this.$SphericalRenderer5);this.$SphericalRenderer27()}n.prototype.destroy=function(){"use strict";this.removeAllListeners();this.$SphericalRenderer1.removeEventListener("webglcontextlost",this.$SphericalRenderer4);this.$SphericalRenderer1.removeEventListener("webglcontextrestored",this.$SphericalRenderer5)};n.prototype.reconfigure=function(o,p){__p&&__p();var q=arguments.length<=2||arguments[2]===undefined?false:arguments[2];"use strict";if(q){this.$SphericalRenderer18=[];this.$SphericalRenderer20=null;this.$SphericalRenderer19=null}this.$SphericalRenderer21=p.fieldOfView;this.$SphericalRenderer15=o;this.$SphericalRenderer2=p;this.$SphericalRenderer17=p.projectionType===c("VideoProjection").UNPADDED_CUBESTRIP;this.$SphericalRenderer9=p.projectionType===c("VideoProjection").ROTATED_CUBEMAP;this.$SphericalRenderer7=p.projectionType===c("VideoProjection").CDS_BARREL;this.$SphericalRenderer23.framebuffer=null;this.$SphericalRenderer24=false;this.$SphericalRenderer27()};n.prototype.hasRenderingContext=function(){"use strict";return!this.$SphericalRenderer3};n.prototype.$SphericalRenderer25=function(o){"use strict";o.preventDefault();this.emit("renderingContextLost");this.$SphericalRenderer3=true};n.prototype.$SphericalRenderer26=function(o){"use strict";this.$SphericalRenderer3=false;this.$SphericalRenderer27();this.emit("renderingContextRestore")};n.prototype.setAutoUpdateTexture=function(o){"use strict";this.$SphericalRenderer16=o};n.prototype.updateFieldOfView=function(o){"use strict";if(this.$SphericalRenderer21!==o){this.$SphericalRenderer21=o;this.$SphericalRenderer28()}};n.prototype.updateViewportDimensions=function(o,p){"use strict";this.$SphericalRenderer1.width=o*l;this.$SphericalRenderer1.height=p*l;this.$SphericalRenderer28()};n.prototype.$SphericalRenderer28=function(){"use strict";k.perspective(this.$SphericalRenderer10,j.toRadian(this.$SphericalRenderer21),this.$SphericalRenderer1.width/this.$SphericalRenderer1.height,.1,100);this.$SphericalRenderer6.viewport(0,0,this.$SphericalRenderer6.drawingBufferWidth,this.$SphericalRenderer6.drawingBufferHeight)};n.prototype.$SphericalRenderer27=function(){"use strict";__p&&__p();this.$SphericalRenderer29();if(this.$SphericalRenderer7){var o=this.$SphericalRenderer6.getParameter(this.$SphericalRenderer6.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.$SphericalRenderer8=o==0}this.updateViewportDimensions(this.$SphericalRenderer1.clientWidth,this.$SphericalRenderer1.clientHeight);this.$SphericalRenderer22={x:this.$SphericalRenderer2.stereoFormat===c("VideoStereoFormat").LEFT_RIGHT?2:1,y:this.$SphericalRenderer2.stereoFormat===c("VideoStereoFormat").TOP_BOTTOM?2:1};this.$SphericalRenderer30();this.$SphericalRenderer31();this.$SphericalRenderer6.clearColor(0,0,0,1);this.$SphericalRenderer15.setAttribute("crossorigin","anonymous")};n.prototype.getScreenshotDataURL=function(o,p,q,r){"use strict";if(!this.$SphericalRenderer6||this.$SphericalRenderer3)return"";this.render(o,p);return this.$SphericalRenderer1.toDataURL(q,r)};n.prototype.$SphericalRenderer29=function(){"use strict";__p&&__p();if(this.$SphericalRenderer6&&!this.$SphericalRenderer3)return;if(!(b.WebGLRenderingContext||b.WebGL2RenderingContext))throw new Error("WebGLRenderingContext not available.");var o=["webgl2","webgl","experimental-webgl"],p=null,q=null,r=c("EventListener").listen(this.$SphericalRenderer1,"webglcontextcreationerror",function(t){return q=t.statusMessage});for(var s=0;s<o.length;s++){try{p=this.$SphericalRenderer1.getContext(o[s])}catch(t){}if(p)break}r.remove();if(!p){if(!q)q="Unknown error.";throw new Error("Failed to acquire 3D rendering context: "+q)}this.$SphericalRenderer6=p;this.$SphericalRenderer3=false};n.prototype.$SphericalRenderer30=function(){"use strict";var o=this.$SphericalRenderer32(),p=this.$SphericalRenderer33();this.$SphericalRenderer14=this.$SphericalRenderer6.createProgram();this.$SphericalRenderer6.attachShader(this.$SphericalRenderer14,o);this.$SphericalRenderer6.attachShader(this.$SphericalRenderer14,p);this.$SphericalRenderer6.linkProgram(this.$SphericalRenderer14)};n.prototype.$SphericalRenderer34=function(){"use strict";__p&&__p();if(!this.$SphericalRenderer6.getProgramParameter(this.$SphericalRenderer14,this.$SphericalRenderer6.LINK_STATUS)){var o="",p=this.$SphericalRenderer6.getAttachedShaders(this.$SphericalRenderer14);for(var q=0;q<p.length;q++)if(!this.$SphericalRenderer6.getShaderParameter(p[q],this.$SphericalRenderer6.COMPILE_STATUS)){o="Shader error: "+this.$SphericalRenderer6.getShaderInfoLog(p[q]);break}if(o==="")o="Program link error: "+this.$SphericalRenderer6.getProgramInfoLog(this.$SphericalRenderer14);throw new Error(o)}this.$SphericalRenderer6.useProgram(this.$SphericalRenderer14);this.$SphericalRenderer14.vertexPositionAttribute=this.$SphericalRenderer6.getAttribLocation(this.$SphericalRenderer14,"aVertexPosition");this.$SphericalRenderer6.enableVertexAttribArray(this.$SphericalRenderer14.vertexPositionAttribute);this.$SphericalRenderer14.pMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,"uPMatrix");this.$SphericalRenderer14.mvMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,"uMVMatrix");this.$SphericalRenderer14.samplerUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,"uSampler");if(!this.$SphericalRenderer17&&!this.$SphericalRenderer7){this.$SphericalRenderer14.textureCoordAttribute=this.$SphericalRenderer6.getAttribLocation(this.$SphericalRenderer14,"aTextureCoord");this.$SphericalRenderer6.enableVertexAttribArray(this.$SphericalRenderer14.textureCoordAttribute)}if(this.$SphericalRenderer8)this.$SphericalRenderer14.offsetUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,"uOffset");this.$SphericalRenderer24=true};n.prototype.$SphericalRenderer31=function(){"use strict";this.$SphericalRenderer13=this.$SphericalRenderer6.createTexture();this.$SphericalRenderer13.image=this.$SphericalRenderer15;var o=this.$SphericalRenderer17?this.$SphericalRenderer6.TEXTURE_CUBE_MAP:this.$SphericalRenderer6.TEXTURE_2D;this.$SphericalRenderer6.bindTexture(o,this.$SphericalRenderer13);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_MAG_FILTER,this.$SphericalRenderer6.LINEAR);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_MIN_FILTER,this.$SphericalRenderer6.LINEAR);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_WRAP_S,this.$SphericalRenderer6.CLAMP_TO_EDGE);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_WRAP_T,this.$SphericalRenderer6.CLAMP_TO_EDGE)};n.prototype.$SphericalRenderer35=function(o){__p&&__p();var p=arguments.length<=1||arguments[1]===undefined?30:arguments[1],q=arguments.length<=2||arguments[2]===undefined?30:arguments[2],r=arguments.length<=3||arguments[3]===undefined?Math.PI:arguments[3],s=arguments.length<=4||arguments[4]===undefined?Math.PI*2:arguments[4],t=arguments.length<=5||arguments[5]===undefined?0:arguments[5];"use strict";var u=2,v=[],w=[],x,y;for(x=0;x<=p;x++){var z=(x/p-.5)*r,A=Math.sin(z),B=Math.cos(z);for(y=0;y<=q;y++){var C=(y/q-.5)*s+t,D=Math.sin(C),E=Math.cos(C),F=E*B,G=A,H=D*B,I=y/q/this.$SphericalRenderer22.x,J=x/p/this.$SphericalRenderer22.y;w.push(I);w.push(J);v.push(u*F);v.push(u*G);v.push(u*H)}}var K=[];for(x=0;x<p;x++)for(y=0;y<q;y++){var L=x*(q+1)+y,M=L+q+1;K.push(L);K.push(M);K.push(L+1);K.push(M);K.push(M+1);K.push(L+1)}this.$SphericalRenderer18[o]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[o]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(w),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer18[o].itemSize=2;this.$SphericalRenderer18[o].numItems=w.length/2;this.$SphericalRenderer20=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(v),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer20){this.$SphericalRenderer20.itemSize=3;this.$SphericalRenderer20.numItems=v.length/3}this.$SphericalRenderer19=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(K),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer19){this.$SphericalRenderer19.itemSize=1;this.$SphericalRenderer19.numItems=K.length}};n.prototype.$SphericalRenderer36=function(o,p){"use strict";__p&&__p();var q=40,r=60,s=2,t=[],u=[],v=[],w=[],x,y;for(x=0;x<=q;x++){var z=x/q-.5,A=z*.5*Math.PI,B=Math.sin(A),C=Math.cos(A),D=(z/o+.5)/this.$SphericalRenderer22.y;for(y=0;y<=r;y++){var E=y/r-.5,F=E*2*Math.PI,G=Math.sin(F),H=Math.cos(F),I=H*C*s,J=B*s,K=G*C*s,L=(E/o*.8+.4)/this.$SphericalRenderer22.x;u.push(L);u.push(D);t.push(I);t.push(J);t.push(K);if(x==0||x==q){var M=Math.sign(1-x),N=(G*.1/o+.9)/this.$SphericalRenderer22.x,O=(H*.25*M/o+.5+z*.5)/this.$SphericalRenderer22.y;w.push(N);w.push(O);v.push(I);v.push(J);v.push(K)}}}var P=t.length/3;u.push.apply(u,w);t.push.apply(t,v);var Q=t.length/3,R=Math.sin(Math.PI*.25)*s;u.push(.9/this.$SphericalRenderer22.x);u.push(.25/this.$SphericalRenderer22.y);t.push(0);t.push(-R);t.push(0);u.push(.9/this.$SphericalRenderer22.x);u.push(.75/this.$SphericalRenderer22.y);t.push(0);t.push(R);t.push(0);var S=[];for(x=0;x<q;x++)for(y=0;y<r;y++){var T=x*(r+1)+y,U=T+r+1;S.push(T);S.push(U);S.push(T+1);S.push(U);S.push(U+1);S.push(T+1)}for(var V=0;V<2;V++)for(y=0;y<r;y++){S.push(y+P+V*(r+1));S.push(y+P+V*(r+1)+1);S.push(Q+V)}this.$SphericalRenderer18[p]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[p]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(u),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer18[p].itemSize=2;this.$SphericalRenderer18[p].numItems=u.length/2;this.$SphericalRenderer20=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(t),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer20){this.$SphericalRenderer20.itemSize=3;this.$SphericalRenderer20.numItems=t.length/3}this.$SphericalRenderer19=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(S),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer19){this.$SphericalRenderer19.itemSize=1;this.$SphericalRenderer19.numItems=S.length}};n.prototype.$SphericalRenderer37=function(o,p,q){"use strict";__p&&__p();var r;if(this.$SphericalRenderer9)r=[1,3,7,5,6,7,3,2,0,2,3,1,4,5,7,6,4,6,2,0,0,1,5,4];else r=[5,1,3,7,0,4,6,2,6,7,3,2,0,1,5,4,4,5,7,6,1,0,2,3];var s=[];for(var t=0;t<r.length;t++){var u=r[t]>>2&1,v=r[t]>>1&1,w=r[t]>>0&1;s.push(u*2-1);s.push(v*2-1);s.push(w*2-1)}this.$SphericalRenderer20=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(s),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer20){this.$SphericalRenderer20.itemSize=3;this.$SphericalRenderer20.numItems=s.length/3}if(!this.$SphericalRenderer17){var x,y,z,A,B,C=[];if(this.$SphericalRenderer9){var D=this.$SphericalRenderer13.image.videoWidth/2;p=D/(Math.floor(D/32)*32);z=(1-1/p)/2;x=3;y=2;A=1/y;B=1/x}else{z=(1-1/p)/2;x=2;y=3;A=1/y;B=1/x}for(var E=0;E<x;++E)for(var F=0;F<y;++F){var G=x-1-E,H=F;C.push((H+z)*A);C.push((G+z)*B);C.push((H+1-z)*A);C.push((G+z)*B);C.push((H+1-z)*A);C.push((G+1-z)*B);C.push((H+z)*A);C.push((G+1-z)*B)}this.$SphericalRenderer18[q]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[q]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(C),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer18[q].itemSize=2;this.$SphericalRenderer18[q].numItems=C.length/2}var I=[];for(var J=0;J<r.length;J+=4){I.push(J);I.push(J+2);I.push(J+1);I.push(J);I.push(J+3);I.push(J+2)}this.$SphericalRenderer19=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(I),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer19){this.$SphericalRenderer19.itemSize=1;this.$SphericalRenderer19.numItems=I.length}};n.prototype.$SphericalRenderer32=function(){"use strict";var o=this.$SphericalRenderer6.createShader(this.$SphericalRenderer6.VERTEX_SHADER),p="\n      attribute vec3 aVertexPosition;\n\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec3 vVertexDirectionVector;\n\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vVertexDirectionVector = aVertexPosition;\n      }\n    ",q="\n      attribute vec3 aVertexPosition;\n      attribute vec2 aTextureCoord;\n\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec2 vTextureCoord;\n\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vTextureCoord = aTextureCoord;\n      }\n    ",r="\n      attribute vec3 aVertexPosition;\n\n      uniform sampler2D uSampler;\n      // It's actually inverse MV matrix\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n      varying highp vec2 vOffset;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      highp float calculateOffset(highp float offset[19])\n      {\n        highp float sig =  -2.0 * offset[18] + 1.0;\n        highp float e = -127.0\n          + offset[10]\n          + offset[11] * 2.0\n          + offset[12] * 4.0\n          + offset[13] * 8.0\n          + offset[14] * 16.0\n          + offset[15] * 32.0\n          + offset[16] * 64.0\n          + offset[17] * 128.0;\n\n        highp float v = 1.0\n          + offset[9] * 0.5\n          + offset[8] * 0.25\n          + offset[7] * 0.125\n          + offset[6] * 0.0625\n          + offset[5] * 0.03125\n          + offset[4] * 0.015625\n          + offset[3] * 0.0078125\n          + offset[2] * 0.00390625\n          + offset[1] * 0.001953125\n          + offset[0] * 0.0009765625;\n\n        return sig * v * pow(2.0, e);\n      }\n\n      highp vec4 extractFromSample(highp vec4 c)\n      {\n        highp float minC = min(0.5, min(c.r, min(c.g, c.b)));\n        highp float diffC = max(0.5, max(c.r, max(c.g, c.b))) - minC + 0.001;\n        return step(0.5, (c - minC) / diffC);\n      }\n\n      highp vec2 parseOffset()\n      {\n        highp float offsetX[19], offsetZ[19];\n        highp vec4 c;\n        highp float minC, diffC;\n\n        c = extractFromSample(texture2D(uSampler, vec2(0.396, 1.0)));\n        offsetX[0] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.404, 1.0)));\n        offsetX[1] = c.b;\n        offsetX[2] = c.g;\n        offsetX[3] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.412, 1.0)));\n        offsetX[4] = c.b;\n        offsetX[5] = c.g;\n        offsetX[6] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.420, 1.0)));\n        offsetX[7] = c.b;\n        offsetX[8] = c.g;\n        offsetX[9] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.428, 1.0)));\n        offsetX[10] = c.b;\n        offsetX[11] = c.g;\n        offsetX[12] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.436, 1.0)));\n        offsetX[13] = c.b;\n        offsetX[14] = c.g;\n        offsetX[15] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.444, 1.0)));\n        offsetX[16] = c.b;\n        offsetX[17] = c.g;\n        offsetX[18] = c.r;\n\n        c = extractFromSample(texture2D(uSampler, vec2(0.572, 1.0)));\n        offsetZ[0] = c.b;\n        offsetZ[1] = c.g;\n        offsetZ[2] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.580, 1.0)));\n        offsetZ[3] = c.b;\n        offsetZ[4] = c.g;\n        offsetZ[5] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.588, 1.0)));\n        offsetZ[6] = c.b;\n        offsetZ[7] = c.g;\n        offsetZ[8] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.596, 1.0)));\n        offsetZ[9] = c.b;\n        offsetZ[10] = c.g;\n        offsetZ[11] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.604, 1.0)));\n        offsetZ[12] = c.b;\n        offsetZ[13] = c.g;\n        offsetZ[14] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.612, 1.0)));\n        offsetZ[15] = c.b;\n        offsetZ[16] = c.g;\n        offsetZ[17] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.620, 1.0)));\n        offsetZ[18] = c.b;\n\n        return vec2(calculateOffset(offsetX), -calculateOffset(offsetZ));\n      }\n\n      const float eps = 0.03;\n\n      void main(void) {\n        gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n        vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n        highp vec3 v = normalize( vPos );\n        vOffset = parseOffset();\n        highp float d = length( v.xz );\n        highp vec2 t = normalize(v.xz / d + vOffset) * d;\n        v = vec3(t.x, v.y, t.y);\n        vRecompute = 0.0;\n        if ( abs(v.y) < 0.707106781 ) {\n          vTextureCoord = EquirectPart( v );\n          vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n              vTextureCoord.x > 0.8 - eps * 0.5 );\n        } else {\n          vTextureCoord = FacePart( v );\n          vRecompute += float( abs(v.y) > 1.0 - eps );\n        }\n        vRecompute += float( abs(v.y) < 0.707106781 + eps &&\n            abs(v.y) > 0.707106781 - eps );\n      }\n    ",s="\n      attribute vec3 aVertexPosition;\n\n      uniform sampler2D uSampler;\n      // It's actually inverse MV matrix\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n      varying highp vec2 vOffset;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      highp vec4 extractFromSample(highp vec4 c)\n      {\n        highp float minC = min(0.5, min(c.r, min(c.g, c.b)));\n        highp float diffC = max(0.5, max(c.r, max(c.g, c.b))) - minC + 0.001;\n        return step(0.5, (c - minC) / diffC);\n      }\n\n      highp vec2 parseOffset()\n      {\n        highp float calculated_offsetX, calculated_offsetZ;\n        highp float offset_v, offset_e, offset_sig; // temp variables\n        highp vec4 texCoordsX[7], texCoordsZ[7]; // constants\n\n        texCoordsX[0] = extractFromSample(texture2D(uSampler, vec2(0.396, 1.0)));\n        texCoordsX[1] = extractFromSample(texture2D(uSampler, vec2(0.404, 1.0)));\n        texCoordsX[2] = extractFromSample(texture2D(uSampler, vec2(0.412, 1.0)));\n        texCoordsX[3] = extractFromSample(texture2D(uSampler, vec2(0.420, 1.0)));\n        texCoordsX[4] = extractFromSample(texture2D(uSampler, vec2(0.428, 1.0)));\n        texCoordsX[5] = extractFromSample(texture2D(uSampler, vec2(0.436, 1.0)));\n        texCoordsX[6] = extractFromSample(texture2D(uSampler, vec2(0.444, 1.0)));\n\n        offset_v = texCoordsX[0].r * 0.0009765625\n          + dot(texCoordsX[1].bgr, vec3(0.001953125, 0.00390625, 0.0078125))\n          + dot(texCoordsX[2].bgr, vec3(0.015625, 0.03125, 0.0625))\n          + dot(texCoordsX[3].bgr, vec3(0.125, 0.25, 0.5))\n          + 1.0;\n\n        offset_e = dot(texCoordsX[4].bgr, vec3(1.0, 2.0, 4.0))\n          + dot(texCoordsX[5].bgr, vec3(8.0, 16.0, 32.0))\n          + dot(texCoordsX[6].bg, vec2(64.0, 128.0))\n          - 127.0;\n\n        offset_sig = -2.0 * texCoordsX[6].r + 1.0;\n        calculated_offsetX = offset_sig * offset_v * pow(2.0, offset_e);\n\n\n        texCoordsZ[0] = extractFromSample(texture2D(uSampler, vec2(0.572, 1.0)));\n        texCoordsZ[1] = extractFromSample(texture2D(uSampler, vec2(0.580, 1.0)));\n        texCoordsZ[2] = extractFromSample(texture2D(uSampler, vec2(0.588, 1.0)));\n        texCoordsZ[3] = extractFromSample(texture2D(uSampler, vec2(0.596, 1.0)));\n        texCoordsZ[4] = extractFromSample(texture2D(uSampler, vec2(0.604, 1.0)));\n        texCoordsZ[5] = extractFromSample(texture2D(uSampler, vec2(0.612, 1.0)));\n        texCoordsZ[6] = extractFromSample(texture2D(uSampler, vec2(0.620, 1.0)));\n\n        offset_v = dot(texCoordsZ[0].bgr, vec3(0.0009765625, 0.001953125, 0.00390625))\n          + dot(texCoordsZ[1].bgr, vec3(0.0078125, 0.015625, 0.03125))\n          + dot(texCoordsZ[2].bgr, vec3(0.0625, 0.125, 0.25))\n          + texCoordsZ[3].b * 0.5\n          + 1.0;\n\n        offset_e = dot(texCoordsZ[3].gr, vec2(1.0, 2.0))\n          + dot(texCoordsZ[4].bgr, vec3(4.0, 8.0, 16.0))\n          + dot(texCoordsZ[5].bgr, vec3(32.0, 64.0, 128.0))\n          - 127.0;\n\n        offset_sig = 2.0 * texCoordsZ[6].b - 1.0;\n        calculated_offsetZ = offset_sig * offset_v * pow(2.0, offset_e);\n\n        return vec2(calculated_offsetX, calculated_offsetZ);\n      }\n\n      const float eps = 0.03;\n\n      void main(void) {\n        gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n        vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n        highp vec3 v = normalize( vPos );\n        vOffset = parseOffset();\n        highp float d = length( v.xz );\n        highp vec2 t = normalize(v.xz / d + vOffset) * d;\n        v.xz = t.xy;\n        vRecompute = 0.0;\n        highp float abs_vy = abs(v.y);\n        if ( abs_vy < 0.707106781 ) {\n          vTextureCoord = EquirectPart( v );\n          vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n              vTextureCoord.x > 0.8 - eps * 0.5 );\n        } else {\n          vTextureCoord = FacePart( v );\n          vRecompute += float( abs_vy > 1.0 - eps );\n        }\n        vRecompute += float( abs_vy < 0.707106781 + eps &&\n            abs_vy > 0.707106781 - eps );\n      }\n    ",t=c("gkx")("AT73kvJgjKMnumznH4av8YzVN25V2PEtu4Y2aMusJtPLGMxgQ6kD-_sQC8oQsXMzMb9gse6Q9ZPW1vyTdU3MNCo6DIYu0Aue01yfPXIRECrTbQ")?s:r,u="\n      attribute vec3 aVertexPosition;\n\n      // It's actually inverse MV matrix\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n      uniform highp vec2 uOffset;\n\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      const float eps = 0.03;\n\n      void main(void) {\n        gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n        vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n        highp vec3 v = normalize( vPos );\n        highp float d = length( v.xz );\n        highp vec2 t = normalize(v.xz / d + uOffset) * d;\n        v = vec3(t.x, v.y, t.y);\n        vRecompute = 0.0;\n        if ( abs(v.y) < 0.707106781 ) {\n          vTextureCoord = EquirectPart( v );\n          vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n              vTextureCoord.x > 0.8 - eps * 0.5 );\n        } else {\n          vTextureCoord = FacePart( v );\n          vRecompute += float( abs(v.y) > 1.0 - eps );\n        }\n        vRecompute += float( abs(v.y) < 0.707106781 + eps &&\n            abs(v.y) > 0.707106781 - eps );\n      }\n    ",v=this.$SphericalRenderer7?this.$SphericalRenderer8?u:t:this.$SphericalRenderer17?p:q;this.$SphericalRenderer6.shaderSource(o,v);this.$SphericalRenderer6.compileShader(o);return o};n.prototype.$SphericalRenderer33=function(){"use strict";var o=this.$SphericalRenderer6.createShader(this.$SphericalRenderer6.FRAGMENT_SHADER),p="\n      varying highp vec3 vVertexDirectionVector;\n      uniform samplerCube uSampler;\n\n      void main(void) {\n        gl_FragColor = textureCube(uSampler, vVertexDirectionVector);\n      }\n    ",q="\n      varying highp vec2 vTextureCoord;\n\n      uniform sampler2D uSampler;\n\n      void main(void) {\n        gl_FragColor = texture2D(\n          uSampler,\n          vec2(vTextureCoord.s, vTextureCoord.t)\n        );\n      }\n    ",r="\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n      varying highp vec2 vOffset;\n\n      uniform sampler2D uSampler;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      void main()\n      {\n        if (vRecompute > 0.0) {\n          highp vec3 v = normalize( vPos );\n          highp float d = length( v.xz );\n          highp vec2 t = normalize(v.xz / d + vOffset) * d;\n          v = vec3(t.x, v.y, t.y);\n          highp vec2 o;\n          if ( abs(v.y) < 0.707106781 ) {\n            o = EquirectPart( v );\n          } else {\n            o = FacePart( v );\n          }\n          gl_FragColor = texture2D( uSampler, o );\n        } else {\n          gl_FragColor = texture2D( uSampler, vTextureCoord );\n        }\n      }\n    ",s="\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n\n      uniform highp vec2 uOffset;\n      uniform sampler2D uSampler;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      void main()\n      {\n        if (vRecompute > 0.0) {\n          highp vec3 v = normalize( vPos );\n          highp float d = length( v.xz );\n          highp vec2 t = normalize(v.xz / d + uOffset) * d;\n          v = vec3(t.x, v.y, t.y);\n          highp vec2 o;\n          if ( abs(v.y) < 0.707106781 ) {\n            o = EquirectPart( v );\n          } else {\n            o = FacePart( v );\n          }\n          gl_FragColor = texture2D( uSampler, o );\n        } else {\n          gl_FragColor = texture2D( uSampler, vTextureCoord );\n        }\n      }\n    ",t=this.$SphericalRenderer7?this.$SphericalRenderer8?s:r:this.$SphericalRenderer17?p:q;this.$SphericalRenderer6.shaderSource(o,t);this.$SphericalRenderer6.compileShader(o);return o};n.prototype.$SphericalRenderer38=function(){"use strict";this.$SphericalRenderer23.framebuffer=this.$SphericalRenderer6.createFramebuffer();this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer23.framebuffer);this.$SphericalRenderer6.framebufferTexture2D(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer6.COLOR_ATTACHMENT0,this.$SphericalRenderer6.TEXTURE_2D,this.$SphericalRenderer13,0);this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,null)};n.prototype.$SphericalRenderer39=function(){"use strict";this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer23.framebuffer);this.$SphericalRenderer6.readPixels(0,this.$SphericalRenderer13.image.videoHeight-1,this.$SphericalRenderer13.image.videoWidth,1,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,this.$SphericalRenderer23.pixels);this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,null)};n.prototype.$SphericalRenderer40=function(){"use strict";__p&&__p();this.$SphericalRenderer23.bitmask.fill(0);var o=[0,0,0],p=this.$SphericalRenderer13.image.videoWidth/125,q=Math.round(p),r;for(r=0;r<33;++r){var s=Math.floor((45+r)*p)*4,t=128,u=127;for(var v=0;v<3;++v){o[v]=0;for(var w=0;w<q;++w)o[v]+=this.$SphericalRenderer23.pixels[s+w*4+(2-v)];o[v]/=q;t=Math.max(t,o[v]);u=Math.min(u,o[v])}for(v=0;v<3;++v){var x=(o[v]-u)/(t-u);this.$SphericalRenderer23.bitmask[r*3+v]=x>.5?1:0}}for(r=0;r<12;++r){var y=0;for(var z=0;z<8;++z)y+=this.$SphericalRenderer23.bitmask[1+r*8+z]*Math.pow(2,z);this.$SphericalRenderer23.dataView.setUint8(r,y)}this.$SphericalRenderer23.offsetX=this.$SphericalRenderer23.dataView.getFloat32(0,true);this.$SphericalRenderer23.offsetZ=-this.$SphericalRenderer23.dataView.getFloat32(8,true)};n.prototype.$SphericalRenderer41=function(){"use strict";__p&&__p();try{if(!this.$SphericalRenderer23.ready){this.$SphericalRenderer23.pixels=new Uint8Array(3840*4);this.$SphericalRenderer23.bitmask=new Uint8Array(33*3);this.$SphericalRenderer23.dataView=new DataView(new ArrayBuffer(12));this.$SphericalRenderer23.ready=true}if(!this.$SphericalRenderer23.framebuffer)this.$SphericalRenderer38();this.$SphericalRenderer39();this.$SphericalRenderer40()}catch(o){this.emit("renderingError",o)}};n.prototype.$SphericalRenderer42=function(){"use strict";__p&&__p();if(this.$SphericalRenderer17)this.$SphericalRenderer43();else{this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_2D,this.$SphericalRenderer13);this.$SphericalRenderer6.pixelStorei(this.$SphericalRenderer6.UNPACK_FLIP_Y_WEBGL,!this.$SphericalRenderer7);try{this.$SphericalRenderer6.texImage2D(this.$SphericalRenderer6.TEXTURE_2D,0,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,this.$SphericalRenderer13.image)}catch(o){this.emit("renderingError",o)}if(this.$SphericalRenderer8)this.$SphericalRenderer41()}};n.prototype.renderWithRotationMatrix=function(o){"use strict";if(this.$SphericalRenderer3)return;if(this.$SphericalRenderer16)this.$SphericalRenderer42();this.$SphericalRenderer11=o;if(this.$SphericalRenderer7)k.rotateY(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(-90));this.$SphericalRenderer44()};n.prototype.render=function(o,p){"use strict";__p&&__p();if(this.$SphericalRenderer3)return;if(this.$SphericalRenderer16)this.$SphericalRenderer42();if(this.$SphericalRenderer9){k.identity(this.$SphericalRenderer11);k.rotateX(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(-p));k.rotateY(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(o-135));k.rotateZ(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(45))}else{if(this.$SphericalRenderer7)o-=90;k.identity(this.$SphericalRenderer11);k.rotateX(this.$SphericalRenderer11,this.$SphericalRenderer11,-j.toRadian(p));k.rotateY(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(o))}this.$SphericalRenderer44()};n.prototype.$SphericalRenderer44=function(){"use strict";__p&&__p();if(this.$SphericalRenderer17){if(this.$SphericalRenderer20===null)this.$SphericalRenderer37(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,0)}else{if(!this.$SphericalRenderer24){this.$SphericalRenderer34();this.$SphericalRenderer6.activeTexture(this.$SphericalRenderer6.TEXTURE0)}var o=this.$SphericalRenderer13.image.videoWidth;if(this.$SphericalRenderer2.projectionType===c("VideoProjection").CUBEMAP||this.$SphericalRenderer2.projectionType===c("VideoProjection").ROTATED_CUBEMAP){if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer37(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,o)}else if(this.$SphericalRenderer2.projectionType===c("VideoProjection").BARREL){if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer36(this.$SphericalRenderer2.expansionCoef||1.01,o)}else if(this.$SphericalRenderer7){if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer35(o,40,40,Math.PI/180*111,Math.PI/180*142,-Math.PI/2)}else if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer35(o);if(!this.$SphericalRenderer7){this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[o]);this.$SphericalRenderer6.vertexAttribPointer(this.$SphericalRenderer14.textureCoordAttribute,this.$SphericalRenderer18[o].itemSize,this.$SphericalRenderer6.FLOAT,false,0,0)}}this.$SphericalRenderer6.uniform1i(this.$SphericalRenderer14.samplerUniform,0);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);if(this.$SphericalRenderer20)this.$SphericalRenderer6.vertexAttribPointer(this.$SphericalRenderer14.vertexPositionAttribute,this.$SphericalRenderer20.itemSize,this.$SphericalRenderer6.FLOAT,false,0,0);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer14.pMatrixUniform,false,this.$SphericalRenderer10);if(this.$SphericalRenderer7){k.invert(this.$SphericalRenderer12,this.$SphericalRenderer11);this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer14.mvMatrixUniform,false,this.$SphericalRenderer12);if(this.$SphericalRenderer8)this.$SphericalRenderer6.uniform2f(this.$SphericalRenderer14.offsetUniform,this.$SphericalRenderer23.offsetX,this.$SphericalRenderer23.offsetZ)}else this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer14.mvMatrixUniform,false,this.$SphericalRenderer11);if(this.$SphericalRenderer19)this.$SphericalRenderer6.drawElements(this.$SphericalRenderer6.TRIANGLES,this.$SphericalRenderer19.numItems,this.$SphericalRenderer6.UNSIGNED_SHORT,0)};n.prototype.$SphericalRenderer45=function(){"use strict";var o=this.$SphericalRenderer6.getParameter(this.$SphericalRenderer6.MAX_CUBE_MAP_TEXTURE_SIZE),p=this.$SphericalRenderer13.image.width;return Math.min(o,p)};n.prototype.$SphericalRenderer43=function(){"use strict";var o=this.$SphericalRenderer45(),p=this.$SphericalRenderer13.image.width,q=c("DOM").create("canvas",{width:o,height:o}),r=q.getContext("2d");this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_CUBE_MAP,this.$SphericalRenderer13);this.$SphericalRenderer6.pixelStorei(this.$SphericalRenderer6.UNPACK_FLIP_Y_WEBGL,false);for(var s=0;s<6;s++){r.drawImage(this.$SphericalRenderer13.image,0,s*p,p,p,0,0,o,o);var t=new Uint8Array(r.getImageData(0,0,o,o).data);this.$SphericalRenderer6.texImage2D(this.$SphericalRenderer6.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,this.$SphericalRenderer6.RGBA,o,o,0,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,t)}};f.exports=n}),null);
__d("SphericalVideoComponentDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("SphericalVideoComponentActions",["SphericalVideoComponentDispatcher"],(function a(b,c,d,e,f,g){__p&&__p();var h={registerVideoPlayerController:function i(j){var k={type:"SphericalVideoComponent/registerVideoPlayerController",controller:j,id:j.getVideoPlayerID()};c("SphericalVideoComponentDispatcher").dispatch(k)},updateVideoPlayerState:function i(j,k){var l={type:"SphericalVideoComponent/updateVideoPlayerState",id:j,state:k};c("SphericalVideoComponentDispatcher").dispatch(l)},togglePlay:function i(j,k){var l={type:"SphericalVideoComponent/togglePlay",id:j,nextIsPlaying:k};c("SphericalVideoComponentDispatcher").dispatch(l)},toggleChannelView:function i(j,k){var l={type:"SphericalVideoComponent/toggleChannelView",id:j,isInChannelView:k};c("SphericalVideoComponentDispatcher").dispatch(l)},toggleTahoe:function i(j,k){var l={type:"SphericalVideoComponent/toggleTahoe",id:j,isInTahoe:k};c("SphericalVideoComponentDispatcher").dispatch(l)},setCurrentVideoTime:function i(j,k){var l={type:"SphericalVideoComponent/setCurrentPlaytime",id:j,time:k};c("SphericalVideoComponentDispatcher").dispatch(l)},setVideoDuration:function i(j,k){var l={type:"SphericalVideoComponent/setVideoDuration",id:j,durationSeconds:k};c("SphericalVideoComponentDispatcher").dispatch(l)},seekStart:function i(j){var k={type:"SphericalVideoComponent/seekStart",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},registerSphericalViewportControl:function i(j,k,l){var m={type:"SphericalVideoComponent/registerSphericalViewportControl",id:j,sphericalViewportControl:k,viewport:l};c("SphericalVideoComponentDispatcher").dispatch(m)},changeViewport:function i(j,k,l,m){var n={type:"SphericalVideoComponent/changeViewport",id:j,yaw:k,pitch:l,fieldOfView:m};c("SphericalVideoComponentDispatcher").dispatch(n)},toggleViewportGrabbed:function i(j){var k={type:"SphericalVideoComponent/toggleViewportGrabbed",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},updateViewportDimensions:function i(j,k,l){var m={type:"SphericalVideoComponent/updateViewportDimensions",id:j,width:k,height:l};c("SphericalVideoComponentDispatcher").dispatch(m)},setUserIsInactive:function i(j){var k={type:"SphericalVideoComponent/setUserIsInactive",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},setInitialViewport:function i(j,k,l){var m={type:"SphericalVideoComponent/setInitialViewport",id:j,yaw:k,pitch:l};c("SphericalVideoComponentDispatcher").dispatch(m)},registerNewSpatialReactionsState:function i(j){var k={type:"SphericalVideoComponent/registerNewSpatialReactionsState",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},addSpatialReactionClusters:function i(j,k){var l={type:"SphericalVideoComponent/addSpatialReactions",id:j,reactionClusters:k};c("SphericalVideoComponentDispatcher").dispatch(l)},tickAnimation:function i(j){var k={type:"SphericalVideoComponent/tickAnimation",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},startAnimationForFrame:function i(j,k,l,m,n,o,p){var q={type:"SphericalVideoComponent/startAnimationForFrame",id:j,timestamp:k,yaw:l,pitch:m,fieldOfView:n,viewportWidth:o,viewportHeight:p};c("SphericalVideoComponentDispatcher").dispatch(q)},setMouseDown:function i(j,k,l){var m={type:"SphericalVideoComponent/setMouseDown",id:j,reactionCenter:k,wasVideoPlaying:l};c("SphericalVideoComponentDispatcher").dispatch(m)},setMouseUp:function i(j,k){var l={type:"SphericalVideoComponent/setMouseUp",id:j,reactionCenter:k};c("SphericalVideoComponentDispatcher").dispatch(l)},setIsDragging:function i(j,k){var l={type:"SphericalVideoComponent/setIsDragging",id:j,isDragging:k};c("SphericalVideoComponentDispatcher").dispatch(l)},setShouldLeaveReactionMenuOpen:function i(j,k){var l={type:"SphericalVideoComponent/setShouldLeaveReactionMenuOpen",id:j,leaveOpen:k};c("SphericalVideoComponentDispatcher").dispatch(l)},clickReaction:function i(j,k){var l={type:"SphericalVideoComponent/clickReaction",id:j,reactionType:k};c("SphericalVideoComponentDispatcher").dispatch(l)},dropReaction:function i(j,k,l,m,n,o,p,q,r,s){var t={type:"SphericalVideoComponent/dropReaction",id:j,reactionType:k,reactionOutsideViewport:l,recordMouseLocation:m,viewportWidth:n,viewportHeight:o,viewportYaw:p,viewportPitch:q,viewportFieldOfView:r,recordReactionCallback:s};c("SphericalVideoComponentDispatcher").dispatch(t)},clickLikeButton:function i(j){var k={type:"SphericalVideoComponent/clickLikeButton",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},openReactionMenu:function i(j){var k={type:"SphericalVideoComponent/openReactionMenu",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},closeReactionMenu:function i(j){var k={type:"SphericalVideoComponent/closeReactionMenu",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},registerExperimentConfig:function i(j,k){var l={type:"SphericalVideoComponent/registerExperimentConfig",id:j,config:k};c("SphericalVideoComponentDispatcher").dispatch(l)}};f.exports=h}),null);
__d("MovingAverage",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){"use strict";__p&&__p();this.$MovingAverage1=j;j=j||0;this.$MovingAverage2=0;this.$MovingAverage3=j*i;this.$MovingAverage4=i;this.$MovingAverage5=0;this.$MovingAverage6=[];for(var k=0;k<i;k++)this.$MovingAverage6[k]=j}h.prototype.add=function(i){"use strict";this.$MovingAverage3-=this.$MovingAverage6[this.$MovingAverage2];this.$MovingAverage3+=i;this.$MovingAverage6[this.$MovingAverage2]=i;this.$MovingAverage2=(this.$MovingAverage2+1)%this.$MovingAverage4;if(this.$MovingAverage5<this.$MovingAverage4)this.$MovingAverage5++;return this};h.prototype.get=function(i){"use strict";i=i===undefined?0:i;var j=(this.$MovingAverage2-i-1+this.$MovingAverage4)%this.$MovingAverage4;return this.$MovingAverage6[j]};h.prototype.getAvg=function(){"use strict";if(this.$MovingAverage5<this.$MovingAverage4&&this.$MovingAverage5!==0&&this.$MovingAverage1==null)return this.$MovingAverage3/this.$MovingAverage5;return this.$MovingAverage3/this.$MovingAverage4};h.prototype.getSum=function(){"use strict";return this.$MovingAverage3};h.prototype.getMax=function(){"use strict";return Math.max.apply(Math,this.$MovingAverage6)};h.prototype.getMin=function(){"use strict";return Math.min.apply(Math,this.$MovingAverage6)};g.MovingAverage=h}),null);
__d("SpatialAudioFallbackReasons",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHANNEL:"channel",SCROLL:"scroll"})}),null);
__d("SphericalMediaPerformanceEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SNAPSHOT:"snapshot",AUDIO_FALLBACK:"audio_fallback",SPATIAL_REACTIONS_CLUSTERS_COMPUTATION:"spatial_reactions_clusters_computation",SPATIAL_REACTIONS_CACHE_REBUILD:"spatial_reactions_cache_rebuild",LIVE_SPATIAL_REACTIONS_REGION_COUNT:"live_spatial_reactions_region_count",SPHERICAL_RENDERER_SETUP:"spherical_renderer_setup"})}),null);
__d("SphericalMediaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:SphericalMediaPerformanceLoggerConfig",this.$SphericalMediaPerformanceTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:SphericalMediaPerformanceLoggerConfig",this.$SphericalMediaPerformanceTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$SphericalMediaPerformanceTypedLogger1={};return this};h.prototype.updateData=function(j){this.$SphericalMediaPerformanceTypedLogger1=babelHelpers["extends"]({},this.$SphericalMediaPerformanceTypedLogger1,j);return this};h.prototype.setComputationTimeMs=function(j){this.$SphericalMediaPerformanceTypedLogger1.computation_time_ms=j;return this};h.prototype.setEndTimestampS=function(j){this.$SphericalMediaPerformanceTypedLogger1.end_timestamp_s=j;return this};h.prototype.setEvent=function(j){this.$SphericalMediaPerformanceTypedLogger1.event=j;return this};h.prototype.setFallbackDuration=function(j){this.$SphericalMediaPerformanceTypedLogger1.fallback_duration=j;return this};h.prototype.setFallbackReason=function(j){this.$SphericalMediaPerformanceTypedLogger1.fallback_reason=j;return this};h.prototype.setNormalizedFrameTime=function(j){this.$SphericalMediaPerformanceTypedLogger1.normalized_frame_time=j;return this};h.prototype.setNumSpatialAudioStutters=function(j){this.$SphericalMediaPerformanceTypedLogger1.num_spatial_audio_stutters=j;return this};h.prototype.setProductName=function(j){this.$SphericalMediaPerformanceTypedLogger1.product_name=j;return this};h.prototype.setProjection=function(j){this.$SphericalMediaPerformanceTypedLogger1.projection=j;return this};h.prototype.setSpatialReactionsCacheUsed=function(j){this.$SphericalMediaPerformanceTypedLogger1.spatial_reactions_cache_used=j;return this};h.prototype.setSpatialReactionsClustersCount=function(j){this.$SphericalMediaPerformanceTypedLogger1.spatial_reactions_clusters_count=j;return this};h.prototype.setSpatialReactionsCount=function(j){this.$SphericalMediaPerformanceTypedLogger1.spatial_reactions_count=j;return this};h.prototype.setSphericalRendererSetupDuration=function(j){this.$SphericalMediaPerformanceTypedLogger1.spherical_renderer_setup_duration=j;return this};h.prototype.setStartTimestampS=function(j){this.$SphericalMediaPerformanceTypedLogger1.start_timestamp_s=j;return this};h.prototype.setVideoID=function(j){this.$SphericalMediaPerformanceTypedLogger1.video_id=j;return this};var i={computation_time_ms:true,end_timestamp_s:true,event:true,fallback_duration:true,fallback_reason:true,normalized_frame_time:true,num_spatial_audio_stutters:true,product_name:true,projection:true,spatial_reactions_cache_used:true,spatial_reactions_clusters_count:true,spatial_reactions_count:true,spherical_renderer_setup_duration:true,start_timestamp_s:true,video_id:true};f.exports=h}),null);
__d("SphericalMediaProductNames",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SPHERICAL_VIDEO:"spherical_video",SPATIAL_AUDIO:"spatial_audio",SPATIAL_REACTIONS:"spatial_reactions"})}),null);
__d("SphericalVideoPerformanceTracker",["MovingAverage","SpatialAudioFallbackReasons","SphericalMediaPerformanceTypedLogger","SphericalMediaPerformanceEvents","SphericalMediaProductNames","Visibility","performance"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("MovingAverage").MovingAverage,i=60,j=1e3,k=10*j,l=15,m=j/i;function n(){"use strict";__p&&__p();n.$SphericalVideoPerformanceTracker1=false;this.$SphericalVideoPerformanceTracker10=new h(500,m);this.$SphericalVideoPerformanceTracker11=new(c("SphericalMediaPerformanceTypedLogger"))();this.$SphericalVideoPerformanceTracker12=false;this.$SphericalVideoPerformanceTracker7=-1;this.$SphericalVideoPerformanceTracker8=-1;this.$SphericalVideoPerformanceTracker5=false;this.$SphericalVideoPerformanceTracker6=false;var o=function(){this.$SphericalVideoPerformanceTracker4=false;this.$SphericalVideoPerformanceTracker16()}.bind(this),p=function(){this.$SphericalVideoPerformanceTracker4=true}.bind(this);c("Visibility").isHidden()?o():p();c("Visibility").addListener(c("Visibility").HIDDEN,o);c("Visibility").addListener(c("Visibility").VISIBLE,p)}n.get=function(){"use strict";if(!n.$SphericalVideoPerformanceTracker2)n.$SphericalVideoPerformanceTracker2=new n();return n.$SphericalVideoPerformanceTracker2};n.prototype.addFrameAtTime=function(o){"use strict";__p&&__p();if(!this.$SphericalVideoPerformanceTracker4)return;if(o!==this.$SphericalVideoPerformanceTracker9){n.$SphericalVideoPerformanceTracker1=true;this.$SphericalVideoPerformanceTracker9=o;if(!this.$SphericalVideoPerformanceTracker3)this.$SphericalVideoPerformanceTracker3=o;else{var p=o-this.$SphericalVideoPerformanceTracker3;this.$SphericalVideoPerformanceTracker3=o;this.$SphericalVideoPerformanceTracker10.add(p);if(!this.$SphericalVideoPerformanceTracker12){this.$SphericalVideoPerformanceTracker17();this.$SphericalVideoPerformanceTracker12=true}}}};n.prototype.setProjection=function(o){"use strict";this.$SphericalVideoPerformanceTracker15=o;return this};n.prototype.trackSpatialAudioMetrics=function(){"use strict";this.$SphericalVideoPerformanceTracker5=true;this.$SphericalVideoPerformanceTracker14=0};n.prototype.isTrackingSpatialAudioMetrics=function(){"use strict";return this.$SphericalVideoPerformanceTracker5};n.prototype.addAudioStutter=function(){"use strict";if(!this.isTrackingSpatialAudioMetrics())this.trackSpatialAudioMetrics();this.$SphericalVideoPerformanceTracker14++};n.prototype.enterSpatialAudioFallback=function(){"use strict";if(!this.isTrackingSpatialAudioMetrics())this.trackSpatialAudioMetrics();this.$SphericalVideoPerformanceTracker7=c("performance").now()};n.prototype.exitSpatialAudioFallback=function(){"use strict";if(!this.isTrackingSpatialAudioMetrics())this.trackSpatialAudioMetrics();if(this.$SphericalVideoPerformanceTracker7>0){var o=Math.trunc(c("performance").now()-this.$SphericalVideoPerformanceTracker7);this.$SphericalVideoPerformanceTracker7=-1;this.$SphericalVideoPerformanceTracker11.setProductName(c("SphericalMediaProductNames").SPATIAL_AUDIO).setEvent(c("SphericalMediaPerformanceEvents").AUDIO_FALLBACK).setFallbackDuration(o).setFallbackReason(c("SpatialAudioFallbackReasons").CHANNEL).log();this.$SphericalVideoPerformanceTracker11.clear()}};n.prototype.trackSphericalRendererMetrics=function(){"use strict";this.$SphericalVideoPerformanceTracker6=true};n.prototype.isTrackingSphericalRendererMetrics=function(){"use strict";return this.$SphericalVideoPerformanceTracker6};n.prototype.isOne360VideoActive=function(){"use strict";return n.$SphericalVideoPerformanceTracker1};n.prototype.enterSphericalRendererSetup=function(){"use strict";if(!this.isTrackingSphericalRendererMetrics())this.trackSphericalRendererMetrics();this.$SphericalVideoPerformanceTracker8=c("performance").now()};n.prototype.exitSphericalRendererSetup=function(){"use strict";if(!this.isTrackingSphericalRendererMetrics())this.trackSphericalRendererMetrics();if(this.$SphericalVideoPerformanceTracker8>0){var o=Math.trunc(c("performance").now()-this.$SphericalVideoPerformanceTracker8);this.$SphericalVideoPerformanceTracker8=-1;this.$SphericalVideoPerformanceTracker11.setProductName(c("SphericalMediaProductNames").SPHERICAL_VIDEO).setEvent(c("SphericalMediaPerformanceEvents").SPHERICAL_RENDERER_SETUP).setProjection(this.$SphericalVideoPerformanceTracker15).setSphericalRendererSetupDuration(o).log();this.$SphericalVideoPerformanceTracker11.clear()}};n.prototype.log=function(){"use strict";__p&&__p();if(!this.isOne360VideoActive())return;else{var o=Math.trunc(this.$SphericalVideoPerformanceTracker18()*Math.pow(10,l));this.$SphericalVideoPerformanceTracker11.setProductName(c("SphericalMediaProductNames").SPHERICAL_VIDEO).setEvent(c("SphericalMediaPerformanceEvents").SNAPSHOT).setNormalizedFrameTime(o);if(this.$SphericalVideoPerformanceTracker15)this.$SphericalVideoPerformanceTracker11.setProjection(this.$SphericalVideoPerformanceTracker15);if(this.$SphericalVideoPerformanceTracker5){this.$SphericalVideoPerformanceTracker11.setProductName(c("SphericalMediaProductNames").SPATIAL_AUDIO).setNumSpatialAudioStutters(this.$SphericalVideoPerformanceTracker14);this.$SphericalVideoPerformanceTracker14=0}this.$SphericalVideoPerformanceTracker11.log();this.$SphericalVideoPerformanceTracker11.clear()}this.$SphericalVideoPerformanceTracker16()};n.prototype.destroy=function(){"use strict";clearInterval(this.$SphericalVideoPerformanceTracker13);n.$SphericalVideoPerformanceTracker2=null};n.prototype.$SphericalVideoPerformanceTracker18=function(){"use strict";return this.$SphericalVideoPerformanceTracker10.getAvg()/m};n.prototype.$SphericalVideoPerformanceTracker16=function(){"use strict";this.$SphericalVideoPerformanceTracker3=null;n.$SphericalVideoPerformanceTracker1=false};n.prototype.$SphericalVideoPerformanceTracker17=function(){"use strict";this.$SphericalVideoPerformanceTracker13=setInterval(this.log.bind(this),k)};f.exports=n}),null);
__d("SphericalPhotoProjectionUtils",["degToRad","gl-matrix","radToDeg"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("gl-matrix").glMatrix,i=c("gl-matrix").mat4,j=c("gl-matrix").vec3,k={getMaxMinVfov:function l(m,n){var o=c("degToRad")(m.partialRightDegrees||180),p=c("degToRad")(m.partialLeftDegrees||180),q=c("degToRad")(m.partialTopDegrees||90),r=c("degToRad")(m.partialBottomDegrees||90),s=(o+p)/2,t=(q+r)/2,u=2*Math.atan(s/n),v=this.getMinFullVfov(t,t);return{maxVfov:c("radToDeg")(Math.max(u,v)),minVfov:c("radToDeg")(Math.min(v,u/2))}},getMaxVfov:function l(m,n){return this.getMaxMinVfov(m,n).maxVfov},getMinFullVfov:function l(m,n){var o=(m+n)/2;return 2*Math.atan(o)},getMinFullHfov:function l(m,n){var o=(m+n)/2;return 2*Math.atan(o)},getZoomProgressFromFov:function l(m,n,o){return Math.max(0,Math.min(1,(m-o)/(n-o)))},getZoomProgress:function l(m,n,o){var p=this.getMaxMinVfov(n,o),q=p.maxVfov,r=p.minVfov;return this.getZoomProgressFromFov(m,q,r)},getHfov:function l(m,n){var o=2*Math.atan(Math.tan(m/2)*n);return o},normalizeLimits:function l(m){__p&&__p();var n=m.partialLeftDegrees||0,o=m.partialRightDegrees||0,p=m.partialTopDegrees||0,q=m.partialBottomDegrees||0;if(n<0&&o<0){var r=Math.max(n,o);n-=r;o-=r}if(p<0&&q<0){var s=Math.max(p,q);p-=s;q-=s}return{partialLeftDegrees:n,partialRightDegrees:o,partialTopDegrees:p,partialBottomDegrees:q}},getPartialLimits:function l(m,n,o){var p=this.getMaxMinVfov(o,n),q=p.maxVfov,r=p.minVfov,s=c("degToRad")(m),t=this.getHfov(s,n),u=this.getZoomProgressFromFov(m,q,r),v=Math.tan(t/2),w=Math.tan(s/2),x=Math.sin(v)*u+v*(1-u),y=Math.cos(v)*u+1*(1-u),z=Math.sin(w)*u+w*(1-u),A=Math.cos(w)*u+1*(1-u),B=function B(G,H,I){var J=Math.sin(G),K=Math.cos(G);return m>q?0:c("radToDeg")(Math.atan2(J*I-K*H,J*H+K*I))},C=c("degToRad")(o.partialLeftDegrees||180),D=c("degToRad")(o.partialRightDegrees||180),E=c("degToRad")(o.partialTopDegrees||90),F=c("degToRad")(o.partialBottomDegrees||90);return this.normalizeLimits({partialLeftDegrees:B(C,x,y),partialRightDegrees:B(D,x,y),partialTopDegrees:B(E,z,A),partialBottomDegrees:B(F,z,A)})},projectVertex:function l(m,n,o,p){var q=m[0],r=m[1],s=o?Math.sin(q):Math.sin(q)*Math.cos(r),t=o?r:Math.sin(r),u=o?Math.cos(q):Math.cos(q)*Math.cos(r);s=p*s+(1-p)*q;t=p*t+(1-p)*r;u=p*u+(1-p)*1;var v=j.fromValues(s,t,u);j.transformMat4(v,v,n);return v},getSphericalFromVertex:function l(m){var n=m[0],o=m[1],p=m[2],q=Math.atan2(n,p),r=Math.atan2(o,Math.sqrt(n*n+p*p));return{yaw:q,pitch:r}},getRelativeHfov:function l(m,n,o){var p=this.getPartialLimits(m,n,o),q=o.partialLeftDegrees||180,r=o.partialRightDegrees||180,s=p.partialLeftDegrees||0,t=p.partialRightDegrees||0;return c("degToRad")(r-t+q-s)},getRelativeVfov:function l(m,n,o){var p=this.getPartialLimits(m,n,o),q=o.partialTopDegrees||90,r=o.partialBottomDegrees||90,s=p.partialTopDegrees||0,t=p.partialBottomDegrees||0;return c("degToRad")(q-s+r-t)},convert2dTo3d:function l(m,n,o,p,q,r){var s=p/q,t=p/2,u=q/2,v=(m-t)*(2/p),w=(n-u)*(2/q),x=c("degToRad")(o.fov),y=this.getHfov(x,s),z=this.getMinFullHfov(c("degToRad")(r.partialLeftDegrees||180),c("degToRad")(r.partialRightDegrees||180)),A=Math.tan(x/2),B=Math.tan(y/2),C=Math.tan(Math.min(y,z)/2),D=v*B,E=-w*A;if(D>C||D<-C)return null;var F=this.getZoomProgress(o.fov,r,s),G=i.create();i.rotateY(G,G,c("degToRad")(o.yaw));i.rotateX(G,G,-c("degToRad")(o.pitch));var H=this.projectVertex(j.fromValues(D,E,-1),G,false,F),I=this.getSphericalFromVertex(H),J=c("radToDeg")(I.yaw);return{yaw:J<0?360+J:J,pitch:c("radToDeg")(I.pitch)}},convert3dTo2d:function l(m,n,o,p,q,r){var s=c("degToRad")(m),t=c("degToRad")(n),u=c("degToRad")(o.fov),v=p/q,w=this.getHfov(u,v),x=this.getMinFullHfov(c("degToRad")(r.partialLeftDegrees||180),c("degToRad")(r.partialRightDegrees||180)),y=Math.tan(w/2),z=Math.tan(Math.min(w,x)/2),A=z/y,B=this.getMinFullVfov(c("degToRad")(r.partialTopDegrees||90),c("degToRad")(r.partialBottomDegrees||90)),C=Math.tan(u/2),D=Math.tan(Math.min(u,B)/2),E=D/C,F=this.getRelativeHfov(o.fov,v,r),G=this.getRelativeVfov(o.fov,v,r),H=i.create();i.rotateY(H,H,c("degToRad")(o.yaw));i.rotateX(H,H,-c("degToRad")(o.pitch));i.invert(H,H);var I=s+Math.PI,J=t+Math.PI/2,K=-Math.sin(J)*Math.sin(I),L=-Math.cos(J),M=-Math.sin(J)*Math.cos(I),N=j.fromValues(K,L,M);j.transformMat4(N,N,H);var O=Math.atan2(N[0],N[2]),P=Math.atan2(N[1],Math.sqrt(N[0]*N[0]+N[2]*N[2])),Q=.5+O*A/F,R=.5-P*E/G;return{x:Q*p,y:R*q}}};f.exports=k}),null);
__d("SphericalViewportControl",["cx","invariant","Bootloader","CSS","DOMQuery","Event","EventEmitter","Keys","SphericalPhotoTypedConfig","SubscriptionsHandler","UserAgent","VelocityTracker","SphericalPhotoProjectionUtils","gkx","debounce","getElementRect","performanceNow","requestAnimationFrame","throttle","uniqueID","degToRad","radToDeg","queryThenMutateDOM"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("DOMQuery").scry(window.document.body,"_li")[0]||window.document.body,m=navigator===undefined||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),n=.6,o=2.5,p=20,q=110,r=179,s=.01,t=1e3,u=.5,v=["W","A","S","D"].reduce(function(y,z){y[z]=z.charCodeAt(0);return y},{}),w={Up:"__tu",Down:"__tz",Left:"_2a6u",Right:"_2a6v",UpLeft:"__t-",UpRight:"__u0",DownLeft:"__u1",DownRight:"__u3"};j=babelHelpers.inherits(x,c("EventEmitter"));k=j&&j.prototype;function x(y,z){__p&&__p();var A=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],B=arguments.length<=3||arguments[3]===undefined?false:arguments[3],C=arguments.length<=4||arguments[4]===undefined?l:arguments[4];"use strict";k.constructor.call(this);this.$SphericalViewportControl18=false;this.$SphericalViewportControl19=false;this.$SphericalViewportControl20=false;this.$SphericalViewportControl45=false;this.$SphericalViewportControl62=false;this.$SphericalViewportControl64={x:1,y:1};this.$SphericalViewportControl65=false;this.$SphericalViewportControl66=null;this.$SphericalViewportControl69=false;this.$SphericalViewportControl88=function(E){__p&&__p();if(this.$SphericalViewportControl67){if(E.shiftKey){var F=this.$SphericalViewportControl112(E),G=c("getElementRect")(this.$SphericalViewportControl32);if(F.x>G.left&&F.x<G.right&&F.y>G.top&&F.y<G.bottom){var H=(E.deltaX||0)+(E.deltaY||0)+(E.deltaZ||0),I=.5*(G.left+G.right),J=.5*(G.top+G.bottom),K={x:(F.x-I)/(G.right-G.left),y:(F.y-J)/(G.bottom-G.top)};this.emit("wheelScrollWithShiftKey",H,K)}E.preventDefault()}return}E.deliberateSync=true;if(this.$SphericalViewportControl38)E.preventDefault();this.$SphericalViewportControl122(E);if(this.$SphericalViewportControl46)c("Event").kill(E)}.bind(this);this.$SphericalViewportControl122=c("throttle")(function(E){this.emit("wheelScroll",E);if(!this.$SphericalViewportControl46)return;var F=(E.deltaX||0)+(E.deltaY||0)+(E.deltaZ||0),G=F/120*45/10;this.$SphericalViewportControl97(G)}.bind(this),30);this.$SphericalViewportControl125=function(E){this.emit("panningWithRightMouse",this.$SphericalViewportControl109());if(this.$SphericalViewportControl69){this.$SphericalViewportControl66=c("requestAnimationFrame")(this.$SphericalViewportControl125);return}this.emit("updateViewportEnd",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y);this.$SphericalViewportControl15=false;this.$SphericalViewportControl66=null}.bind(this);this.$SphericalViewportControl126=function(E){__p&&__p();var F=(E-this.$SphericalViewportControl59)/1e3;this.$SphericalViewportControl59=E;this.$SphericalViewportControl127();if(!this.$SphericalViewportControl60)c("queryThenMutateDOM")(this.$SphericalViewportControl89.bind(this),function(){return null});var G=this.$SphericalViewportControl109(),H=false;if(this.$SphericalViewportControl42&&this.$SphericalViewportControl54&&this.$SphericalViewportControl47&&!this.$SphericalViewportControl19&&!this.$SphericalViewportControl20){var I=this.$SphericalViewportControl128()*F;G.x+=I;var J=this.$SphericalViewportControl129()*F;G.y+=J;if(I||J)H=true}G.x+=this.$SphericalViewportControl8.getVelocityX()*F;G.y+=this.$SphericalViewportControl8.getVelocityY()*F;G.x+=this.$SphericalViewportControl9.getVelocityX()*F;G.y+=this.$SphericalViewportControl9.getVelocityY()*F;G.x*=this.$SphericalViewportControl64.x;G.y*=this.$SphericalViewportControl64.y;this.$SphericalViewportControl130(G.x,G.y);var K=this.$SphericalViewportControl8.getSpeed()>0||this.$SphericalViewportControl9.getSpeed()>0;if(this.$SphericalViewportControl19||this.$SphericalViewportControl18||this.$SphericalViewportControl20||this.$SphericalViewportControl57||this.$SphericalViewportControl45||K||H)this.$SphericalViewportControl66=c("requestAnimationFrame")(this.$SphericalViewportControl126);else{this.$SphericalViewportControl15=false;this.$SphericalViewportControl66=null;var L={yaw:this.$SphericalViewportControl26.x,pitch:this.$SphericalViewportControl26.y},M=this.getCurrentViewport();this.$SphericalViewportControl4.pitch+=L.pitch-M.pitch;this.$SphericalViewportControl4.yaw-=L.yaw-M.yaw;this.emit("updateViewportEnd",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y)}}.bind(this);this.$SphericalViewportControl4={pitch:0,yaw:0};this.$SphericalViewportControl5=z.dragVelocityFactor||n;this.$SphericalViewportControl3=false;this.$SphericalViewportControl8=new(c("VelocityTracker"))(300);this.$SphericalViewportControl9=new(c("VelocityTracker"))(300);this.$SphericalViewportControl13=new(c("SubscriptionsHandler"))();this.$SphericalViewportControl32=y;this.$SphericalViewportControl10=C;this.$SphericalViewportControl51=p;this.$SphericalViewportControl52=q;this.$SphericalViewportControl53=r;this.$SphericalViewportControl63=B;this.$SphericalViewportControl70(z);this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl59=0;this.$SphericalViewportControl17={left:0,right:0,up:0,down:0};this.$SphericalViewportControl23={x:0,y:0};this.$SphericalViewportControl24={x:0,y:0};this.$SphericalViewportControl25=new(c("VelocityTracker"))();this.$SphericalViewportControl30=new Map();this.$SphericalViewportControl38=false;this.$SphericalViewportControl22=false;this.$SphericalViewportControl27=false;this.$SphericalViewportControl43=A.enableGyro||false;this.$SphericalViewportControl44=A.slipFactor||0;this.$SphericalViewportControl47=A.springFactor||0;this.$SphericalViewportControl48=A.maxSpringDegrees||15;this.$SphericalViewportControl49=A.maxStretchXDegrees||20;this.$SphericalViewportControl50=A.maxStretchYDegrees||20;this.$SphericalViewportControl55=A.rubberBandConstant||0;this.$SphericalViewportControl54=A.enableRubberBanding||false;this.$SphericalViewportControl67=A.enableZoomWithShiftKey||false;this.$SphericalViewportControl68=A.enablePanningWithRightMouse||false;this.$SphericalViewportControl57=false;this.$SphericalViewportControl58=0;this.$SphericalViewportControl56=c("debounce")(function(){return this.emit("zoomStart")}.bind(this),t);this.$SphericalViewportControl37=this.$SphericalViewportControl71();this.$SphericalViewportControl60=A.disableAutoClientSizeUpdate||false;this.$SphericalViewportControl61=[];this.$SphericalViewportControl31=this.addNewLayer(this.$SphericalViewportControl32);var D=c("gkx")("AT6wort62ftT8nJ8tjXEnN_v1U7sMjgy49hKFdpNSQKKjigxquMojqnjaxkK4KUOQBxZ1-sDcK46ktB7tNKfJQMq");if(m&&D)c("Bootloader").loadModules(["FullTilt"],function(E){E.getDeviceOrientation({type:"game"}).then(function(F){return this.$SphericalViewportControl72(F,z)}.bind(this))["catch"](function(F){return this.$SphericalViewportControl73(F)}.bind(this))}.bind(this),"SphericalViewportControl")}x.prototype.$SphericalViewportControl72=function(y,z){"use strict";__p&&__p();if(z.partialLimits){var A=z.partialLimits,B=this.getVerticalFieldOfView(),C=this.getHorizontalFieldOfView();this.$SphericalViewportControl6={top:(A.partialTopDegrees||Infinity)-B/2,bottom:-(A.partialBottomDegrees||Infinity)+B/2,left:-(A.partialLeftDegrees||Infinity)+C/2,right:(A.partialRightDegrees||Infinity)-C/2}}c("Bootloader").loadModules(["MSphericalViewportControlEuler"],function(D){this.$SphericalViewportControl2=new D(y,z,this.$SphericalViewportControl6);this.$SphericalViewportControl2.setActive(true);this.$SphericalViewportControl1=y;this.$SphericalViewportControl1.start(function(){return this.$SphericalViewportControl74()}.bind(this));this.$SphericalViewportControl3=true}.bind(this),"SphericalViewportControl")};x.prototype.$SphericalViewportControl74=function(){"use strict";var y={yaw:c("degToRad")(this.$SphericalViewportControl4.yaw-this.$SphericalViewportControl28.x),pitch:c("degToRad")(this.$SphericalViewportControl4.pitch+this.$SphericalViewportControl28.y)};this.$SphericalViewportControl2.onSensorUpdate();this.$SphericalViewportControl2.getRotationMatrix(y);var z=this.getCurrentViewport();if(!this.$SphericalViewportControl15)this.emit("viewportChange",z.yaw,z.pitch,this.$SphericalViewportControl11)};x.prototype.getCurrentViewport=function(){"use strict";var y={yaw:c("degToRad")(this.$SphericalViewportControl4.yaw-this.$SphericalViewportControl28.x),pitch:c("degToRad")(this.$SphericalViewportControl4.pitch+this.$SphericalViewportControl28.y)};if(!this.$SphericalViewportControl3)return{pitch:c("radToDeg")(y.pitch),yaw:c("radToDeg")(y.yaw)};return this.$SphericalViewportControl2.getCurrentViewport(y)||{pitch:c("radToDeg")(y.pitch),yaw:c("radToDeg")(y.yaw)}};x.prototype.$SphericalViewportControl73=function(y){"use strict";this.emit("sensorSetupError",{error:"SPHERICAL_GYROSCOPE_SETUP_FAILED",message:y})};x.prototype.isListening=function(y){"use strict";return Boolean(this.getSubscriptionKeyFromElement(y))};x.prototype.getSubscriptionKeyFromElement=function(y){"use strict";__p&&__p();for(var z=this.$SphericalViewportControl30,A=Array.isArray(z),B=0,z=A?z:z[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var C;if(A){if(B>=z.length)break;C=z[B++]}else{B=z.next();if(B.done)break;C=B.value}var D=C,E=D[0],F=D[1];if(F.element===y)return E}return null};x.prototype.addNewLayer=function(y){"use strict";var z=this.getSubscriptionKeyFromElement(y);if(!z){z=c("uniqueID")();var A=new(c("SubscriptionsHandler"))();this.$SphericalViewportControl75(A,y);this.$SphericalViewportControl30.set(z,{handler:A,element:y})}return z};x.prototype.removeLayer=function(y){"use strict";var z=this.$SphericalViewportControl30.get(y);if(z){z.handler.release();this.$SphericalViewportControl30["delete"](y)}};x.prototype.destroy=function(){"use strict";this.removeAllListeners();this.getSubscriptions().remove()};x.prototype.$SphericalViewportControl75=function(y,z){"use strict";__p&&__p();y.addSubscriptions(c("Event").listen(z,"mousedown",function(A){return this.$SphericalViewportControl76(A)}.bind(this)),c("Event").listen(z,"mouseenter",function(A){return this.$SphericalViewportControl77(A,z)}.bind(this)),c("Event").listen(z,"mouseleave",function(A){return this.$SphericalViewportControl78(A,z)}.bind(this)),c("Event").listen(z,"mousemove",function(A){return this.$SphericalViewportControl79(A)}.bind(this)),c("Event").listen(z,"mouseup",function(A){return this.$SphericalViewportControl80(A)}.bind(this)),c("Event").listen(z,"click",function(A){return this.$SphericalViewportControl81(A)}.bind(this)),c("Event").listen(z,"keydown",function(A){return this.$SphericalViewportControl82(A)}.bind(this)),c("Event").listen(z,"keyup",function(A){return this.$SphericalViewportControl83(A)}.bind(this)),c("Event").listen(z,"blur",function(A){return this.$SphericalViewportControl84(A)}.bind(this)),c("Event").listen(z,"touchstart",function(A){return this.$SphericalViewportControl85(A)}.bind(this)),c("Event").listen(z,"touchmove",function(A){return this.$SphericalViewportControl86(A)}.bind(this)),c("Event").listen(z,"touchend",function(A){return this.$SphericalViewportControl87(A)}.bind(this)),c("Event").listen(z,"touchcancel",function(A){return this.$SphericalViewportControl87(A)}.bind(this)),{remove:function(){z.removeEventListener("wheel",this.$SphericalViewportControl88)}.bind(this)})};x.prototype.$SphericalViewportControl70=function(y){"use strict";__p&&__p();this.$SphericalViewportControl89();this.$SphericalViewportControl7=this.$SphericalViewportControl34/this.$SphericalViewportControl35;var z=y.fieldOfView;this.$SphericalViewportControl46=Boolean(y.enableZoom);this.$SphericalViewportControl29=(y.panningVelocityFactor||0)/15*80||80;this.$SphericalViewportControl16=(y.keyboardVelocityFactor||0)*1e3||80;if(y.partialLimits){this.$SphericalViewportControl39=y.partialLimits;this.$SphericalViewportControl42=true}else{this.$SphericalViewportControl42=false;this.$SphericalViewportControl39={partialLeftDegrees:null,partialRightDegrees:null,partialTopDegrees:null,partialBottomDegrees:null}}this.$SphericalViewportControl40=this.$SphericalViewportControl39;this.$SphericalViewportControl41=1;if(this.$SphericalViewportControl63)this.$SphericalViewportControl42=true;this.$SphericalViewportControl28={x:y.initialHeading,y:y.initialPitch};var A=this.$SphericalViewportControl39,B=A.partialTopDegrees,C=A.partialBottomDegrees;if(!this.$SphericalViewportControl63&&(B||B===0)&&(C||C===0)){var D=B,E=C,F=D+E;if(z>F){z=F;this.$SphericalViewportControl28.y=(D-E)/2}}this.$SphericalViewportControl11=this.$SphericalViewportControl90(z);this.$SphericalViewportControl12=this.$SphericalViewportControl11;this.$SphericalViewportControl91();this.$SphericalViewportControl26={x:this.$SphericalViewportControl28.x,y:this.$SphericalViewportControl28.y}};x.prototype.reconfigure=function(y){"use strict";this.$SphericalViewportControl70(y)};x.prototype.setEnableGyro=function(y){"use strict";this.$SphericalViewportControl43=y};x.prototype.$SphericalViewportControl76=function(y){"use strict";if(this.$SphericalViewportControl65)this.$SphericalViewportControl92();if(this.isListening(y.target)){this.$SphericalViewportControl19=true;this.$SphericalViewportControl93(y)}};x.prototype.$SphericalViewportControl85=function(y){"use strict";__p&&__p();this.$SphericalViewportControl62=false;if(this.$SphericalViewportControl65)this.$SphericalViewportControl92();if(this.$SphericalViewportControl20){this.$SphericalViewportControl94(y);this.$SphericalViewportControl20=false}else this.$SphericalViewportControl20=true;this.$SphericalViewportControl93(y)};x.prototype.$SphericalViewportControl94=function(y){"use strict";if(y.touches.length===2&&this.$SphericalViewportControl46){this.$SphericalViewportControl57=true;this.$SphericalViewportControl58=this.$SphericalViewportControl95(y)}};x.prototype.$SphericalViewportControl86=function(y){"use strict";this.$SphericalViewportControl62=true;if(this.$SphericalViewportControl57){this.$SphericalViewportControl96(y);if(this.$SphericalViewportControl46)c("Event").kill(y)}};x.prototype.$SphericalViewportControl96=function(y){"use strict";var z=this.$SphericalViewportControl95(y),A=this.$SphericalViewportControl11*(this.$SphericalViewportControl58/z),B=A-this.$SphericalViewportControl11;this.$SphericalViewportControl97(B);this.$SphericalViewportControl58=z};x.prototype.$SphericalViewportControl95=function(y){"use strict";var z=y.touches[0].pageX-y.touches[1].pageX,A=y.touches[0].pageY-y.touches[1].pageY;return Math.sqrt(Math.pow(z,2)+Math.pow(A,2))};x.prototype.$SphericalViewportControl87=function(y){"use strict";if(!this.$SphericalViewportControl62&&c("SphericalPhotoTypedConfig").is_www_tap_to_click_on){y.target.focus(y);this.$SphericalViewportControl81(y)}if(this.$SphericalViewportControl57)this.$SphericalViewportControl57=false;else if(this.$SphericalViewportControl20)this.$SphericalViewportControl98(y)};x.prototype.$SphericalViewportControl93=function(y){"use strict";__p&&__p();this.emit("onMovementStart");this.$SphericalViewportControl99();this.$SphericalViewportControl100(y);this.$SphericalViewportControl101(y);if(this.$SphericalViewportControl68&&(y.which===3||y.button===2)){this.$SphericalViewportControl69=true;this.$SphericalViewportControl15=false}this.$SphericalViewportControl102();y.preventDefault()};x.prototype.$SphericalViewportControl98=function(y){"use strict";if(this.$SphericalViewportControl45&&!this.$SphericalViewportControl19){this.$SphericalViewportControl103();this.$SphericalViewportControl45=false}};x.prototype.$SphericalViewportControl104=function(y){"use strict";if(this.$SphericalViewportControl65)this.$SphericalViewportControl92()};x.prototype.$SphericalViewportControl105=function(y){"use strict";this.$SphericalViewportControl101(y);this.$SphericalViewportControl14=true;this.emit("updateViewportMove")};x.prototype.$SphericalViewportControl106=function(y){"use strict";if(this.$SphericalViewportControl45){this.$SphericalViewportControl107(y);this.emit("updateViewportMove")}};x.prototype.$SphericalViewportControl99=function(){"use strict";this.$SphericalViewportControl15=false;this.$SphericalViewportControl45=false;this.$SphericalViewportControl43=false};x.prototype.$SphericalViewportControl108=function(y){"use strict";this.$SphericalViewportControl101(y);this.$SphericalViewportControl109();this.$SphericalViewportControl92();this.$SphericalViewportControl103();y.preventDefault()};x.prototype.$SphericalViewportControl92=function(y){"use strict";__p&&__p();this.$SphericalViewportControl65=false;c("queryThenMutateDOM")(function(){},function(){return this.$SphericalViewportControl32.style.cursor=""}.bind(this));this.$SphericalViewportControl20=false;this.$SphericalViewportControl19=false;this.$SphericalViewportControl69=false;this.$SphericalViewportControl13.release();if(this.$SphericalViewportControl36){c("CSS").removeClass(this.$SphericalViewportControl10,this.$SphericalViewportControl36);this.$SphericalViewportControl36=""}};x.prototype.$SphericalViewportControl110=function(y){"use strict";if(this.$SphericalViewportControl20&&y.changedTouches)return y.changedTouches[0];else if(this.$SphericalViewportControl19)return y;else if(this.$SphericalViewportControl45)return y;return null};x.prototype.setMovementPosition=function(y){"use strict";this.$SphericalViewportControl23=this.$SphericalViewportControl111(y)};x.prototype.$SphericalViewportControl111=function(y){"use strict";var z=this.$SphericalViewportControl110(y);if(!z)return this.$SphericalViewportControl23;return{x:z.screenX,y:z.screenY}};x.prototype.$SphericalViewportControl112=function(y){"use strict";var z=this.$SphericalViewportControl110(y);if(!z)return this.$SphericalViewportControl24;return{x:z.clientX,y:z.clientY}};x.prototype.$SphericalViewportControl100=function(y){"use strict";__p&&__p();this.$SphericalViewportControl65=true;this.$SphericalViewportControl23=this.$SphericalViewportControl111(y);this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl25=new(c("VelocityTracker"))();this.$SphericalViewportControl9=new(c("VelocityTracker"))(300);c("queryThenMutateDOM")(function(){},function(){return this.$SphericalViewportControl32.style.cursor=this.$SphericalViewportControl37}.bind(this));this.$SphericalViewportControl13.engage();var z=this.$SphericalViewportControl10;if(this.$SphericalViewportControl20)this.$SphericalViewportControl13.addSubscriptions(c("Event").listen(z,"touchmove",function(y){return this.$SphericalViewportControl105(y)}.bind(this)),c("Event").listen(z,"touchend",function(y){return this.$SphericalViewportControl108(y)}.bind(this)),c("Event").listen(z,"touchcancel",function(y){return this.$SphericalViewportControl104(y)}.bind(this)));else this.$SphericalViewportControl13.addSubscriptions(c("Event").listen(z,"mousemove",function(y){return this.$SphericalViewportControl105(y)}.bind(this)),c("Event").listen(z,"mouseup",function(y){return this.$SphericalViewportControl108(y)}.bind(this)),c("Event").listen(z,"mouseleave",function(y){return this.$SphericalViewportControl104(y)}.bind(this)))};x.prototype.$SphericalViewportControl107=function(y){"use strict";this.$SphericalViewportControl113(y,this.$SphericalViewportControl44)};x.prototype.$SphericalViewportControl101=function(y){"use strict";this.$SphericalViewportControl113(y,1)};x.prototype.reEnableGyro=function(){"use strict";this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl43=true;this.$SphericalViewportControl45=true;this.$SphericalViewportControl92()};x.prototype.$SphericalViewportControl113=function(y,z){"use strict";var A=this.$SphericalViewportControl111(y),B=A.x-this.$SphericalViewportControl23.x,C=A.y-this.$SphericalViewportControl23.y,D=this.$SphericalViewportControl22?{x:0,y:0}:this.$SphericalViewportControl21;this.$SphericalViewportControl21={x:z*(A.x-this.$SphericalViewportControl23.x)+D.x,y:z*(A.y-this.$SphericalViewportControl23.y)+D.y};this.$SphericalViewportControl4.yaw+=B*this.$SphericalViewportControl5;this.$SphericalViewportControl4.pitch+=C*this.$SphericalViewportControl5;this.$SphericalViewportControl22=false;this.$SphericalViewportControl23=A;this.$SphericalViewportControl25.update(A.x,A.y);this.$SphericalViewportControl24=this.$SphericalViewportControl112(y)};x.prototype.$SphericalViewportControl114=function(){"use strict";var y=this.$SphericalViewportControl115(),z=-this.$SphericalViewportControl25.getVelocityX()*y,A=this.$SphericalViewportControl25.getVelocityY()*y,B=this.$SphericalViewportControl45?this.$SphericalViewportControl44:1;if(this.$SphericalViewportControl116())z=-z;return{x:z*B,y:A*B}};x.prototype.$SphericalViewportControl117=function(y,z){"use strict";return c("radToDeg")(Math.atan(y/z))};x.prototype.$SphericalViewportControl118=function(y,z,A){"use strict";return{x:this.$SphericalViewportControl117(y.x-this.$SphericalViewportControl34/2,A),y:-this.$SphericalViewportControl117(y.y-this.$SphericalViewportControl35/2,z)}};x.prototype.$SphericalViewportControl119=function(y,z){"use strict";__p&&__p();var A={x:y.x-z.x,y:y.y-z.y},B=this.$SphericalViewportControl35/(2*Math.tan(c("degToRad")(this.getVerticalFieldOfView()/2))),C=B*Math.cos(c("degToRad")(this.$SphericalViewportControl26.y)),D=C-(this.$SphericalViewportControl35/2-y.y)*Math.sin(c("degToRad")(this.$SphericalViewportControl26.y));if(this.$SphericalViewportControl26.y==-90&&z.y<0||this.$SphericalViewportControl26.y==90&&z.y>0){var E=this.$SphericalViewportControl117(A.y-this.$SphericalViewportControl35/2,A.x-this.$SphericalViewportControl34/2),F=this.$SphericalViewportControl117(y.y-this.$SphericalViewportControl35/2,y.x-this.$SphericalViewportControl34/2),G=F-E;if(G>90)G=180-G;else if(G<-90)G=180+G;return{x:G*Math.sign(this.$SphericalViewportControl26.y),y:0}}else{var H=this.$SphericalViewportControl118(A,B,D),I=this.$SphericalViewportControl118(y,B,D);return{x:H.x-I.x,y:H.y-I.y}}};x.prototype.$SphericalViewportControl116=function(){"use strict";var y=this.$SphericalViewportControl33?this.$SphericalViewportControl33.top:c("getElementRect")(this.$SphericalViewportControl32).top,z=this.$SphericalViewportControl24.y-y,A=this.$SphericalViewportControl35/(2*Math.tan(c("degToRad")(this.getVerticalFieldOfView()/2))),B=-A/Math.tan(c("degToRad")(this.$SphericalViewportControl26.y))+this.$SphericalViewportControl35/2,C=z>B&&this.$SphericalViewportControl26.y<0||z<B&&this.$SphericalViewportControl26.y>0;return C};x.prototype.$SphericalViewportControl109=function(){"use strict";__p&&__p();if(this.$SphericalViewportControl69){var y={x:0,y:0};if(!this.$SphericalViewportControl22){this.$SphericalViewportControl22=true;y.x=this.$SphericalViewportControl21.x/this.$SphericalViewportControl34;y.y=this.$SphericalViewportControl21.y/this.$SphericalViewportControl35}return y}var z={x:0,y:0};if(!this.$SphericalViewportControl22){this.$SphericalViewportControl22=true;var A=this.$SphericalViewportControl33,B=this.$SphericalViewportControl24.x<A.left,C=this.$SphericalViewportControl24.x>A.right,D=this.$SphericalViewportControl24.y<A.top,E=this.$SphericalViewportControl24.y>A.bottom;this.$SphericalViewportControl120(B,C,D,E);var F={x:this.$SphericalViewportControl24.x-A.left,y:this.$SphericalViewportControl24.y-A.top};if(!B&&!C)z.x=this.$SphericalViewportControl119(F,this.$SphericalViewportControl21).x;else z.x=-this.$SphericalViewportControl21.x*this.$SphericalViewportControl115()*u;if(!D&&!E)z.y=this.$SphericalViewportControl119(F,this.$SphericalViewportControl21).y;else z.y=this.$SphericalViewportControl21.y*this.$SphericalViewportControl115()*u}this.$SphericalViewportControl9.updateVelocity(0,0);return this.$SphericalViewportControl121(z)};x.prototype.$SphericalViewportControl121=function(y){"use strict";__p&&__p();if(!this.$SphericalViewportControl54||!this.$SphericalViewportControl42)return y;var z=this.$SphericalViewportControl26,A=z.x,B=z.y,C=this.$SphericalViewportControl40,D=C.partialLeftDegrees,E=C.partialRightDegrees,F=C.partialTopDegrees,G=C.partialBottomDegrees,H=y.x,I=y.y,J=A+H,K=B+I,L=true,M=true,N=true,O=true;if(this.$SphericalViewportControl63){var P=this.$SphericalViewportControl39.partialLeftDegrees,Q=this.$SphericalViewportControl39.partialRightDegrees,R=this.$SphericalViewportControl41===0;if(J<180&&H<0||J>180&&H>0)J=A-H;if((P!=null||!R)&&D!=null)L=D<0?(J<180?J+360:J)>360-D:J>360-D;if((Q!=null||!R)&&E!=null)M=E<0?(J<180?J+360:J)<360+E:(J>180?360-J:J)<E;N=F!=null?K<F:true;O=G!=null?K>-G:true}else{var S=this.getVerticalFieldOfView(),T=this.getHorizontalFieldOfView(),U=J<180?J+360:J,V=J>180?J-360:J;L=D!=null?U>360-D+T/2:true;M=E!=null?V<E-T/2:true;N=F!=null?K<F-S/2:true;O=G!=null?K>-G+S/2:true}if(!L&&!M)H*=this.$SphericalViewportControl55;if(!N||!O)I*=this.$SphericalViewportControl55;return{x:H,y:I}};x.prototype.$SphericalViewportControl77=function(y,z){"use strict";__p&&__p();z.addEventListener("wheel",this.$SphericalViewportControl88);this.emit("mouseEnter");if(this.$SphericalViewportControl19)this.$SphericalViewportControl9=new(c("VelocityTracker"))(300);else if(this.$SphericalViewportControl43&&this.$SphericalViewportControl44){this.$SphericalViewportControl9=new(c("VelocityTracker"))(300);this.$SphericalViewportControl45=true;this.$SphericalViewportControl23=this.$SphericalViewportControl111(y);this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl102()}};x.prototype.$SphericalViewportControl78=function(y,z){"use strict";z.removeEventListener("wheel",this.$SphericalViewportControl88);this.emit("mouseLeave",y);this.$SphericalViewportControl98(y)};x.prototype.$SphericalViewportControl79=function(y){"use strict";this.emit("mouseMove",y);if(this.$SphericalViewportControl43)this.$SphericalViewportControl106(y)};x.prototype.$SphericalViewportControl80=function(y){"use strict";this.emit("mouseUp",y)};x.prototype.$SphericalViewportControl81=function(y){"use strict";if(this.isListening(y.target)){y.target.focus();if(!this.$SphericalViewportControl14)this.emit("DOM/click",y);this.$SphericalViewportControl14=false}return false};x.prototype.$SphericalViewportControl97=function(y){"use strict";var z=this.setFieldOfView(this.$SphericalViewportControl11+y);if(z)this.$SphericalViewportControl56()};x.prototype.disableKeyboard=function(){"use strict";this.$SphericalViewportControl27=true};x.prototype.enableKeyboard=function(){"use strict";this.$SphericalViewportControl27=false};x.prototype.$SphericalViewportControl82=function(y){"use strict";__p&&__p();var z=this.$SphericalViewportControl123(y);if(z&&!this.$SphericalViewportControl27){this.$SphericalViewportControl17[z]=1;if(!this.$SphericalViewportControl18){this.$SphericalViewportControl18=true;this.$SphericalViewportControl99();this.$SphericalViewportControl102();this.emit("updateViewportMove")}return false}return true};x.prototype.$SphericalViewportControl83=function(y){"use strict";__p&&__p();var z=this.$SphericalViewportControl123(y);if(z&&!this.$SphericalViewportControl27){this.$SphericalViewportControl17[z]=0;var A=false;for(var B in this.$SphericalViewportControl17)if(Object.prototype.hasOwnProperty.call(this.$SphericalViewportControl17,B)&&this.$SphericalViewportControl17[B]>0){A=true;break}this.$SphericalViewportControl18=A;return false}return true};x.prototype.$SphericalViewportControl103=function(){"use strict";var y=this.$SphericalViewportControl114();this.$SphericalViewportControl9=new(c("VelocityTracker"))(300,y)};x.prototype.$SphericalViewportControl102=function(){__p&&__p();var y,z=this;"use strict";if(!this.$SphericalViewportControl15){var y=function(){__p&&__p();if(z.$SphericalViewportControl60)z.$SphericalViewportControl124();z.$SphericalViewportControl15=true;z.$SphericalViewportControl8.updateVelocity(0,0);z.emit("updateViewportBegin",z.$SphericalViewportControl26.x,z.$SphericalViewportControl26.y);var A=z.once("updateViewportMove",function(){return this.emit("updateViewportMoveStart",this.$SphericalViewportControl45)}.bind(z));z.once("updateViewportEnd",function(){return A.remove()});z.$SphericalViewportControl59=c("performanceNow")();if(z.$SphericalViewportControl69){if(z.$SphericalViewportControl66)cancelAnimationFrame(z.$SphericalViewportControl66);z.$SphericalViewportControl66=c("requestAnimationFrame")(z.$SphericalViewportControl125);return{v:void 0}}if(!z.$SphericalViewportControl66)z.$SphericalViewportControl66=c("requestAnimationFrame")(z.$SphericalViewportControl126)}();if(typeof y==="object")return y.v}};x.prototype.$SphericalViewportControl124=function(){"use strict";this.$SphericalViewportControl33=c("getElementRect")(this.$SphericalViewportControl32)};x.prototype.updateViewportClientSize=function(y){"use strict";this.$SphericalViewportControl34=y.width;this.$SphericalViewportControl35=y.height};x.prototype.updateMinVFOV=function(y){"use strict";this.$SphericalViewportControl51=Math.max(o,Math.min(p,y))};x.prototype.updateMaxVFOV=function(y){"use strict";this.$SphericalViewportControl52=y};x.prototype.updateMaxHFOV=function(y){"use strict";this.$SphericalViewportControl53=y};x.prototype.$SphericalViewportControl89=function(){"use strict";this.$SphericalViewportControl33=c("getElementRect")(this.$SphericalViewportControl32);this.$SphericalViewportControl34=this.$SphericalViewportControl32.clientWidth||1;this.$SphericalViewportControl35=this.$SphericalViewportControl32.clientHeight||1};x.prototype.setAngularVelocityScaleFactor=function(y){"use strict";this.$SphericalViewportControl64=y};x.prototype.$SphericalViewportControl128=function(){"use strict";__p&&__p();var y=180,z=0,A=this.$SphericalViewportControl40,B=A.partialLeftDegrees,C=A.partialRightDegrees;if(B!=null&&C!=null)y=(C-B)/2+180;if(this.$SphericalViewportControl63){var D=this.$SphericalViewportControl39.partialLeftDegrees,E=this.$SphericalViewportControl39.partialRightDegrees,F=this.$SphericalViewportControl41===0;if((D!=null||!F)&&B!=null){var G=B<0&&this.$SphericalViewportControl26.x<180?this.$SphericalViewportControl26.x+360:this.$SphericalViewportControl26.x;if(G>y){var H=360-B-G;if(H>0)z=Math.min(H,this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}if((E!=null||!F)&&C!=null){var I=C<0&&this.$SphericalViewportControl26.x>180?this.$SphericalViewportControl26.x-360:this.$SphericalViewportControl26.x;if(I<y){var J=C-I;if(J<0)z=Math.max(J,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}}else{var K=this.getHorizontalFieldOfView(),L=this.$SphericalViewportControl26.x<180?this.$SphericalViewportControl26.x+360:this.$SphericalViewportControl26.x,M=this.$SphericalViewportControl26.x>180?this.$SphericalViewportControl26.x-360:this.$SphericalViewportControl26.x;if(B!=null&&C!=null&&B+C<K){var N=(C-B)/2-M;if(N>0)z=Math.min(N,this.$SphericalViewportControl48)*this.$SphericalViewportControl47;else if(N<0)z=Math.max(N,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47;return Math.abs(z)<s?0:z}if(B!=null&&L>=y){var O=360-B+K/2-L;if(O>0)z=Math.min(O,this.$SphericalViewportControl48)*this.$SphericalViewportControl47}if(C!=null&&M<=y){var P=C-K/2-M;if(P<0)z=Math.max(P,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}return Math.abs(z)<s?0:z};x.prototype.$SphericalViewportControl129=function(){"use strict";__p&&__p();var y=0,z=0,A=this.$SphericalViewportControl40,B=A.partialTopDegrees,C=A.partialBottomDegrees;if(this.$SphericalViewportControl63){if(C!=null&&B!=null){if(C<0&&B<-C||B<0&&-B>C)return 0;z=(B-C)/2}if(B!=null&&this.$SphericalViewportControl26.y>z){var D=B-this.$SphericalViewportControl26.y;if(D<0)y=Math.max(D,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47}if(C!=null&&this.$SphericalViewportControl26.y<z){var E=-C-this.$SphericalViewportControl26.y;if(E>0)y=Math.min(E,this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}else{var F=this.getVerticalFieldOfView();if(C!=null&&B!=null&&C+B<F){var G=(B-C)/2-this.$SphericalViewportControl26.y;if(G>0)y=Math.min(G,this.$SphericalViewportControl48)*this.$SphericalViewportControl47;else if(G<0)y=Math.max(G,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47;return Math.abs(y)<s?0:y}if(B!=null){var H=B-F/2-this.$SphericalViewportControl26.y;if(H<0)y=Math.max(H,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47}if(C!=null){var I=-C+F/2-this.$SphericalViewportControl26.y;if(I>0)y=Math.min(I,this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}return Math.abs(y)<s?0:y};x.prototype.$SphericalViewportControl120=function(y,z,A,B){"use strict";__p&&__p();var C="";if(y||z||A||B){var D=y?"Left":z?"Right":"",E=A?"Up":B?"Down":"";C=w[E+D]}if(this.$SphericalViewportControl36!=C){if(this.$SphericalViewportControl36){c("CSS").removeClass(this.$SphericalViewportControl10,this.$SphericalViewportControl36);this.$SphericalViewportControl36=""}if(C){this.$SphericalViewportControl36=C;c("CSS").addClass(this.$SphericalViewportControl10,C)}}};x.prototype.getSubscriptions=function(){"use strict";return{remove:function(){this.$SphericalViewportControl30.forEach(function(y){var z=y.handler;return z.release()});this.$SphericalViewportControl30.clear();this.$SphericalViewportControl13.release()}.bind(this)}};x.prototype.$SphericalViewportControl84=function(y){"use strict";for(var z in this.$SphericalViewportControl17)this.$SphericalViewportControl17[z]=0;this.$SphericalViewportControl18=false};x.prototype.getOrientation=function(){"use strict";return this.$SphericalViewportControl26};x.prototype.$SphericalViewportControl91=function(y){"use strict";if(this.$SphericalViewportControl63){var z=y!=null?y:this.getVerticalFieldOfView(),A=this.getAspectRatio();this.$SphericalViewportControl40=c("SphericalPhotoProjectionUtils").getPartialLimits(z,A,this.$SphericalViewportControl39);this.$SphericalViewportControl41=c("SphericalPhotoProjectionUtils").getZoomProgress(z,this.$SphericalViewportControl39,A)}};x.prototype.$SphericalViewportControl131=function(y,z){"use strict";__p&&__p();var A=(y+360)%360,B=Math.max(-90,Math.min(90,z));if(!this.$SphericalViewportControl42)return{x:A,y:B};var C=this.$SphericalViewportControl39.partialLeftDegrees,D=this.$SphericalViewportControl39.partialRightDegrees,E=this.$SphericalViewportControl41===0,F=this.$SphericalViewportControl40.partialLeftDegrees,G=this.$SphericalViewportControl40.partialRightDegrees,H=this.$SphericalViewportControl40.partialTopDegrees,I=this.$SphericalViewportControl40.partialBottomDegrees,J=this.getVerticalFieldOfView(),K=this.getHorizontalFieldOfView(),L=0,M=0;if(this.$SphericalViewportControl63){if(this.$SphericalViewportControl54){if(F!=null&&G!=null)L=Math.min(Math.abs((F+G)/2),this.$SphericalViewportControl49);if(H!=null&&I!=null&&H>=-I)M=Math.min(Math.abs((H+I)/2),this.$SphericalViewportControl50)}if((C!=null||!E)&&F!=null)if(F<0)A=Math.max(A>180?A:A+360,360-F-L)%360;else if(A>180)A=Math.max(A,360-F-L);if((D!=null||!E)&&G!=null)if(G<0)A=Math.min(A<180?A+360:A,360+G+L)%360;else if(A<180)A=Math.min(A,G+L);if(H!=null)if(I!=null&&H<0&&-H>I)B=Math.min(B,-I);else B=Math.min(B,H+M);if(I!=null)if(H!=null&&I<0&&H<-I)B=Math.max(B,H);else B=Math.max(B,-I-M)}else{if(this.$SphericalViewportControl54){L=this.$SphericalViewportControl49;M=this.$SphericalViewportControl50}if(F!=null&&G!=null&&F+G<K){var N=(G-F)/2,O=A>180?A-360:A;if(O<N)A=Math.max(O,N-L);else A=Math.min(O,N+L)}else{if(F!=null)A=A<=180?A:Math.max(A,360-F+K/2-L);if(G!=null)A=A>=180?A:Math.min(A,G-K/2+L)}if(H!=null&&I!=null&&H+I<J){var P=(H-I)/2;if(B<P)B=Math.max(B,P-M);else B=Math.min(B,P+M)}else{if(H!=null)B=Math.min(B,H-J/2+M);if(I!=null)B=Math.max(B,-I+J/2-M)}}return{x:A,y:B}};x.prototype.setInitialOrientation=function(){"use strict";var y=this.$SphericalViewportControl131(0,0),z=y.x,A=y.y,B=!Number.isNaN(z+A)&&(z!==this.$SphericalViewportControl26.x||A!==this.$SphericalViewportControl26.y);if(B){this.$SphericalViewportControl26={x:z,y:A};this.emit("initialViewportChange",z,A);this.emit("viewportChange",z,A,this.$SphericalViewportControl11)}};x.prototype.setSphericalOrientation=function(y,z){"use strict";__p&&__p();if(y===null)y=this.$SphericalViewportControl26.x;if(z===null)z=this.$SphericalViewportControl26.y;typeof y==="number"&&typeof z==="number"||i(0);var A=this.$SphericalViewportControl131(y,z),B=A.x,C=A.y,D=!Number.isNaN(B+C)&&(B!==this.$SphericalViewportControl26.x||C!==this.$SphericalViewportControl26.y);if(D){this.$SphericalViewportControl26={x:B,y:C};this.emit("viewportChange",B,C,this.$SphericalViewportControl11)}};x.prototype.setRelativeSphericalOrientation=function(y,z){"use strict";this.setSphericalOrientation(y+this.$SphericalViewportControl28.x,z+this.$SphericalViewportControl28.y)};x.prototype.$SphericalViewportControl130=function(y,z){"use strict";this.setSphericalOrientation(this.$SphericalViewportControl26.x+y,this.$SphericalViewportControl26.y+z)};x.prototype.$SphericalViewportControl90=function(y){"use strict";__p&&__p();if(this.$SphericalViewportControl63){var z=c("SphericalPhotoProjectionUtils").getMaxVfov(this.$SphericalViewportControl39,this.getAspectRatio());return Math.min(z,Math.max(this.$SphericalViewportControl51,y))}else{var A=Math.min(this.$SphericalViewportControl53/this.getAspectRatio(),this.$SphericalViewportControl52);if(this.$SphericalViewportControl42&&this.$SphericalViewportControl39){var B=this.$SphericalViewportControl39.partialTopDegrees||this.$SphericalViewportControl39.partialTopDegrees===0,C=this.$SphericalViewportControl39.partialBottomDegrees||this.$SphericalViewportControl39.partialBottomDegrees===0;if(B&&C){var D=this.$SphericalViewportControl39.partialTopDegrees||0,E=this.$SphericalViewportControl39.partialBottomDegrees||0;A=Math.min(A,D+E)}}return Math.min(A,Math.max(this.$SphericalViewportControl51,y))}};x.prototype.setFieldOfView=function(y){"use strict";__p&&__p();var z=this.$SphericalViewportControl11,A=this.$SphericalViewportControl90(y);this.$SphericalViewportControl91(A);var B=this.$SphericalViewportControl40,C=B.partialTopDegrees,D=B.partialBottomDegrees,E=B.partialLeftDegrees,F=B.partialRightDegrees,G=C||C===0,H=D||D===0,I=E||E===0,J=F||F===0,K=E||F,L=C||0,M=D||0,N=E||0,O=F||0,P=false,Q=this.$SphericalViewportControl26.x,R=this.$SphericalViewportControl26.y;if(this.$SphericalViewportControl63){L=G?L:90;M=H?M:90;N=I?N:180;O=J?O:180;if(-R>M){if(M<0&&L<-M)R=L;else R=-M;P=true}if(R>L){if(L<0&&L<-M)R=-M;else R=L;P=true}var S=((O-N)/2+180)%360;if(Q>S&&360-Q>N){Q=360-N;P=true}if(Q<S&&Q>O){Q=O;P=true}}else{var T=A*this.getAspectRatio();if(H&&A/2-R>M){R=A/2-M;P=true}if(G&&R+A/2>L){R=L-A/2;P=true}if(G&&H&&L+M<A){R=(L-M)/2;P=true}if(K){var U=((O-N)/2+180)%360;if(Q>U&&T/2+360-Q>N){Q=360+T/2-N;P=true}if(Q<U&&Q+T/2>O){Q=O-T/2;P=true}if(N+O<T){Q=(O-N)/2%360;P=true}}}if(P&&!Number.isNaN(Q+R))this.$SphericalViewportControl26={x:Q,y:R};if(!Number.isNaN(A)&&z!==A||P){this.$SphericalViewportControl11=A;this.emit("viewportChange",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y,A);return true}return false};x.prototype.getVerticalFieldOfView=function(){"use strict";return this.$SphericalViewportControl11};x.prototype.getAspectRatio=function(){"use strict";if(this.$SphericalViewportControl32&&this.$SphericalViewportControl34&&this.$SphericalViewportControl35)return this.$SphericalViewportControl34/this.$SphericalViewportControl35;return this.$SphericalViewportControl7};x.prototype.getHorizontalFieldOfView=function(){"use strict";return this.$SphericalViewportControl11*this.getAspectRatio()};x.prototype.setPreventScrollDefaultAction=function(y){"use strict";this.$SphericalViewportControl38=y};x.prototype.setEnableZoom=function(y){"use strict";this.$SphericalViewportControl46=y;if(!y)this.setFieldOfView(this.$SphericalViewportControl12)};x.prototype.updateViewport=function(y,z,A){"use strict";this.$SphericalViewportControl26={x:y,y:z};this.$SphericalViewportControl11=this.$SphericalViewportControl90(A);this.$SphericalViewportControl91()};x.prototype.isUpdating=function(){"use strict";return this.$SphericalViewportControl15};x.prototype.$SphericalViewportControl127=function(){"use strict";var y=this.$SphericalViewportControl16*(this.$SphericalViewportControl17.right-this.$SphericalViewportControl17.left),z=this.$SphericalViewportControl16*(this.$SphericalViewportControl17.up-this.$SphericalViewportControl17.down);this.$SphericalViewportControl8.updateVelocity(y,z)};x.prototype.$SphericalViewportControl123=function(y){"use strict";__p&&__p();var z=c("Event").getKeyCode(y),A=null;switch(z){case c("Keys").LEFT:case v.A:A="left";break;case c("Keys").UP:case v.W:A="up";break;case c("Keys").RIGHT:case v.D:A="right";break;case c("Keys").DOWN:case v.S:A="down";break}return A};x.prototype.$SphericalViewportControl115=function(){"use strict";return this.$SphericalViewportControl11/this.$SphericalViewportControl35};x.prototype.$SphericalViewportControl71=function(){"use strict";var y="grabbing";if(c("UserAgent").isEngine("WebKit"))y="-webkit-"+y;else if(c("UserAgent").isEngine("Gecko"))y="-moz-"+y;return y};f.exports=x}),null);
__d("SphericalViewportControlNew",["invariant","Event","EventEmitter","SphericalViewportPriorityConfig","SphericalViewportEventToMovementConfig","SphericalViewportMediaToMovementConfig","SphericalViewportMovement","SubscriptionsHandler","SphericalViewportUtils","requestAnimationFrame"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("SphericalViewportEventToMovementConfig").SphericalViewportEventEnum,l=c("SphericalViewportMediaToMovementConfig").SphericalViewportMediaToMovementConfig,m=110,n=20;i=babelHelpers.inherits(o,c("EventEmitter"));j=i&&i.prototype;function o(p,q,r){__p&&__p();j.constructor.call(this);this.$SphericalViewportControlNew11=function(){if(this.$SphericalViewportControlNew4)this.$SphericalViewportControlNew4.animate();c("requestAnimationFrame")(this.$SphericalViewportControlNew11)}.bind(this);this.$SphericalViewportControlNew1=p;this.$SphericalViewportControlNew2={x:r.initialHeading,y:r.initialPitch,vFOV:r.fieldOfView};this.$SphericalViewportControlNew3=q;this.$SphericalViewportControlNew4=null;this.$SphericalViewportControlNew9();this.$SphericalViewportControlNew10();this.$SphericalViewportControlNew7=false;this.$SphericalViewportControlNew8=false;c("requestAnimationFrame")(this.$SphericalViewportControlNew11)}o.prototype.$SphericalViewportControlNew9=function(){var p=l[this.$SphericalViewportControlNew3];this.$SphericalViewportControlNew5=c("SphericalViewportUtils").createMovementShapeFromIDs(this,p)};o.prototype.$SphericalViewportControlNew10=function(){this.$SphericalViewportControlNew6=new(c("SubscriptionsHandler"))();this.$SphericalViewportControlNew6.addSubscriptions(c("Event").listen(this.$SphericalViewportControlNew1,"mouseenter",function(p){return this.$SphericalViewportControlNew12(p)}.bind(this)),c("Event").listen(this.$SphericalViewportControlNew1,"mouseleave",function(p){return this.$SphericalViewportControlNew13(p)}.bind(this)),c("Event").listen(this.$SphericalViewportControlNew1,"wheel",function(p){return this.$SphericalViewportControlNew14(p)}.bind(this)))};o.prototype.$SphericalViewportControlNew15=function(p){__p&&__p();var q=this.$SphericalViewportControlNew4;if(q&&(!q.isValid()||!q.isActive()))this.$SphericalViewportControlNew4=null;if(p.length===0)return;var r=c("SphericalViewportPriorityConfig").NONE,s="";for(var t=p,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w,y=this.$SphericalViewportControlNew5[x];y!==null&&y!==undefined||h(0);var z=y.getStartPriority();if(y.isValid()&&z>r){r=z;s=x}}var A=this.$SphericalViewportControlNew4?this.$SphericalViewportControlNew4.getActivePriority():c("SphericalViewportPriorityConfig").NONE;if(s!==""&&r>A)this.$SphericalViewportControlNew4=this.$SphericalViewportControlNew5[s]};o.prototype.$SphericalViewportControlNew12=function(p){this.$SphericalViewportControlNew7=true;this.$SphericalViewportControlNew15([])};o.prototype.$SphericalViewportControlNew13=function(p){this.$SphericalViewportControlNew7=false;this.$SphericalViewportControlNew15([])};o.prototype.$SphericalViewportControlNew14=function(p){var q=c("SphericalViewportUtils").getMovementIDsForEvent(this.$SphericalViewportControlNew3,k.WHEEL);this.$SphericalViewportControlNew15(q);if(this.$SphericalViewportControlNew4)this.$SphericalViewportControlNew4.handleWheelEvent(p)};o.prototype.$SphericalViewportControlNew16=function(p){this.$SphericalViewportControlNew2=p;this.$SphericalViewportControlNew15([]);this.emit("viewportChange",this.$SphericalViewportControlNew2.x,this.$SphericalViewportControlNew2.y,this.$SphericalViewportControlNew2.vFOV)};o.prototype.$SphericalViewportControlNew17=function(p){this.$SphericalViewportControlNew8=p;this.$SphericalViewportControlNew15([])};o.prototype.getOrientation=function(){return Object.assign({},this.$SphericalViewportControlNew2)};o.prototype.setOrientation=function(p){p=this.$SphericalViewportControlNew18(p);var q=this.$SphericalViewportControlNew2.x!==p.x||this.$SphericalViewportControlNew2.y!==p.y||this.$SphericalViewportControlNew2.vFOV!==p.vFOV;if(q)this.$SphericalViewportControlNew16(p);return q};o.prototype.$SphericalViewportControlNew18=function(p){var q=(p.x%360+360)%360,r=Math.max(-90,Math.min(90,p.y)),s=Math.min(m,Math.max(n,p.vFOV));return{x:q,y:r,vFOV:s}};o.prototype.isMouseOnElement=function(){return this.$SphericalViewportControlNew7};o.prototype.isInTahoe=function(){return this.$SphericalViewportControlNew8};o.prototype.setInTahoe=function(p){this.$SphericalViewportControlNew17(p)};o.prototype.getMovements=function(){return this.$SphericalViewportControlNew5};f.exports=o}),null);
__d("SphericalViewportEventToMovementConfig",["SphericalViewportMovementEnum","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h,i=c("keyMirror")({WHEEL:null}),j=(h={},h[i.WHEEL]=[c("SphericalViewportMovementEnum").WWW_ZOOM],h);f.exports={SphericalViewportEventEnum:i,SphericalViewportEventToMovementConfig:j}}),null);
__d("SphericalViewportMediaToMovementConfig",["SphericalViewportMovementEnum","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h,i=c("keyMirror")({WWW_VIDEO:null}),j=(h={},h[i.WWW_VIDEO]=[c("SphericalViewportMovementEnum").WWW_ZOOM],h);f.exports={SphericalViewportMediaEnum:i,SphericalViewportMediaToMovementConfig:j}}),null);
__d("SphericalViewportMovementEnum",["SphericalViewportWWWZoom","keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({WWW_ZOOM:null});f.exports=h}),null);
__d("SphericalViewportPriorityConfig",["SphericalViewportMovementEnum"],(function a(b,c,d,e,f,g){"use strict";var h,i=(h={NONE:0},h[c("SphericalViewportMovementEnum").WWW_ZOOM]={START:500,ACTIVE:550},h);f.exports=i}),null);
__d("SphericalViewportUtils",["SphericalViewportEventToMovementConfig","SphericalViewportMediaToMovementConfig","SphericalViewportMovementEnum","SphericalViewportWWWZoom"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("SphericalViewportEventToMovementConfig").SphericalViewportEventToMovementConfig,i=c("SphericalViewportMediaToMovementConfig").SphericalViewportMediaToMovementConfig,j={getEmptyMovementShape:function k(){return{WWW_ZOOM:null}},createMovementFromID:function k(l,m){switch(m){case c("SphericalViewportMovementEnum").WWW_ZOOM:return new(c("SphericalViewportWWWZoom"))(l);default:throw new Error("Unrecognized movement ID: "+m)}},createMovementShapeFromIDs:function k(l,m){__p&&__p();var n=this.getEmptyMovementShape();for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n[c("SphericalViewportMovementEnum")[s]]=this.createMovementFromID(l,s)}return n},getMovementIDsForEvent:function k(l,event){var m=new Set(i[l]),n=new Set(h[event]),o=this._setIntersection(m,n);return Array.from(o)},_setIntersection:function k(l,m){__p&&__p();var n=new Set();for(var o=l,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(m.has(s))n.add(s)}return n}};f.exports=j}),null);
__d("SphericalViewportMovement",["Event","SphericalViewportControlNew","SphericalViewportPriorityConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.__viewportControl=i}h.prototype.isValid=function(){return true};h.prototype.isActive=function(){return false};h.prototype.animate=function(){};h.prototype.getStartPriority=function(){return c("SphericalViewportPriorityConfig").NONE};h.prototype.getActivePriority=function(){return c("SphericalViewportPriorityConfig").NONE};h.prototype.handleWheelEvent=function(i){};f.exports=h}),null);
__d("SphericalViewportWWWZoom",["Event","SphericalViewportMovementEnum","SphericalViewportPriorityConfig","SphericalViewportMovement","debounce","throttle"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=1e3,k=30;h=babelHelpers.inherits(l,c("SphericalViewportMovement"));i=h&&h.prototype;function l(m){i.constructor.call(this,m);this.$SphericalViewportWWWZoom1=c("debounce")(function(){return this.__viewportControl.emit("zoomStart")}.bind(this),j);this.handleWheelEvent=c("throttle")(function(n){var o=(n.deltaX||0)+(n.deltaY||0)+(n.deltaZ||0),p=o/120*45/10,q=this.__viewportControl.getOrientation();q.vFOV+=p;var r=this.__viewportControl.setOrientation(q);if(r)this.$SphericalViewportWWWZoom1()}.bind(this),k)}l.prototype.isValid=function(){return this.__viewportControl.isInTahoe()&&this.__viewportControl.isMouseOnElement()};l.prototype.isActive=function(){return false};l.prototype.getStartPriority=function(){return c("SphericalViewportPriorityConfig")[c("SphericalViewportMovementEnum").WWW_ZOOM].START};l.prototype.getActivePriority=function(){return c("SphericalViewportPriorityConfig")[c("SphericalViewportMovementEnum").WWW_ZOOM].ACTIVE};f.exports=l}),null);
__d("SphericalVideoComponentConstants",[],(function a(b,c,d,e,f,g){var h={ACTIONS:{REGISTER_VIDEO_PLAYER_CONTROLLER:"SphericalVideoComponent/registerVideoPlayerController",UPDATE_VIDEO_PLAYER_STATE:"SphericalVideoComponent/updateVideoPlayerState",TOGGLE_PLAY:"SphericalVideoComponent/togglePlay",SET_CURRENT_PLAY_TIME:"SphericalVideoComponent/setCurrentPlaytime",SET_VIDEO_DURATION:"SphericalVideoComponent/setVideoDuration",TOGGLE_CHANNEL_VIEW:"SphericalVideoComponent/toggleChannelView",TOGGLE_TAHOE:"SphericalVideoComponent/toggleTahoe",SEEK_START:"SphericalVideoComponent/seekStart",REGISTER_SPHERICAL_VIEWPORT_CONTROL:"SphericalVideoComponent/registerSphericalViewportControl",CHANGE_VIEWPORT:"SphericalVideoComponent/changeViewport",TOGGLE_VIEWPORT_GRABBED:"SphericalVideoComponent/toggleViewportGrabbed",UPDATE_VIEWPORT_DIMENSIONS:"SphericalVideoComponent/updateViewportDimensions",SET_USER_IS_INACTIVE:"SphericalVideoComponent/setUserIsInactive",SET_INITIAL_VIEWPORT:"SphericalVideoComponent/setInitialViewport",REGISTER_NEW_REACTIONS_STATE:"SphericalVideoComponent/registerNewSpatialReactionsState",ADD_SPATIAL_REACTIONS:"SphericalVideoComponent/addSpatialReactions",SET_MOUSE_DOWN:"SphericalVideoComponent/setMouseDown",SET_MOUSE_UP:"SphericalVideoComponent/setMouseUp",SET_IS_DRAGGING:"SphericalVideoComponent/setIsDragging",SET_SHOULD_LEAVE_REACTION_MENU_OPEN:"SphericalVideoComponent/setShouldLeaveReactionMenuOpen",CLICK_REACTION:"SphericalVideoComponent/clickReaction",DROP_REACTION:"SphericalVideoComponent/dropReaction",TICK_ANIMATION:"SphericalVideoComponent/tickAnimation",START_ANIMATION_FOR_FRAME:"SphericalVideoComponent/startAnimationForFrame",CLICK_LIKE_BUTTON:"SphericalVideoComponent/clickLikeButton",OPEN_REACTION_MENU:"SphericalVideoComponent/openReactionMenu",CLOSE_REACTION_MENU:"SphericalVideoComponent/closeReactionMenu",REGISTER_EXPERIMENT_CONFIG:"SphericalVideoComponent/registerExperimentConfig"}};f.exports=h}),null);
__d("SphericalViewportControlStore",["SphericalVideoComponentActions","SphericalVideoComponentDispatcher","immutable","FluxMapStore","SphericalVideoComponentConstants","Rect","Vector","curry","throttle","setTimeout"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={fieldOfView:-1,initialPitch:-1,initialYaw:-1,isInChannelView:false,isInTahoe:false,pitch:-1,viewport:null,viewportGrabbed:false,viewportHeight:0,viewportInactivityTimeout:0,viewportPanStart:false,viewportWidth:0,yaw:-1},m=5e3;h=babelHelpers.inherits(n,c("immutable").Record(l));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxMapStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return c("immutable").Map({sphericalViewportControls:c("immutable").Map({}),sphericalViewportControlStates:c("immutable").Map({})})};o.prototype.reduce=function(p,q){__p&&__p();var r=q.id;switch(q.type){case c("SphericalVideoComponentConstants").ACTIONS.REGISTER_SPHERICAL_VIEWPORT_CONTROL:var s=q.sphericalViewportControl,t=q.viewport;p=this.$SphericalViewportStore1(p,r,s,t);break;case c("SphericalVideoComponentConstants").ACTIONS.CHANGE_VIEWPORT:var u=q.yaw,v=q.pitch,w=q.fieldOfView;p=this.$SphericalViewportStore2(p,r,u,v,w);break;case c("SphericalVideoComponentConstants").ACTIONS.TOGGLE_VIEWPORT_GRABBED:p=this.$SphericalViewportStore3(p,r);break;case c("SphericalVideoComponentConstants").ACTIONS.UPDATE_VIEWPORT_DIMENSIONS:var x=q.width,y=q.height;p=this.$SphericalViewportStore4(p,r,x,y);break;case c("SphericalVideoComponentConstants").ACTIONS.TOGGLE_CHANNEL_VIEW:var z=q.isInChannelView;p=this.$SphericalViewportStore5(p,r,z);break;case c("SphericalVideoComponentConstants").ACTIONS.TOGGLE_TAHOE:var A=q.isInTahoe;p=this.$SphericalViewportStore6(p,r,A);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_USER_IS_INACTIVE:p=this.$SphericalViewportStore7(p,r);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_INITIAL_VIEWPORT:p=this.$SphericalViewportStore8(p,r,q.yaw,q.pitch);break;default:break}return p};o.prototype.getSphericalViewportControl=function(p){var q=this.get("sphericalViewportControls");if(q&&q.has(p))return q.get(p);else throw new Error("Video player controller with id "+p+" is not registered")};o.prototype.getOrientation=function(p){var q=this.$SphericalViewportStore9(this.getState(),p),r=q.yaw,s=q.pitch;return{yaw:r,pitch:s}};o.prototype.getUserIsActive=function(p){var q=this.$SphericalViewportStore9(this.getState(),p);return q.viewportInactivityTimeout!==0};o.prototype.getFieldOfView=function(p){return this.$SphericalViewportStore9(this.getState(),p).fieldOfView};o.prototype.getViewportGrabbed=function(p){return this.$SphericalViewportStore9(this.getState(),p).viewportGrabbed};o.prototype.getInitialYaw=function(p){return this.$SphericalViewportStore9(this.getState(),p).initialYaw};o.prototype.getInitialPitch=function(p){return this.$SphericalViewportStore9(this.getState(),p).initialPitch};o.prototype.getIsInChannelView=function(p){return this.$SphericalViewportStore9(this.getState(),p).isInChannelView};o.prototype.getIsInTahoe=function(p){return this.$SphericalViewportStore9(this.getState(),p).isInTahoe};o.prototype.getViewportDimensions=function(p){return{width:this.$SphericalViewportStore9(this.getState(),p).viewportWidth,height:this.$SphericalViewportStore9(this.getState(),p).viewportHeight}};o.prototype.getViewportPositionVector=function(p){var q=this.$SphericalViewportStore9(this.getState(),p);return new(c("Rect"))(q.viewport).getPositionVector()};o.prototype.getViewportCenterVector=function(p){var q=this.getViewportPositionVector(p),r=this.getViewportDimensions(p),s=r.width,t=r.height,u=new(c("Vector"))(s/2,t/2);return q.add(u)};o.prototype.onViewportGrabbed=function(p){c("SphericalVideoComponentActions").toggleViewportGrabbed(p)};o.prototype.onViewportPanStart=function(p,q){return};o.prototype.onViewportPanEnd=function(p){c("SphericalVideoComponentActions").toggleViewportGrabbed(p)};o.prototype.onViewportChange=function(p,q,r,s){c("SphericalVideoComponentActions").changeViewport(p,q,r,s)};o.prototype.$SphericalViewportStore1=function(p,q,r,s){__p&&__p();var t=p.get("sphericalViewportControls");if(t.has(q))return p;t=t.set(q,r);p=p.set("sphericalViewportControls",t);var u=p.get("sphericalViewportControlStates"),v=new n({yaw:r.getOrientation().x,pitch:r.getOrientation().y,fieldOfView:r.getVerticalFieldOfView(),viewport:s});u=u.set(q,v);p=p.set("sphericalViewportControlStates",u);r.addListener("viewportChange",c("throttle")(c("curry")(this.onViewportChange,q),16));r.addListener("updateViewportBegin",c("curry")(this.onViewportGrabbed,q));r.addListener("updateViewportEnd",c("curry")(this.onViewportPanEnd,q));return p};o.prototype.$SphericalViewportStore2=function(p,q,r,s,t){__p&&__p();var u=[["yaw",r],["pitch",s],["fieldOfView",t]];for(var v=u,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y,A=z[0],B=z[1];p=this.$SphericalViewportStore10(p,q,A,B)}var C=this.getSphericalViewportControl(q);C.setSphericalOrientation(r,s);C.setFieldOfView(t);var D=this.$SphericalViewportStore9(p,q).get("viewportInactivityTimeout");clearTimeout(D);p=this.$SphericalViewportStore10(p,q,"viewportInactivityTimeout",this.$SphericalViewportStore11(q));return p};o.prototype.$SphericalViewportStore11=function(p){return c("setTimeout")(function(){return c("SphericalVideoComponentActions").setUserIsInactive(p)},m)};o.prototype.$SphericalViewportStore7=function(p,q){p=this.$SphericalViewportStore10(p,q,"viewportInactivityTimeout",0);return p};o.prototype.$SphericalViewportStore8=function(p,q,r,s){p=this.$SphericalViewportStore10(p,q,"initialYaw",r);p=this.$SphericalViewportStore10(p,q,"initialPitch",s);return p};o.prototype.$SphericalViewportStore4=function(p,q,r,s){p=this.$SphericalViewportStore10(p,q,"viewportWidth",r);p=this.$SphericalViewportStore10(p,q,"viewportHeight",s);return p};o.prototype.$SphericalViewportStore3=function(p,q){var r=this.$SphericalViewportStore9(p,q).viewportGrabbed;return this.$SphericalViewportStore10(p,q,"viewportGrabbed",!r)};o.prototype.$SphericalViewportStore5=function(p,q,r){return this.$SphericalViewportStore10(p,q,"isInChannelView",r)};o.prototype.$SphericalViewportStore6=function(p,q,r){return this.$SphericalViewportStore10(p,q,"isInTahoe",r)};o.prototype.$SphericalViewportStore10=function(p,q,r,s){var t=this.$SphericalViewportStore9(p,q),u=p.get("sphericalViewportControlStates");t=t.set(r,s);u=u.set(q,t);return p.set("sphericalViewportControlStates",u)};o.prototype.$SphericalViewportStore9=function(p,q){var r=p.get("sphericalViewportControlStates").get(q);if(!r)this.$SphericalViewportStore12(q);return r};o.prototype.$SphericalViewportStore12=function(p){throw new Error("Viewport control with id "+p+" does not exist")};function o(){j.apply(this,arguments)}f.exports=new o(c("SphericalVideoComponentDispatcher"))}),null);
__d("VideoPlayerControllerStore",["FluxMapStore","immutable","SphericalVideoComponentActions","SphericalVideoComponentConstants","SphericalVideoComponentDispatcher","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","curry"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k;h=babelHelpers.inherits(l,c("immutable").Record({currentTime:-1,currentVideoPlayerState:c("VideoPlayerStates").UNKNOWN,durationSeconds:-1,videoId:"",unpauseOnMouseUp:false}));i=h&&h.prototype;function l(){h.apply(this,arguments)}j=babelHelpers.inherits(m,c("FluxMapStore"));k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.onVideoPlayerControllerStateChange=function(s){var t=s.getVideoPlayerID(),u=this.$VideoPlayerControllerStore7(this.getState(),t),v=u.videoPlayerState,w=s.getState();if(v!==w)c("SphericalVideoComponentActions").updateVideoPlayerState(t,w)}.bind(this),o}m.prototype.getInitialState=function(){return c("immutable").Map({videoPlayerControllers:c("immutable").Map({}),videoPlayerControllerStates:c("immutable").Map({})})};m.prototype.reduce=function(n,o){__p&&__p();var p=o.id,q=void 0;switch(o.type){case c("SphericalVideoComponentConstants").ACTIONS.REGISTER_VIDEO_PLAYER_CONTROLLER:var r=o.controller;n=this.$VideoPlayerControllerStore1(n,r,p);break;case c("SphericalVideoComponentConstants").ACTIONS.UPDATE_VIDEO_PLAYER_STATE:n=this.$VideoPlayerControllerStore2(n,p,o.state);break;case c("SphericalVideoComponentConstants").ACTIONS.TOGGLE_PLAY:n=this.$VideoPlayerControllerStore3(n,p,o.nextIsPlaying);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_CURRENT_PLAY_TIME:n=this.$VideoPlayerControllerStore4(n,p,o.time);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_VIDEO_DURATION:n=this.$VideoPlayerControllerStore5(n,p,o.durationSeconds);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_MOUSE_DOWN:var s=o.wasVideoPlaying;if(s){n=this.$VideoPlayerControllerStore6(n,p,"unpauseOnMouseUp",s);n=this.$VideoPlayerControllerStore3(n,p,false)}break;case c("SphericalVideoComponentConstants").ACTIONS.DROP_REACTION:q=this.$VideoPlayerControllerStore7(n,p);if(q.unpauseOnMouseUp){n=this.$VideoPlayerControllerStore3(n,p,true);n=this.$VideoPlayerControllerStore6(n,p,"unpauseOnMouseUp",false)}break;default:break}return n};m.prototype.getVideoPlayerController=function(n){var o=this.get("videoPlayerControllers");if(o&&o.has(n))return o.get(n);else throw new Error("Video player controller with id "+n+" is not registered")};m.prototype.getIsVideoPlayable=function(n){var o=this.$VideoPlayerControllerStore7(this.getState(),n).currentVideoPlayerState;return o!==c("VideoPlayerStates").FALLBACK&&o!==c("VideoPlayerStates").DESTROYED&&o!==c("VideoPlayerStates").UNKNOWN};m.prototype.getIsPlaying=function(n){var o=this.getVideoPlayerController(n).isBuffering(),p=this.$VideoPlayerControllerStore7(this.getState(),n).currentVideoPlayerState;return p===c("VideoPlayerStates").PLAYING&&!o};m.prototype.getCurrentTime=function(n){return this.$VideoPlayerControllerStore7(this.getState(),n).currentTime};m.prototype.getVideoID=function(n){return this.$VideoPlayerControllerStore7(this.getState(),n).videoId};m.prototype.$VideoPlayerControllerStore1=function(n,o,p){__p&&__p();var q=n.get("videoPlayerControllers");if(q.has(p))return n;q=q.set(p,o);n=n.set("videoPlayerControllers",q);var r=n.get("videoPlayerControllerStates"),s=new l({isPlaying:o.isState(c("VideoPlayerStates").PLAYING),currentTime:o.getCurrentTimePosition(),videoId:o.getVideoID()});r=r.set(p,s);n=n.set("videoPlayerControllerStates",r);o.addListener("stateChange",c("curry")(this.onVideoPlayerControllerStateChange,o));o.addListener("updateStatus",c("curry")(this.onTimeUpdate,o));o.addListener("updateMetadata",c("curry")(this.onUpdateMetaData,o));o.addListener("VideoChannelController/pendingElementsShown",c("curry")(this.onToggleChannelView,o,true));o.addListener("VideoChannelController/exitChannel",c("curry")(this.onToggleChannelView,o,false));o.addListener("seekRequested",c("curry")(this.onSeekStart,o));o.addListener("TahoeController/enterTahoe",c("curry")(this.onToggleTahoe,o,true));o.addListener("TahoeController/exitTahoe",c("curry")(this.onToggleTahoe,o,false));return n};m.prototype.onTimeUpdate=function(n,event){c("SphericalVideoComponentActions").setCurrentVideoTime(n.getVideoPlayerID(),event.position)};m.prototype.onSeekStart=function(n){c("SphericalVideoComponentActions").seekStart(n.getVideoPlayerID())};m.prototype.onUpdateMetaData=function(n){c("SphericalVideoComponentActions").setVideoDuration(n.getVideoPlayerID(),n.getPlaybackDuration())};m.prototype.onToggleChannelView=function(n,o){c("SphericalVideoComponentActions").toggleChannelView(n.getVideoPlayerID(),o)};m.prototype.onToggleTahoe=function(n,o){c("SphericalVideoComponentActions").toggleTahoe(n.getVideoPlayerID(),o)};m.prototype.$VideoPlayerControllerStore3=function(n,o,p){var q=this.getVideoPlayerController(o),r=this.$VideoPlayerControllerStore7(this.getState(),o),s=r.currentVideoPlayerState;if(s===c("VideoPlayerStates").PLAYING&&!p||s===c("VideoPlayerStates").PAUSED&&p)p?q.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").USER)):q.pause();return n};m.prototype.$VideoPlayerControllerStore4=function(n,o,p){return this.$VideoPlayerControllerStore6(n,o,"currentTime",p)};m.prototype.$VideoPlayerControllerStore2=function(n,o,p){return this.$VideoPlayerControllerStore6(n,o,"currentVideoPlayerState",p)};m.prototype.$VideoPlayerControllerStore5=function(n,o,p){return this.$VideoPlayerControllerStore6(n,o,"durationSeconds",p)};m.prototype.$VideoPlayerControllerStore7=function(n,o){var p=n.get("videoPlayerControllerStates").get(o);if(!p)this.$VideoPlayerControllerStore8(o);return p};m.prototype.$VideoPlayerControllerStore6=function(n,o,p,q){var r=n.get("videoPlayerControllerStates"),s=this.$VideoPlayerControllerStore7(n,o);s=s.set(p,q);r=r.set(o,s);return n.set("videoPlayerControllerStates",r)};m.prototype.$VideoPlayerControllerStore8=function(n){throw new Error("Video player controller with id "+n+" does not exist")};f.exports=new m(c("SphericalVideoComponentDispatcher"))}),null);
__d("SphericalVideoPlayer",["cx","invariant","Arbiter","Banzai","CSS","DOM","DOMDimensions","Event","FullScreen","SphericalVideoExperiments","SphericalVideoPerformanceTracker","QE2Logger","SphericalMediaCanvasPool","SphericalParallaxUtils","SphericalVideoComponentActions","SphericalVideoPlayerEvents","SphericalViewportControl","SphericalViewportControlNew","SphericalVideoComponentDispatcher","SphericalViewportMediaToMovementConfig","SubscriptionsHandler","SphericalRenderer","VideoPlayerFallbackEvents","VideoPlayerLoggerEvent","VideoPlayerLoggerSource","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","forwardEvent","getElementRect","gkx","requestAnimationFrame","uniqueID","getFullScreenElement","onViewportChanged","getViewportDimensions","SphericalViewportControlStore","VideoPlayerControllerStore"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("SphericalParallaxUtils").calculateYawOffset,k=c("SphericalViewportMediaToMovementConfig").SphericalViewportMediaEnum,l="SphericalVideoPlayer",m=2,n=1e3,o=32,p="www_videos_spherical_zoom",q="www_videos_spherical_parallax",r=.8,s=16,t=15,u=r/s/t,v=50,w=.1,x=false;c("SphericalMediaCanvasPool").setLimit(m,l);function y(z,A){__p&&__p();this.$SphericalVideoPlayer46=function(){__p&&__p();var B=!!this.$SphericalVideoPlayer1.getOption("VideoWithSphericalGuide","auto");if(this.$SphericalVideoPlayer1.getSource()!==c("VideoPlayerLoggerSource").INLINE||B)return;var C=this.$SphericalVideoPlayer53();if(C===null)return;typeof C==="number"||i(0);this.$SphericalVideoPlayer26=C;if(this.$SphericalVideoPlayer29){this.$SphericalVideoPlayer24=this.$SphericalVideoPlayer12.getOrientation().x-this.$SphericalVideoPlayer26;this.$SphericalVideoPlayer25=this.$SphericalVideoPlayer26;this.$SphericalVideoPlayer29=false}}.bind(this);this.$SphericalVideoPlayer48=function(){if(!this.$SphericalVideoPlayer1.isState(c("VideoPlayerStates").PAUSED))this.$SphericalVideoPlayer1.pause(c("VideoPlayerReason").SPHERICAL_SWITCH_CANVAS);this.$SphericalVideoPlayer55();this.$SphericalVideoPlayer44()}.bind(this);this.$SphericalVideoPlayer52=function(B){__p&&__p();if(!this.$SphericalVideoPlayer14)return;var C=this.$SphericalVideoPlayer14,D=this.$SphericalVideoPlayer30?B-this.$SphericalVideoPlayer30:0,E=this.$SphericalVideoPlayer54(D);if(E)this.$SphericalVideoPlayer36(this.$SphericalVideoPlayer24+this.$SphericalVideoPlayer25,null);if(this.$SphericalVideoPlayer2.readyState>=this.$SphericalVideoPlayer2.HAVE_CURRENT_DATA&&(this.$SphericalVideoPlayer42()||this.$SphericalVideoPlayer7||E)){c("SphericalVideoPerformanceTracker").get().setProjection(this.$SphericalVideoPlayer10.projectionType).addFrameAtTime(B);this.$SphericalVideoPlayer7=false;if(x){var F=this.$SphericalVideoPlayer13.getOrientation();C.render(F.x+90,F.y)}else{var G=this.$SphericalVideoPlayer12.getOrientation();C.render(G.x+90,G.y)}if(this.$SphericalVideoPlayer16&&!c("gkx")("AT7g-6wUL2l3zqcle9L4ueRfS4fZ17IYQrLCkC75DrI9esnQVViFHEDra2QwMrprOv35vnNmRWRvnhgMQesRQwul")){this.$SphericalVideoPlayer16.remove();this.$SphericalVideoPlayer16=null}}this.$SphericalVideoPlayer30=B;c("requestAnimationFrame")(this.$SphericalVideoPlayer52)}.bind(this);this.$SphericalVideoPlayer33=function(B,C){this.$SphericalVideoPlayer12.setRelativeSphericalOrientation(B,C)}.bind(this);this.$SphericalVideoPlayer36=function(B,C){this.$SphericalVideoPlayer12.setSphericalOrientation(B,C)}.bind(this);this.$SphericalVideoPlayer37=function(B){if(this.$SphericalVideoPlayer14){this.$SphericalVideoPlayer14.updateFieldOfView(B);this.$SphericalVideoPlayer12.setFieldOfView(B);this.$SphericalVideoPlayer20=B;this.$SphericalVideoPlayer32()}}.bind(this);this.$SphericalVideoPlayer38=function(B){if(this.$SphericalVideoPlayer14){this.$SphericalVideoPlayer10.projectionType=B;this.$SphericalVideoPlayer14.reconfigure(this.$SphericalVideoPlayer2,this.$SphericalVideoPlayer10,true);this.$SphericalVideoPlayer32()}}.bind(this);this.$SphericalVideoPlayer39=function(B){if(this.$SphericalVideoPlayer14){this.$SphericalVideoPlayer10.stereoFormat=B;this.$SphericalVideoPlayer14.reconfigure(this.$SphericalVideoPlayer2,this.$SphericalVideoPlayer10,true);this.$SphericalVideoPlayer32()}}.bind(this);this.$SphericalVideoPlayer34=function(B,C){__p&&__p();if(c("FullScreen").isFullScreen()&&(B<this.$SphericalVideoPlayer5.width||C<this.$SphericalVideoPlayer5.height))return;if(this.$SphericalVideoPlayer14){this.$SphericalVideoPlayer5.width=B;this.$SphericalVideoPlayer5.height=C;this.$SphericalVideoPlayer51(this.$SphericalVideoPlayer14,B,C);if(this.$SphericalVideoPlayer11.useViewportDimension)this.$SphericalVideoPlayer6=c("DOMDimensions").getElementDimensions(this.$SphericalVideoPlayer4);this.$SphericalVideoPlayer32()}else this.$SphericalVideoPlayer5={width:B,height:C}}.bind(this);this.$SphericalVideoPlayer50=function(B,C,D){__p&&__p();if(!this.$SphericalVideoPlayer14)return;B=B>=0?(B+180)%360-180:(B-180)%360+180;this.$SphericalVideoPlayer57(B,C);this.$SphericalVideoPlayer19.yaw=B;this.$SphericalVideoPlayer19.pitch=C;this.$SphericalVideoPlayer20=D;if(this.$SphericalVideoPlayer14)this.$SphericalVideoPlayer14.updateFieldOfView(D);this.$SphericalVideoPlayer56(B);this.$SphericalVideoPlayer32()}.bind(this);this.$SphericalVideoPlayer10=z;this.$SphericalVideoPlayer11=Object.assign({viewportClassName:"_2a6s",canvasClassName:"_38vt",placeholderImgClassName:"_44h9",videoID:"",playerID:undefined,eagerPreload:undefined,preventScrollDefaultAction:undefined,useViewportDimension:undefined,useContainerDimensions:undefined},A);this.$SphericalVideoPlayer22=0;this.$SphericalVideoPlayer28=true;this.$SphericalVideoPlayer29=false}y.prototype.enable=function(z){__p&&__p();if(this.$SphericalVideoPlayer1)return;this.$SphericalVideoPlayer1=z;if(typeof b.WebGLRenderingContext!=="function"&&typeof b.WebGL2RenderingContext!=="function"){this.$SphericalVideoPlayer31({error:"SPHERICAL_SETUP_FAILED",message:"WebGLRenderingContext not available."});return}if(!c("gkx")("AT5Aw7CfI_sJnKS7axSijFMja9sKcPHnyU2K5fdb4uGkxoDFZs19JW5Zy-t4TtlYWxayGfsI93QoiBEamC0x2sdSME272XcNyV5bNTBsKX4_BQ")){this.$SphericalVideoPlayer31({error:"SPHERICAL_RENDER_ERROR",message:"Unsupported browser version"});return}var A=z.getVideoNode();A instanceof HTMLVideoElement||i(0);this.$SphericalVideoPlayer2=A;this.$SphericalVideoPlayer7=false;this.$SphericalVideoPlayer18=true;this.$SphericalVideoPlayer8=new(c("SubscriptionsHandler"))();this.$SphericalVideoPlayer8.addSubscriptions(c("Event").listen(this.$SphericalVideoPlayer2,"loadeddata",function(){return this.$SphericalVideoPlayer32()}.bind(this)),c("Event").listen(this.$SphericalVideoPlayer2,"seeked",function(){return this.$SphericalVideoPlayer32()}.bind(this)),c("Event").listen(this.$SphericalVideoPlayer2,"ended",function(){return this.$SphericalVideoPlayer33(0,0)}.bind(this)),c("Event").listen(window,"resize",function(){if(c("FullScreen").isFullScreen()&&this.$SphericalVideoPlayer1.getContainerNode()===c("getFullScreenElement")())this.$SphericalVideoPlayer34(window.innerWidth,window.innerHeight)}.bind(this)),z.addListener("stateChange",function(){if(z.isState(c("VideoPlayerStates").DESTROYED)||z.isState(c("VideoPlayerStates").FALLBACK)&&(z.isLiveVideo()||!z.isFallbackRecoverable()))this.$SphericalVideoPlayer35()}.bind(this)),z.addListener(c("VideoPlayerFallbackEvents").RECOVER,function(){this.$SphericalVideoPlayer35();c("CSS").removeClass(this.$SphericalVideoPlayer2,"_3axk");this.$SphericalVideoPlayer1.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").SPHERICAL_FALLBACK))}.bind(this)),z.addListener(c("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,this.$SphericalVideoPlayer36),z.addListener(c("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,this.$SphericalVideoPlayer33),z.addListener(c("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,this.$SphericalVideoPlayer37),z.addListener(c("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,this.$SphericalVideoPlayer38),z.addListener(c("SphericalVideoPlayerEvents").SET_STEREO_MODE,this.$SphericalVideoPlayer39),z.addListener("dimensionsChange",this.$SphericalVideoPlayer34),z.once("changeVolume",function(){return this.$SphericalVideoPlayer18=false}.bind(this)),z.once("muteVideo",function(){return this.$SphericalVideoPlayer18=false}.bind(this)),z.once("unmuteVideo",function(){return this.$SphericalVideoPlayer18=false}.bind(this)),z.addListener("toggleFullscreen",function(){return this.$SphericalVideoPlayer4.focus()}.bind(this)),z.addListener("TahoeController/enterTahoe",function(){this.$SphericalVideoPlayer4.focus();if(c("SphericalVideoExperiments").enableWWWZoom){if(x)this.$SphericalVideoPlayer13.setInTahoe(true);this.$SphericalVideoPlayer12.setEnableZoom(true);this.$SphericalVideoPlayer23=true;this.$SphericalVideoPlayer1.emit("SphericalVideoPlayer/zoomEnabled")}c("QE2Logger").logExposureForUser(p)}.bind(this)),z.addListener("TahoeController/exitTahoe",function(){this.$SphericalVideoPlayer4.focus();if(c("SphericalVideoExperiments").enableWWWZoom){if(x)this.$SphericalVideoPlayer13.setInTahoe(false);this.$SphericalVideoPlayer12.setEnableZoom(false);this.$SphericalVideoPlayer23=false;this.$SphericalVideoPlayer1.emit("SphericalVideoPlayer/zoomDisabled")}}.bind(this)));if(this.$SphericalVideoPlayer11.useContainerDimensions){var B=z.getContainerNode();this.$SphericalVideoPlayer5=c("DOMDimensions").getElementDimensions(B)}else{this.$SphericalVideoPlayer5=c("DOMDimensions").getElementDimensions(A);if(this.$SphericalVideoPlayer5.width===0||this.$SphericalVideoPlayer5.height===0)this.$SphericalVideoPlayer5={width:A.width,height:A.height}}this.$SphericalVideoPlayer15=this.$SphericalVideoPlayer1.getVideoPlayerID()||c("uniqueID")();this.$SphericalVideoPlayer19={yaw:this.$SphericalVideoPlayer10.initialHeading,pitch:this.$SphericalVideoPlayer10.initialPitch};this.$SphericalVideoPlayer20=this.$SphericalVideoPlayer10.fieldOfView;this.$SphericalVideoPlayer23=false;var C=z.getVideoProjection();if(C)this.$SphericalVideoPlayer10.projectionType=C;c("CSS").addClass(A,"_3axk");this.$SphericalVideoPlayer40();z.registerOption("SphericalVideoPlayer","getDimensions",function(){return this.$SphericalVideoPlayer11.useViewportDimension?this.$SphericalVideoPlayer6:this.$SphericalVideoPlayer5}.bind(this));z.registerOption("SphericalVideoPlayer","isReady",function(){return!!this.$SphericalVideoPlayer14}.bind(this));z.registerOption("SphericalVideoPlayer","getScreenshotDataURL",function(){return this.$SphericalVideoPlayer41()}.bind(this));z.registerOption("SphericalVideoPlayer","getIsSingleFisheye",function(){return this.$SphericalVideoPlayer10.isSingleFisheye&&this.$SphericalVideoPlayer10.originalFOV!==null}.bind(this));z.registerOption("SphericalVideoPlayer","getOriginalFOV",function(){return this.$SphericalVideoPlayer10.originalFOV}.bind(this));z.registerOption("SphericalVideoPlayer","getEnableZoom",function(){return this.$SphericalVideoPlayer23}.bind(this));if(this.$SphericalVideoPlayer42()||this.$SphericalVideoPlayer11.eagerPreload)this.$SphericalVideoPlayer43();else this.$SphericalVideoPlayer44()};y.prototype.disable=function(){this.$SphericalVideoPlayer35()};y.prototype.$SphericalVideoPlayer43=function(){__p&&__p();if(this.$SphericalVideoPlayer1.getOption("SphericalVideoPlayer","isUnavailable"))return;if(this.$SphericalVideoPlayer17){this.$SphericalVideoPlayer17.remove();this.$SphericalVideoPlayer17=null}try{c("SphericalVideoPerformanceTracker").get().setProjection(this.$SphericalVideoPlayer10.projectionType).enterSphericalRendererSetup();this.$SphericalVideoPlayer45();c("SphericalVideoPerformanceTracker").get().exitSphericalRendererSetup()}catch(z){this.$SphericalVideoPlayer31({error:"SPHERICAL_SETUP_FAILED",message:z.message});return}this.$SphericalVideoPlayer1.setStillFrameEnabled(false);this.$SphericalVideoPlayer32();this.$SphericalVideoPlayer1.emit("SphericalVideoPlayer/ready");c("QE2Logger").logExposureForUser(q);if(c("SphericalVideoExperiments").enableWWWParallax){var A=this.$SphericalVideoPlayer12.getOrientation().x;if(this.$SphericalVideoPlayer28)this.$SphericalVideoPlayer24=A;else this.$SphericalVideoPlayer29=true;this.$SphericalVideoPlayer27=c("onViewportChanged")(this.$SphericalVideoPlayer46)}this.$SphericalVideoPlayer28=false};y.prototype.$SphericalVideoPlayer44=function(){this.$SphericalVideoPlayer17=this.$SphericalVideoPlayer1.addListener("stateChange",function(){if(this.$SphericalVideoPlayer42())this.$SphericalVideoPlayer43()}.bind(this))};y.prototype.$SphericalVideoPlayer47=function(){if(!this.$SphericalVideoPlayer14)return;var z=this.$SphericalVideoPlayer41(),A=c("DOM").create("img",{width:this.$SphericalVideoPlayer5.width,height:this.$SphericalVideoPlayer5.height,src:z,className:this.$SphericalVideoPlayer11.placeholderImgClassName});c("DOM").insertAfter(this.$SphericalVideoPlayer2,A);if(this.$SphericalVideoPlayer16)this.$SphericalVideoPlayer16.remove();this.$SphericalVideoPlayer16=A;this.$SphericalVideoPlayer48()};y.prototype.$SphericalVideoPlayer41=function(z,A){if(!this.$SphericalVideoPlayer14)return"";var B=this.$SphericalVideoPlayer14,C=this.$SphericalVideoPlayer12.getOrientation(),D=C.x,E=C.y;return B.getScreenshotDataURL(D+90,E,z,A)};y.prototype.$SphericalVideoPlayer40=function(){__p&&__p();var z=c("DOM").create("div",{className:this.$SphericalVideoPlayer11.viewportClassName,tabIndex:0}),A={};if(this.$SphericalVideoPlayer10.isSingleFisheye&&this.$SphericalVideoPlayer10.originalFOV){var B=this.$SphericalVideoPlayer10.originalFOV/2;this.$SphericalVideoPlayer10.partialLimits={partialLeftDegrees:B,partialRightDegrees:B,partialTopDegrees:B,partialBottomDegrees:B};A=this.$SphericalVideoPlayer49()}var C=new(c("SphericalViewportControl"))(z,this.$SphericalVideoPlayer10,A);if(x)this.$SphericalVideoPlayer13=new(c("SphericalViewportControlNew"))(z,k.WWW_VIDEO,this.$SphericalVideoPlayer10);this.$SphericalVideoPlayer8.addSubscriptions(C.addListener("DOM/click",function(E){if(E.button!==0)return;this.$SphericalVideoPlayer1.clickVideo();E.preventDefault()}.bind(this)),C.addListener("mouseMove",function(E){this.$SphericalVideoPlayer1.mouseMove(E);E.preventDefault()}.bind(this)),C.addListener("mouseUp",function(E){this.$SphericalVideoPlayer1.mouseUp(E);E.preventDefault()}.bind(this)),C.addListener("mouseLeave",function(E){this.$SphericalVideoPlayer1.mouseLeave(E);E.preventDefault()}.bind(this)),C.addListener("updateViewportBegin",function(){if(this.$SphericalVideoPlayer1.isMuted()&&this.$SphericalVideoPlayer18){this.$SphericalVideoPlayer18=false;this.$SphericalVideoPlayer1.unmute()}this.$SphericalVideoPlayer1.logEvent(c("VideoPlayerLoggerEvent").VIEWPORT_ROTATED)}.bind(this)));if(x)this.$SphericalVideoPlayer8.addSubscriptions(this.$SphericalVideoPlayer13.addListener("viewportChange",this.$SphericalVideoPlayer50));else this.$SphericalVideoPlayer8.addSubscriptions(C.addListener("viewportChange",this.$SphericalVideoPlayer50));this.$SphericalVideoPlayer1.registerOption("SphericalVideoPlayer","getCurrentViewport",function(){return this.$SphericalVideoPlayer19}.bind(this));this.$SphericalVideoPlayer1.registerOption("SphericalVideoPlayer","getFieldOfView",function(){return this.$SphericalVideoPlayer20}.bind(this));var D=["DOM/click","updateViewportBegin","updateViewportMove","updateViewportEnd","wheelScroll","viewportChange"];this.$SphericalVideoPlayer8.addSubscriptions.apply(this.$SphericalVideoPlayer8,D.map(function(E){return c("forwardEvent")(C,this.$SphericalVideoPlayer1,E)}.bind(this)));this.$SphericalVideoPlayer12=C;this.$SphericalVideoPlayer4=z;c("Arbiter").subscribe("VideoChannelView/opened",function(){this.$SphericalVideoPlayer21=true;this.$SphericalVideoPlayer12.disableKeyboard()}.bind(this));c("Arbiter").subscribe("VideoChannelView/closed",function(){this.$SphericalVideoPlayer21=false;this.$SphericalVideoPlayer12.enableKeyboard()}.bind(this));c("FullScreen").subscribe("changed",function(){if(c("FullScreen").isFullScreen())this.$SphericalVideoPlayer12.enableKeyboard();else if(this.$SphericalVideoPlayer21)this.$SphericalVideoPlayer12.disableKeyboard()}.bind(this));if(this.$SphericalVideoPlayer11.preventScrollDefaultAction)this.$SphericalVideoPlayer12.setPreventScrollDefaultAction(true);c("DOM").insertAfter(this.$SphericalVideoPlayer2,z);if(this.$SphericalVideoPlayer11.useViewportDimension)this.$SphericalVideoPlayer6=c("DOMDimensions").getElementDimensions(z);c("SphericalVideoComponentDispatcher").explicitlyRegisterStores([c("SphericalViewportControlStore"),c("VideoPlayerControllerStore")]);c("SphericalVideoComponentActions").registerSphericalViewportControl(this.$SphericalVideoPlayer1.getVideoPlayerID(),this.$SphericalVideoPlayer12,this.$SphericalVideoPlayer4)};y.prototype.$SphericalVideoPlayer45=function(){__p&&__p();var z={canvasAttrs:{width:this.$SphericalVideoPlayer5.width,height:this.$SphericalVideoPlayer5.height,className:this.$SphericalVideoPlayer11.canvasClassName,tabIndex:0},beforeCanvasLost:function(){return this.$SphericalVideoPlayer47()}.bind(this)},A=c("SphericalMediaCanvasPool").get(this.$SphericalVideoPlayer15,z,l),B=new(c("SphericalRenderer"))(this.$SphericalVideoPlayer2,A,this.$SphericalVideoPlayer10);this.$SphericalVideoPlayer9=new(c("SubscriptionsHandler"))();this.$SphericalVideoPlayer9.addSubscriptions(B.addListener("renderingError",function(C){return this.$SphericalVideoPlayer31({error:"SPHERICAL_RENDER_ERROR",message:C.message})}.bind(this)),B.addListener("renderingContextLost",this.$SphericalVideoPlayer48));this.$SphericalVideoPlayer3=A;this.$SphericalVideoPlayer14=B;c("DOM").insertAfter(this.$SphericalVideoPlayer2,A);this.$SphericalVideoPlayer51(B,this.$SphericalVideoPlayer5.width,this.$SphericalVideoPlayer5.height);c("requestAnimationFrame")(this.$SphericalVideoPlayer52);if(!c("gkx")("AT7g-6wUL2l3zqcle9L4ueRfS4fZ17IYQrLCkC75DrI9esnQVViFHEDra2QwMrprOv35vnNmRWRvnhgMQesRQwul"))c("CSS").show(A);else{c("CSS").hide(A);setTimeout(function(){c("requestAnimationFrame")(function(){c("CSS").show(A);if(this.$SphericalVideoPlayer16){this.$SphericalVideoPlayer16.remove();this.$SphericalVideoPlayer16=null}}.bind(this))}.bind(this),o)}};y.prototype.$SphericalVideoPlayer53=function(){var z=this.$SphericalVideoPlayer1.getRootNode();if(!z)return null;var A=c("getElementRect")(z),B=A.top+A.bottom/2,C=c("getViewportDimensions").withoutScrollbars().height,D=B/C*100,E=this.$SphericalVideoPlayer12.getHorizontalFieldOfView(),F=j(D,null,null,E),G=F.yaw,H=F.success;if(H)return G;return null};y.prototype.$SphericalVideoPlayer54=function(z){__p&&__p();if(typeof this.$SphericalVideoPlayer26!=="number")return false;if(typeof this.$SphericalVideoPlayer25!=="number")this.$SphericalVideoPlayer25=0;var A=Math.abs(this.$SphericalVideoPlayer25-this.$SphericalVideoPlayer26);if(A<w)return false;var B=A*u,C=Math.max(z,v);if(this.$SphericalVideoPlayer25<this.$SphericalVideoPlayer26)this.$SphericalVideoPlayer25+=Math.min(this.$SphericalVideoPlayer26-this.$SphericalVideoPlayer25,B*C);else this.$SphericalVideoPlayer25-=Math.min(this.$SphericalVideoPlayer25-this.$SphericalVideoPlayer26,B*C);return true};y.prototype.$SphericalVideoPlayer31=function(event){this.$SphericalVideoPlayer1.logError(event);this.$SphericalVideoPlayer1.emit(c("VideoPlayerLoggerEvent").ERROR,event);this.$SphericalVideoPlayer35()};y.prototype.$SphericalVideoPlayer42=function(){return this.$SphericalVideoPlayer1.isState(c("VideoPlayerStates").PLAYING)};y.prototype.$SphericalVideoPlayer56=function(z){if(!this.$SphericalVideoPlayer25)return;this.$SphericalVideoPlayer24=z-this.$SphericalVideoPlayer25};y.prototype.$SphericalVideoPlayer51=function(z,A,B){z.updateViewportDimensions(A,B);c("SphericalVideoComponentActions").updateViewportDimensions(this.$SphericalVideoPlayer1.getVideoPlayerID(),A,B)};y.prototype.$SphericalVideoPlayer32=function(){this.$SphericalVideoPlayer7=true};y.prototype.$SphericalVideoPlayer57=function(z,A){var B=Date.now();if(B-this.$SphericalVideoPlayer22>=n){this.$SphericalVideoPlayer22=B;var C=!!this.$SphericalVideoPlayer1.getOption("VideoWithSphericalGuide","auto");c("Banzai").post("spherical_video_viewport",{video_fbid:this.$SphericalVideoPlayer1.getVideoID(),yaw_degrees:z,pitch_degrees:A,roll_degrees:0,field_of_view_y:this.$SphericalVideoPlayer10.fieldOfView,aspect_ratio:this.$SphericalVideoPlayer5.height/this.$SphericalVideoPlayer5.width,video_player_position:this.$SphericalVideoPlayer2.currentTime,video_player_position_ms:this.$SphericalVideoPlayer2.currentTime*1e3,guide_enabled:C,timestamp:B})}};y.prototype.$SphericalVideoPlayer55=function(){if(this.$SphericalVideoPlayer14){this.$SphericalVideoPlayer14.destroy();this.$SphericalVideoPlayer14=null;this.$SphericalVideoPlayer27&&this.$SphericalVideoPlayer27.remove();this.$SphericalVideoPlayer27=null;this.$SphericalVideoPlayer9.release();this.$SphericalVideoPlayer3.remove()}};y.prototype.$SphericalVideoPlayer35=function(){__p&&__p();if(!this.$SphericalVideoPlayer1.hasOption("SphericalVideoPlayer","isUnavailable"))this.$SphericalVideoPlayer1.registerOption("SphericalVideoPlayer","isUnavailable",function(){return true});if(this.$SphericalVideoPlayer8)this.$SphericalVideoPlayer8.release();this.$SphericalVideoPlayer55();if(this.$SphericalVideoPlayer12)this.$SphericalVideoPlayer12.destroy();if(this.$SphericalVideoPlayer4)this.$SphericalVideoPlayer4.remove();c("SphericalVideoPerformanceTracker").get().destroy()};y.prototype.$SphericalVideoPlayer49=function(){return{disableAutoClientSizeUpdate:false,enableGyro:false,enableRubberBanding:false,maxSpringDegrees:0,maxStretchXDegrees:0,maxStretchYDegrees:0,minVFOV:3,rubberBandConstant:0,slipFactor:0,springFactor:0,enableZoomWithShiftKey:false,enablePanningWithRightMouse:false}};f.exports=y}),null);
__d("ComposerVideoUploadSphericalVideoLoader",["cx","invariant","AsyncRequest","EventListener","SphericalVideoPlayer","VideoData","VideoPlayerController","VideoPlayerHTML5Api","VideoProjection","XVideoDataController"],(function a(b,c,d,e,f,g,h,i){__p&&__p();b.URL=b.URL||b.webkitURL;var j=function j(l){if(l&&b.URL&&b.URL.createObjectURL)return b.URL.createObjectURL(l);else return null};k.prototype.load=function(l,m,n){"use strict";__p&&__p();l||m||i(0);if(m){var o=c("XVideoDataController").getURIBuilder().setString("video_id",m).setEnum("preferred_projection",c("VideoProjection").CUBEMAP).getURI();new(c("AsyncRequest"))().setMethod("GET").setURI(o).setReadOnly(true).setOption("suppressEvaluation",true).setAllowCrossPageTransition(true).setHandler(function(q){var r=new(c("VideoData"))(JSON.parse(q.payload.responseText)),s=r.hasHD()?r.getPlayableSrcHD():r.getPlayableSrcSD();if(!s){n.onError();return}this.$ComposerVideoUploadSphericalVideoLoader1(babelHelpers["extends"]({},n,{projection:r.getProjection()||c("VideoProjection").EQUIRECTANGULAR,videoID:m,videoUrl:s}))}.bind(this)).setErrorHandler(n.onError).send()}else if(l){var p=j(l);if(!p){n.onError();return}this.$ComposerVideoUploadSphericalVideoLoader1(babelHelpers["extends"]({videoID:m,videoUrl:p},n))}};k.prototype.$ComposerVideoUploadSphericalVideoLoader1=function(l){"use strict";var m=l.video;m.setAttribute("src",l.videoUrl);var n=c("EventListener").listen(m,"loadeddata",function(){n.remove();this.$ComposerVideoUploadSphericalVideoLoader2(l)}.bind(this))};k.prototype.$ComposerVideoUploadSphericalVideoLoader2=function(l){"use strict";var m={initialHeading:l.initialHeading,initialPitch:l.initialPitch,fieldOfView:l.fieldOfView,projectionType:l.projection,stereoFormat:l.stereoFormat,expansionCoef:1.01},n={viewportClassName:"_4aa0",videoID:l.videoID||"",eagerPreload:true,preventScrollDefaultAction:true,useViewportDimension:true},o=new(c("VideoPlayerController"))({apiModule:c("VideoPlayerHTML5Api"),apiConfig:{disableNativeControls:null,VideoPlayerHTML5Shaka:null,subtitlesActive:null,videoData:[{hd_src:l.videoUrl,sd_src:l.videoUrl,stream_type:"progressive"}]},disableLogging:true,should_autoplay:l.autoplay,components:[new(c("SphericalVideoPlayer"))(m,n)]},{root_element:l.root,container_element:l.root,video_element:l.video});if(o.getOption("SphericalVideoPlayer","isReady"))l.onSuccess(o);else if(o.getOption("SphericalVideoPlayer","isUnavailable"))l.onError()};function k(){"use strict"}f.exports=new k()}),null);
__d("normalizeDeltaYaw",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=j?Math.PI:180,l=2*k;if(Math.abs(i)>l){var m=Math.trunc(Math.abs(i)/l);i-=Math.sign(i)*m*l}if(Math.abs(i)>k)i-=Math.sign(i)*2*k;return i}f.exports=h}),null);
__d("ComposerVideoUploadSphericalVideoPreviewGuide",["fbt","ComposerVideoUploadSphericalErrorUtils","SimpleXUIDialog","VideoUploadSphericalControlsAction","SubscriptionsHandler","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","VideoUploadSphericalLogger","VideoWithSphericalGuide","ComposerVideoUploadSphericalEvents","emptyFunction","SphericalVideoGuideAnimationConfig","findGreatestLowerBoundGuideKeyframeIndex"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,j=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,k=2e3,l=1e3;function m(n,o,p,q,r,s,t,u){__p&&__p();var v=arguments.length<=8||arguments[8]===undefined?c("emptyFunction"):arguments[8],w=arguments.length<=9||arguments[9]===undefined?c("emptyFunction"):arguments[9],x=arguments.length<=10||arguments[10]===undefined?c("emptyFunction"):arguments[10],y=arguments.length<=11||arguments[11]===undefined?c("emptyFunction"):arguments[11],z=arguments.length<=12||arguments[12]===undefined?false:arguments[12];"use strict";this.$ComposerVideoUploadSphericalVideoPreviewGuide20=function(B){this.$ComposerVideoUploadSphericalVideoPreviewGuide3.setInitialViewport(B.yaw,B.pitch)}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide21=function(B){this.$ComposerVideoUploadSphericalVideoPreviewGuide6=B;this.$ComposerVideoUploadSphericalVideoPreviewGuide3.setKeyframes(B);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit(c("ComposerVideoUploadSphericalEvents").GUIDE.KEYFRAMES_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewGuide18()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide22=function(B){this.$ComposerVideoUploadSphericalVideoPreviewGuide5=B;this.$ComposerVideoUploadSphericalVideoPreviewGuide3.setEnabled(B);this.$ComposerVideoUploadSphericalVideoPreviewGuide18()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide17=function(){return{onPointOfInterestSelect:this.$ComposerVideoUploadSphericalVideoPreviewGuide30,currentPointOfInterest:this.$ComposerVideoUploadSphericalVideoPreviewGuide31(),pointsOfInterest:this.$ComposerVideoUploadSphericalVideoPreviewGuide32(),showPointOfInterestTimestamps:false}}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide19=function(){if(this.$ComposerVideoUploadSphericalVideoPreviewGuide7)this.$ComposerVideoUploadSphericalVideoPreviewGuide33()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide23=function(){__p&&__p();this.$ComposerVideoUploadSphericalVideoPreviewGuide2.pause();var B=Math.floor(this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getCurrentTimePosition()*i),C=this.$ComposerVideoUploadSphericalVideoPreviewGuide2.isState(c("VideoPlayerStates").PLAYING),D=C?function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide2.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").USER))}.bind(this):null;if(B<j){if(B===0)return;if(C)this.$ComposerVideoUploadSphericalVideoPreviewGuide2.pause();c("ComposerVideoUploadSphericalErrorUtils").showAddPointDialog(D);return}var E=c("findGreatestLowerBoundGuideKeyframeIndex")(this.$ComposerVideoUploadSphericalVideoPreviewGuide6,B),F=this.$ComposerVideoUploadSphericalVideoPreviewGuide6;if(F[E]&&B-F[E][0]<j||F[E+1]&&F[E+1][0]-B<j){if(F[E]&&F[E][0]===B)return;if(C)this.$ComposerVideoUploadSphericalVideoPreviewGuide2.pause();c("ComposerVideoUploadSphericalErrorUtils").showAddPointDialog(D);return}var G=this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport");this.$ComposerVideoUploadSphericalVideoPreviewGuide8(B,G.pitch,G.yaw,function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("SphericalVideoPlayer","getScreenshotDataURL")}.bind(this));c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").ADD_POINT_OF_INTEREST).log()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide24=function(){this.$ComposerVideoUploadSphericalVideoPreviewGuide16=true;this.$ComposerVideoUploadSphericalVideoPreviewGuide33()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide25=function(){this.$ComposerVideoUploadSphericalVideoPreviewGuide12(true);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").EDIT_POINT_OF_INTEREST).log()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide26=function(){if(!this.$ComposerVideoUploadSphericalVideoPreviewGuide4)return;this.$ComposerVideoUploadSphericalVideoPreviewGuide10(this.$ComposerVideoUploadSphericalVideoPreviewGuide4[0]);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide27=function(event){c("SimpleXUIDialog").showConfirm(h._("All existing points of interest will be removed. Are you sure?"),h._("Warning"),function(B){if(B){c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").CLEAR_POINTS_OF_INTEREST).log();this.$ComposerVideoUploadSphericalVideoPreviewGuide11()}}.bind(this))}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide29=function(B){__p&&__p();if(this.$ComposerVideoUploadSphericalVideoPreviewGuide7&&!B){this.$ComposerVideoUploadSphericalVideoPreviewGuide7=B;this.$ComposerVideoUploadSphericalVideoPreviewGuide3.setAutoEnabled(true);if(this.$ComposerVideoUploadSphericalVideoPreviewGuide16){this.$ComposerVideoUploadSphericalVideoPreviewGuide16=false;this.$ComposerVideoUploadSphericalVideoPreviewGuide2.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").USER))}}else{this.$ComposerVideoUploadSphericalVideoPreviewGuide7=B;this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit("SphericalHeadingIndicator/click")}}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide30=function(B){var C=this.$ComposerVideoUploadSphericalVideoPreviewGuide6.find(function(F){return F[0]===B*i});if(!C)return;var D=C[1],E=C[2];this.$ComposerVideoUploadSphericalVideoPreviewGuide2.seek(B);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.setSphericalOrientation(E,D);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.pause();c("VideoUploadSphericalLogger").setPitchDegrees(D).setYawDegrees(E).setUserAction(c("VideoUploadSphericalControlsAction").SEARCH_POINT_OF_INTEREST).log()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide28=function(){this.$ComposerVideoUploadSphericalVideoPreviewGuide14(function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("SphericalVideoPlayer","getScreenshotDataURL")}.bind(this))}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide18=function(){__p&&__p();var B=this.$ComposerVideoUploadSphericalVideoPreviewGuide4;if(this.$ComposerVideoUploadSphericalVideoPreviewGuide5){var C=Math.floor(this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getCurrentTimePosition()*i),D=this.$ComposerVideoUploadSphericalVideoPreviewGuide6,E=c("findGreatestLowerBoundGuideKeyframeIndex")(D,C);if(this.$ComposerVideoUploadSphericalVideoPreviewGuide15)if(C===D[E][0])this.$ComposerVideoUploadSphericalVideoPreviewGuide4=D[E];else this.$ComposerVideoUploadSphericalVideoPreviewGuide4=null;else{var F=E+1;if(D[F]&&D[F][0]-C<=k)this.$ComposerVideoUploadSphericalVideoPreviewGuide4=D[F];else if(D[E]&&C-D[E][0]<=l)this.$ComposerVideoUploadSphericalVideoPreviewGuide4=D[E];else this.$ComposerVideoUploadSphericalVideoPreviewGuide4=null}}else this.$ComposerVideoUploadSphericalVideoPreviewGuide4=null;if(B!==this.$ComposerVideoUploadSphericalVideoPreviewGuide4){this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewGuide13(this.$ComposerVideoUploadSphericalVideoPreviewGuide4?this.$ComposerVideoUploadSphericalVideoPreviewGuide4[0]:null)}}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide2=n;this.$ComposerVideoUploadSphericalVideoPreviewGuide5=q;this.$ComposerVideoUploadSphericalVideoPreviewGuide6=r;this.$ComposerVideoUploadSphericalVideoPreviewGuide8=s;this.$ComposerVideoUploadSphericalVideoPreviewGuide10=t;this.$ComposerVideoUploadSphericalVideoPreviewGuide11=u;this.$ComposerVideoUploadSphericalVideoPreviewGuide12=v;this.$ComposerVideoUploadSphericalVideoPreviewGuide9=w;this.$ComposerVideoUploadSphericalVideoPreviewGuide13=x;this.$ComposerVideoUploadSphericalVideoPreviewGuide14=y;this.$ComposerVideoUploadSphericalVideoPreviewGuide15=z;this.$ComposerVideoUploadSphericalVideoPreviewGuide16=false;this.$ComposerVideoUploadSphericalVideoPreviewGuide1=new(c("SubscriptionsHandler"))();var A={initialHeading:o,initialPitch:p,guideEnabled:q,guideKeyframes:r};this.$ComposerVideoUploadSphericalVideoPreviewGuide3=new(c("VideoWithSphericalGuide"))(this.$ComposerVideoUploadSphericalVideoPreviewGuide2,A);this.$ComposerVideoUploadSphericalVideoPreviewGuide4=null;this.$ComposerVideoUploadSphericalVideoPreviewGuide7=false;this.$ComposerVideoUploadSphericalVideoPreviewGuide2.registerOption("ComposerVideoUploadSphericalVideoPreviewGuide","getPointsOfInterestConfig",this.$ComposerVideoUploadSphericalVideoPreviewGuide17);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.registerOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest",function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide4}.bind(this));this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit(c("ComposerVideoUploadSphericalEvents").GUIDE.KEYFRAMES_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewGuide1.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener("updateStatus",this.$ComposerVideoUploadSphericalVideoPreviewGuide18),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener("seekRequested",this.$ComposerVideoUploadSphericalVideoPreviewGuide19),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener("playRequested",this.$ComposerVideoUploadSphericalVideoPreviewGuide19),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.INITAL_VIEWPORT_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewGuide20),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewGuide21),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_STATE_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewGuide22),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.ADD_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide23),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.SAVE_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide24),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.EDIT_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide25),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.REMOVE_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide26),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.CLEAR_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide27),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.CREATE_THUMBNAIL,this.$ComposerVideoUploadSphericalVideoPreviewGuide28),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewGuide29))}m.prototype.$ComposerVideoUploadSphericalVideoPreviewGuide32=function(){"use strict";return this.$ComposerVideoUploadSphericalVideoPreviewGuide5?this.$ComposerVideoUploadSphericalVideoPreviewGuide6.map(function(n){return n[0]/i}):[]};m.prototype.$ComposerVideoUploadSphericalVideoPreviewGuide31=function(){"use strict";return this.$ComposerVideoUploadSphericalVideoPreviewGuide5&&this.$ComposerVideoUploadSphericalVideoPreviewGuide4?this.$ComposerVideoUploadSphericalVideoPreviewGuide4[0]/i:null};m.prototype.$ComposerVideoUploadSphericalVideoPreviewGuide33=function(){"use strict";if(!this.$ComposerVideoUploadSphericalVideoPreviewGuide4)return;var n=this.$ComposerVideoUploadSphericalVideoPreviewGuide4[0],o=this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport");this.$ComposerVideoUploadSphericalVideoPreviewGuide9(n,o.pitch,o.yaw,function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("SphericalVideoPlayer","getScreenshotDataURL")}.bind(this));c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").SAVE_EDITS).setPitchDegrees(o.pitch).setYawDegrees(o.yaw).log()};m.prototype.destroy=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewGuide1.release()};f.exports=m}),null);
__d("ComposerVideoUploadSphericalVideoPreviewOverlayButtons",["cx","fbt","ix","ComposerVideoUploadSphericalEvents","FlexLayout.react","Image.react","ComposerVideoUploadSphericalMediaToolkitButton.react","React","ReactDOM","ShimButton.react","SubscriptionsHandler","asset","destroyOnUnload"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(o){"use strict";__p&&__p();l.constructor.call(this,o);this.state={guideEnabled:this.props.guideEnabled,guideVisible:true,guideKeyframes:this.props.guideKeyframes,currentKeyframe:this.props.controller.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest"),isEditingKeyframe:this.props.isEditingKeyframe,isMobilePreview:this.props.isMobilePreview,isViewportOnKeyframe:true,showNux:false};this.$OverlayButtonsLayer3=function(){this.setState({currentKeyframe:this.$OverlayButtonsLayer2.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest")})}.bind(this);this.$OverlayButtonsLayer4=function(p){this.setState({guideEnabled:p})}.bind(this);this.$OverlayButtonsLayer5=function(p){this.setState({guideVisible:p})}.bind(this);this.$OverlayButtonsLayer6=function(p){this.setState({guideKeyframes:p})}.bind(this);this.$OverlayButtonsLayer7=function(p){this.setState({isEditingKeyframe:p})}.bind(this);this.$OverlayButtonsLayer9=function(p){this.setState({isMobilePreview:p})}.bind(this);this.$OverlayButtonsLayer10=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.ADD_POI)}.bind(this);this.$OverlayButtonsLayer11=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.REMOVE_POI)}.bind(this);this.$OverlayButtonsLayer12=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.CLEAR_POI)}.bind(this);this.$OverlayButtonsLayer13=function(){this.props.controller.emit("SphericalHeadingIndicator/click")}.bind(this);this.$OverlayButtonsLayer14=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.SAVE_POI)}.bind(this);this.$OverlayButtonsLayer15=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.EDIT_POI)}.bind(this);this.$OverlayButtonsLayer8=function(){if(!(this.state.currentKeyframe&&this.state.isEditingKeyframe)){if(this.state.isViewportOnKeyframe)this.setState({isViewportOnKeyframe:false});return}var p=this.state.currentKeyframe,q=this.$OverlayButtonsLayer2.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport"),r=Math.abs(q.pitch-p[1]),s=Math.abs(q.yaw-p[2]),t=r<1&&(s<1||s>359);if(t!==this.state.isViewportOnKeyframe)this.setState({isViewportOnKeyframe:t})}.bind(this);this.$OverlayButtonsLayer2=o.controller;this.$OverlayButtonsLayer1=new(c("SubscriptionsHandler"))();this.$OverlayButtonsLayer1.addSubscriptions(this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE,this.$OverlayButtonsLayer3),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_STATE_UPDATE,this.$OverlayButtonsLayer4),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_VISIBILITY_UPDATE,this.$OverlayButtonsLayer5),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.$OverlayButtonsLayer6),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.$OverlayButtonsLayer7),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE,this.$OverlayButtonsLayer8),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.MOBILE_PREVIEW_UPDATE,this.$OverlayButtonsLayer9))}m.prototype.componentWillUnmount=function(){"use strict";this.$OverlayButtonsLayer1.release()};m.prototype.componentDidUpdate=function(){"use strict";this.$OverlayButtonsLayer8()};m.prototype.$OverlayButtonsLayer16=function(){"use strict";this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.CREATE_THUMBNAIL)};m.prototype.render=function(){"use strict";var o=!this.state.currentKeyframe,p=this.state.currentKeyframe&&!this.state.isEditingKeyframe,q=this.state.currentKeyframe&&this.state.isEditingKeyframe,r=i._("Set guide point"),s=i._("Replace guide point"),t=o||p?c("React").createElement(c("ShimButton.react"),{className:"_1sne _25aw",onClick:o?this.$OverlayButtonsLayer10:this.$OverlayButtonsLayer15},c("React").createElement(c("FlexLayout.react"),{className:"_1snf",align:"center",justify:"all"},c("React").createElement("div",{className:"_1sng"},o?r:s),c("React").createElement(c("Image.react"),{className:"_1sni",src:j("415891")}))):null,u=this.state.isMobilePreview?j("425575"):j("425576"),v=q?c("React").createElement(c("Image.react"),{className:"_1snj"+(this.state.isMobilePreview?" _19y8":"")+" _25ax",src:u}):null,w=q?c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_1snk _25ay",thumbnail:j("393776"),onClick:this.$OverlayButtonsLayer14}):null;return c("React").createElement("div",{className:"_64a8"+(!this.state.guideVisible?" _4em9":"")},t,v,w)};function n(o,p,q,r){var s=arguments.length<=4||arguments[4]===undefined?false:arguments[4],t=arguments.length<=5||arguments[5]===undefined?false:arguments[5];"use strict";c("ReactDOM").render(c("React").createElement(m,{controller:o,guideEnabled:q,guideKeyframes:r,isEditingKeyframe:s,isMobilePreview:t}),p);c("destroyOnUnload")(function(){return c("ReactDOM").unmountComponentAtNode(p)})}f.exports=n}),null);
__d("ComposerVideoUploadSphericalVideoPreviewSpinner",["cx","React","ReactDOM","VideoSpinner","XUISpinner.react","destroyOnUnload"],(function a(b,c,d,e,f,g,h){function i(j,k){"use strict";c("ReactDOM").render(c("React").createElement(c("XUISpinner.react"),{size:"large",className:"_hes"}),k);this.$ComposerVideoUploadSphericalVideoPreviewSpinner1=new(c("VideoSpinner"))(j,k);c("destroyOnUnload")(function(){return c("ReactDOM").unmountComponentAtNode(k)})}f.exports=i}),null);
__d("normalizeYaw",[],(function a(b,c,d,e,f,g){function h(i){var j=arguments.length<=1||arguments[1]===undefined?false:arguments[1],k=j?Math.PI:180,l=k*2;return i>=0?(i+k)%l-k:(i-k)%l+k}f.exports=h}),null);
__d("ComposerVideoUploadSphericalVideoPreviewViewportControl",["ComposerVideoUploadSphericalEvents","SphericalVideoPlayerEvents","SubscriptionsHandler","VideoPlayerStates","VideoPlayerReasonTransitionHelper","VideoPlayerReason","normalizeYaw"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l,m,n){"use strict";__p&&__p();this.$ComposerVideoUploadSphericalVideoPreviewViewportControl13=function(){if(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.getOption("ComposerVideoUploadSphericalMediaToolkit","isEditingHotspot")){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.emit(c("ComposerVideoUploadSphericalEvents").MEDIA_TOOLKIT.SAVE_HOTSPOT);return}if(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.isState(c("VideoPlayerStates").PLAYING))this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.pause();else this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").USER))}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl8=function(o,p){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3.yaw=c("normalizeYaw")(o);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3.pitch=p;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.emit(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl11()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl9=function(o){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4=o;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.emit(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.FIELD_OF_VIEW_UPDATE)}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl10=function(o){if(!o.deltaY)return;var p=Math.log(Math.max(Math.E,Math.abs(o.deltaY))),q=o.deltaY>0?p:-p,r=Math.max(40,Math.min(90,Math.round(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4+q)));this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.setSphericalFieldOfView(r);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl12()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1=i;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3={yaw:j,pitch:k};this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4=l;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5=0;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl6=m;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl7=n;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.registerOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport",function(){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3}.bind(this));this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.registerOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentFieldOfView",function(){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4}.bind(this));this.$ComposerVideoUploadSphericalVideoPreviewViewportControl2=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalVideoPreviewViewportControl2.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("viewportChange",this.$ComposerVideoUploadSphericalVideoPreviewViewportControl8),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener(c("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,this.$ComposerVideoUploadSphericalVideoPreviewViewportControl9),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("wheelScroll",this.$ComposerVideoUploadSphericalVideoPreviewViewportControl10),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("updateViewportBegin",function(){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5++}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("updateViewportEnd",function(){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5--;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl11()}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("SphericalVideoRecenterControl/animationStart",function(){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5++}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("SphericalVideoRecenterControl/animationEnd",function(){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5--;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl11()}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("VideoWithSphericalGuide/stateToggle",function(o){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl11();this.$ComposerVideoUploadSphericalVideoPreviewViewportControl12()}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.FIELD_OF_VIEW_UPDATE,function(o){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.setSphericalFieldOfView(o)}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("clickVideo",this.$ComposerVideoUploadSphericalVideoPreviewViewportControl13))}h.prototype.$ComposerVideoUploadSphericalVideoPreviewViewportControl11=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewViewportControl6(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3.yaw,this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3.pitch,!!this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5)};h.prototype.$ComposerVideoUploadSphericalVideoPreviewViewportControl12=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewViewportControl7(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4)};h.prototype.destroy=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewViewportControl2.release()};f.exports=h}),null);
__d("ComposerVideoUploadSphericalFOVSlider.react",["ix","cx","Event","FBNoSelect","Image.react","React","ShimButton.react","asset","forEachObject","getElementRect"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=.001,m=10;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.$ComposerVideoUploadSphericalFOVSlider4=10;var p=o.value!==null?parseFloat(o.value.toFixed(o.decimalPlaces)):o.min;this.state={top:this.$ComposerVideoUploadSphericalFOVSlider5(p,o.min,o.max),isDragging:false}}n.prototype.$ComposerVideoUploadSphericalFOVSlider5=function(o,p,q){return Math.min(q,Math.max(p,o))};n.prototype.$ComposerVideoUploadSphericalFOVSlider6=function(o){var p=c("getElementRect")(this.refs.sliderBox),q=p.right-o.pageX;if(o.type!=="mousemove"){var r=p.width*this.$ComposerVideoUploadSphericalFOVSlider7(this.state.top);if(q>=r&&q<=r+this.$ComposerVideoUploadSphericalFOVSlider4)this.$ComposerVideoUploadSphericalFOVSlider1=q-r;else this.$ComposerVideoUploadSphericalFOVSlider1=this.$ComposerVideoUploadSphericalFOVSlider4/2}var s=(q-this.$ComposerVideoUploadSphericalFOVSlider1)/p.width;return this.$ComposerVideoUploadSphericalFOVSlider5(s,0,1)};n.prototype.$ComposerVideoUploadSphericalFOVSlider8=function(o){var p=this.props,q=p.min,r=p.max,s=r-q;return o*s+q};n.prototype.$ComposerVideoUploadSphericalFOVSlider7=function(o){var p=this.props,q=p.min,r=p.max;return this.$ComposerVideoUploadSphericalFOVSlider5((o-q)/(r-q),0,1)};n.prototype.$ComposerVideoUploadSphericalFOVSlider9=function(o){var p=parseFloat(o.toFixed(this.props.decimalPlaces));if(Math.abs(p-this.$ComposerVideoUploadSphericalFOVSlider3)>l){this.$ComposerVideoUploadSphericalFOVSlider3=p;this.props.onChange(p)}};n.prototype.$ComposerVideoUploadSphericalFOVSlider10=function(o){if(this.state.isDragging){this.setState({isDragging:false});c("forEachObject")(this.$ComposerVideoUploadSphericalFOVSlider2,function(p){return p.remove()})}};n.prototype.$ComposerVideoUploadSphericalFOVSlider11=function(o){if(this.state.isDragging){var p=this.$ComposerVideoUploadSphericalFOVSlider8(this.$ComposerVideoUploadSphericalFOVSlider6(o));this.setState({top:p});this.$ComposerVideoUploadSphericalFOVSlider9(p)}};n.prototype.$ComposerVideoUploadSphericalFOVSlider12=function(o){var p=this.$ComposerVideoUploadSphericalFOVSlider8(this.$ComposerVideoUploadSphericalFOVSlider6(o));this.setState({isDragging:true,top:p});this.$ComposerVideoUploadSphericalFOVSlider9(p);this.$ComposerVideoUploadSphericalFOVSlider2=c("Event").listen(document,{mousemove:this.$ComposerVideoUploadSphericalFOVSlider11.bind(this),mouseup:this.$ComposerVideoUploadSphericalFOVSlider10.bind(this)})};n.prototype.$ComposerVideoUploadSphericalFOVSlider13=function(o){var p=this.state.top,q=this.$ComposerVideoUploadSphericalFOVSlider5(p-o,this.props.min,this.props.max);return function(){this.setState({top:q});this.$ComposerVideoUploadSphericalFOVSlider9(q)}.bind(this)};n.prototype.UNSAFE_componentWillReceiveProps=function(o){this.setState({top:o.value!==null?o.value:o.min})};n.prototype.componentDidMount=function(){c("FBNoSelect").addBlockClass("_223c");this.$ComposerVideoUploadSphericalFOVSlider3=0};n.prototype.componentWillUnmount=function(){c("FBNoSelect").removeBlockClass("_223c");this.$ComposerVideoUploadSphericalFOVSlider10({})};n.prototype.render=function(){var o=this.$ComposerVideoUploadSphericalFOVSlider7(this.state.top)*100,p={top:o+"%"},q="#4b4f56",r={background:"linear-gradient(rgba(256,256,256,0.3) "+o+"%, "+q+" "+(1-o)+"%)"};return c("React").createElement("div",{className:"_223d"},c("React").createElement(c("ShimButton.react"),{className:"_223e _gct",onClick:this.$ComposerVideoUploadSphericalFOVSlider13(m)},c("React").createElement(c("Image.react"),{className:"_4qb9",src:h("438988")})),c("React").createElement("div",{className:"_223f"},c("React").createElement("div",{className:"_223c",onMouseDown:this.$ComposerVideoUploadSphericalFOVSlider12.bind(this)},c("React").createElement("div",{className:"_223w"},c("React").createElement("div",{style:r,className:"_223x"})),c("React").createElement("div",{ref:"sliderBox",className:"_223y"},c("React").createElement("div",{ref:"handle",className:"_223z",style:p})))),c("React").createElement(c("ShimButton.react"),{className:"_223e _gcv",onClick:this.$ComposerVideoUploadSphericalFOVSlider13(-1*m)},c("React").createElement(c("Image.react"),{className:"_4qb9",src:h("394277")})))};f.exports=n}),null);
__d("ComposerVideoUploadSphericalVideoTopControlBar.react",["ix","cx","fbt","ComposerVideoUploadSphericalFOVSlider.react","FlexLayout.react","Image.react","React","ShimButton.react","VideoComposerDialogRadioButton.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=40,n=90;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;o.prototype.render=function(){var p=this.props.showOmnistabSection?c("React").createElement("div",{className:"_39qi"},c("React").createElement("div",{className:"_39qj"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.omnistabEnabled,className:"_39qk",label:c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_2l_h",justify:"all"},j._("Stabilize"),c("React").createElement(c("Image.react"),{className:"_2l_q",src:h("438994")})),onSelect:function(event){if(this.props.allowOmnistabToggle)this.props.onToggleEnableOmnistab(event);event.preventDefault()}.bind(this)}))):null,q=c("React").createElement("div",{className:"_39qi"},c("React").createElement("div",{className:"_39qm"},c("React").createElement(c("ShimButton.react"),{className:"_39qq _3k95"+(this.props.isMobilePreview?" _39qr":""),onClick:function(s){return this.$ComposerVideoUploadSphericalVideoTopControlBar1(s,true)}.bind(this)},c("React").createElement(c("Image.react"),{className:"_20-k",src:this.props.isMobilePreview?h("438996"):h("407248")})),c("React").createElement(c("ShimButton.react"),{className:"_39qq _3k96"+(!this.props.isMobilePreview?" _39qr":""),onClick:function(s){return this.$ComposerVideoUploadSphericalVideoTopControlBar1(s,false)}.bind(this)},c("React").createElement(c("Image.react"),{className:"_20-k",src:this.props.isMobilePreview?h("438985"):h("438986")})))),r=c("React").createElement(c("ComposerVideoUploadSphericalFOVSlider.react"),{decimalPlaces:0,min:m,max:n,value:this.props.fov,onChange:function(s){return this.props.onFOVUpdate(s)}.bind(this)});return c("React").createElement("div",{className:"_39qs"},p,q,r)};o.prototype.$ComposerVideoUploadSphericalVideoTopControlBar1=function(event,p){event.preventDefault();this.props.onToggleIsMobilePreview(p)};function o(){k.apply(this,arguments)}f.exports=o}),null);
__d("SphericalVideoRecenterControl",["SubscriptionsHandler","easeInOutInterpolate","requestAnimationFrame"],(function a(b,c,d,e,f,g){__p&&__p();var h=1e3;function i(j,k,l){"use strict";__p&&__p();this.$SphericalVideoRecenterControl2=j;this.$SphericalVideoRecenterControl1=false;this.$SphericalVideoRecenterControl7=this.$SphericalVideoRecenterControl10.bind(this);this.$SphericalVideoRecenterControl6={yaw:k,pitch:l};this.$SphericalVideoRecenterControl5={yaw:k,pitch:l};if(j.getOption("SphericalVideoPlayer","isReady"))this.$SphericalVideoRecenterControl11();else j.once("SphericalVideoPlayer/ready",function(){return this.$SphericalVideoRecenterControl11()}.bind(this))}i.prototype.$SphericalVideoRecenterControl11=function(){"use strict";__p&&__p();this.$SphericalVideoRecenterControl9=new(c("SubscriptionsHandler"))();this.$SphericalVideoRecenterControl9.addSubscriptions(this.$SphericalVideoRecenterControl2.addListener("updateViewportBegin",function(){return this.$SphericalVideoRecenterControl12()}.bind(this)),this.$SphericalVideoRecenterControl2.addListener("SphericalHeadingIndicator/click",function(){return this.$SphericalVideoRecenterControl13()}.bind(this)),this.$SphericalVideoRecenterControl2.addListener("VideoWithSphericalGuide/intervalUpdate",function(j){return this.updateTargetViewport(j.baseYaw+j.deltaYaw,j.basePitch+j.deltaPitch)}.bind(this)),this.$SphericalVideoRecenterControl2.addListener("VideoWithSphericalGuide/stateToggle",function(j){if(!j){this.$SphericalVideoRecenterControl6.yaw=this.$SphericalVideoRecenterControl5.yaw;this.$SphericalVideoRecenterControl6.pitch=this.$SphericalVideoRecenterControl5.pitch}}.bind(this)),this.$SphericalVideoRecenterControl2.addListener("SphericalVideoViewportTagComment/click",function(j){return this.$SphericalVideoRecenterControl13(j)}.bind(this)))};i.prototype.updateTargetViewport=function(j,k){"use strict";this.$SphericalVideoRecenterControl6.yaw=j;this.$SphericalVideoRecenterControl6.pitch=k};i.prototype.$SphericalVideoRecenterControl13=function(j){"use strict";__p&&__p();if(this.$SphericalVideoRecenterControl1||this.$SphericalVideoRecenterControl2.getOption("VideoWithSphericalGuide","enabled")&&this.$SphericalVideoRecenterControl2.isState("playing"))return;this.$SphericalVideoRecenterControl1=true;this.$SphericalVideoRecenterControl3=Date.now();var k=this.$SphericalVideoRecenterControl2.getOption("SphericalVideoPlayer","getCurrentViewport"),l=j||this.$SphericalVideoRecenterControl6,m=l.yaw-k.yaw;if(Math.abs(m)>180)m=m>0?m-360:m+360;this.$SphericalVideoRecenterControl8={basePitch:k.pitch,deltaPitch:l.pitch-k.pitch,baseYaw:k.yaw,deltaYaw:m};this.$SphericalVideoRecenterControl2.emit("SphericalVideoRecenterControl/animationStart");c("requestAnimationFrame")(this.$SphericalVideoRecenterControl7)};i.prototype.$SphericalVideoRecenterControl12=function(){"use strict";this.$SphericalVideoRecenterControl1=false};i.prototype.$SphericalVideoRecenterControl10=function(){"use strict";__p&&__p();if(!this.$SphericalVideoRecenterControl1){this.$SphericalVideoRecenterControl2.emit("SphericalVideoRecenterControl/animationEnd");return}var j=Date.now();if(j-this.$SphericalVideoRecenterControl3>h){this.$SphericalVideoRecenterControl1=false;this.$SphericalVideoRecenterControl2.emit("SphericalVideoRecenterControl/animationEnd");return}c("requestAnimationFrame")(this.$SphericalVideoRecenterControl7);var k=this.$SphericalVideoRecenterControl8,l=c("easeInOutInterpolate")((j-this.$SphericalVideoRecenterControl3)/h),m=k.deltaPitch*l+k.basePitch,n=k.deltaYaw*l+k.baseYaw;this.$SphericalVideoRecenterControl2.setSphericalOrientation(n,m)};i.prototype.destroy=function(){"use strict";this.$SphericalVideoRecenterControl9.release()};f.exports=i}),null);
__d("SphericalMediaUtils",[],(function a(b,c,d,e,f,g){"use strict";var h={getDPR:function i(){return Math.max(window.devicePixelRatio||1,1)}};f.exports=h}),null);
__d("SphericalMediaHeadingIndicator.react",["cx","EventListener","React","SphericalMediaConstants","SphericalMediaUtils","SphericalPhotoPartialLimits","SphericalPhotoProjectionUtils","SubscriptionsHandler","degToRad","easeInOutInterpolate","requestAnimationFrame","uniqueID"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("SphericalMediaConstants").HI_SIZE_NORMAL,l=c("SphericalMediaConstants").HI_SIZE_FULL,m=c("SphericalMediaConstants").HI_ALPHA_BG,n=c("SphericalMediaConstants").HI_ALPHA_ELEMENT,o=c("SphericalMediaConstants").HI_ALPHA_DURATION,p=c("SphericalMediaConstants").HI_FADE_OUT_DELAY,q=c("SphericalMediaConstants").HI_BLINK_ARC_RAD,r=c("SphericalMediaConstants").HI_BLINK_DURATION,s=c("SphericalMediaUtils").getDPR,t=c("SphericalPhotoPartialLimits").makePartialLimits,u=function u(y){return y!==undefined&&y!==null},v=function v(y,z,A,B){y.beginPath();y.arc(z.x,z.y,A*s(),0,2*Math.PI,false);y.fillStyle=B;y.lineWidth=0;y.fill()},w=function w(y,z,A,B,C,D,E){var F=s();y.beginPath();y.arc(z.x,z.y,A*F,B,C,false);y.lineWidth=D*F;y.strokeStyle=E;y.stroke()};i=babelHelpers.inherits(x,c("React").Component);j=i&&i.prototype;function x(y){__p&&__p();j.constructor.call(this,y);this.$SphericalMediaHeadingIndicator24=function(){__p&&__p();var A=this.__getDrawData();if(!u(A.poiYaw)){this.$SphericalMediaHeadingIndicator11=false;this.draw(A);return}var B=(Date.now()-this.__blinkStartTime)%r<r/2;if(this.$SphericalMediaHeadingIndicator11!==B){this.$SphericalMediaHeadingIndicator11=B;this.draw(A)}c("requestAnimationFrame")(this.$SphericalMediaHeadingIndicator24)}.bind(this);this.$SphericalMediaHeadingIndicator14=function(){if(this.$SphericalMediaHeadingIndicator6===m.end)return;this.$SphericalMediaHeadingIndicator25(m.start,m.end,n.start,n.end)}.bind(this);this.$SphericalMediaHeadingIndicator15=function(){if(this.$SphericalMediaHeadingIndicator6===m.start)return;this.$SphericalMediaHeadingIndicator25(m.end,m.start,n.end,n.start)}.bind(this);this.$SphericalMediaHeadingIndicator2=c("uniqueID")();this.$SphericalMediaHeadingIndicator5=0;this.$SphericalMediaHeadingIndicator6=m.start;this.$SphericalMediaHeadingIndicator7=n.start;this.$SphericalMediaHeadingIndicator8=null;this.$SphericalMediaHeadingIndicator9=false;this.$SphericalMediaHeadingIndicator10=false;this.$SphericalMediaHeadingIndicator11=false;if(!this.constructor.__subClassMethods)throw new Error('Must implement "static __subClassMethods"');for(var z in this.constructor.__subClassMethods)if(typeof this[z]!=="function")throw new Error('Must implement "'+z+'"')}x.prototype.UNSAFE_componentWillReceiveProps=function(y){var z=y.isActive&&y.isPanning!==this.props.isPanning;if(z)this.$SphericalMediaHeadingIndicator13(y.isPanning)};x.prototype.shouldComponentUpdate=function(y){var z=y.aspectRatio!==this.props.aspectRatio||y.isActive!==this.props.isActive||y.isGuideAuto!==this.props.isGuideAuto||y.useLargeHeadingIndicator!==this.props.useLargeHeadingIndicator;return z};x.prototype.$SphericalMediaHeadingIndicator13=function(y){__p&&__p();var z=arguments.length<=1||arguments[1]===undefined?true:arguments[1];this.$SphericalMediaHeadingIndicator5+=y?1:-1;if(y){this.$SphericalMediaHeadingIndicator8!==null&&clearTimeout(this.$SphericalMediaHeadingIndicator8);this.$SphericalMediaHeadingIndicator14()}else if(this.$SphericalMediaHeadingIndicator5===0)this.$SphericalMediaHeadingIndicator8=setTimeout(function(){this.$SphericalMediaHeadingIndicator8=null;this.$SphericalMediaHeadingIndicator15()}.bind(this),z?p:0)};x.prototype.$SphericalMediaHeadingIndicator16=function(){var y=this.$SphericalMediaHeadingIndicator17(),z=s();return{width:y.width*z,height:y.height*z}};x.prototype.$SphericalMediaHeadingIndicator17=function(){return this.props.useLargeHeadingIndicator?l:k};x.prototype.$SphericalMediaHeadingIndicator18=function(){var y=this.$SphericalMediaHeadingIndicator16();return{x:y.width/2,y:y.height/2}};x.prototype.draw=function(y){__p&&__p();if(!this.$SphericalMediaHeadingIndicator1)return;var z=this.$SphericalMediaHeadingIndicator1,A=this.$SphericalMediaHeadingIndicator16();if(z.width!==A.width||z.height!==A.height){z.width=A.width;z.height=A.height}var B=z.getContext("2d");if(!B)return;B.save();B.clearRect(0,0,A.width,A.height);this.$SphericalMediaHeadingIndicator19(B,y);this.$SphericalMediaHeadingIndicator20(B,y);this.$SphericalMediaHeadingIndicator21(B,y);B.restore()};x.prototype.$SphericalMediaHeadingIndicator19=function(y,z){__p&&__p();var A=this.$SphericalMediaHeadingIndicator17(),B=this.$SphericalMediaHeadingIndicator18(),C=z.fov*this.props.aspectRatio,D=c("degToRad")(C)/2;v(y,B,A.background_radius,this.$SphericalMediaHeadingIndicator22());if(this.props.isGuideAuto){var E=A.inner_radius+A.inner_stroke/2-A.center_radius;w(y,B,A.center_radius+E/2,0,2*Math.PI,E,this.$SphericalMediaHeadingIndicator23())}else{v(y,B,A.center_radius,this.$SphericalMediaHeadingIndicator23());var F=this.props.partialLimits;if(F&&F.partialLeftDegrees&&F.partialRightDegrees){var G=F.partialLeftDegrees,H=F.partialRightDegrees;w(y,B,A.inner_radius,0,2*Math.PI,A.inner_stroke,this.getPartialPanoElementColor());var I=270-z.initialYaw,J=c("degToRad")(G*-1+I+D),K=c("degToRad")(H+I-D);w(y,B,A.inner_radius,J||0,K||0,A.inner_stroke,this.$SphericalMediaHeadingIndicator23())}else w(y,B,A.inner_radius,0,2*Math.PI,A.inner_stroke,this.$SphericalMediaHeadingIndicator23())}};x.prototype.$SphericalMediaHeadingIndicator21=function(y,z){__p&&__p();var A=this.$SphericalMediaHeadingIndicator17(),B=this.$SphericalMediaHeadingIndicator18();if(this.$SphericalMediaHeadingIndicator11){var C=c("degToRad")((z.poiYaw||0)-z.initialYaw)-Math.PI/2;w(y,B,A.rim_radius,C-q/2,C+q/2,A.rim_stroke,this.$SphericalMediaHeadingIndicator23())}var D=s(),E=A.triangle[0]*D,F=A.triangle[1]*D,G=A.triangle[2]*D;y.translate(B.x,B.y);if(z.pointerYaw){var H=z.pointerYaw-z.initialYaw;y.rotate(c("degToRad")(H||0))}y.beginPath();y.moveTo(0,E-B.y);y.lineTo(-F,G-B.y);y.lineTo(F,G-B.y);y.fillStyle=this.$SphericalMediaHeadingIndicator23();y.fill()};x.prototype.$SphericalMediaHeadingIndicator20=function(y,z){__p&&__p();var A=this.$SphericalMediaHeadingIndicator17(),B=this.$SphericalMediaHeadingIndicator18(),C=this.props,D=C.partialLimits,E=C.aspectRatio,F=C.showNewPhotoRenderer,G=z.yaw-z.initialYaw,H=z.fov*this.props.aspectRatio,I=c("degToRad")(H)/2;if(F&&D){var J=c("SphericalPhotoProjectionUtils").getRelativeHfov(z.fov,E,D);I=J/2}var K=c("degToRad")(G)-Math.PI/2,L=this.props.isGuideAuto;if(L){var M=s();y.save();y.beginPath();y.lineWidth=A.arc_stroke*M;y.arc(B.x,B.y,(A.arc_radius+A.arc_stroke/2)*M,K-I,K+I,false);y.arc(B.x,B.y,(A.arc_radius-A.arc_stroke/2)*M,K+I,K-I,true);y.clip();var N=this.$SphericalMediaHeadingIndicator16();y.clearRect(0,0,N.width,N.height);y.restore()}w(y,B,A.arc_radius,K-I,K+I,A.arc_stroke,L?this.$SphericalMediaHeadingIndicator22():this.$SphericalMediaHeadingIndicator23())};x.prototype.getPartialPanoElementColor=function(){return"rgba(255, 255, 255, "+this.$SphericalMediaHeadingIndicator7*.4+")"};x.prototype.$SphericalMediaHeadingIndicator23=function(){return"rgba(255, 255, 255, "+this.$SphericalMediaHeadingIndicator7+")"};x.prototype.$SphericalMediaHeadingIndicator22=function(){return"rgba(0, 0, 0, "+this.$SphericalMediaHeadingIndicator6+")"};x.prototype.$SphericalMediaHeadingIndicator25=function(y,z,A,B){__p&&__p();this.$SphericalMediaHeadingIndicator10=this.$SphericalMediaHeadingIndicator9;this.$SphericalMediaHeadingIndicator9=true;var C=Date.now(),D=function(G){__p&&__p();var H=Date.now();if(this.$SphericalMediaHeadingIndicator10){this.$SphericalMediaHeadingIndicator10=false;return}if(H-C>o){this.$SphericalMediaHeadingIndicator9=false;this.$SphericalMediaHeadingIndicator6=z;this.$SphericalMediaHeadingIndicator7=B;return}c("requestAnimationFrame")(function(){D(G)});var I=c("easeInOutInterpolate")((H-C)/o),J=G.deltaAlphaBG*I+G.startAlphaBG,K=G.deltaAlphaElement*I+G.startAlphaElement;this.$SphericalMediaHeadingIndicator6=J;this.$SphericalMediaHeadingIndicator7=K;this.draw(this.__getDrawData())}.bind(this),E=z-y,F=B-A;c("requestAnimationFrame")(function(){D({startAlphaBG:y,deltaAlphaBG:E,startAlphaElement:A,deltaAlphaElement:F})})};x.prototype.componentDidMount=function(){if(this.props.isActive)this.draw(this.__getDrawData());if(this.props.useNativeListeners){this.$SphericalMediaHeadingIndicator12=new(c("SubscriptionsHandler"))();this.$SphericalMediaHeadingIndicator12.addSubscriptions(c("EventListener").listen(this.$SphericalMediaHeadingIndicator4,"click",function(event){return this.__onClick(event)}.bind(this)),c("EventListener").listen(this.$SphericalMediaHeadingIndicator4,"mouseover",function(){return this.$SphericalMediaHeadingIndicator13(true)}.bind(this)),c("EventListener").listen(this.$SphericalMediaHeadingIndicator4,"mouseout",function(){return this.$SphericalMediaHeadingIndicator13(false,false)}.bind(this)))}};x.prototype.componentDidUpdate=function(){if(this.props.isActive)this.draw(this.__getDrawData());c("requestAnimationFrame")(this.$SphericalMediaHeadingIndicator24)};x.prototype.componentWillUnmount=function(){this.$SphericalMediaHeadingIndicator1=null;if(this.props.useNativeListeners)this.$SphericalMediaHeadingIndicator12.release()};x.prototype.render=function(){__p&&__p();var y=this.$SphericalMediaHeadingIndicator17(),z=this.props.isActive,A={};if(!this.props.useNativeListeners){A.onClick=function(event){return this.__onClick(event)}.bind(this);A.onMouseOver=function(){return this.$SphericalMediaHeadingIndicator13(true)}.bind(this);A.onMouseOut=function(){return this.$SphericalMediaHeadingIndicator13(false,false)}.bind(this)}return c("React").createElement("button",babelHelpers["extends"]({},A,{ref:function(B){return this.$SphericalMediaHeadingIndicator4=B}.bind(this),className:"_17az sphericalHeadingIndicator"+(!z?" hidden_elem":""),style:{width:y.width,height:y.height}}),c("React").createElement("div",{className:"_17a-",ref:function(B){return this.$SphericalMediaHeadingIndicator3=B}.bind(this)},c("React").createElement("canvas",{className:"_5nxw _17ay",ref:function(B){return this.$SphericalMediaHeadingIndicator1=B}.bind(this)})))};f.exports=x}),null);
__d("SphericalVideoHeadingIndicator.react",["cx","fbt","BasicFBNux","React","SphericalVideoExperiments","SphericalViewportControlStore","SphericalMediaHeadingIndicator.react","SubscriptionsHandler","VideoPlayerStates","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l,m,n=4320,o=i._("You're watching only the best views from this 360 video. You can swipe or drag the video to watch it manually."),p=function p(s){return s!==undefined&&s!==null};j=babelHelpers.inherits(q,c("SphericalMediaHeadingIndicator.react"));k=j&&j.prototype;q.prototype.__onClick=function(event){"use strict";this.props.onClick(event)};q.prototype.__getDrawData=function(){"use strict";return{fov:this.props.fov,initialYaw:this.props.initialYaw,pointerYaw:this.props.pointerYaw,poiYaw:this.props.poiYaw,yaw:this.props.yaw}};q.prototype.$SphericalHeadingIndicatorImpl1=function(s){"use strict";return{fov:s.fov,initialYaw:s.initialYaw,pointerYaw:s.pointerYaw,poiYaw:s.poiYaw,yaw:s.yaw}};q.prototype.UNSAFE_componentWillReceiveProps=function(s){"use strict";k.UNSAFE_componentWillReceiveProps.call(this,s);if(!p(this.props.poiYaw)&&p(s.poiYaw))this.__blinkStartTime=Date.now();var t=s.isActive===this.props.isActive&&(s.initialYaw!==this.props.initialYaw||s.aspectRatio!==this.props.aspectRatio||s.fov!==this.props.fov||s.yaw!==this.props.yaw||s.pointerYaw!==this.props.pointerYaw||s.poiYaw!==this.props.poiYaw);if(t)this.draw(this.$SphericalHeadingIndicatorImpl1(s))};q.prototype.shouldComponentUpdate=function(s){"use strict";var t=k.shouldComponentUpdate.call(this,s)||s.poiYaw!==this.props.poiYaw;return t};function q(){"use strict";j.apply(this,arguments)}q.__subClassMethods={__onClick:true,__getDrawData:true};l=babelHelpers.inherits(r,c("React").Component);m=l&&l.prototype;function r(s){"use strict";__p&&__p();m.constructor.call(this,s);this.$SphericalVideoHeadingIndicator6=false;this.$SphericalVideoHeadingIndicator1=s.controller;this.$SphericalVideoHeadingIndicator5=s.isComposer;if(!this.$SphericalVideoHeadingIndicator5){this.$SphericalVideoHeadingIndicator3=n;this.$SphericalVideoHeadingIndicator4=o}this.$SphericalVideoHeadingIndicator2=new(c("SubscriptionsHandler"))()}r.prototype.componentDidMount=function(){"use strict";if(this.$SphericalVideoHeadingIndicator1.getOption("SphericalVideoPlayer","isReady"))this.$SphericalVideoHeadingIndicator7();else this.$SphericalVideoHeadingIndicator2.addSubscriptions(this.$SphericalVideoHeadingIndicator1.once("SphericalVideoPlayer/ready",function(){return this.$SphericalVideoHeadingIndicator7()}.bind(this)))};r.prototype.componentWillUnmount=function(){"use strict";this.$SphericalVideoHeadingIndicator2.release()};r.prototype.$SphericalVideoHeadingIndicator7=function(){"use strict";__p&&__p();var s=this.$SphericalVideoHeadingIndicator1.getVideoPlayerID();this.$SphericalVideoHeadingIndicator2.addSubscriptions(this.$SphericalVideoHeadingIndicator1.addListener("PhotoSnowlift/enterSnowlift",function(){return this.$SphericalVideoHeadingIndicator8(true)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("PhotoSnowlift/exitSnowlift",function(){return this.$SphericalVideoHeadingIndicator8(false)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("toggleFullscreen",function(){return this.$SphericalVideoHeadingIndicator9()}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("beginPlayback",function(){return this.$SphericalVideoHeadingIndicator10(true)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("finishPlayback",function(){return this.$SphericalVideoHeadingIndicator10(false)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoChannelController/enterChannel",function(){return this.$SphericalVideoHeadingIndicator11(true)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoChannelController/exitChannel",function(){return this.$SphericalVideoHeadingIndicator11(false)}.bind(this)),c("SphericalViewportControlStore").addListener(function(){var t=c("SphericalViewportControlStore"),u=t.getOrientation(s),v=u.pitch,w=u.yaw;this.setState({isActive:t.getViewportGrabbed(s),pitch:v,yaw:w,fov:t.getFieldOfView(s)})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("SphericalVideoRecenterControl/animationStart",function(){return this.$SphericalVideoHeadingIndicator12(true)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("SphericalVideoRecenterControl/animationEnd",function(){return this.$SphericalVideoHeadingIndicator12(false)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoControls/visibilityUpdate",function(t){var u=t.areControlsVisible;return this.$SphericalVideoHeadingIndicator12(u)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("viewportChange",function(t,u){return this.forceUpdate()}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoWithSphericalGuide/viewportChange",function(t){return this.setState({pointerYaw:t})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoWithSphericalGuide/intervalUpdate",function(t){var u=t.deltaPitch===0&&t.deltaYaw===0;this.setState({poiYaw:u?undefined:t.baseYaw+t.deltaYaw,isActive:!u})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoWithSphericalGuide/toggle",function(t){return this.setState({isGuideAuto:t})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoWithSphericalGuide/stateToggle",function(t){if(!t)this.setState({isGuideAuto:false,poiYaw:undefined,pointerYaw:0})}.bind(this)));this.setState({isVisible:this.$SphericalVideoHeadingIndicator1.isState(c("VideoPlayerStates").PLAYING),isActive:false,inChannel:this.$SphericalVideoHeadingIndicator1.getIsInChannel(),inSnowlift:this.$SphericalVideoHeadingIndicator1.getOption("PhotoSnowlift","isInSnowlift"),inFullscreen:this.$SphericalVideoHeadingIndicator1.isFullscreen(),isGuideAuto:this.$SphericalVideoHeadingIndicator1.getOption("VideoWithSphericalGuide","auto"),showGuideNux:c("SphericalVideoExperiments").showGuideNux,pitch:c("SphericalViewportControlStore").getOrientation(s).pitch,yaw:c("SphericalViewportControlStore").getOrientation(s).yaw,fov:c("SphericalViewportControlStore").getFieldOfView(s)});this.$SphericalVideoHeadingIndicator6=true};r.prototype.$SphericalVideoHeadingIndicator10=function(s){"use strict";this.setState({isVisible:s})};r.prototype.$SphericalVideoHeadingIndicator9=function(){"use strict";this.setState({inFullscreen:this.$SphericalVideoHeadingIndicator1.isFullscreen()})};r.prototype.$SphericalVideoHeadingIndicator11=function(s){"use strict";this.setState({inChannel:s})};r.prototype.$SphericalVideoHeadingIndicator8=function(s){"use strict";this.setState({inSnowlift:s})};r.prototype.$SphericalVideoHeadingIndicator12=function(s){"use strict";this.setState({isActive:s})};r.prototype.$SphericalVideoHeadingIndicator13=function(){"use strict";this.setState({showGuideNux:false});c("BasicFBNux").onDismiss(n)};r.prototype.render=function(){"use strict";__p&&__p();if(!this.$SphericalVideoHeadingIndicator6)return null;var s=this.$SphericalVideoHeadingIndicator1.getOption("SphericalVideoPlayer","getDimensions"),t=s.width,u=s.height,v=!this.state.inChannel&&!this.state.inSnowlift&&!this.state.inFullscreen,w=this.$SphericalVideoHeadingIndicator1.getOption("VideoWithSphericalGuide","enabled"),x=void 0;if(!this.$SphericalVideoHeadingIndicator5)x=this.state.showGuideNux&&w;var y=this.$SphericalVideoHeadingIndicator1.getOption("SphericalVideoPlayer","getIsSingleFisheye");if(y){var z=this.$SphericalVideoHeadingIndicator1.getOption("SphericalVideoPlayer","getOriginalFOV");if(z!==null&&z!==0)return c("React").createElement("div",{className:"_3ldo"+(v?" _42a0":"")},c("React").createElement(q,{ref:"compass",aspectRatio:t/u,initialYaw:this.props.initialYaw,isActive:this.state.isVisible,fov:this.state.fov,pitch:this.state.pitch,yaw:this.state.yaw,onClick:this.props.onClick,useLargeHeadingIndicator:this.state.inFullscreen,isPanning:this.state.isActive,isGuideAuto:this.state.isGuideAuto,pointerYaw:this.state.pointerYaw,poiYaw:this.state.poiYaw,partialLeftDegrees:z/2,partialRightDegrees:z/2}),c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.compass}.bind(this),shown:x,position:"left",onCloseButtonClick:function(){return this.$SphericalVideoHeadingIndicator13()}.bind(this)},this.$SphericalVideoHeadingIndicator4))}return c("React").createElement("div",{className:"_3ldo"+(v?" _42a0":"")},c("React").createElement(q,{ref:"compass",aspectRatio:t/u,initialYaw:this.props.initialYaw,isActive:this.state.isVisible,fov:this.state.fov,pitch:this.state.pitch,yaw:this.state.yaw,onClick:this.props.onClick,useLargeHeadingIndicator:this.state.inFullscreen,isPanning:this.state.isActive,isGuideAuto:this.state.isGuideAuto,pointerYaw:this.state.pointerYaw,poiYaw:this.state.poiYaw}),c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.compass}.bind(this),shown:x,position:"left",onCloseButtonClick:function(){return this.$SphericalVideoHeadingIndicator13()}.bind(this)},this.$SphericalVideoHeadingIndicator4))};f.exports=r}),null);
__d("VideoSphericalHeadingIndicator",["cx","CSS","React","ReactDOM","SphericalVideoHeadingIndicator.react","VideoPlayerFallbackEvents","VideoPlayerLoggerEvent","destroyOnUnload"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j,k,l,m,n){__p&&__p();var o,p=this,q=arguments.length<=5||arguments[5]===undefined?false:arguments[5];this.$VideoSphericalHeadingIndicator7=function(event){event.preventDefault();this.$VideoSphericalHeadingIndicator1.emit("SphericalHeadingIndicator/click");this.$VideoSphericalHeadingIndicator1.logEvent(c("VideoPlayerLoggerEvent").HEADING_RESET)}.bind(this);this.$VideoSphericalHeadingIndicator1=j;this.$VideoSphericalHeadingIndicator2=k;this.$VideoSphericalHeadingIndicator3=l;this.$VideoSphericalHeadingIndicator4=q;var r=j.addListener(c("VideoPlayerFallbackEvents").ENTER,function(){r.remove();c("ReactDOM").unmountComponentAtNode(k)});if(j.isState("ready")||j.isState("playing"))this.$VideoSphericalHeadingIndicator5();else(function(){var s=j.addListener("stateChange",function(){if(this.$VideoSphericalHeadingIndicator1.isState("ready")||this.$VideoSphericalHeadingIndicator1.isState("playing")){s.remove();this.$VideoSphericalHeadingIndicator5()}}.bind(p))})();c("destroyOnUnload")(function(){return c("ReactDOM").unmountComponentAtNode(k)})}i.prototype.$VideoSphericalHeadingIndicator5=function(){this.$VideoSphericalHeadingIndicator1.addListener("toggleFullscreen",this.$VideoSphericalHeadingIndicator6.bind(this));c("ReactDOM").render(c("React").createElement(c("SphericalVideoHeadingIndicator.react"),{initialYaw:this.$VideoSphericalHeadingIndicator3,onClick:this.$VideoSphericalHeadingIndicator7,controller:this.$VideoSphericalHeadingIndicator1,isComposer:this.$VideoSphericalHeadingIndicator4}),this.$VideoSphericalHeadingIndicator2)};i.prototype.$VideoSphericalHeadingIndicator6=function(){if(this.$VideoSphericalHeadingIndicator1.isFullscreen())c("CSS").addClass(this.$VideoSphericalHeadingIndicator2,"_4ubd");else c("CSS").removeClass(this.$VideoSphericalHeadingIndicator2,"_4ubd")};f.exports=i}),null);
__d("ComposerVideoUploadSphericalVideo.react",["cx","fbt","ix","ComposerVideoUploadSphericalVideoBottomControlBar.react","ComposerVideoUploadSphericalVideoLoader","ComposerVideoUploadSphericalVideoTopControlBar.react","ComposerVideoUploadSphericalEvents","DOM","ComposerVideoUploadSphericalVideoPreviewGuide","Image.react","ComposerVideoUploadSphericalVideoIntroTextSection.react","ComposerVideoUploadSphericalMediaToolkit.react","ComposerVideoUploadSphericalVideoPreviewOverlayButtons","React","SphericalVideoPlayerEvents","SphericalVideoRecenterControl","ComposerVideoUploadSphericalVideoPreviewSpinner","VideoPlayerStates","VideoSphericalHeadingIndicator","ComposerVideoUploadSphericalVideoPreviewViewportControl","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=40,n=90;k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(p){"use strict";__p&&__p();l.constructor.call(this,p);this.state={controller:null,isMobilePreview:true};this.$ComposerVideoUploadSphericalVideo9=function(q){__p&&__p();var r=this.props.yaw,s=this.props.pitch,t=this.props.fov,u=this.props.guideEnabled,v=this.props.keyframes.map(function(x){return x.getLegacyParams()}).toJS();this.$ComposerVideoUploadSphericalVideo10(function(x){this.$ComposerVideoUploadSphericalVideo2=new(c("VideoSphericalHeadingIndicator"))(q,x,0,0,t,true)}.bind(this),function(x){this.$ComposerVideoUploadSphericalVideo3=new(c("ComposerVideoUploadSphericalVideoPreviewSpinner"))(q,x)}.bind(this),function(x){this.$ComposerVideoUploadSphericalVideo4=new(c("ComposerVideoUploadSphericalVideoPreviewOverlayButtons"))(q,x,u,v,this.props.isEditingKeyframe,this.state.isMobilePreview)}.bind(this));this.$ComposerVideoUploadSphericalVideo5=new(c("SphericalVideoRecenterControl"))(q,r,s);this.$ComposerVideoUploadSphericalVideo6=new(c("ComposerVideoUploadSphericalVideoPreviewViewportControl"))(q,r,s,t,this.props.onViewportUpdate,this.props.onFOVUpdate);this.$ComposerVideoUploadSphericalVideo7=new(c("ComposerVideoUploadSphericalVideoPreviewGuide"))(q,r,s,u,v,this.props.onPointOfInterestAdded,this.props.onPointOfInterestRemoved,this.props.onPointOfInterestsCleared,this.props.togglePointOfInterestEdit,this.props.onPointOfInterestSaved,this.props.updateActiveGuideKeyframe,this.props.onCreateThumbnail,true);this.props.onLoadVideoSuccess(q);this.setState({controller:q});var w=q.addListener("stateChange",function(){if(q.isState(c("VideoPlayerStates").DESTROYED)){w.remove();this.componentWillUnmount();this.setState({controller:null})}}.bind(this))}.bind(this);this.$ComposerVideoUploadSphericalVideo12=function(q){this.setState({isMobilePreview:q});if(this.state.controller)this.state.controller.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.MOBILE_PREVIEW_UPDATE,q)}.bind(this);this.$ComposerVideoUploadSphericalVideo8=function(){if(this.props.shouldLoadVideo){c("ComposerVideoUploadSphericalVideoLoader").load(this.props.videoFile,this.props.videoID,{initialHeading:this.props.yaw,initialPitch:this.props.pitch,fieldOfView:this.props.fov,stereoFormat:this.props.stereoMode,projection:this.props.projection,root:this.refs.container,video:this.refs.video,onSuccess:this.$ComposerVideoUploadSphericalVideo9,onError:this.props.onLoadVideoError,autoplay:true});this.$ComposerVideoUploadSphericalVideo8=c("emptyFunction")}}.bind(this)}o.prototype.componentWillUnmount=function(){"use strict";this.$ComposerVideoUploadSphericalVideo5&&this.$ComposerVideoUploadSphericalVideo5.destroy();this.$ComposerVideoUploadSphericalVideo6&&this.$ComposerVideoUploadSphericalVideo6.destroy();this.$ComposerVideoUploadSphericalVideo7&&this.$ComposerVideoUploadSphericalVideo7.destroy()};o.prototype.componentDidMount=function(){"use strict";this.$ComposerVideoUploadSphericalVideo8()};o.prototype.componentDidUpdate=function(p){"use strict";__p&&__p();var q=this.state.controller;if(!q){this.$ComposerVideoUploadSphericalVideo8();return}if(this.props.guideEnabled!==p.guideEnabled)q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_STATE_UPDATE,this.props.guideEnabled);if(this.props.guideVisible!==p.guideVisible)q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_VISIBILITY_UPDATE,this.props.guideVisible);if(this.props.fov!==p.fov)q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.FIELD_OF_VIEW_UPDATE,this.props.fov);if(!this.props.keyframes.equals(p.keyframes))q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.props.keyframes.map(function(r){return r.getLegacyParams()}).toJS());if(this.props.isEditingKeyframe!==p.isEditingKeyframe)q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.props.isEditingKeyframe);if(this.props.projection!==p.projection)q.emit(c("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,this.props.projection);if(this.props.stereoMode!==p.stereoMode)q.emit(c("SphericalVideoPlayerEvents").SET_STEREO_MODE,this.props.stereoMode)};o.prototype.$ComposerVideoUploadSphericalVideo10=function(){"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];q.forEach(function(s){var t=c("DOM").create("div",{className:"_4jd4"});c("DOM").insertAfter(this.refs.video,t);s(t)}.bind(this))};o.prototype.$ComposerVideoUploadSphericalVideo11=function(p){"use strict";return n-p+m};o.prototype.render=function(){"use strict";__p&&__p();var p=this.props,q=p.enableTextHotspots,r=p.enableImageHotspots,s=p.enableDurationAnimation,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0;if(this.props.videoLoading)t=c("React").createElement("div",{className:"_3u_t"},c("React").createElement("div",{className:"_3u_u"},i._("Loading Video Preview...")));else if(this.props.videoUnavailable)t=c("React").createElement("div",{className:"_3u_t"},c("React").createElement("div",{className:"_3u_u"},i._("Video Preview Unavailable")));else{if(this.state.isMobilePreview)t=[c("React").createElement(c("Image.react"),{key:"phone-image",className:"_4ncu"+(!this.state.isMobilePreview?" _4nfs":""),src:j("415900")}),c("React").createElement("div",{key:"left",className:"_4nft _4nfu"+(!this.state.isMobilePreview?" _4nfs":"")}),c("React").createElement("div",{key:"right",className:"_4nft _4ngc"+(!this.state.isMobilePreview?" _4nfs":"")})];if(this.state.controller){u=c("React").createElement(c("ComposerVideoUploadSphericalVideoTopControlBar.react"),{allowOmnistabToggle:this.props.allowOmnistabToggle,omnistabEnabled:this.props.omnistabEnabled,showOmnistabSection:this.props.showOmnistabSection,onToggleEnableOmnistab:this.props.onToggleEnableOmnistab,onToggleIsMobilePreview:this.$ComposerVideoUploadSphericalVideo12,isMobilePreview:this.state.isMobilePreview,fov:this.props.fov,onFOVUpdate:this.props.onFOVUpdate});v=c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBar.react"),{controller:this.state.controller,projection:this.props.projection,stereoMode:this.props.stereoMode,hasSpatialAudio:this.props.hasSpatialAudio,onProjectionSelected:this.props.onProjectionSelected,onStereoModeSelected:this.props.onStereoModeSelected,onToggleSpatialAudio:this.props.onToggleSpatialAudio,isEditing:this.props.isEditing,componentSource:this.props.componentSource});if(q||r)x=c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkit.react"),{controller:this.state.controller,enableDurationAnimation:this.props.enableDurationAnimation,enableImageHotspots:this.props.enableImageHotspots,enableTextHotspots:this.props.enableTextHotspots,fov:this.props.fov,hotspots:this.props.hotspots,nextId:this.props.nextHotspotId,pitch:this.props.pitch,yaw:this.props.yaw,onGuideVisibilityUpdate:this.props.onGuideVisibilityUpdate,onHotspotAdded:this.props.onHotspotAdded,onHotspotDeleted:this.props.onHotspotDeleted,onViewportUpdate:this.props.onViewportUpdate});y=c("React").createElement(c("ComposerVideoUploadSphericalVideoIntroTextSection.react"),{componentSource:this.props.componentSource,enableImageHotspots:this.props.enableImageHotspots,enableTextHotspots:this.props.enableTextHotspots})}}return c("React").createElement("div",{ref:"root",className:"_4jd5"},y,u,c("React").createElement("div",{className:"_251b"},w,c("React").createElement("div",{ref:"container",className:"_4jd6"+(this.state.isMobilePreview?" _251f":"")},c("React").createElement("video",{ref:"video",crossOrigin:"anonymous",className:"_4jd7"}),t,x)),v)};f.exports=o}),null);
__d("ComposerVideoUploadSphericalControlsTab.react",["cx","ComposerVideoUploadSphericalVideo.react","ComposerVideoUploadSphericalGuideSection.react","React","SimpleXUIDialog","SphericalDirectorComponentSources"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.componentDidUpdate=function(){if(this.props.errorMessageText){var l=this.props.errorMessageConfirmOnly?c("SimpleXUIDialog").show.bind(c("SimpleXUIDialog")):c("SimpleXUIDialog").showConfirm.bind(c("SimpleXUIDialog"));l(this.props.errorMessageText,this.props.errorMessageTitle,this.props.onAcceptErrorMessage);this.props.onClearErrorMessage()}};k.prototype.render=function(){var l=this.props.componentSource===c("SphericalDirectorComponentSources").PAGE_COMPOSER_V1||this.props.componentSource===c("SphericalDirectorComponentSources").EDIT_DIALOG_V1||this.props.componentSource===c("SphericalDirectorComponentSources").CROSSPOST_DIALOG_V1;return c("React").createElement("div",{className:"_9_2"+(!this.props.shown?" _2oq6":"")+(l?" _l_-":"")},c("React").createElement("div",{className:"_4zj0"+(l?" _l_-":"")},c("React").createElement(c("ComposerVideoUploadSphericalVideo.react"),{fov:this.props.fov,guideEnabled:this.props.guideEnabled,guideVisible:this.props.guideVisible,isEditingKeyframe:this.props.isEditingKeyframe,keyframes:this.props.keyframes,hotspots:this.props.hotspots,nextHotspotId:this.props.nextHotspotId,onCreateThumbnail:this.props.onCreateThumbnail,onFOVUpdate:this.props.onFOVUpdate,onGuideVisibilityUpdate:this.props.onGuideVisibilityUpdate,onHotspotAdded:this.props.onHotspotAdded,onHotspotDeleted:this.props.onHotspotDeleted,onLoadVideoError:this.props.onLoadVideoError,onLoadVideoSuccess:this.props.onLoadVideoSuccess,onPointOfInterestAdded:this.props.onPointOfInterestAdded,onPointOfInterestSaved:this.props.onPointOfInterestSaved,onPointOfInterestsCleared:this.props.onPointOfInterestsCleared,onPointOfInterestRemoved:this.props.onPointOfInterestRemoved,onPointsOfInterestRemoved:this.props.onPointsOfInterestRemoved,onViewportUpdate:this.props.onViewportUpdate,onProjectionSelected:this.props.onProjectionSelected,onStereoModeSelected:this.props.onStereoModeSelected,onToggleSpatialAudio:this.props.onToggleSpatialAudio,pitch:this.props.pitch,shouldLoadVideo:this.props.shouldLoadVideo,togglePointOfInterestEdit:this.props.togglePointOfInterestEdit,updateActiveGuideKeyframe:this.props.updateActiveGuideKeyframe,videoFile:this.props.videoFile,videoID:this.props.videoID,videoLoading:this.props.videoLoading,videoUnavailable:this.props.videoUnavailable,yaw:this.props.yaw,allowOmnistabToggle:this.props.allowOmnistabToggle,omnistabEnabled:this.props.omnistabEnabled,showOmnistabSection:this.props.showOmnistabSection,onToggleEnableOmnistab:this.props.onToggleEnableOmnistab,projection:this.props.projection,stereoMode:this.props.stereoMode,hasSpatialAudio:this.props.hasSpatialAudio,isEditing:this.props.isEditing,componentSource:this.props.componentSource,enableTextHotspots:this.props.enableTextHotspots,enableImageHotspots:this.props.enableImageHotspots,enableDurationAnimation:this.props.enableDurationAnimation}),c("React").createElement(c("ComposerVideoUploadSphericalGuideSection.react"),{fov:this.props.fov,isEditingKeyframe:this.props.isEditingKeyframe,keyframes:this.props.keyframes,pitch:this.props.pitch,yaw:this.props.yaw,onPointsOfInterestRemoved:this.props.onPointsOfInterestRemoved,onToggleGuideKeyframeForDeletion:this.props.onToggleGuideKeyframeForDeletion})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalVideoGuideThumbnailsLoader",["ComposerVideoUploadSphericalVideoLoader","DOM","immutable","SphericalVideoPlayerEvents"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=1e3,j=100;function k(m,n,o,p,q){l.call(this);this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader1=m;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader2=n;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader3=p;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader4=o;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader5=q;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7=null;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6=null}k.prototype.setKeyframes=function(m){this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader3=m;return this};k.prototype.setProjection=function(m){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6)this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6.emit(c("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,m);else this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader4.projection=m;return this};k.prototype.setStereoMode=function(m){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6)this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6.emit(c("SphericalVideoPlayerEvents").SET_STEREO_MODE,m);else this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader4.stereoFormat=m;return this};k.prototype.reloadThumbnails=function(){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7)clearTimeout(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7);this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7=setTimeout(function(){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6)this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6);else{var m=c("DOM").create("div"),n=c("DOM").create("video",{crossOrigin:"anonymous"});c("DOM").appendContent(m,n);c("ComposerVideoUploadSphericalVideoLoader").load(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader1,this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader2,babelHelpers["extends"]({},this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader4,{root:m,video:n,onSuccess:this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8,onError:function o(){},autoplay:false}))}}.bind(this))};k.prototype.destroy=function(){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6)this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6.destroy()};var l=function l(){__p&&__p();this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8=function(m){__p&&__p();var n=false;if(!this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6){this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6=m;n=true}var o=this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader3;if(o.size===0){this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7=null;return}var p=1;m.setDimensions(j*p,j);var q=0,r=m.addListener("seekEnd",function(){__p&&__p();var s=o.get(q);m.setSphericalOrientation(s.yaw,s.pitch);var t=m.getOption("SphericalVideoPlayer","getScreenshotDataURL");if(m.getCurrentTimePosition()===0){m.seek(1/i);return}o=o.update(q,function(u){return u.set("thumbnailURI",t)});this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader5(o);q++;if(q<o.size)m.seek(o.get(q).timestamp/i);else{r.remove();this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7=null}}.bind(this));if(n)m.once("updateMetadata",function(){m.seek(o.first().timestamp/i)});else m.seek(o.first().timestamp/i)}.bind(this)};f.exports=k}),null);
__d("DataURLVideoThumbnail",["VideoThumbnail","dataURLToBlob"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("VideoThumbnail"));i=h&&h.prototype;function j(k,l){var m=arguments.length<=2||arguments[2]===undefined?0:arguments[2];"use strict";i.constructor.call(this,null);this.$CanvasSphericalVideoThumbnail1=l;this.$CanvasSphericalVideoThumbnail2=m;this.$CanvasSphericalVideoThumbnail3=k}j.prototype.getTime=function(){"use strict";return this.$CanvasSphericalVideoThumbnail2};j.prototype.getURL=function(){"use strict";return this.$CanvasSphericalVideoThumbnail3};j.prototype.getData=function(){"use strict";return c("dataURLToBlob")(this.$CanvasSphericalVideoThumbnail3,this.$CanvasSphericalVideoThumbnail1)};f.exports=j}),null);
__d("cropDataURLToDimension",["DOM"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k){var l=c("DOM").create("canvas",{width:k.width,height:k.height}),m=l.getContext("2d");m.drawImage(i,j.x,j.y,k.width,k.height,0,0,k.width,k.height);return l.toDataURL()}f.exports=h}),null);
__d("ComposerVideoUploadSphericalControlsTabContainer.react",["ComposerVideoUploadSphericalAction","ComposerVideoUploadActions","ReactComposerPropsAndStoreBasedStateMixin","ComposerVideoUploadSphericalControlsTab.react","ComposerVideoUploadSphericalVideoGuideThumbnailsLoader","DataURLVideoThumbnail","DOM","ComposerVideoUploadSphericalGuideKeyframeData","immutable","React","ReactComposerContextTypes","ComposerVideoUploadSphericalStore","SphericalDirectorComponentSources","SphericalVideoExperiments","VideoStereoFormat","VideoUploadSphericalControlsAction","VideoUploadSphericalLogger","cropDataURLToDimension"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=c("React").PropTypes,j=[c("SphericalDirectorComponentSources").CROSSPOST_DIALOG_V1,c("SphericalDirectorComponentSources").CROSSPOST_DIALOG_V2,c("SphericalDirectorComponentSources").EDIT_DIALOG_V1,c("SphericalDirectorComponentSources").EDIT_DIALOG_V2,c("SphericalDirectorComponentSources").PAGE_COMPOSER_V1,c("SphericalDirectorComponentSources").PAGE_COMPOSER_V2,c("SphericalDirectorComponentSources").STANDALONE,c("SphericalDirectorComponentSources").UNKNOWN],k="image/jpeg",l=1,m=c("React").createClass({displayName:"ComposerVideoUploadSphericalControlsTabContainer",_loggedImpression:false,_guideThumbnailsLoader:null,_enableTextHotspots:false,_enableImageHotspots:false,_enableDurationAnimation:false,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ComposerVideoUploadSphericalStore"))],statics:{calculateState:function n(o,p){var q=c("ComposerVideoUploadSphericalStore").getCurrentViewport(o),r=q.pitch,s=q.yaw,t=c("ComposerVideoUploadSphericalStore").getFOV(o),u=c("ComposerVideoUploadSphericalStore").getVideoUnavailable(o),v=!c("ComposerVideoUploadSphericalStore").getVideoPlayerController(o)&&!u,w=c("ComposerVideoUploadSphericalStore").getEnableOmnistab(o),x=c("ComposerVideoUploadSphericalStore").getExpandedSections(o),y=c("ComposerVideoUploadSphericalStore").getGuideVisibility(o),z=c("ComposerVideoUploadSphericalStore").getGuideKeyframes(o),A=c("ComposerVideoUploadSphericalStore").getSphericalHotspots(o),B=c("ComposerVideoUploadSphericalStore").getNextHotspotId(o),C=c("ComposerVideoUploadSphericalStore").getErrorMessageInfo(o)||{},D=c("ComposerVideoUploadSphericalStore").getIsEditingPointOfInterest(o),E=c("ComposerVideoUploadSphericalStore").getTabVisibility(o)&&v,F=c("ComposerVideoUploadSphericalStore").getOriginalSphericalMetadata(o),G=c("ComposerVideoUploadSphericalStore").getProjection(o),H=c("ComposerVideoUploadSphericalStore").getStereoMode(o),I=c("ComposerVideoUploadSphericalStore").getHasSpatialAudio(o);return{pitch:r,yaw:s,fov:t,projection:G,stereoMode:H,hasSpatialAudio:I,videoLoading:v,videoUnavailable:u,enableOmnistab:w,expandedSections:x,guideVisible:y,keyframes:z,hotspots:A,nextHotspotId:B,errorMessageText:C.text,errorMessageTitle:C.title,errorMessageConfirmOnly:C.confirmOnly,errorMessageCallback:C.callback,isEditingKeyframe:D,shouldLoadVideo:E,sphericalMetadata:F}}},propTypes:{shown:i.bool.isRequired,showOmnistabSection:i.bool,hasOmnistabEncoding:i.bool,isEditing:i.bool,videoFile:i.object,videoID:i.string,targetID:i.string,startVisible:i.bool,componentSource:i.oneOf(j).isRequired},UNSAFE_componentWillMount:function n(){__p&&__p();var o=this.context.composerID;c("ComposerVideoUploadSphericalAction").resetVideoPlayerController(o);if(!this.props.showOmnistabSection)c("ComposerVideoUploadSphericalAction").updateEnableOmnistab(o,false);if(this.props.startVisible)c("ComposerVideoUploadSphericalAction").updateTabVisibility(this.context.composerID,this.props.shown);var p=c("ComposerVideoUploadSphericalStore").getCurrentViewport(o);c("VideoUploadSphericalLogger").setIsRedesign(true).setTargetID(this.props.targetID?Number(this.props.targetID):null).setVideoID(this.props.videoID?Number(this.props.videoID):null).setYawDegrees(p.yaw).setPitchDegrees(p.pitch).setFieldOfView(c("ComposerVideoUploadSphericalStore").getFOV(o)).setVideoPreviewPosition(0);var q=this.props.componentSource===c("SphericalDirectorComponentSources").CROSSPOST_DIALOG_V1||this.props.componentSource===c("SphericalDirectorComponentSources").EDIT_DIALOG_V1||this.props.componentSource===c("SphericalDirectorComponentSources").EDIT_DIALOG_V2;this._enableTextHotspots=c("SphericalVideoExperiments").enableTextHotspots&&!q;this._enableImageHotspots=c("SphericalVideoExperiments").enableImageHotspots&&!q;this._enableDurationAnimation=c("SphericalVideoExperiments").enableDurationAnimation},componentDidMount:function n(){this._createGuideThumbnailsLoader()},componentDidUpdate:function n(o,p){__p&&__p();if(o.shown!==this.props.shown)c("ComposerVideoUploadSphericalAction").updateTabVisibility(this.context.composerID,this.props.shown);if(this.props.shown&&!this._loggedImpression){var q=c("VideoUploadSphericalControlsAction").TAB_IMPRESSION;c("VideoUploadSphericalLogger").setUserAction(q).log();this._loggedImpression=true}if(Object.keys(p.sphericalMetadata).length===0&&Object.keys(this.state.sphericalMetadata).length>0)this._createGuideThumbnailsLoader();if(this.state.projection!==p.projection||this.state.stereoMode!==p.stereoMode)this.reloadGuideThumbnails()},componentWillUnmount:function n(){var o=c("ComposerVideoUploadSphericalStore").getVideoPlayerController(this.context.composerID);if(o)o.destroy();if(this._guideThumbnailsLoader)this._guideThumbnailsLoader.destroy()},render:function n(){return c("React").createElement(c("ComposerVideoUploadSphericalControlsTab.react"),{errorMessageConfirmOnly:this.state.errorMessageConfirmOnly,errorMessageText:this.state.errorMessageText,errorMessageTitle:this.state.errorMessageTitle,expandedSections:this.state.expandedSections,fov:this.state.fov,guideEnabled:true,guideVisible:this.state.guideVisible,isEditingKeyframe:this.state.isEditingKeyframe,keyframes:this.state.keyframes,hotspots:this.state.hotspots,nextHotspotId:this.state.nextHotspotId,onAcceptErrorMessage:this.state.errorMessageCallback,onClearErrorMessage:this._onClearErrorMessage,onCollapsableHeaderClick:this._onCollapsableHeaderClick,onCreateThumbnail:this._onCreateThumbnail,onFOVUpdate:this._onFOVUpdate,onGuideVisibilityUpdate:this._onGuideVisibilityUpdate,onHotspotAdded:this._onHotspotAdded,onHotspotDeleted:this._onHotspotDeleted,onLoadVideoError:this._onLoadVideoError,onLoadVideoSuccess:this._onLoadVideoSuccess,onPitchUpdate:this._onPitchUpdate,onPointOfInterestAdded:this._onPointOfInterestAddedOrSaved,onPointOfInterestSaved:this._onPointOfInterestAddedOrSaved,onPointOfInterestsCleared:this._onPointOfInterestsCleared,onPointsOfInterestRemoved:this._onPointsOfInterestRemoved,onPointOfInterestRemoved:this._onPointOfInterestRemoved,onSelectThumbnail:this._onSelectThumbnail,onToggleEnableOmnistab:this._onToggleEnableOmnistab,onToggleGuideKeyframeForDeletion:this._updateToggleGuideKeyframeForDeletion,onViewportUpdate:this._onViewportUpdate,onYawUpdate:this._onYawUpdate,onProjectionSelected:this._onProjectionSelected,onStereoModeSelected:this._onStereoModeSelected,onToggleSpatialAudio:this._onToggleSpatialAudio,pitch:this.state.pitch,shouldLoadVideo:this.state.shouldLoadVideo,shown:this.props.shown,showOmnistabSection:!!this.props.showOmnistabSection,omnistabEnabled:this.state.enableOmnistab,allowOmnistabToggle:this._allowOmnistabToggle(),togglePointOfInterestEdit:this._togglePointOfInterestEdit,updateActiveGuideKeyframe:this._updateActiveGuideKeyframe,videoFile:this.props.videoFile,videoID:this.props.videoID,videoLoading:this.state.videoLoading,videoUnavailable:this.state.videoUnavailable,yaw:this.state.yaw,projection:this.state.projection,stereoMode:this.state.stereoMode,hasSpatialAudio:this.state.hasSpatialAudio,isEditing:!!this.props.isEditing,componentSource:this.props.componentSource,enableTextHotspots:this._enableTextHotspots,enableImageHotspots:this._enableImageHotspots,enableDurationAnimation:this._enableDurationAnimation})},_createGuideThumbnailsLoader:function n(){if(!this._guideThumbnailsLoader)this._guideThumbnailsLoader=new(c("ComposerVideoUploadSphericalVideoGuideThumbnailsLoader"))(this.props.videoFile,this.props.videoID,{initialHeading:this.state.yaw,initialPitch:this.state.pitch,fieldOfView:this.state.fov,stereoFormat:this.state.stereoMode,projection:this.state.projection},this.state.keyframes,function(o){return c("ComposerVideoUploadSphericalAction").updateGuideKeyframes(this.context.composerID,o)}.bind(this));this._guideThumbnailsLoader.setKeyframes(this.state.keyframes).reloadThumbnails()},reloadGuideThumbnails:function n(){if(this._guideThumbnailsLoader)this._guideThumbnailsLoader.setProjection(this.state.projection).setStereoMode(this.state.stereoMode).setKeyframes(this.state.keyframes).reloadThumbnails()},_allowOmnistabToggle:function n(){return(!this.state.stereoMode||this.state.stereoMode===c("VideoStereoFormat").MONO)&&(!this.props.isEditing||!!this.props.hasOmnistabEncoding)},_onClearErrorMessage:function n(){c("ComposerVideoUploadSphericalAction").updateErrorMessage(this.context.composerID,null)},_onSelectThumbnail:function n(o){var p=new(c("DataURLVideoThumbnail"))(o.thumbnailURI,k,o.timestamp);c("ComposerVideoUploadActions").updateThumbnailFromSphericalPreview(this.context.composerID,p)},_onCreateThumbnail:function n(o){var p=o(),q=c("DOM").create("img",{src:p,onload:function(){var r=q.width,s=q.height,t=(r-l*s)/2;p=c("cropDataURLToDimension")(q,{x:t,y:0},{width:s*l,height:s});var u=new(c("DataURLVideoThumbnail"))(p,k);c("ComposerVideoUploadActions").updateThumbnailFromSphericalPreview(this.context.composerID,u);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").CREATE_THUMBNAIL).log()}.bind(this)})},_onLoadVideoSuccess:function n(o){c("ComposerVideoUploadSphericalStore").addChangeListener(function(p){var q=p.composerID;if(q!=this.context.composerID)return;if(!c("ComposerVideoUploadSphericalStore").getTabVisibility(q))o.pause()}.bind(this));c("ComposerVideoUploadSphericalAction").setVideoPlayerController(this.context.composerID,o)},_onLoadVideoError:function n(){c("ComposerVideoUploadSphericalAction").setVideoUnavailable(this.context.composerID,true)},_onPitchUpdate:function n(o){this._onViewportUpdate(this.state.yaw,o)},_onYawUpdate:function n(o){this._onViewportUpdate(o,this.state.pitch)},_onViewportUpdate:function n(o,p){o=Math.round(o);p=Math.round(p);c("ComposerVideoUploadSphericalAction").updateCurrentViewport(this.context.composerID,p,o);c("VideoUploadSphericalLogger").setPitchDegrees(p).setYawDegrees(o).setUserAction(c("VideoUploadSphericalControlsAction").DRAG_VIDEO_PREVIEW).log()},_onFOVUpdate:function n(o){c("ComposerVideoUploadSphericalAction").updateFOV(this.context.composerID,o);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").SCROLL_VIDEO_PREVIEW).setFieldOfView(o).log()},_onProjectionSelected:function n(o){c("ComposerVideoUploadSphericalAction").updateProjection(this.context.composerID,o)},_onStereoModeSelected:function n(o){c("ComposerVideoUploadSphericalAction").updateStereoMode(this.context.composerID,o)},_onToggleSpatialAudio:function n(){c("ComposerVideoUploadSphericalAction").updateHasSpatialAudio(this.context.composerID,!this.state.hasSpatialAudio)},_updateActiveGuideKeyframe:function n(o){c("ComposerVideoUploadSphericalAction").updateActiveGuideKeyframe(this.context.composerID,o)},_updateToggleGuideKeyframeForDeletion:function n(o){c("ComposerVideoUploadSphericalAction").updateToggleGuideKeyframeForDeletion(this.context.composerID,o)},_addOrSavePointOfInterest:function n(o,p,q,r){var s=this.context.composerID,t=new(c("ComposerVideoUploadSphericalGuideKeyframeData"))({timestamp:o,yaw:Math.round(q),pitch:Math.round(p),thumbnailURI:r,isSelected:true});if(this.state.isEditingKeyframe)c("ComposerVideoUploadSphericalAction").updateSaveGuideKeyframe(s,t);else c("ComposerVideoUploadSphericalAction").updateAddGuideKeyframe(s,t)},_onPointOfInterestAddedOrSaved:function n(o,p,q,r){var s,t=this,u=r();if(u)(function(){var v=c("DOM").create("img",{src:u,onload:function(){var w=v.width,x=v.height,y=(w-l*x)/2;u=c("cropDataURLToDimension")(v,{x:y,y:0},{width:x*l,height:x});this._addOrSavePointOfInterest(o,p,q,u)}.bind(t)})})();else this._addOrSavePointOfInterest(o,p,q)},_onPointsOfInterestRemoved:function n(){var o=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateDeleteSelectedGuideKeyframes(o);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()},_onPointOfInterestRemoved:function n(o){var p=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateRemoveGuideKeyframe(p,o);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()},_onPointOfInterestsCleared:function n(){var o=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateClearGuideKeyframes(o)},_togglePointOfInterestEdit:function n(o){var p=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateIsEditingPointOfInterest(p,o)},_onGuideStateUpdate:function n(o){c("ComposerVideoUploadSphericalAction").updateGuideEnabled(this.context.composerID,o)},_onGuideVisibilityUpdate:function n(o){c("ComposerVideoUploadSphericalAction").updateGuideVisibility(this.context.composerID,o)},_onCollapsableHeaderClick:function n(o){c("ComposerVideoUploadSphericalAction").updateSectionStatus(this.context.composerID,o)},_onToggleEnableOmnistab:function n(event){c("ComposerVideoUploadSphericalAction").updateEnableOmnistab(this.context.composerID,!this.state.enableOmnistab)},_onHotspotAdded:function n(o,p){var q=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateAddHotspot(q,o,p)},_onHotspotDeleted:function n(o){var p=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateDeleteHotspot(p,o)}});f.exports=m}),null);
__d("ModernWatchQueueFollowedShowTapMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"WatchQueueFollowedShowTapData!",defaultValue:null}],j=[{kind:"LinkedField",alias:null,name:"watch_queue_followed_show_tap",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"WatchQueueFollowedShowTapData!"}],concreteType:"WatchQueueFollowedShowTapResponsePayload",plural:false,selections:[{kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"mutation",name:"ModernWatchQueueFollowedShowTapMutation",id:"1431198360290030",text:null,metadata:{},fragment:{kind:"Fragment",name:"ModernWatchQueueFollowedShowTapMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:j},operation:{kind:"Operation",name:"ModernWatchQueueFollowedShowTapMutation",argumentDefinitions:i,selections:j}}}();f.exports=h}),null);
__d("ModernWatchQueueFollowedShowTapMutation",["RelayModern","ModernWatchQueueFollowedShowTapMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("ModernWatchQueueFollowedShowTapMutation.graphql")};function k(l,m,n){return h(l,{mutation:j,variables:{input:{actor_id:m.actorID,page_id:m.pageID}},onCompleted:n&&n.onCompleted,onError:n&&n.onError})}f.exports={commit:k}}),null);
__d("PagesCoverVideoTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:PagesCoverVideoLoggerConfig",this.$PagesCoverVideoTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:PagesCoverVideoLoggerConfig",this.$PagesCoverVideoTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:PagesCoverVideoLoggerConfig",this.$PagesCoverVideoTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$PagesCoverVideoTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$PagesCoverVideoTypedLogger1)};h.prototype.updateData=function(j){this.$PagesCoverVideoTypedLogger1=babelHelpers["extends"]({},this.$PagesCoverVideoTypedLogger1,j);return this};h.prototype.setIsFinished=function(j){this.$PagesCoverVideoTypedLogger1.is_finished=j;return this};h.prototype.setPageID=function(j){this.$PagesCoverVideoTypedLogger1.page_id=j;return this};h.prototype.setProgress=function(j){this.$PagesCoverVideoTypedLogger1.progress=j;return this};h.prototype.setStage=function(j){this.$PagesCoverVideoTypedLogger1.stage=j;return this};h.prototype.setType=function(j){this.$PagesCoverVideoTypedLogger1.type=j;return this};h.prototype.setVideoContainerType=function(j){this.$PagesCoverVideoTypedLogger1.video_container_type=j;return this};h.prototype.setVideoID=function(j){this.$PagesCoverVideoTypedLogger1.video_id=j;return this};h.prototype.setVideoStatus=function(j){this.$PagesCoverVideoTypedLogger1.video_status=j;return this};var i={is_finished:true,page_id:true,progress:true,stage:true,type:true,video_container_type:true,video_id:true,video_status:true};f.exports=h}),null);
__d("PageActionURLHandlerType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ASYNC_DIALOG:"async-dialog",ASYNC_POST:"async-post",DIALOG:"dialog",DIALOG_POST:"dialog-post",LINK_OUT:"link-out"})}),null);
__d("PageActionBarActionSelector.react",["ix","fbt","ContextualDialogArrow","Image.react","PageActionURLHandlerType","PopoverMenu.react","React","ReactXUIMenu","URI","XUIButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("ReactXUIMenu").Item,k=function k(m){return c("React").createElement(c("ReactXUIMenu"),null,m.actions.map(function(n){if(!n.url||!n.label||!n.label.text)return null;var o=c("PageActionURLHandlerType")[n.url_handler_type]||null,p=n.url;if(o==="async-dialog"||o==="async-post"||o==="dialog")p=new(c("URI"))(n.url).getUnqualifiedURI().toString();return c("React").createElement(j,{href:p,key:n.label.text,rel:o},n.label.text)}))},l=function l(m){if(m.actions.length==0)return null;return c("React").createElement(c("PopoverMenu.react"),{alignh:"right",layerBehaviors:[c("ContextualDialogArrow")],menu:k(m)},c("React").createElement(c("XUIButton.react"),{haschevron:false,image:c("React").createElement(c("Image.react"),{src:h("127000")}),label:i._("More"),labelIsHidden:true,size:"large"}))};f.exports=l}),null);
__d("PageActionContainer.react",["invariant","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.action.ReactComponent;if(!k)return null;return c("React").createElement(k,j)};f.exports=i}),null);
__d("XLoggedOutInlineLoginDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/logged_out_inline_modal/content/",{redirect_uri:{type:"String"}})}),null);
__d("PageActionInlineLoginWrapper.react",["AsyncRequest","React","XLoggedOutInlineLoginDialogController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={loginPromptCreated:false},this.$PageActionInlineLoginWrapper2=function(p){if(this.props.loggedOutSEOEnabled){p.stopPropagation();this.$PageActionInlineLoginWrapper3()}}.bind(this),l}j.prototype.$PageActionInlineLoginWrapper3=function(){if(this.$PageActionInlineLoginWrapper1)this.$PageActionInlineLoginWrapper4(this.$PageActionInlineLoginWrapper1)};j.prototype.$PageActionInlineLoginWrapper4=function(k){if(!this.state.loginPromptCreated){this.$PageActionInlineLoginWrapper5(k);this.setState({loginPromptCreated:true})}};j.prototype.$PageActionInlineLoginWrapper5=function(k){var l=c("XLoggedOutInlineLoginDialogController").getURIBuilder().setString("redirect_uri",this.props.next).getURI();new(c("AsyncRequest"))().setURI(l).setMethod("POST").setRelativeTo(k).send()};j.prototype.render=function(){return c("React").createElement("div",{onClickCapture:this.$PageActionInlineLoginWrapper2,ref:function(k){return this.$PageActionInlineLoginWrapper1=k}.bind(this)},this.props.children)};f.exports=j}),null);
__d("PageActionOpenURLAsyncDialog.react",["cx","AsyncDialog","AsyncRequest","React","URI","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.action,l=k.label,m=k.url,n=k.hideButtonText;if(l===null||m===null)return null;return c("React").createElement(c("XUIButton.react"),{className:"_rfh",image:j.image,label:l.text,labelIsHidden:n,onClick:function o(){return c("AsyncDialog").send(new(c("AsyncRequest"))(new(c("URI"))(m).getUnqualifiedURI()))},size:j.size})};f.exports=i}),null);
__d("PageActionOpenURLAsyncPost.react",["cx","AsyncRequest","React","URI","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.action,l=k.label,m=k.url;if(l===null||m===null)return null;return c("React").createElement(c("XUIButton.react"),{className:"_rfh",image:j.image,label:l.text,onClick:function n(){return new(c("AsyncRequest"))(new(c("URI"))(m).getUnqualifiedURI()).send()},size:j.size})};f.exports=i}),null);
__d("PageActionOpenURLLinkOut.react",["cx","React","Tooltip","XUIButton.react","goURI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=14,j=function j(k){var l=k.action,m=l.label,n=l.url;if(m===null||n===null)return null;var o=c("React").createElement(c("XUIButton.react"),{className:"_rfh",image:k.image,label:m.text,onClick:function p(){return c("goURI")(n)},size:k.size});if(m.text.length>=i)o=c("React").cloneElement(o,c("Tooltip").propsFor(m.text));return o};f.exports=j}),null);
__d("PageCTAAction.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){var j=i.ReactComponent,k=i.call_to_action,l=i.cta_config,m=i.foodAndDrinkLoggingParams,n=i.should_auto_open,o=i.surface;return c("React").createElement(j,babelHelpers["extends"]({},i,{cta:{id:k?k.id:null,label:l&&l.label||k&&k.label||null,type:l&&l.cta_type||k&&k.cta_type||null},extraProps:{foodAndDrinkLoggingParams:m,shouldAutoOpen:Boolean(n)},page:{id:i.page.id},surface:o}))};f.exports=h}),null);
__d("PagesMessengerLinkConfirmationDialog.react",["ix","cx","fbt","Image.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=494;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{shown:this.props.shown,onToggle:function(o){return!o&&this.props.onDismiss}.bind(this),width:m},c("React").createElement(c("XUIDialogBody.react"),{className:"_3-95 _3pa-"},c("React").createElement(c("Image.react"),{className:"_3-97 _3-8x",src:"/images/pages/linkshare/checkmark.png"}),c("React").createElement(c("XUIText.react"),{size:"header3",display:"block"},j._("The Messenger Link was copied.")),c("React").createElement(c("XUIText.react"),{className:"_3-8y",display:"block",size:"header4"},j._("The Messenger Link was copied to your clipboard. Any person who clicks this link will be able to initiate a conversation with your Page."))),c("React").createElement(c("XUIDialogFooter.react"),{className:"_3pa_",fullbleedborder:"true",leftContent:c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_1-vn _3-8_",src:h("126379")}),c("React").createElement(c("XUIGrayText.react"),null,this.props.url))},c("React").createElement(c("XUIDialogButton.react"),{use:"confirm",label:j._("Done"),onClick:this.props.onDismiss})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("XPagesOnlineIndicatorAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/messaging/show_online_indicator/",{page_id:{type:"FBID",required:true}})}),null);
__d("PagesMessageButton.react",["cx","fbt","ix","AsyncRequest","ChatOpenTabEventLogger","Clipboard","ContextualDialogArrow","ContextualLayerUpdateOnScroll","FantaTabActions","Image.react","InlineBlock.react","MenuSeparator.react","MercuryIDs","MessagingSourceEnum","PagesBlueMessageButtonQE","PagesEventObserver","PagesEventType","PagesMessengerLinkConfirmationDialog.react","PopoverMenu.react","PopoverMenuShowOnHover","React","ReactXUIMenu","XBasicFBNuxDismissController","XPagesOnlineIndicatorAsyncController","XUIAmbientNUX.react","XUIButton.react","XUIPopoverButton.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item,n=3997,o=j("114247"),p=j("127062");k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(r){__p&&__p();l.constructor.call(this,r);this.$PagesMessageButton1=function(event){var s=this.props.pageID,t=c("MercuryIDs").getThreadIDFromUserID(s);c("FantaTabActions").openTab(t,[this.props.settings.ref]);c("ChatOpenTabEventLogger").logUserClickOpen(this.props.settings.ref,s)}.bind(this);this.$PagesMessageButton6=function(event){var s=this.props.settings.adminSettings&&this.props.settings.adminSettings.messengerLinkURI;if(!s)return;c("Clipboard").copy(s);this.setState({linkDialogShown:true});c("PagesEventObserver").notify(c("PagesEventType").SHARED_MESSAGE_LINK_COPY,this.props.pageID,{source:c("MessagingSourceEnum").PAGES_MESSAGE_SHORTLINK})}.bind(this);this.$PagesMessageButton7=function(){this.setState({linkDialogShown:false})}.bind(this);this.$PagesMessageButton9=function(){this.setState({nuxDismissed:true})}.bind(this);this.$PagesMessageButton10=function(){this.setState({messengerLinkNUXDismissed:true});var s=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",n).getURI();new(c("AsyncRequest"))().setURI(s).send()}.bind(this);this.state={isOnline:false,linkDialogShown:false,messengerLinkNUXDismissed:false,nuxDismissed:false}}q.prototype.UNSAFE_componentWillMount=function(){var r=c("XPagesOnlineIndicatorAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI();new(c("AsyncRequest"))().setURI(r).setHandler(function(s){var t=s.payload;this.setState({isOnline:t.showOnlneIndicator})}.bind(this)).send()};q.getButtonSize=function(r){return c("XUIButton.react").getButtonSize(r)};q.prototype.componentDidMount=function(){c("PagesEventObserver").notify(c("PagesEventType").MESSAGES_BUTTON_RENDER,this.props.pageID,{source:"refresh",logged_out:!this.props.settings.isLoggedIn,ref:this.props.settings.ref})};q.prototype.render=function(){__p&&__p();if(!this.props.settings.isLoggedIn)return null;var r=false;if(c("PagesBlueMessageButtonQE").showBlueSecondaryButton)r=true;var s=i._("Message");if(!this.props.settings.adminSettings)if(this.props.className)s=i._("Send Message");else if(this.props.settings.label)s=i._("{settings_label}",[i._param("settings_label",this.props.settings.label)]);var t=this.props.settings.adminSettings?c("React").createElement(c("XUIPopoverButton.react"),{className:c("joinClasses")(this.props.className,"_p8f"),image:c("React").createElement(c("Image.react"),{src:p}),label:s,onClick:this.$PagesMessageButton1,ref:"messageButton",size:this.props.size,"data-testid":"page-message-button"}):c("React").createElement(c("XUIButton.react"),{className:c("joinClasses")(this.props.className,"_p8f"),image:r?c("React").createElement(c("Image.react"),{src:this.props.className?null:o}):c("React").createElement(c("Image.react"),{src:this.props.className?null:p}),imageRight:this.$PagesMessageButton2(),label:s,onClick:this.$PagesMessageButton1,ref:"messageButton",size:this.props.size,use:r?"confirm":"default","data-testid":"page-message-button"});if(this.props.settings.adminSettings)t=c("React").createElement(c("PopoverMenu.react"),{className:c("joinClasses")(this.props.className,"_3u42"),alignh:"right",menu:this.$PagesMessageButton3(),behaviors:[c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")]},t,this.$PagesMessageButton4());return c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_3u43 _p8r"},t,this.$PagesMessageButton5())};q.prototype.$PagesMessageButton2=function(){if(!this.state.isOnline)return null;return c("React").createElement("span",{className:"_ljx"},c("React").createElement(c("Image.react"),{src:j("311942")}))};q.prototype.$PagesMessageButton3=function(){if(!this.props.settings.adminSettings)return null;var r=null;if(this.props.settings.adminSettings.messengerLinkURI)r=c("React").createElement(m,{onclick:this.$PagesMessageButton6},i._("Copy Messenger Link"));return c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(m,{href:this.props.settings.adminSettings.inboxURI},i._("View Messages")),this.props.settings.adminSettings.messengerLinkURI?c("React").createElement(c("MenuSeparator.react"),null):null,r)};q.prototype.$PagesMessageButton4=function(){var r=this.props.settings.adminSettings&&this.props.settings.adminSettings.messengerLinkURI;if(!r)return null;return c("React").createElement(c("PagesMessengerLinkConfirmationDialog.react"),{onDismiss:this.$PagesMessageButton7,shown:this.state.linkDialogShown,url:r})};q.prototype.$PagesMessageButton5=function(){if(this.props.settings.adminSettings&&this.props.settings.adminSettings.showMessengerLinkNUX)return this.$PagesMessageButton8();if(!this.props.settings.showNUX)return null;var r=this.props.pageCategory==="WORKPLACE_BOT"?i._("Send a message to this Bot."):i._("Send a message to this Page.");return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"center",behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.messageButton}.bind(this),onCloseButtonClick:this.$PagesMessageButton9,position:"below",shown:!this.state.nuxDismissed,width:"auto"},r)};q.prototype.$PagesMessageButton8=function(){if(!this.props.settings.adminSettings||!this.props.settings.adminSettings.showMessengerLinkNUX)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"right",autofocus:false,behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.messageButton}.bind(this),onCloseButtonClick:this.$PagesMessageButton10,position:"below",shown:!this.state.messengerLinkNUXDismissed,width:"wide"},i._("Now you can share a direct link that makes it easy for people to message your Page."))};f.exports=q}),null);
__d("PageMessageAction.react",["MessengerDiscoveryEntryPoint","PagesMessageButton.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.action;return c("React").createElement(c("PagesMessageButton.react"),{className:this.props.className,icon:this.props.icon,pageID:k.page.id,pageCategory:k.page.category_type,settings:{adminSettings:k.admin_inbox_url?{inboxURI:k.admin_inbox_url,messengerLinkURI:k.admin_messenger_link_url,showMessengerLinkNUX:k.admin_show_messenger_link_nux}:null,isLoggedIn:true,ref:c("MessengerDiscoveryEntryPoint").FB_PAGE_SECONDARY_MESSAGE_BUTTON,showNUX:k.show_nux,label:k.label.text},size:this.props.size})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("PageReviewAction.react",["ix","Image.react","PageActionOpenURLAsyncDialog.react","React","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement(c("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},j,{image:c("React").createElement(c("Image.react"),{src:h("128414")})}))};f.exports=i}),null);
__d("PageSharePageAction.react",["ix","Image.react","PageActionOpenURLAsyncDialog.react","React","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement(c("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},j,{image:c("React").createElement(c("Image.react"),{src:h("128367")})}))};f.exports=i}),null);
__d("PageSimpleActionWithURL.react",["Image.react","PageActionOpenURLAsyncDialog.react","PageActionOpenURLAsyncPost.react","PageActionOpenURLLinkOut.react","React","idx"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){var j,k,l=(j=i)!=null?(j=j.action)!=null?j.url_handler_type:j:j,m=(k=i)!=null?(k=k.action)!=null?(k=k.icon)!=null?(k=k.icon_image)!=null?k.uri:k:k:k:k,n=m?c("React").createElement(c("Image.react"),{height:16,width:16,src:m}):null;switch(l){case"ASYNC_DIALOG":return c("React").createElement(c("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},i,{image:n}));case"ASYNC_POST":return c("React").createElement(c("PageActionOpenURLAsyncPost.react"),babelHelpers["extends"]({},i,{image:n}));default:return c("React").createElement(c("PageActionOpenURLLinkOut.react"),babelHelpers["extends"]({},i,{image:n}))}};f.exports=h}),null);
__d("PagesHeaderFollowButton.react",["ix","cx","fbt","BasicFBNux","ContextualDialogArrow","Image.react","Link.react","PageGetNotificationUtil","PagesButton.react","PagesLikeFollowHelper","PagesProfileTestID","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","ProfileSubFollowStatus","React","ReactXUIMenu","SnoozedProfileTypedLogger","XUIAmbientNUX.react","XUIButton.react","XUIMenuSeparator.react","XUIPopoverButton.react","XUIText.react","asset","fbglyph","gkx","uuid"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").SelectableMenu,n=c("ReactXUIMenu").Item,o=4225,p=5571;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.$PagesHeaderFollowButton8=function(){if(this.props.snoozeStatus)new(c("SnoozedProfileTypedLogger"))().setEvent("cancel_end_snooze").setItemObjID(this.props.pageID).setSessionID(this.$PagesHeaderFollowButton1).log()}.bind(this),this.$PagesHeaderFollowButton9=function(event){if(c("gkx")("AT6MZ5ZRlgEf2bedgEASGvEyincZq_XgZfJwcwy3igqhf5fj66SPxd6pMonVxdKGDaP3Od_7h5-NJvaBAZG_FXVSf_YksT8mBoQ9IjuJhoInkw"))c("PagesLikeFollowHelper").onFollowChangeWithTrackingData(event.target,this.props.pageID,true,this.props.followLocation);else c("PagesLikeFollowHelper").onFollowChange(this.props.pageID,true,this.props.followLocation);if(this.props.shouldShowFollowPrivacyNux){this.setState({privacyNuxShown:true});c("BasicFBNux").onView(o)}}.bind(this),this.$PagesHeaderFollowButton11=function(event){if(c("gkx")("AT6MZ5ZRlgEf2bedgEASGvEyincZq_XgZfJwcwy3igqhf5fj66SPxd6pMonVxdKGDaP3Od_7h5-NJvaBAZG_FXVSf_YksT8mBoQ9IjuJhoInkw"))c("PagesLikeFollowHelper").onFollowChangeWithTrackingData(event.target,this.props.pageID,false,this.props.followLocation);else c("PagesLikeFollowHelper").onFollowChange(this.props.pageID,false,this.props.followLocation)}.bind(this),s}q.getButtonSize=function(r){return c("XUIButton.react").getButtonSize(r)};q.prototype.UNSAFE_componentWillMount=function(){this.$PagesHeaderFollowButton1=c("uuid")();if(this.props.shouldShowFollowButtonNux===true)c("BasicFBNux").onView(p);this.setState({privacyNuxShown:false,followButtonNuxShown:this.props.shouldShowFollowButtonNux})};q.prototype.componentWillUnmount=function(){this.$PagesHeaderFollowButton1=null};q.prototype.render=function(){__p&&__p();if(!this.props.followAllowed)return null;var r=void 0,s=void 0;if(this.props.snoozeStatus){r=this.$PagesHeaderFollowButton2();s=this.$PagesHeaderFollowButton3();new(c("SnoozedProfileTypedLogger"))().setEvent("profile_visit").setItemObjID(this.props.pageID).setSessionID(this.$PagesHeaderFollowButton1).log()}else{if(!this.props.followStatus)return this.$PagesHeaderFollowButton4();else if(this.props.disableDropdown)return this.$PagesHeaderFollowButton5();r=this.$PagesHeaderFollowButton6();s=this.$PagesHeaderFollowButton7()}var t=c("React").createElement(c("PopoverMenu.react"),{alignh:"right",behaviors:[c("PopoverMenuOverlappingBorder"),c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")],menu:c("React").createElement(m,{className:"_4bje"+(this.props.snoozeStatus?" _3qn5":""),multiple:true},s),onHide:this.$PagesHeaderFollowButton8},r);if(this.props.asPrimaryButton==="true")return c("React").createElement("div",{className:"_6534"},t);return t};q.prototype.$PagesHeaderFollowButton4=function(){if(this.props.blueFollowButton)return c("React").createElement(c("PagesButton.react"),{color:"fbblue",image:c("React").createElement(c("Image.react"),{className:"ctaButtonIcon",src:h("114929")}),label:c("React").createElement("span",{className:"blueButtonLabel"},j._("Follow")),onClick:this.$PagesHeaderFollowButton9});if(this.props.asPrimaryButton==="true")return c("React").createElement("span",{className:"_6534 uiContextualLayerParent"},c("React").createElement(c("XUIButton.react"),{"data-testid":this.props.origin+c("PagesProfileTestID").FOLLOW_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("114929")}),label:j._("Follow"),onClick:this.$PagesHeaderFollowButton9,ref:"followButton",size:"large",use:"confirm"}),this.$PagesHeaderFollowButton10());return c("React").createElement(c("XUIButton.react"),{"data-testid":this.props.origin+c("PagesProfileTestID").FOLLOW_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("127712")}),label:j._("Follow"),onClick:this.$PagesHeaderFollowButton9,size:this.props.size})};q.prototype.$PagesHeaderFollowButton5=function(){if(this.props.blueFollowButton)return c("React").createElement(c("PagesButton.react"),{color:"fbblue",image:c("React").createElement(c("Image.react"),{className:"ctaButtonIcon",src:h("114932")}),label:c("React").createElement("span",{className:"blueButtonLabel"},j._("Following")),onClick:this.$PagesHeaderFollowButton11});return c("React").createElement(c("XUIButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("116498")}),label:j._("Following"),onClick:this.$PagesHeaderFollowButton11,size:this.props.size})};q.prototype.$PagesHeaderFollowButton6=function(){if(this.props.asPrimaryButton==="true")return c("React").createElement("div",null,c("React").createElement(c("XUIPopoverButton.react"),{"data-testid":this.props.origin+c("PagesProfileTestID").FOLLOWED_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("116533")}),label:j._("Following"),ref:"followedButton",size:"large"}),this.renderLayers());return c("React").createElement("div",null,c("React").createElement(c("XUIPopoverButton.react"),{"data-testid":this.props.origin+c("PagesProfileTestID").FOLLOWED_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("116498")}),label:j._("Following"),ref:"followedButton",size:this.props.size}),this.renderLayers())};q.prototype.$PagesHeaderFollowButton2=function(){return c("React").createElement("div",null,c("React").createElement(c("XUIPopoverButton.react"),{className:this.props.origin==="hovercard"?"_29kr":"",image:c("React").createElement(c("Image.react"),{src:h("396312")}),label:(this.props.snoozeData||{}).stateText,ref:"snoozedButton",size:this.props.size}))};q.prototype.renderLayers=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.followedButton}.bind(this),shown:this.state.privacyNuxShown,position:"right",onCloseButtonClick:function(){return this.$PagesHeaderFollowButton12()}.bind(this),key:"ambientNUX"},j._("You can control who can see the people, Pages, and lists you follow {hyperlink for help center}.",[j._param("hyperlink for help center",c("React").createElement(c("Link.react"),{href:"/ajax/timeline/friends/edit_dialog.php",rel:"dialog"},j._("here")))]))};q.prototype.$PagesHeaderFollowButton12=function(){this.setState({privacyNuxShown:false});c("BasicFBNux").onDismiss(o)};q.prototype.$PagesHeaderFollowButton10=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.followButton}.bind(this),onCloseButtonClick:function(){return this.$PagesHeaderFollowButton13()}.bind(this),position:"below",shown:this.state.followButtonNuxShown,key:"ambientNUX"},c("React").createElement(c("Image.react"),{className:"_2tv4",src:h("418478")}),c("React").createElement("div",{className:"_2tv5"},j._("Follow this show to get new episodes in your watchlist on Facebook Watch.")))};q.prototype.$PagesHeaderFollowButton13=function(){this.setState({followButtonNuxShown:false});c("BasicFBNux").onDismiss(p)};q.prototype.$PagesHeaderFollowButton3=function(){return[c("React").createElement(n,{className:"_10it",key:"Unsnooze."+this.props.pageID,onclick:function(){c("PagesLikeFollowHelper").onSnoozeChange(this.props.pageID,false);new(c("SnoozedProfileTypedLogger"))().setEvent("end_snooze").setItemObjID(this.props.pageID).setSessionID(this.$PagesHeaderFollowButton1).log()}.bind(this)},c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},(this.props.snoozeData||{}).actionText),c("React").createElement(c("XUIText.react"),{size:"meta1",className:"_34kz"},(this.props.snoozeData||{}).timeLeftText))]};q.prototype.$PagesHeaderFollowButton7=function(){var r=c("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);return[c("React").createElement(n,{"data-testid":c("PagesProfileTestID").UNFOLLOW_PAGE_ITEM,key:"Unfollow."+this.props.pageID,onclick:this.$PagesHeaderFollowButton11},j._("Unfollow this Page")),c("React").createElement(c("XUIMenuSeparator.react"),{key:"follow_seperator"}),c("PagesLikeFollowHelper").newsfeedTitleMenuItem(this.props.pageID),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").SEE_FIRST,this.props.newsFeedStatus),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").REGULAR_FOLLOW,this.props.newsFeedStatus),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").UNFOLLOW,this.props.newsFeedStatus),c("PagesLikeFollowHelper").notificationTitleMenuItem(this.props.pageID),c("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,true,r,this.props.notifStatus),c("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,false,!r,this.props.notifStatus)]};f.exports=q}),null);
__d("PagesHeaderFollowButtonContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderFollowButton.react","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","PagesLikeStore","PagesSnoozeStore","React","XUIButton.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getButtonSize=function(k){return c("XUIButton.react").getButtonSize(k)};j.getStores=function(){return[c("PagesLikeStore"),c("PagesFollowStore"),c("PagesSnoozeStore"),c("PageNewsFeedStore"),c("PagesGetNotificationStore")]};j.calculateState=function(k,l){var m=c("PagesLikeStore").getState(),n=c("PagesFollowStore").getState(),o=c("PagesSnoozeStore").getState()[l.pageID]||{},p=c("PagesGetNotificationStore").getState(),q=c("PageNewsFeedStore").getState(),r={pageID:l.pageID,pageName:l.pageName,actorID:l.actorID,followAllowed:l.followAllowed,followLocation:l.followLocation,newsFeedStatus:q[l.pageID],disableDropdown:l.disableDropdown,shouldShowFollowPrivacyNux:l.shouldShowFollowPrivacyNux,likeStatus:m[l.pageID],followStatus:n[l.pageID],snoozeStatus:o.status,snoozeData:o.data,notifStatus:babelHelpers["extends"]({},p[l.pageID]),origin:l.origin,size:l.size,showUnpublishPageDialog:l.showUnpublishPageDialog,blueFollowButton:l.blueFollowButton,asPrimaryButton:l.asPrimaryButton,shouldShowFollowButtonNux:l.shouldShowFollowButtonNux};return r};j.prototype.UNSAFE_componentWillMount=function(){c("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([c("PagesLikeStore"),c("PagesFollowStore"),c("PagesSnoozeStore"),c("PageNewsFeedStore"),c("PagesGetNotificationStore")]);c("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:c("PagesLikeFollowNotifActions").INIT_DATA})};j.prototype.render=function(){return c("React").createElement(c("PagesHeaderFollowButton.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("PageLiveVideoNotifSettingType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EXPLICIT:"on",INFERRED:"inferred",UNSUBSCRIBE:"off"})}),null);
__d("PagesHeaderGamesNotificationButton.react",["ix","cssVar","cx","fbt","ContextualDialogArrow","Image.react","PageGetNotificationUtil","PageLikeButton","PageLiveVideoNotifSettingType","PagesLikeFollowHelper","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","ProfileSubFollowStatus","React","ReactXUIMenu","XUIButton.react","XUIMenuSeparator.react","XUIPopoverButton.react","asset"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("ReactXUIMenu").SelectableMenu,o=c("ReactXUIMenu").Item;function p(s){return c("React").createElement(c("XUIButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("489200")}),label:"",labelIsHidden:true,onClick:s.onFollowClick,size:"large",style:{backgroundColor:"#3578E5"}})}function q(){return c("React").createElement(c("XUIPopoverButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("494382")}),size:"large"})}l=babelHelpers.inherits(r,c("React").PureComponent);m=l&&l.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=m.constructor).call.apply(s,[this].concat(v)),this.$PagesHeaderGamesNotificationButton1=function(event){c("PageLikeButton").doLikeAction(event.target,this.props.pageID,this.props.origin,this.props.actorID);c("PagesLikeFollowNotifDispatcher").dispatch({data:{pageID:this.props.pageID,state:c("PageLiveVideoNotifSettingType").EXPLICIT,type:"live_video"},type:c("PagesLikeFollowNotifActions").NOTIF_CHANGE})}.bind(this),this.$PagesHeaderGamesNotificationButton2=function(event){c("PageLikeButton").doUnlikeAction(event,this.props.pageID,this.props.origin,this.props.actorID)}.bind(this),t}r.prototype.$PagesHeaderGamesNotificationButton3=function(){var s=c("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);return[c("React").createElement(o,{key:"Unfollow."+this.props.pageID,onclick:this.$PagesHeaderGamesNotificationButton2},k._("Stop Receiving Notifications")),c("React").createElement(c("XUIMenuSeparator.react"),{key:"follow_seperator"}),c("PagesLikeFollowHelper").newsfeedTitleMenuItem(this.props.pageID),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").SEE_FIRST,this.props.newsFeedStatus),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").REGULAR_FOLLOW,this.props.newsFeedStatus),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").UNFOLLOW,this.props.newsFeedStatus),c("PagesLikeFollowHelper").notificationTitleMenuItem(this.props.pageID),c("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,true,s,this.props.notifStatus),c("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,false,!s,this.props.notifStatus)]};r.prototype.render=function(){return this.props.isSubscribed?c("React").createElement(c("PopoverMenu.react"),{alignh:"right",behaviors:[c("PopoverMenuOverlappingBorder"),c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")],menu:c("React").createElement(n,{className:"_4bje",multiple:true},this.$PagesHeaderGamesNotificationButton3())},c("React").createElement(q,null)):c("React").createElement(p,{onFollowClick:this.$PagesHeaderGamesNotificationButton1})};f.exports=r}),null);
__d("PagesHeaderGamesNotificationContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderGamesNotificationButton.react","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","PagesLikeStore","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("PagesFollowStore"),c("PagesGetNotificationStore"),c("PagesLikeStore"),c("PageNewsFeedStore")]};j.calculateState=function(k,l){var m=c("PagesLikeStore").getState(),n=c("PagesFollowStore").getState();return{actorID:l.actorID,followLocation:l.followLocation,isSubscribed:m[l.pageID]||n[l.pageID],newsFeedStatus:c("PageNewsFeedStore").getState()[l.pageID],notifStatus:babelHelpers["extends"]({},c("PagesGetNotificationStore").getState()[l.pageID]),origin:l.origin,pageID:l.pageID}};j.prototype.UNSAFE_componentWillMount=function(){c("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([c("PagesFollowStore"),c("PagesGetNotificationStore"),c("PagesLikeStore"),c("PageNewsFeedStore")]);c("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:c("PagesLikeFollowNotifActions").INIT_DATA})};j.prototype.render=function(){return c("React").createElement(c("PagesHeaderGamesNotificationButton.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("PagesActionBarChannel.react",["cx","PageActionBarActionSelector.react","PageActionContainer.react","PageActionInlineLoginWrapper.react","PageCallToActionRef","PageCTAAction.react","PagesHeaderFollowButtonContainer.react","PagesHeaderGamesNotificationContainer.react","PagesHeaderLikeButtonContainer.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){return c("React").createElement("div",{className:"_51xa _5hgz"},j.customActionsData.slice(0,j.numberOfActionBarButtons).map(function(k,l){switch(k.__typename){case"PageLikeAction":return c("React").createElement(c("PagesHeaderLikeButtonContainer.react"),babelHelpers["extends"]({},j.likeFollowData,{hideButtonText:j.hideButtonText,key:k.__typename+l,size:"large"}));case"PageFollowAction":return c("React").createElement(c("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},j.likeFollowData,{asPrimaryButton:"false",key:k.__typename+l,size:"large"}));case"PageGetGamesNotificationAction":return c("React").createElement(c("PagesHeaderGamesNotificationContainer.react"),babelHelpers["extends"]({},j.likeFollowData,{key:k.__typename+l}));case"PageCTAAction":return c("React").createElement(c("PageCTAAction.react"),babelHelpers["extends"]({},k,{className:"_rfh",key:k.__typename+l,surface:c("PageCallToActionRef").PAGES_ACTION_BAR_CHANNEL}));default:k.hideButtonText=j.hideButtonText;return c("React").createElement(c("PageActionContainer.react"),{action:k,className:"_rfh _17q_",key:k.__typename+l,size:"large"})}}).map(function(k,l){return j.next&&j.loggedOutSEOEnabled?c("React").createElement(c("PageActionInlineLoginWrapper.react"),{key:l,loggedOutSEOEnabled:j.loggedOutSEOEnabled,next:j.next},k):k}),c("React").createElement(c("PageActionBarActionSelector.react"),{actions:j.customActionsData.slice(j.numberOfActionBarButtons)}))};f.exports=i}),null);
__d("PagesHeaderDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("PagesHeaderPayloadType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTIONS_UNIT_DATA:"actions_unit_data",COVER_PHOTO_CANCEL:"cover_photo_cancel",COVER_PHOTO_DATA:"cover_photo_data",COVER_VIDEO_DATA:"cover_video_data",COVER_VIDEO_UPLOAD_START:"cover_video_upload_start",COVER_VIDEO_UPLOAD_PROGRESSING:"cover_video_upload_progressing",COVER_VIDEO_UPLOAD_DONE:"cover_video_upload_done",COVER_VIDEO_ENCODE_PROGRESSING:"cover_video_encode_progressing",COVER_VIDEO_ENCODE_DONE:"cover_video_encode_done",COVER_VIDEO_PREVIEW:"cover_video_preview",COVER_VIDEO_PUBLISHING:"cover_video_publishing",COVER_VIDEO_PUBLISHED:"cover_video_published",COVER_VIDEO_CANCELLED:"cover_video_cancelled",PROFILE_PICTURE_DATA:"profile_picture_data"})}),null);
__d("PagesActionsUnitStore",["FluxReduceStore","PagesHeaderDispatcher","PagesHeaderPayloadType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return{callToAction:null,likeFollowData:null,messageData:null,moreMenuItemConfigs:[],pageID:"0",customActionsData:[],numberOfActionBarButtons:3,primaryFollowButtonInBar:false,hideButtonText:false}};j.prototype.reduce=function(k,l){switch(l.type){case c("PagesHeaderPayloadType").ACTIONS_UNIT_DATA:return babelHelpers["extends"]({},k,l.data)}return k};f.exports=new j(c("PagesHeaderDispatcher"))}),null);
__d("PagesActionBarChannelContainer.react",["FluxContainer","PagesActionBarChannel.react","PagesActionsUnitStore","PagesHeaderDispatcher","PagesHeaderFollowButtonContainer.react","PagesHeaderPayloadType","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("PagesActionsUnitStore")]};j.calculateState=function(){return c("PagesActionsUnitStore").getState()};j.prototype.UNSAFE_componentWillMount=function(){c("PagesHeaderDispatcher").explicitlyRegisterStore(c("PagesActionsUnitStore"));c("PagesHeaderDispatcher").dispatch({data:this.props,type:c("PagesHeaderPayloadType").ACTIONS_UNIT_DATA})};j.prototype.render=function(){return c("React").createElement("div",null,this.state.primaryFollowButtonInBar?c("React").createElement(c("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},this.state.likeFollowData,{asPrimaryButton:"true"})):null,c("React").createElement(c("PagesActionBarChannel.react"),this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("PagesCoverCameraButton.react",["cx","fbt","PageNuxIDEnum","PageNuxSurfaceEnum","PagesNuxFrameworkHelper","PagesProfileTestID","React","XUIAmbientNUX.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={showCoverSlideshowMenuOptionNux:false,showOnTourBadgeMenuOptionNux:false,cameraButtonRef:null},this.$PagesCoverCameraButton1=function(r){if(r===null)return;this.setState({cameraButtonRef:r})}.bind(this),this.$PagesCoverCameraButton2=function(){return this.state.cameraButtonRef}.bind(this),this.$PagesCoverCameraButton3=function(){if(this.state.showCoverSlideshowMenuOptionNux)c("PagesNuxFrameworkHelper").closeNux(c("PageNuxIDEnum").WWW_COVER_SLIDESHOW_MENU_OPTION_NUX,c("PageNuxSurfaceEnum").PAGE_TIMELINE);else if(this.state.showOnTourBadgeMenuOptionNux)c("PagesNuxFrameworkHelper").closeNux(c("PageNuxIDEnum").WWW_COVER_ON_TOUR_BADGE_MENU_OPTION_NUX,c("PageNuxSurfaceEnum").PAGE_TIMELINE);this.setState({showCoverSlideshowMenuOptionNux:false,showOnTourBadgeMenuOptionNux:false})}.bind(this),n}l.prototype.componentDidMount=function(){if(this.props.shouldShowCoverSlideshowMenuOptionNux)c("PagesNuxFrameworkHelper").registerNux(c("PageNuxIDEnum").WWW_COVER_SLIDESHOW_MENU_OPTION_NUX,c("PageNuxSurfaceEnum").PAGE_TIMELINE,function(){return this.setState({showCoverSlideshowMenuOptionNux:true})}.bind(this));else if(this.props.shouldshowOnTourBadgeMenuOptionNux)c("PagesNuxFrameworkHelper").registerNux(c("PageNuxIDEnum").WWW_COVER_ON_TOUR_BADGE_MENU_OPTION_NUX,c("PageNuxSurfaceEnum").PAGE_TIMELINE,function(){return this.setState({showOnTourBadgeMenuOptionNux:true})}.bind(this))};l.prototype.$PagesCoverCameraButton4=function(){if(this.state.showOnTourBadgeMenuOptionNux)return i._("Show Tour Info");return i._("New! Cover Slideshow")};l.prototype.$PagesCoverCameraButton5=function(){if(this.state.showOnTourBadgeMenuOptionNux)return i._("Add the name and dates of your tour on your Page's cover photo, video or slideshow.");return i._("Show people who visit your Page even more of what's important to you with a cover slideshow. Select Create Slideshow in the cover photo area to get started.")};l.prototype.render=function(){return c("React").createElement("div",{className:"_3oj-","data-testid":c("PagesProfileTestID").COVER_PHOTO_EDIT_MENU,ref:this.$PagesCoverCameraButton1},c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"center",contextRef:this.$PagesCoverCameraButton2,onCloseButtonClick:this.$PagesCoverCameraButton3,position:"right",shown:(this.state.showCoverSlideshowMenuOptionNux||this.state.showOnTourBadgeMenuOptionNux)&&!!this.state.cameraButtonRef,width:"normal"},c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold"},this.$PagesCoverCameraButton4()),this.$PagesCoverCameraButton5())),c("React").createElement("div",{className:"_3oj_"+(this.props.expanded?" _3ok0":"")},c("React").createElement("div",{className:"_3ok1"},c("React").createElement("div",{className:"_4eqf _4eqi"})),c("React").createElement("div",{className:"_3ok2"},c("React").createElement("span",{className:"_3ok3"},this.props.label))))};f.exports=l}),null);
__d("PagesCoverAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOADING:"loading",NEW_COVER_DATA:"new_cover_data",COVER_REMOVING:"cover_removing",PHOTO_UPLOADING:"photo_uploading",PHOTO_PREVIEWING:"photo_previewing",PHOTO_SAVING:"photo_saving",PHOTO_SAVED:"photo_saved",PHOTO_CANCEL:"photo_cancel",PHOTO_REMOVED:"photo_removed",VIDEO_START_UPLOAD:"video_start_upload",VIDEO_UPLOADING:"video_uploading",VIDEO_ENCODING:"video_encoding",VIDEO_PREVIEWING:"video_previewing",VIDEO_CHOOSING_THUMBNAIL:"video_choosing_thumbnail",VIDEO_PUBLISHING:"video_publishing",VIDEO_PUBLISHED:"video_published",VIDEO_CANCELLING:"video_cancelling",SLIDESHOW_EDIT:"slideshow_edit",SLIDESHOW_DISPLAY:"slideshow_display",SLIDESHOW_PHOTO_PREVIEWING:"slideshow_photo_previewing",SLIDESHOW_CHANGE_CAROUSEL_INDEX:"slideshow_change_carousel_index",SLIDESHOW_PHOTO_UPLOADING:"slideshow_photo_uploading",SLIDESHOW_ITEM_REPOSITIONED:"slideshow_item_repositioned",SLIDESHOW_PHOTO_REMOVED:"slideshow_photo_removed",SLIDESHOW_EDITING_CANCELLED:"slideshow_editing_cancelled",SLIDESHOW_SAVING:"slideshow_saving",SLIDESHOW_CHANGE_ORDER:"slideshow_change_order",SLIDESHOW_NUX_TOUR_ELEMENT_LOADED:"slideshow_nux_tour_element_loaded",SLIDESHOW_NUX_TOUR_FINISHED:"slideshow_nux_tour_finished",SLIDESHOW_TOGGLE_CONTENT_SWITCHER:"slideshow_toggle_content_switcher",SLIDESHOW_PREFILLED_PHOTO_LOADED:"slideshow_prefilled_photo_loaded",SLIDESHOW_CLICK_CANCEL_BUTTON:"slideshow_click_cancel_button",SLIDESHOW_EDITABLE_ITEM_LOADED:"slideshow_editable_item_loaded",LIVE_VIDEO_ENABLE:"live_video_enable",LIVE_VIDEO_DISABLE:"live_video_disable",ON_TOUR_BADGE_UPDATED:"on_tour_badge_updated"})}),null);
__d("EventTourBadgeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NO_TOUR:"no_tour",TOUR_BADGE_HIDDEN:"tour_badge_hidden",TOUR_BADGE_SHOWN:"tour_badge_shown"})}),null);
__d("PagesCoverDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("PagesCoverType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COVER_PHOTO:"cover_photo",COVER_SLIDESHOW:"cover_slideshow",COVER_TRAILER:"cover_trailer",COVER_VIDEO:"cover_video",COVER_LIVE_VIDEO:"cover_live_video",NO_COVER:"no_cover",LOADING:"loading"})}),null);
__d("PagesCoverCoreStore",["EventTourBadgeEnum","FluxReduceStore","PagesCoverAction","PagesCoverDispatcher","PagesCoverType","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return{canViewerEditProfile:false,currentCoverType:c("PagesCoverType").COVER_PHOTO,hasCoverSet:false,futureCoverType:null,shouldShowEditMenuForAdmins:true,shouldShowLoadingOverlay:false,eventTourBadgeInfo:{tourID:null,title:null,subtitle:null,eventTourBadgeStatus:c("EventTourBadgeEnum").NO_TOUR,shouldShowNux:false}}};j.prototype.getEventTourBadgeInfo=function(){return this.getState().eventTourBadgeInfo};j.prototype.reduce=function(k,l){__p&&__p();var m,n=null;switch(l.type){case c("PagesCoverAction").NEW_COVER_DATA:var o=(m=l.data)!=null?m.coreData:m;n=babelHelpers["extends"]({},o);break;case c("PagesCoverAction").PHOTO_SAVED:case c("PagesCoverAction").PHOTO_REMOVED:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:true});break;case c("PagesCoverAction").PHOTO_UPLOADING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,shouldShowLoadingOverlay:k.currentCoverType!==c("PagesCoverType").COVER_PHOTO});break;case c("PagesCoverAction").PHOTO_PREVIEWING:n=babelHelpers["extends"]({},k,{futureCoverType:k.currentCoverType!==c("PagesCoverType").COVER_PHOTO?c("PagesCoverType").COVER_PHOTO:null,shouldShowEditMenuForAdmins:false,shouldShowLoadingOverlay:false});break;case c("PagesCoverAction").PHOTO_SAVING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,currentCoverType:c("PagesCoverType").LOADING});break;case c("PagesCoverAction").VIDEO_START_UPLOAD:n=babelHelpers["extends"]({},k,{futureCoverType:c("PagesCoverType").COVER_VIDEO,shouldShowEditMenuForAdmins:false});break;case c("PagesCoverAction").VIDEO_UPLOADING:case c("PagesCoverAction").VIDEO_ENCODING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false});break;case c("PagesCoverAction").VIDEO_CHOOSING_THUMBNAIL:n=babelHelpers["extends"]({},k);break;case c("PagesCoverAction").VIDEO_PUBLISHING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,currentCoverType:c("PagesCoverType").LOADING});break;case c("PagesCoverAction").VIDEO_PREVIEWING:n=babelHelpers["extends"]({},k,{futureCoverType:c("PagesCoverType").COVER_VIDEO,shouldShowEditMenuForAdmins:false});break;case c("PagesCoverAction").PHOTO_CANCEL:case c("PagesCoverAction").VIDEO_CANCELLING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,shouldShowLoadingOverlay:true});break;case c("PagesCoverAction").VIDEO_PUBLISHED:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:true});break;case c("PagesCoverAction").SLIDESHOW_EDIT:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,futureCoverType:k.currentCoverType!==c("PagesCoverType").COVER_SLIDESHOW?c("PagesCoverType").COVER_SLIDESHOW:null});break;case c("PagesCoverAction").SLIDESHOW_DISPLAY:case c("PagesCoverAction").SLIDESHOW_EDITING_CANCELLED:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:true,futureCoverType:null});break;case c("PagesCoverAction").COVER_REMOVING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,shouldShowLoadingOverlay:true});break;case c("PagesCoverAction").ON_TOUR_BADGE_UPDATED:n=babelHelpers["extends"]({},k,{eventTourBadgeInfo:l.data,shouldShowLoadingOverlay:false});break;case c("PagesCoverAction").LOADING:n=babelHelpers["extends"]({},k,{shouldShowLoadingOverlay:true});break}return n||k};f.exports=new j(c("PagesCoverDispatcher"))}),null);
__d("XPagesCoverRemoveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_remove/",{})}),null);
__d("PagesCoverRemoveCoverConfirmationDialog.react",["fbt","AsyncRequest","PagesCoverAction","PagesCoverDispatcher","PagesProfileTestID","React","XPagesCoverRemoveAsyncController","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=445;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$PagesCoverRemoveCoverConfirmationDialog1=function(){var s=c("XPagesCoverRemoveAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(s).setData({page_id:this.props.pageID}).send();this.props.onToggle(false);c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").COVER_REMOVING})}.bind(this),o}m.prototype.render=function(){if(!this.props.shown)return null;return c("React").createElement(c("XUIDialog.react"),{onToggle:this.props.onToggle,shown:true,width:l},c("React").createElement(c("XUIDialogTitle.react"),null,h._("Remove Cover?")),c("React").createElement(c("XUIDialogBody.react"),null,h._("Are you sure you want to remove this cover?")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogConfirmButton.react"),{"data-testid":c("PagesProfileTestID").COVER_PHOTO_REMOVE_CONFIRM_BUTTON,onClick:this.$PagesCoverRemoveCoverConfirmationDialog1,use:"confirm"})))};m.propTypes={coreData:k.object.isRequired,onToggle:k.func.isRequired,pageID:k.string.isRequired,shown:k.bool.isRequired};f.exports=m}),null);
__d("PagesCoverSlideshowActionCreator",["fbt","PagesCoverAction","PagesCoverDispatcher","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","SimpleXUIDialog","XUIDialogButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=-1,j={enterEditMode:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_EDIT});c("PagesLogger").log(l,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_edit"})},changeCurrentIndex:function k(l,m){if(i===m)return;c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_CHANGE_CAROUSEL_INDEX,data:{currentIndex:m}});c("PagesLogger").log(l,c("PagesLoggerEventEnum").SCROLL,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW);i=m},reorderSlideshowItems:function k(l,m,n){if(l!==m)c("PagesLogger").log(n,c("PagesLoggerEventEnum").DRAG,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"reorder_slideshow_items"});c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_CHANGE_ORDER,data:{fromIndex:l,toIndex:m}})},onPhotoUploading:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_PHOTO_UPLOADING,data:{uploadingIndex:l}})},onItemRepositioned:function k(l,m,n){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_ITEM_REPOSITIONED,data:{itemRepositionedIndex:n}})},onPhotoRemoved:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_PHOTO_REMOVED,data:{removedIndex:l}})},confirmCancel:function k(){c("SimpleXUIDialog").showEx(h._("If you go back, your changes won't be saved."),h._("Leave Slideshow?"),c("React").createElement("div",null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:h._("Leave Slideshow"),onClick:j.onEditingCancelled,use:"default"}),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:h._("Cancel"),use:"confirm"})))},onEditingCancelled:function k(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_EDITING_CANCELLED})},onSlideshowSaving:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_SAVING});c("PagesLogger").log(l,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_save"})},onNUXTourElementLoaded:function k(l,m,n,o){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_NUX_TOUR_ELEMENT_LOADED,data:{context:l,step:m,description:n,position:o}})},onNUXTourFinished:function k(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_NUX_TOUR_FINISHED})},toggleContentOptimizer:function k(l,m){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_TOGGLE_CONTENT_SWITCHER,data:m});c("PagesLogger").log(l,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_content_optimizer"})},loadPrefilledItems:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_PREFILLED_PHOTO_LOADED,data:{prefilledItems:l}})},loadEditableItems:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_EDITABLE_ITEM_LOADED,data:{editableItems:l}})}};f.exports=j}),null);
__d("XPagesCoverVideoDataController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_data/",{video_id:{type:"FBID",required:true},supports_html5_video:{type:"Bool",defaultValue:true},include_thumbnails:{type:"Bool",defaultValue:false}})}),null);
__d("CoverVideoUtil",["Promise","AsyncRequest","CoverVideoOffsetType","VideoData","XPagesCoverVideoDataController","isHTML5VideoImplementationUnavailable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={fetchCoverVideoData:function i(j){__p&&__p();var k=arguments.length<=1||arguments[1]===undefined?false:arguments[1];return new(c("Promise"))(function(l,m){var n=c("XPagesCoverVideoDataController").getURIBuilder().setFBID("video_id",j).setBool("supports_html5_video",!c("isHTML5VideoImplementationUnavailable")(true)).setBool("include_thumbnails",k).getURI();new(c("AsyncRequest"))(n).setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(o){var p=o.payload,q=p.offset_type,r=p.offset_value,s=p.playable_duration_in_sec,t=p.video_data,u=p.thumbnails,v=p.hasVisibleStatus,w=p.isStatusOK;if(q===c("CoverVideoOffsetType").VERTICAL||q===c("CoverVideoOffsetType").HORIZONTAL){var x=q===c("CoverVideoOffsetType").HORIZONTAL?"horizontal":"vertical";l({offsetType:x,offsetValue:r,playableDurationInSec:s,videoData:new(c("VideoData"))(t),thumbnails:u,hasVisibleStatus:v,isStatusOK:w})}else m(new Error("Cover video data are unavailable."))}).setErrorHandler(m).send()})}};f.exports=h}),null);
__d("PagesCoverVideoConstant",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";var i={PREVIEW_TIP_FOR_CREATION:c("React").createElement("div",null,c("React").createElement("div",null,h._("Your video was added but won't be public until you publish it.")),c("React").createElement("div",null,h._("You can drag the video currently displaying to reposition it."))),PREVIEW_TIP_FOR_EDITING:c("React").createElement("div",null,c("React").createElement("div",null,h._("Your video won't be public until you publish it.")),c("React").createElement("div",null,h._("You can drag the video currently displaying to reposition it."))),TRY_UPLOAD_AGAIN_TITLE:h._("Try Uploading Again"),TRY_UPLOAD_AGAIN_BODY:h._("The video couldn't be uploaded. Please try again."),CANCEL_DIALOG_TITLE:h._("Cancel Video Upload?"),CANCEL_DIALOG_BODY:h._("If you cancel, this video will be deleted and your Page will revert to the previous cover photo or video."),CANCEL_DIALOG_CANCEL_UPLOAD_BUTTON_LABEL:h._("Cancel Upload"),CANCEL_DIALOG_NOT_NOW_BUTTON_LABEL:h._("Not Now"),EDUCATIONAL_ERROR_DIALOG_TITLE:h._("Video Not Uploaded")};f.exports=i}),null);
__d("XPagesCoverReloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_reload/",{page_id:{type:"FBID",required:true}})}),null);
__d("XPagesCoverVideoPublishController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_publish/",{})}),null);
__d("XPagesCoverVideoRollbackAndDeleteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_rollback_and_delete/",{page_id:{type:"FBID",required:true},video_id:{type:"FBID",required:true}})}),null);
__d("PagesCoverVideoActionCreator",["ix","cx","fbt","AsyncRequest","CoverVideoUtil","ErrorDialog","Image.react","PagesCoverAction","PagesCoverDispatcher","PagesCoverVideoConstant","React","ReactDOM","SimpleXUIDialog","XPagesCoverReloadController","XPagesCoverVideoPublishController","XPagesCoverVideoRollbackAndDeleteController","XUIDialogButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=Object.freeze({INVALID_DURATION:"invalid_duration",INVALID_DIMENSION:"invalid_dimension"}),l={validateCoverVideoMetadata:function m(n,o,p,q,r,s,t){__p&&__p();if(!o){p();l.showGeneralErrorDialog();return false}var u=c("ReactDOM").findDOMNode(o);if(!u||!(u instanceof HTMLVideoElement)){p();l.showGeneralErrorDialog();return false}var v=u.videoWidth,w=u.videoHeight;if(v===0&&w===0)return true;var x=l.validateCoverVideoWithErrorDialog(n,u.duration,q,r,u.videoWidth,u.videoHeight,s,t);if(!x)p();return x},showCoverVideoUploadUI:function m(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_START_UPLOAD})},uploadStarted:function m(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_UPLOADING,data:{progress:0}})},uploadProgressed:function m(n,o){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_UPLOADING,data:{progress:Math.round(n)}})},encodeStarted:function m(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_ENCODING,data:{progress:0}})},encodeProgressed:function m(n){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_ENCODING,data:{progress:Math.round(n)}})},encodeFinished:function m(n,o,p,q,r,s){__p&&__p();c("CoverVideoUtil").fetchCoverVideoData(o).then(function(t){__p&&__p();var u=t.playableDurationInSec,v=t.videoData;if(!u||!v){l.rollbackAndDeleteVideoWithGeneralErrorDialog(n,o);return}var w=v.getOriginalWidth(),x=v.getOriginalHeight(),y=l.validateCoverVideoWithErrorDialog(n,u,p,q,w,x,r,s);if(!y){l.rollbackAndDeleteVideo(n,o);return}c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_PREVIEWING,data:{futureVideoID:o,pageID:n,isFromRepositon:false}})}).done()},validateCoverVideoWithErrorDialog:function m(n,o,p,q,r,s,t,u){__p&&__p();var v=new Set(),w=1;if(r<t-w||s<u-w)v.add(k.INVALID_DIMENSION);if(o<p-w||o>q+w)v.add(k.INVALID_DURATION);if(v.size>0){l.showValidationErrorDialog(n,v,p,q,t,u);return false}return true},chooseThumbnail:function m(n,o,p,q,r,s){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_CHOOSING_THUMBNAIL,data:{futureVideoID:n,pageID:o,offsetType:p,offsetValue:q,containerHeight:r,containerWidth:s}})},editCoverVideo:function m(n,o){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_PREVIEWING,data:{futureVideoID:o,pageID:n,isFromReposition:true}})},showGeneralErrorDialog:function m(){c("SimpleXUIDialog").show(c("React").createElement("div",null,j._("The video couldn't be uploaded. Please try again.")),c("PagesCoverVideoConstant").EDUCATIONAL_ERROR_DIALOG_TITLE)},showValidationErrorDialog:function m(n,o,p,q,r,s){var t=j._("Please edit the video and try again."),u=!o.has(k.INVALID_DURATION)?c("React").createElement(c("Image.react"),{src:h("119371")}):c("React").createElement(c("Image.react"),{src:h("117758")}),v=j._("Cover videos should to be {minimal duration of cover video required} - {duration of current video} seconds.",[j._param("minimal duration of cover video required",p),j._param("duration of current video",q)]),w=!o.has(k.INVALID_DIMENSION)?c("React").createElement(c("Image.react"),{src:h("119371")}):c("React").createElement(c("Image.react"),{src:h("117758")}),x=j._("Cover videos should be at least {minimal requirement of width} x {minimal requirement of height} pixels. The recommended size is 820 x 462 pixels.",[j._param("minimal requirement of width",r),j._param("minimal requirement of height",s)]),y=c("React").createElement("div",null,c("React").createElement("div",null,t),c("React").createElement("div",{className:"_31ms"},c("React").createElement("div",{className:"_wsz"},u),c("React").createElement("div",{className:"_wsz"+(o.has(k.INVALID_DURATION)?" _wt3":"")},v)),c("React").createElement("div",{className:"_31ms"},c("React").createElement("div",{className:"_wsz"},w),c("React").createElement("div",{className:"_wsz"+(o.has(k.INVALID_DIMENSION)?" _wt3":"")},x)));c("SimpleXUIDialog").show(y,c("PagesCoverVideoConstant").EDUCATIONAL_ERROR_DIALOG_TITLE)},confirmPublishingVideo:function m(n,o,p,q,r,s){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_PUBLISHING});var t=c("XPagesCoverVideoPublishController").getURIBuilder().getURI(),u={page_id:n,video_id:o,preferred_thumbnail_id:s,offset_type:p,offset_value:q,should_cover_video_loop:r};new(c("AsyncRequest"))().setURI(t).setMethod("POST").setData(u).setErrorHandler(function(){l.rollbackAndDeleteVideoWithGeneralErrorDialog(n,o)}).send()},cancelNewUploadingWithConfirmationDialog:function m(n,o){c("SimpleXUIDialog").showEx(c("PagesCoverVideoConstant").CANCEL_DIALOG_BODY,c("PagesCoverVideoConstant").CANCEL_DIALOG_TITLE,c("React").createElement("div",null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:c("PagesCoverVideoConstant").CANCEL_DIALOG_CANCEL_UPLOAD_BUTTON_LABEL,onClick:function p(){return l.rollbackAndDeleteVideo(n,o)}}),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:c("PagesCoverVideoConstant").CANCEL_DIALOG_NOT_NOW_BUTTON_LABEL,use:"confirm"})))},rollbackAndDeleteVideoWithGeneralErrorDialog:function m(n,o){c("SimpleXUIDialog").show(c("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_BODY,c("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_TITLE,function(){l.rollbackAndDeleteVideo(n,o)})},reloadCoverWithErrorDialog:function m(n,o){var p=o.error_description,q=o.error_summary,r=!q?c("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_TITLE:q,s=!p?c("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_BODY:p;c("ErrorDialog").show(r,s,function(){l.reloadCover(n)})},reloadCover:function m(n){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_CANCELLING});var o=c("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",n).getURI();new(c("AsyncRequest"))(o).send()},rollbackAndDeleteVideo:function m(n,o){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_CANCELLING});var p=c("XPagesCoverVideoRollbackAndDeleteController").getURIBuilder().setFBID("page_id",n).setFBID("video_id",o).getURI();new(c("AsyncRequest"))(p).send()}};f.exports=l}),null);
__d("PagesCoverVideoHoverableVideoComponent.react",["cx","React","VideoComponentPlayButton.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerLoggerSource","VideoPlayerOrigins"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PagesCoverVideoHoverableVideoComponent1=function(){this.props.onMouseEnter&&this.props.onMouseEnter(this.props.videoID)}.bind(this),this.$PagesCoverVideoHoverableVideoComponent2=function(){this.props.onMouseLeave&&this.props.onMouseLeave(this.props.videoID)}.bind(this),this.$PagesCoverVideoHoverableVideoComponent3=function(){this.props.onVideoClick&&this.props.onVideoClick(this.props.videoID)}.bind(this),this.$PagesCoverVideoHoverableVideoComponent5=function(){return c("VideoDataContainer.react").renderSpinner(this.props.width,this.props.height)}.bind(this),n}l.prototype.$PagesCoverVideoHoverableVideoComponent4=function(m){this.props.onRefLoaded&&this.props.onRefLoaded(this.props.videoID,m)};l.prototype.render=function(){return c("React").createElement("span",{className:"_bt-"+(this.props.isSelected?" _bu0":""),key:this.props.videoID,onMouseEnter:this.$PagesCoverVideoHoverableVideoComponent1,onMouseLeave:this.$PagesCoverVideoHoverableVideoComponent2,role:"link",tabIndex:0},c("React").createElement(c("VideoDataContainer.react"),{renderLoading:this.$PagesCoverVideoHoverableVideoComponent5,videoID:this.props.videoID},c("React").createElement(c("VideoPlayer.react"),{disableClickPlayPause:true,height:this.props.height,onVideoClick:this.$PagesCoverVideoHoverableVideoComponent3,playerOrigin:c("VideoPlayerOrigins").PAGE_TIMELINE,subOrigin:c("VideoPlayerLoggerSource").PAGES_COVER_HOVER,ref:this.props.onRefLoaded,videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:this.props.width},c("React").createElement(c("VideoComponentPlayButton.react"),null))))};l.propTypes={videoID:k.string.isRequired,onMouseEnter:k.func.isRequired,onMouseLeave:k.func.isRequired,onVideoClick:k.func.isRequired,onRefLoaded:k.func.isRequired,isSelected:k.bool.isRequired,width:k.number.isRequired,height:k.number.isRequired};f.exports=l}),null);
__d("PagesCoverVideoSelectionComponent.react",["cx","PagesCoverVideoHoverableVideoComponent.react","React","VideoPlayer.react","VideoPlayerReason"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=176,l=Math.round(k*9/16);i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(n){__p&&__p();j.constructor.call(this,n);this.$PagesCoverVideoSelectionComponent2=function(o){if(o===this.state.selectedVideoID)return;var p=this.state.selectedVideoID;if(p){var q=this.$PagesCoverVideoSelectionComponent1.get(p);q&&q.pause(c("VideoPlayerReason").USER)}this.setState({selectedVideoID:o});this.props&&this.props.onVideoSelected(o)}.bind(this);this.$PagesCoverVideoSelectionComponent3=function(o){var p=this.$PagesCoverVideoSelectionComponent1.get(o);p&&p.play(c("VideoPlayerReason").HOVER)}.bind(this);this.$PagesCoverVideoSelectionComponent4=function(o){var p=this.$PagesCoverVideoSelectionComponent1.get(o);p&&p.pause(c("VideoPlayerReason").HOVER)}.bind(this);this.$PagesCoverVideoSelectionComponent5=function(o,p){if(p&&p.vpc)this.$PagesCoverVideoSelectionComponent1.set(o,p.vpc)}.bind(this);this.state={selectedVideoID:null};this.$PagesCoverVideoSelectionComponent1=new Map()}m.prototype.render=function(){var n=this.props.videoIDs;if(!n||n.length===0)return null;var o=n.map(function(p){return c("React").createElement(c("PagesCoverVideoHoverableVideoComponent.react"),{height:l,isSelected:p===this.state.selectedVideoID,key:p,onMouseEnter:this.$PagesCoverVideoSelectionComponent3,onMouseLeave:this.$PagesCoverVideoSelectionComponent4,onRefLoaded:this.$PagesCoverVideoSelectionComponent5,onVideoClick:this.$PagesCoverVideoSelectionComponent2,videoID:p,width:k})}.bind(this));return c("React").createElement("div",{className:"_4yfa"},o)};f.exports=m}),null);
__d("XPagesCoverVideoFetchController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_fetch/",{page_id:{type:"FBID",required:true},count:{type:"Int",required:true},cursor:{type:"String"}})}),null);
__d("PagesCoverVideoBrowserDialog.react",["cx","fbt","AsyncRequest","LayerFadeOnHide","LoadingDialog.react","PagesCoverVideoSelectionComponent.react","React","ScrollableArea.react","XPagesCoverVideoFetchController","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUISpinner.react","nullthrows"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=3,m=176,n=8,o=Math.round(m*9/16),p=(m+2*n)*l+3*n,q=9,r=o*3;j=babelHelpers.inherits(s,c("React").PureComponent);k=j&&j.prototype;function s(t){__p&&__p();k.constructor.call(this,t);this.$PagesCoverVideoBrowserDialog1=function(){if(!this.state.hasMore||!this.state.hasEligibleVideos||this.state.isLoading)return;var u=c("XPagesCoverVideoFetchController").getURIBuilder().setFBID("page_id",this.props.pageID).setInt("count",q).setString("cursor",this.state.cursor).getURI();new(c("AsyncRequest"))(u).setHandler(this.$PagesCoverVideoBrowserDialog2).send();this.setState({isLoading:true})}.bind(this);this.$PagesCoverVideoBrowserDialog2=function(u){var v=u.payload;if(!v)return;this.setState({videoIDs:this.state.videoIDs.concat(v.videoIDs),cursor:v.cursor,hasMore:v.hasMore,hasEligibleVideos:v.hasEligibleVideos,isLoading:false})}.bind(this);this.$PagesCoverVideoBrowserDialog3=function(u){this.setState({selectedVideoID:u})}.bind(this);this.$PagesCoverVideoBrowserDialog4=function(){var u=this.props.onConfirm;u&&u(c("nullthrows")(this.state.selectedVideoID))}.bind(this);this.state={videoIDs:[],selectedVideoID:null,cursor:"",hasMore:true,hasEligibleVideos:true,isLoading:false}}s.prototype.componentDidMount=function(){this.$PagesCoverVideoBrowserDialog1()};s.prototype.render=function(){if(!this.props.dialogShown)return null;if(this.state.videoIDs.length===0&&this.state.hasMore&&this.state.hasEligibleVideos)return c("React").createElement(c("LoadingDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.props.onToggle});if(!this.state.hasEligibleVideos)return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.props.onToggle,shown:this.props.dialogShown,titleID:"pages-cover-video-browser-dialog",width:p},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Choose From My Videos")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",null,i._("None of the videos in your library qualify as a cover video. Videos must be between 20 - 90 seconds and at least 820 x 312 pixels. The recommended size is 820 x 462 pixels. Please upload a different video and try again."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm"})));var t=!this.state.hasMore?null:c("React").createElement("div",{className:"_4yfc"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.props.onToggle,shown:this.props.dialogShown,titleID:"pages-cover-video-browser-dialog",width:p},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Choose From My Videos")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("ScrollableArea.react"),{fade:false,height:r,onEndReached:this.$PagesCoverVideoBrowserDialog1,width:p},c("React").createElement(c("PagesCoverVideoSelectionComponent.react"),{onVideoSelected:this.$PagesCoverVideoBrowserDialog3,videoIDs:this.state.videoIDs}),t)),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogConfirmButton.react"),{action:"confirm",disabled:!this.state.selectedVideoID,onClick:this.$PagesCoverVideoBrowserDialog4,use:"confirm"})))};f.exports=s}),null);
__d("PagesLiveCoverVideoActionCreator",["PagesCoverAction","PagesCoverDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h={onLiveCoverVideoEnabled:function i(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").LIVE_VIDEO_ENABLE})},onLiveCoverVideoDisable:function i(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").LIVE_VIDEO_DISABLE})}};f.exports=h}),null);
__d("PagesVideoUploader.react",["cx","invariant","Arbiter","AsyncRequest","ChannelConstants","PagesCoverVideoTypedLogger","EventListener","FileInput.react","React","SubscriptionsHandler","VideoUploadConfig","VideoUploader","VideoUploadFile","VideoUploadProgressBar"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=b.URL||b.webkitURL||{};j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.reset=function(){this.$PagesVideoUploader1.reset();this.$PagesVideoUploader3=0;this.$PagesVideoUploader4.release();this.$PagesVideoUploader4=new(c("SubscriptionsHandler"))();this.$PagesVideoUploader5=false;this.props.videoUploaderRef&&this.props.videoUploaderRef(null);clearInterval(this.$PagesVideoUploader6);clearTimeout(this.$PagesVideoUploader7)}.bind(this);this.$PagesVideoUploader8=function(event){__p&&__p();var o=event.target,p=c("VideoUploadFile").getExtensionFromFileInput(o);if(!c("VideoUploadConfig").videoExtensions[p]||p==="gif"||!(o instanceof HTMLInputElement)){this.props.onChange&&this.props.onChange(event,false);return}var q=o.files[0];q||i(0);this.reset();var r=this.$PagesVideoUploader1,s=this.$PagesVideoUploader2;this.$PagesVideoUploader4.addSubscriptions(r.subscribe("upload-started",this.$PagesVideoUploader9),r.subscribe("upload-progressed",this.$PagesVideoUploader10),r.subscribe("upload-finished",this.$PagesVideoUploader11),r.subscribe("post-finished",this.$PagesVideoUploader12),r.subscribe("upload-failed",this.$PagesVideoUploader13),r.subscribe("post-failed",this.$PagesVideoUploader14),c("EventListener").listen(s,"loadedmetadata",this.$PagesVideoUploader15),c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("video_encode"),this.$PagesVideoUploader16));var t=l.createObjectURL(q);this.setState({selectedFileURL:t});this.$PagesVideoUploader1.upload(c("VideoUploadFile").fromFileInput(o));this.props.onChange&&this.props.onChange(event,true)}.bind(this);this.$PagesVideoUploader9=function(){this.props.onUploadStarted&&this.props.onUploadStarted()}.bind(this);this.$PagesVideoUploader15=function(o){var p=o.target,q=this.props.onVideoMetadataLoaded;q&&q(p,this.reset)}.bind(this);this.$PagesVideoUploader10=function(event,o){var p=c("VideoUploadProgressBar").computeProgress(o.start_offset,o.sent_bytes,o.file_size,0,0),q=this.props.onUploadProgressed;q&&q(Math.round(p),o)}.bind(this);this.$PagesVideoUploader11=function(event,o){__p&&__p();var p=this.props.onUploadFinished;p&&p(o);var q=this.$PagesVideoUploader1;if(!q)return;if(this.props.autoEncode){var r=this.props.getCustomPostData;if(r){var s=r();q.post(s)}else q.post({})}else{var t=this.props.onManualPost;t||i(0);t(q)}}.bind(this);this.$PagesVideoUploader12=function(event,o){this.props.onPostFinished&&this.props.onPostFinished(o);this.$PagesVideoUploader17(o.video_id,o);this.$PagesVideoUploader1.reset()}.bind(this);this.$PagesVideoUploader13=function(event,o){this.props.onUploadFailed&&this.props.onUploadFailed(o);this.reset()}.bind(this);this.$PagesVideoUploader14=function(event,o){this.props.onPostFailed&&this.props.onPostFailed(o);this.reset()}.bind(this);this.$PagesVideoUploader16=function(o,p){__p&&__p();var q=p.obj.videoID.toString();if(p.obj.stage==="update_video"||p.obj.stage==="finish"){new(c("PagesCoverVideoTypedLogger"))().setIsFinished(true).setPageID(this.props.videoUploaderInitParams.actor_id).setProgress(p.obj.progress).setStage(p.obj.stage).setType(p.obj.type).setVideoID(p.obj.videoID).log();this.props.onEncodeFinished&&this.props.onEncodeFinished(q);this.reset()}else{new(c("PagesCoverVideoTypedLogger"))().setIsFinished(false).setPageID(this.props.videoUploaderInitParams.actor_id).setProgress(p.obj.progress).setStage(p.obj.stage).setType(p.obj.type).setVideoID(p.obj.videoID).log();this.$PagesVideoUploader3=Math.max(this.$PagesVideoUploader3,p.obj.progress);if(!this.$PagesVideoUploader5){var r=this.props.onEncodeStarted;r&&r(this.$PagesVideoUploader3);this.$PagesVideoUploader5=true}else this.props.onEncodeProgressed&&this.props.onEncodeProgressed(this.$PagesVideoUploader3);this.$PagesVideoUploader17(q,p)}}.bind(this);this.state={selectedFileURL:null};this.$PagesVideoUploader1=new(c("VideoUploader"))(n.videoUploaderInitParams);this.$PagesVideoUploader3=0;this.$PagesVideoUploader4=new(c("SubscriptionsHandler"))();this.$PagesVideoUploader5=false}m.prototype.$PagesVideoUploader17=function(n,o){__p&&__p();clearInterval(this.$PagesVideoUploader6);clearTimeout(this.$PagesVideoUploader7);this.$PagesVideoUploader7=setTimeout(function(){this.$PagesVideoUploader6=setInterval(function(){new(c("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:n}).setHandler(function(p){var q=p.getPayload();if(o&&o.obj)new(c("PagesCoverVideoTypedLogger"))().setIsFinished(q.is_ready).setPageID(this.props.videoUploaderInitParams.actor_id).setProgress(o.obj.progress).setStage(o.obj.stage).setType(o.obj.type).setVideoID(o.obj.videoID).setVideoStatus(q.video_status_type).setVideoContainerType(q.video_container_type).log();if(q.is_ready){this.props.onEncodeFinished&&this.props.onEncodeFinished(n);this.reset()}}.bind(this)).send()}.bind(this),2e3)}.bind(this),2e3)};m.prototype.render=function(){var n=["video/*","video/mp4"],o=this.props.extraAccept;if(Array.isArray(o))n.concat(o);else if(o)n.push(o);return c("React").createElement("div",null,c("React").createElement(c("FileInput.react"),{accept:n,display:"inline-block",name:"simple_video_uploader",onChange:this.$PagesVideoUploader8,ref:function(p){this.props.fileInputRef&&this.props.fileInputRef(p)}.bind(this)},c("React").createElement("a",{className:this.props.labelClassName,href:"#"},this.props.label)),c("React").createElement("video",{className:"hidden_elem",ref:function(p){this.$PagesVideoUploader2=p;this.props.videoPlayerRef&&this.props.videoPlayerRef(p)}.bind(this),src:this.state.selectedFileURL}))};m.defaultProps={autoEncode:true};f.exports=m}),null);
__d("PhotoBrowserDialogEndpointType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EVENT_COVER:0,GROUP_COVER:1,TIMELINE_COVER:2,PROFILE_PICTURE:3,PAGE_PICTURE:4,LINK_ALBUM:5,LIFE_EVENT:6,ATTACHMENT_EDITOR:7,EDITOR_IMPORT:8,EDITOR_SAVE:9,PAGE_COVER:10,MAP_COMPOSER:12,YEAR_IN_REVIEW:13,FAMILY_TAG_PROFILE:14,FAMILY_TAG_COVER:15,FUNDRAISER_COVER:17,FEATURED_PHOTO:18,ORIGIN_STORY:19,PAGES_COVER_JS:20,FRAME_COMPOSER:21,ALBUM_COVER:22,PAGES_COVER_SLIDESHOW_JS:23,FUNDRAISER_COVER_THEMES:24,FUNDRAISER_COVER_NONPROFIT:25,FUNDRAISER_COVER_PERSON:26})}),null);
__d("PhotoBrowserDialogPhotoGeneratorType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PROFILE:0,PAGE:1,FRIENDSHIP:2,EVENT:3,GROUP:4,TAGGED:5,SYNCED:6,LINKABLE_ALBUMS:8,RECENT:9,LAST_ONE_YEAR:10,SCRAPBOOK:11,FUNDRAISER_PAGE:12,ORIGIN_STORY:13,ALBUM:14,PROFILE_CHANNEL:15,COLLAGE:16,COVER_ARTWORK:17,FUNDRAISER_COVER_THEMES:18,FUNDRAISER_NONPROFIT_PAGE:19,FUNDRAISER_SUGGESTED_FOR_PERSON:20})}),null);
__d("XEventTourBadgeOnPagesCoverController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/events/tour/badge/",{page_id:{type:"FBID",required:true},tour_ids:{type:"FBIDSet"},enable:{type:"Bool",defaultValue:false},entry_point:{type:"Enum",defaultValue:"page_cover",enumType:1}})}),null);
__d("XPagesCoverLiveVideoToggleAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_live_video_toggle/",{})}),null);
__d("XPagesCoverVideoUploaderController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_upload/",{page_id:{type:"FBID",required:true}})}),null);
__d("XPhotoBrowserDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/photo_browser_dialog/",{album_id:{type:"Int"},cursor:{type:"String"},data:{type:"String",defaultValue:""},display:{type:"Enum",defaultValue:2,enumType:0},endpoint:{type:"Enum",required:true,enumType:0},generator:{type:"Enum",required:true,enumType:0},id:{type:"Int",required:true},member_id:{type:"Int"},ajaxify_links:{type:"Bool",defaultValue:true},include_photo_uri:{type:"Bool",defaultValue:false},__asyncDialog:{type:"Int"}})}),null);
__d("PagesCoverEditMenu.react",["ix","cx","fbt","invariant","ActorURI","AsyncRequest","ContextualDialogArrow","EventTourBadgeEnum","FileInput.react","FileInputUploader","Image.react","PagesCoverAction","PagesCoverCameraButton.react","PagesCoverDispatcher","PagesCoverSlideshowActionCreator","PagesCoverType","PagesCoverVideoActionCreator","PagesCoverVideoBrowserDialog.react","PagesLiveCoverVideoActionCreator","PagesProfileTestID","PhotoBrowserDialogEndpointType","PhotoBrowserDialogPhotoGeneratorType","PopoverMenu.react","React","ReactDOM","ReactXUIMenu","PagesVideoUploader.react","SimpleXUIDialog","XEventTourBadgeOnPagesCoverController","XPagesCoverPhotoUploadAsyncController","XPhotoBrowserDialogController","XPagesCoverLiveVideoToggleAsyncController","XPagesCoverVideoUploaderController","PagesCoverRemoveCoverConfirmationDialog.react","fbglyph","idx"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("ReactXUIMenu").Item;l=babelHelpers.inherits(o,c("React").PureComponent);m=l&&l.prototype;function o(p){__p&&__p();m.constructor.call(this,p);this.$PagesCoverEditMenu8=function(){this.setState({showCoverVideoBrowserDialog:true})}.bind(this);this.$PagesCoverEditMenu9=function(){this.setState({showCoverVideoBrowserDialog:false})}.bind(this);this.$PagesCoverEditMenu10=function(q){this.setState({showRemoveCoverConfirmationDialog:q})}.bind(this);this.$PagesCoverEditMenu11=function(q){c("PagesCoverVideoActionCreator").editCoverVideo(this.props.pageID,q);this.setState({showCoverVideoBrowserDialog:false})}.bind(this);this.$PagesCoverEditMenu12=function(q){this.$PagesCoverEditMenu2=q}.bind(this);this.$PagesCoverEditMenu13=function(q,r){var s,t,u,v,w=(s=this.props)!=null?(s=s.coverData)!=null?(s=s.cover_video)!=null?s.minPlayableDurationInSec:s:s:s,x=(t=this.props)!=null?(t=t.coverData)!=null?(t=t.cover_video)!=null?t.maxPlayableDurationInSec:t:t:t,y=(u=this.props)!=null?(u=u.coverData)!=null?(u=u.cover_video)!=null?u.containerWidth:u:u:u,z=(v=this.props)!=null?(v=v.coverData)!=null?(v=v.cover_video)!=null?v.containerHeight:v:v:v;!!w&&!!x&&!!y&&!!z||k(0);var A=c("PagesCoverVideoActionCreator").validateCoverVideoMetadata(this.props.pageID,q,r,w,x,y,z);if(A)c("PagesCoverVideoActionCreator").showCoverVideoUploadUI()}.bind(this);this.$PagesCoverEditMenu14=function(q){var r,s,t,u,v=(r=this.props)!=null?(r=r.coverData)!=null?(r=r.cover_video)!=null?r.minPlayableDurationInSec:r:r:r,w=(s=this.props)!=null?(s=s.coverData)!=null?(s=s.cover_video)!=null?s.maxPlayableDurationInSec:s:s:s,x=(t=this.props)!=null?(t=t.coverData)!=null?(t=t.cover_video)!=null?t.containerWidth:t:t:t,y=(u=this.props)!=null?(u=u.coverData)!=null?(u=u.cover_video)!=null?u.containerHeight:u:u:u;!!v&&!!w&&!!x&&!!y||k(0);c("PagesCoverVideoActionCreator").encodeFinished(this.props.pageID,q,v,w,x,y)}.bind(this);this.$PagesCoverEditMenu17=function(q){c("PagesCoverVideoActionCreator").reloadCoverWithErrorDialog(this.props.pageID,q)}.bind(this);this.$PagesCoverEditMenu18=function(){__p&&__p();var q=this.props.coverData.cover_live_video;!!q||k(0);var r=!q.isEnabled?j._("Show Your Live Video as Your Cover Photo"):j._("Don't Show Your Live Video as Your Cover Photo"),s=!q.isEnabled?j._("The next time you go live, your broadcast will appear at the top of your Page. It will automatically be replaced by your most recent live video."):j._("The next time you go live, your broadcast will no longer appear at the top of your Page.");c("SimpleXUIDialog").showConfirm(s,r,function(t){if(!t)return;var u=c("XPagesCoverLiveVideoToggleAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))(u).setMethod("POST").setData({page_id:this.props.pageID,is_enabled:!q.isEnabled}).setHandler(function(v){var w=v.payload;if(w)c("PagesLiveCoverVideoActionCreator").onLiveCoverVideoEnabled();else c("PagesLiveCoverVideoActionCreator").onLiveCoverVideoDisable()}).send()}.bind(this))}.bind(this);this.$PagesCoverEditMenu20=function(){c("PagesCoverSlideshowActionCreator").enterEditMode(this.props.pageID)}.bind(this);this.$PagesCoverEditMenu26=function(){this.setState({showRemoveCoverConfirmationDialog:true})}.bind(this);this.$PagesCoverEditMenu23=function(){var q=this.props.coreData.currentCoverType;if(q===c("PagesCoverType").COVER_PHOTO)c("PagesCoverDispatcher").dispatch({data:{isPreviewMode:true},type:c("PagesCoverAction").PHOTO_PREVIEWING});else if(q===c("PagesCoverType").COVER_VIDEO){var r,s=(r=this.props)!=null?(r=r.coverData)!=null?(r=r.cover_video)!=null?r.videoID:r:r:r;if(s)c("PagesCoverVideoActionCreator").editCoverVideo(this.props.pageID,s)}}.bind(this);this.$PagesCoverEditMenu16=function(event,q){if(q)return;var r=c("ActorURI").create(c("XPagesCoverPhotoUploadAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI(),this.props.pageID);new(c("FileInputUploader"))(c("ReactDOM").findDOMNode(this.$PagesCoverEditMenu2)).setURI(r).setAllowCrossOrigin(true).send();c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").PHOTO_UPLOADING})}.bind(this);this.$PagesCoverEditMenu25=function(){var q=this.props.coreData.eventTourBadgeInfo.eventTourBadgeStatus;if(q===c("EventTourBadgeEnum").NO_TOUR)return;var r=c("XEventTourBadgeOnPagesCoverController").getURIBuilder().setFBID("page_id",this.props.pageID).setBool("enable",q===c("EventTourBadgeEnum").TOUR_BADGE_HIDDEN).getURI();new(c("AsyncRequest"))(r).setHandler(function(s){if(s.payload)c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").ON_TOUR_BADGE_UPDATED,data:s.payload})}).send();c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").LOADING})}.bind(this);this.$PagesCoverEditMenu1=null;this.$PagesCoverEditMenu2=null;this.state={showRemoveCoverConfirmationDialog:false,showCoverVideoBrowserDialog:false,videoUploaderInitParams:null}}o.prototype.componentDidMount=function(){if(this.props.coreData.canViewerEditProfile)this.$PagesCoverEditMenu3()};o.prototype.UNSAFE_componentWillReceiveProps=function(p){if(p.coreData.hasCoverSet!==this.props.coreData.hasCoverSet)this.$PagesCoverEditMenu1=null;if(p.coreData.canViewerEditProfile!==this.props.coreData.canViewerEditProfile)this.$PagesCoverEditMenu3()};o.prototype.$PagesCoverEditMenu3=function(){var p=c("ActorURI").create(c("XPagesCoverVideoUploaderController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI(),this.props.pageID);new(c("AsyncRequest"))(p).setHandler(function(q){this.setState({videoUploaderInitParams:q.payload.video_uploader_params})}.bind(this)).send()};o.prototype.$PagesCoverEditMenu4=function(){return!!this.props.coreData.hasCoverSet};o.prototype.$PagesCoverEditMenu5=function(){if(!this.$PagesCoverEditMenu4())return j._("Add a Cover");return j._("Change Cover")};o.prototype.$PagesCoverEditMenu6=function(){if(!this.props.coverData.cover_photo.pageHasPhotos)return null;var p=c("XPhotoBrowserDialogController").getURIBuilder().setEnum("endpoint",c("PhotoBrowserDialogEndpointType").PAGES_COVER_JS).setEnum("generator",c("PhotoBrowserDialogPhotoGeneratorType").PAGE).setString("data","pages_cover_photo").setInt("id",this.props.pageID).getURI();return c("React").createElement(n,{href:p,rel:"dialog"},j._("Choose From Photos"))};o.prototype.$PagesCoverEditMenu7=function(){var p,q=!!((p=this.props)!=null?(p=p.coverData)!=null?(p=p.cover_video)!=null?p.shouldShowChooseFromCoverVideoMenu:p:p:p);if(!q)return null;return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu8},j._("Choose From Videos"))};o.prototype.$PagesCoverEditMenu15=function(){var p,q,r,s,t=this.state.videoUploaderInitParams;if(!t)return null;var u=j._("Upload Photo\/Video"),v=(p=this.props)!=null?(p=p.coverData)!=null?(p=p.cover_video)!=null?p.minPlayableDurationInSec:p:p:p,w=(q=this.props)!=null?(q=q.coverData)!=null?(q=q.cover_video)!=null?q.maxPlayableDurationInSec:q:q:q,x=(r=this.props)!=null?(r=r.coverData)!=null?(r=r.cover_video)!=null?r.containerWidth:r:r:r,y=(s=this.props)!=null?(s=s.coverData)!=null?(s=s.cover_video)!=null?s.containerHeight:s:s:s;if(!v||!w||!x||!y)return null;return c("React").createElement(n,{renderas:"label"},c("React").createElement(c("PagesVideoUploader.react"),{"data-testid":c("PagesProfileTestID").COVER_PHOTO_UPLOAD_MENU_ITEM,extraAccept:"image/*",fileInputRef:this.$PagesCoverEditMenu12,label:u,labelClassName:"_3ihw",onChange:this.$PagesCoverEditMenu16,onEncodeFinished:this.$PagesCoverEditMenu14,onEncodeProgressed:c("PagesCoverVideoActionCreator").encodeProgressed,onEncodeStarted:c("PagesCoverVideoActionCreator").encodeStarted,onPostFailed:this.$PagesCoverEditMenu17,onUploadFailed:this.$PagesCoverEditMenu17,onUploadProgressed:c("PagesCoverVideoActionCreator").uploadProgressed,onUploadStarted:c("PagesCoverVideoActionCreator").uploadStarted,onVideoMetadataLoaded:this.$PagesCoverEditMenu13,videoUploaderInitParams:t}))};o.prototype.$PagesCoverEditMenu19=function(){var p=this.props.coverData.cover_live_video;if(!p.canEnable)return null;var q=!p.isEnabled?j._("Show Live Video"):j._("Don't Show Live Video");return c("React").createElement(n,{onClick:this.$PagesCoverEditMenu18},q)};o.prototype.$PagesCoverEditMenu21=function(){var p,q=(p=this.props)!=null?(p=p.coverData)!=null?p.cover_slideshow:p:p;if(!q||!q.isCoverSlideshowEnabled)return null;var r=q.shouldShowMenuNux?c("React").createElement(c("Image.react"),{src:h("115777"),style:{verticalAlign:"middle"}}):null,s=this.props.coreData.currentCoverType===c("PagesCoverType").COVER_SLIDESHOW?j._("Edit Slideshow"):j._("Create Slideshow");return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu20},s,r)};o.prototype.$PagesCoverEditMenu22=function(){var p,q=(p=this.props.coverData)!=null?(p=p.cover_video)!=null?p.isFromParentPage:p:p;if(!this.$PagesCoverEditMenu4()||this.props.coreData.currentCoverType===c("PagesCoverType").COVER_VIDEO&&q||this.props.coreData.currentCoverType===c("PagesCoverType").COVER_SLIDESHOW)return null;return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu23},j._("Reposition"))};o.prototype.$PagesCoverEditMenu24=function(){switch(this.props.coreData.eventTourBadgeInfo.eventTourBadgeStatus){case c("EventTourBadgeEnum").TOUR_BADGE_HIDDEN:return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu25},j._("Show Tour Info"));case c("EventTourBadgeEnum").TOUR_BADGE_SHOWN:return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu25},j._("Hide Tour Info"));default:return null}};o.prototype.$PagesCoverEditMenu27=function(){var p,q=(p=this.props.coverData)!=null?(p=p.cover_video)!=null?p.isFromParentPage:p:p;if(!this.$PagesCoverEditMenu4()||this.props.coreData.currentCoverType===c("PagesCoverType").COVER_VIDEO&&q)return null;return c("React").createElement(n,{"data-testid":c("PagesProfileTestID").COVER_PHOTO_REMOVE_MENU_ITEM,onclick:this.$PagesCoverEditMenu26},j._("Remove"))};o.prototype.render=function(){if(!this.props.coreData.canViewerEditProfile||!this.state.videoUploaderInitParams)return null;var p=c("React").createElement(c("ReactXUIMenu"),null,this.$PagesCoverEditMenu6(),this.$PagesCoverEditMenu7(),this.$PagesCoverEditMenu15(),this.$PagesCoverEditMenu19(),this.$PagesCoverEditMenu21(),this.$PagesCoverEditMenu22(),this.$PagesCoverEditMenu24(),this.$PagesCoverEditMenu27());return c("React").createElement(c("PopoverMenu.react"),{className:"_3ihv"+(!this.props.coreData.shouldShowEditMenuForAdmins?" hidden_elem":""),layerBehaviors:[c("ContextualDialogArrow")],menu:p,position:"below"},c("React").createElement(c("PagesCoverCameraButton.react"),{expanded:!this.$PagesCoverEditMenu4(),label:this.$PagesCoverEditMenu5(),shouldShowCoverSlideshowMenuOptionNux:this.props.coverData.cover_slideshow.isCoverSlideshowEnabled&&this.props.coverData.cover_slideshow.shouldShowMenuNux&&this.props.coreData.currentCoverType!==c("PagesCoverType").COVER_SLIDESHOW,shouldshowOnTourBadgeMenuOptionNux:this.props.coreData.eventTourBadgeInfo.shouldShowNux}),c("React").createElement(c("PagesCoverRemoveCoverConfirmationDialog.react"),{coreData:this.props.coreData,onToggle:this.$PagesCoverEditMenu10,pageID:this.props.pageID,shown:this.state.showRemoveCoverConfirmationDialog}),c("React").createElement(c("PagesCoverVideoBrowserDialog.react"),{dialogShown:this.state.showCoverVideoBrowserDialog,onConfirm:this.$PagesCoverEditMenu11,onToggle:this.$PagesCoverEditMenu9,pageID:this.props.pageID}))};f.exports=o}),null);
__d("PagesCoverPhotoStore",["FluxReduceStore","PagesCoverAction","PagesCoverDispatcher","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return{coverPhotoData:{focus:{height:0,width:0},id:"0",original:{height:0,width:0},uri:null},isEditable:false,isLoading:true,isPreviewMode:false,isOverlayEnabled:false,pageDescription:null,pageHasPhotos:false,pageID:"0",pagePrimaryButton:null,renderedHeight:0,renderedWidth:0}};j.prototype.reduce=function(k,l){__p&&__p();var m,n=null;switch(l.type){case c("PagesCoverAction").NEW_COVER_DATA:var o=(m=l.data)!=null?(m=m.coverData)!=null?m.cover_photo:m:m;if(o!==null)n=babelHelpers["extends"]({},o,{isLoading:false,isPreviewMode:false});break;case c("PagesCoverAction").PHOTO_SAVED:case c("PagesCoverAction").PHOTO_REMOVED:n=babelHelpers["extends"]({},k,l.data,{isLoading:false,isPreviewMode:false});break;case c("PagesCoverAction").PHOTO_UPLOADING:case c("PagesCoverAction").COVER_REMOVING:n=babelHelpers["extends"]({},k,{isPreviewMode:false});break;case c("PagesCoverAction").PHOTO_PREVIEWING:n=babelHelpers["extends"]({},k,l.data,{isLoading:false,isPreviewMode:true});break;case c("PagesCoverAction").PHOTO_SAVING:n=babelHelpers["extends"]({},k,l.data,{isLoading:true,isPreviewMode:false});break}return n||k};f.exports=new j(c("PagesCoverDispatcher"))}),null);
__d("PagesCoverSlideshowOptimizerStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ON:"on",OFF:"off"})}),null);
__d("XPagesCoverSlideshowEditableItemsAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_slideshow/editable_items/",{page_id:{type:"FBID",required:true},optimizer_status:{type:"String"}})}),null);
__d("PagesCoverSlideshowStore",["fbt","AsyncRequest","FluxReduceStore","immutable","PagesCoverAction","PagesCoverDispatcher","PagesCoverSlideshowActionCreator","PagesCoverSlideshowOptimizerStatus","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","SimpleXUIDialog","XPagesCoverSlideshowEditableItemsAsyncController","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m={pageID:0,isCoverSlideshowEnabled:false,items:[],isEditMode:false,maxNumberOfPhotosInSlideshow:0,currentIndex:0,thumbnailHeight:0,thumbnailWidth:0,showLoadingScreen:false,hasPendingChanges:false,nuxTourSteps:[],shouldShowNUXTour:false,isContentOptimizerOn:false,shouldShowLoadingScreenOnPickerPlaceholder:false,shouldShowMenuNux:false};i=babelHelpers.inherits(n,c("immutable").Record(m));j=i&&i.prototype;function n(){i.apply(this,arguments)}k=babelHelpers.inherits(o,c("FluxReduceStore"));l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.__moduleID=f.id,this.$PagesCoverSlideshowStore6=new Set(),q}o.prototype.getInitialState=function(){return new n()};o.prototype.getCurrentState=function(){return{pageID:this.getState().get("pageID"),isCoverSlideshowEnabled:this.getState().get("isCoverSlideshowEnabled"),items:this.getState().get("items"),isEditMode:this.getState().get("isEditMode"),maxNumberOfPhotosInSlideshow:this.getState().get("maxNumberOfPhotosInSlideshow"),currentIndex:this.getState().get("currentIndex"),thumbnailHeight:this.getState().get("thumbnailHeight"),thumbnailWidth:this.getState().get("thumbnailWidth"),showLoadingScreen:this.getState().get("showLoadingScreen"),hasPendingChanges:this.getState().get("hasPendingChanges"),nuxTourSteps:this.getState().get("nuxTourSteps"),shouldShowNUXTour:this.getState().get("shouldShowNUXTour"),isContentOptimizerOn:this.getState().get("isContentOptimizerOn"),shouldShowLoadingScreenOnPickerPlaceholder:this.getState().get("shouldShowLoadingScreenOnPickerPlaceholder"),shouldShowMenuNux:this.getState().get("shouldShowMenuNux")}};o.prototype.$PagesCoverSlideshowStore7=function(){if(this.$PagesCoverSlideshowStore3===undefined||this.$PagesCoverSlideshowStore3===null){var p=c("XPagesCoverSlideshowEditableItemsAsyncController").getURIBuilder().setFBID("page_id",this.getState().get("pageID")).setString("optimizer_status",c("PagesCoverSlideshowOptimizerStatus").ON).getURI();new(c("AsyncRequest"))().setURI(p).setHandler(function(q){c("PagesCoverSlideshowActionCreator").loadPrefilledItems(q.payload)}).send();return null}else return this.$PagesCoverSlideshowStore3};o.prototype.$PagesCoverSlideshowStore8=function(p,q,r){__p&&__p();var s=null;if(r<p.length)s=p.map(function(u,v){return r===v?q:u});else{s=Array.from(p);s.push(q);s}var t=s.map(function(u){return u.carouselData.coverPhotoData.id});if(s.length===new Set(t).size)return s;c("SimpleXUIDialog").show(h._("This photo has already been selected. Please try picking a different photo."),h._("Duplicated Photo"));return p};o.prototype.$PagesCoverSlideshowStore9=function(p,q,r){var s=Array.from(p);if(q===r)return p;var t=s.splice(q,1);s.splice(r,0,t[0]);return s};o.prototype.$PagesCoverSlideshowStore10=function(p,q){if(p<0)return 0;if(p>=q)return Math.max(q-1,0);return p};o.prototype.$PagesCoverSlideshowStore11=function(){var p=c("XPagesCoverSlideshowEditableItemsAsyncController").getURIBuilder().setFBID("page_id",this.getState().get("pageID")).getURI();new(c("AsyncRequest"))().setURI(p).setHandler(function(q){c("PagesCoverSlideshowActionCreator").loadEditableItems(q.payload)}).send();return null};o.prototype.reduce=function(p,q){__p&&__p();var r,s=null,t=null,u=p.get("items"),v=p.get("currentIndex");switch(q.type){case c("PagesCoverAction").NEW_COVER_DATA:var w=(r=q.data)!=null?(r=r.coverData)!=null?r.cover_slideshow:r:r;if(w){p=p.set("items",w.items);p=p.set("isCoverSlideshowEnabled",w.isCoverSlideshowEnabled);p=p.set("maxNumberOfPhotosInSlideshow",w.maxNumberOfPhotosInSlideshow);p=p.set("thumbnailHeight",w.thumbnailHeight);p=p.set("thumbnailWidth",w.thumbnailWidth);this.$PagesCoverSlideshowStore1=Array.from(w.items);this.$PagesCoverSlideshowStore6.clear();p=p.set("isEditMode",false);p=p.set("showLoadingScreen",false);p=p.set("hasPendingChanges",false);p=p.set("shouldShowNUXTour",w.shouldShowNUXTour);p=p.set("isContentOptimizerOn",w.isContentOptimizerOn);p=p.set("shouldShowMenuNux",w.shouldShowMenuNux)}var x=q.data.pageID;if(x)p=p.set("pageID",x);break;case c("PagesCoverAction").SLIDESHOW_EDIT:p=p.set("isEditMode",true);p=p.set("items",[]);this.$PagesCoverSlideshowStore11();break;case c("PagesCoverAction").SLIDESHOW_DISPLAY:p=p.set("isEditMode",false);break;case c("PagesCoverAction").SLIDESHOW_PHOTO_PREVIEWING:if(q.data){var y=q.data,z=y.itemData,A=y.slideshowPreviewItemIndex;s=this.$PagesCoverSlideshowStore8(u,z,A);p=p.set("items",s);p=p.set("hasPendingChanges",true);p=p.set("isContentOptimizerOn",false)}p=p.set("shouldShowLoadingScreenOnPickerPlaceholder",false);break;case c("PagesCoverAction").SLIDESHOW_PHOTO_UPLOADING:var B=q.data.uploadingIndex;if(B<u.length){t=babelHelpers["extends"]({},u[B],{shouldShowLoadingIndicator:true});s=this.$PagesCoverSlideshowStore8(u,t,B);p=p.set("items",s)}else p=p.set("shouldShowLoadingScreenOnPickerPlaceholder",true);p=p.set("hasPendingChanges",true);break;case c("PagesCoverAction").SLIDESHOW_CHANGE_CAROUSEL_INDEX:p=p.set("currentIndex",this.$PagesCoverSlideshowStore10(q.data.currentIndex,p.get("items").length));break;case c("PagesCoverAction").SLIDESHOW_ITEM_REPOSITIONED:var C=q.data.itemRepositionedIndex;if(!this.$PagesCoverSlideshowStore6.has(C)){this.$PagesCoverSlideshowStore6.add(C);c("PagesLogger").log(p.get("pageID"),c("PagesLoggerEventEnum").DRAG,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"reposition_slideshow_item"});p=p.set("hasPendingChanges",true)}break;case c("PagesCoverAction").SLIDESHOW_PHOTO_REMOVED:var D=q.data.removedIndex;s=Array.from(u);s.splice(D,1);p=p.set("items",s);p=p.set("hasPendingChanges",true);p=p.set("isContentOptimizerOn",false);if(v>D||v>=s.length)p=p.set("currentIndex",this.$PagesCoverSlideshowStore10(v-1,s.length));break;case c("PagesCoverAction").SLIDESHOW_EDITING_CANCELLED:s=Array.from(this.$PagesCoverSlideshowStore1);p=p.set("items",s);p=p.set("isEditMode",false);p=p.set("hasPendingChanges",false);p=p.set("currentIndex",this.$PagesCoverSlideshowStore10(Math.min(s.length-1,v),s.length));this.$PagesCoverSlideshowStore6.clear();break;case c("PagesCoverAction").SLIDESHOW_SAVING:p=p.set("isEditMode",false);p=p.set("showLoadingScreen",true);p=p.set("hasPendingChanges",false);break;case c("PagesCoverAction").SLIDESHOW_CHANGE_ORDER:var E=q.data,F=E.fromIndex,G=E.toIndex;s=this.$PagesCoverSlideshowStore9(u,F,G);p=p.set("items",s);p=p.set("hasPendingChanges",true);p=p.set("currentIndex",this.$PagesCoverSlideshowStore10(G,s.length));p=p.set("isContentOptimizerOn",false);break;case c("PagesCoverAction").SLIDESHOW_NUX_TOUR_ELEMENT_LOADED:if(p.get("shouldShowNUXTour")){var H=q.data,I=H.context,J=H.step,K=H.description,L=H.position;if(this.$PagesCoverSlideshowStore4===undefined||this.$PagesCoverSlideshowStore4===null)this.$PagesCoverSlideshowStore4=[];if(this.$PagesCoverSlideshowStore5===undefined||this.$PagesCoverSlideshowStore5===null)this.$PagesCoverSlideshowStore5=new Set();if(!this.$PagesCoverSlideshowStore5.has(J)){this.$PagesCoverSlideshowStore4.splice(J,0,{context:I,description:K,position:L});this.$PagesCoverSlideshowStore5.add(J);p=p.set("nuxTourSteps",this.$PagesCoverSlideshowStore4)}}break;case c("PagesCoverAction").SLIDESHOW_NUX_TOUR_FINISHED:p=p.set("shouldShowNUXTour",false);break;case c("PagesCoverAction").SLIDESHOW_TOGGLE_CONTENT_SWITCHER:var M=!!q.data;if(M){this.$PagesCoverSlideshowStore2=p.get("items");s=this.$PagesCoverSlideshowStore7();if(s!==null)p=p.set("items",s)}else if(this.$PagesCoverSlideshowStore2===undefined||this.$PagesCoverSlideshowStore2===null)this.$PagesCoverSlideshowStore2=p.get("items");else p=p.set("items",this.$PagesCoverSlideshowStore2);p=p.set("isContentOptimizerOn",M);p=p.set("hasPendingChanges",true);break;case c("PagesCoverAction").SLIDESHOW_PREFILLED_PHOTO_LOADED:var N=q.data.prefilledItems;this.$PagesCoverSlideshowStore3=N;p=p.set("items",N);break;case c("PagesCoverAction").SLIDESHOW_EDITABLE_ITEM_LOADED:var O=q.data.editableItems;p=p.set("items",O);break;default:return p}return p};f.exports=new o(c("PagesCoverDispatcher"))}),null);
__d("PagesCoverTrailerState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({WATCH_TRAILER:"watch_trailer",RESUME_EPISODE:"resume_episode",LATEST_EPISODE:"latest_episode",LIVE_VIDEO:"live_video"})}),null);
__d("PagesCoverTrailerStore",["FluxReduceStore","PagesCoverAction","PagesCoverDispatcher","PagesCoverTrailerState","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return{showsData:{title:""},viewerCoverTrailerState:c("PagesCoverTrailerState").WATCH_TRAILER,isAdmin:false,isImmersiveShowPage:false,isShowPageNewCover:false}};j.prototype.reduce=function(k,l){var m,n=null;switch(l.type){case c("PagesCoverAction").NEW_COVER_DATA:var o=(m=l.data)!=null?(m=m.coverData)!=null?m.cover_trailer:m:m;if(o!==null){n=babelHelpers["extends"]({},o);this.$PagesCoverTrailerStore1=n}break}return n||k};f.exports=new j(c("PagesCoverDispatcher"))}),null);
__d("PagesCoverVideoStore",["CoverVideoStatus","FluxReduceStore","PagesCoverAction","PagesCoverDispatcher","VideoPlayerOrigins","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return{status:c("CoverVideoStatus").PUBLISHED,isViewerAdmin:false,shouldShowChooseFromCoverVideoMenu:false,isFromParentPage:false,isParentLocationPage:false,shouldCoverVideoLoop:false}};j.prototype.reduce=function(k,l){__p&&__p();var m,n=null;switch(l.type){case c("PagesCoverAction").NEW_COVER_DATA:this.$PagesCoverVideoStore1=l.data.pageID;var o=(m=l.data)!=null?(m=m.coverData)!=null?m.cover_video:m:m;if(o)n=babelHelpers["extends"]({},k,o,{playerOrigin:c("VideoPlayerOrigins").PAGE_TIMELINE});break;case c("PagesCoverAction").VIDEO_START_UPLOAD:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").UPLOADING,progress:0});break;case c("PagesCoverAction").VIDEO_UPLOADING:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").UPLOADING,progress:l.data.progress});break;case c("PagesCoverAction").VIDEO_ENCODING:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").ENCODING,progress:l.data.progress});break;case c("PagesCoverAction").VIDEO_PREVIEWING:n=babelHelpers["extends"]({},k,l.data,{status:c("CoverVideoStatus").PREVIEWING});break;case c("PagesCoverAction").VIDEO_CHOOSING_THUMBNAIL:n=babelHelpers["extends"]({},k,l.data,{status:c("CoverVideoStatus").CHOOSING_THUMBNAIL});break;case c("PagesCoverAction").VIDEO_PUBLISHING:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").PUBLISHING});break;case c("PagesCoverAction").VIDEO_PUBLISHED:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").PUBLISHED},l.data);break;case c("PagesCoverAction").VIDEO_CANCELLING:default:n=k}return n||k};f.exports=new j(c("PagesCoverDispatcher"))}),null);
__d("PageOnTourOverlay.react",["cx","EventActionContext","EventsActionsLogger","EventTourBadgeEnum","FBJSON","Link.react","PagesCoverCoreStore","React","XEventsTourPermalinkController","XUIText.react","joinClasses","nullthrows"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$PageOnTourOverlay3=function(){this.$PageOnTourOverlay2(c("EventsActionsLogger").Type.CLICK)}.bind(this),m}k.prototype.componentDidMount=function(){if(this.$PageOnTourOverlay1())this.$PageOnTourOverlay2(c("EventsActionsLogger").Type.VIEW)};k.prototype.$PageOnTourOverlay2=function(l){c("EventsActionsLogger").log(null,{acontext:this.$PageOnTourOverlay4(),target:c("EventsActionsLogger").Target.TOUR,type:l,mechanism:c("EventsActionsLogger").Mechanism.PAGE_COVER_AREA,surface:c("EventsActionsLogger").Surface.PAGE,target_id:c("nullthrows")(c("PagesCoverCoreStore").getEventTourBadgeInfo().tourID)})};k.prototype.$PageOnTourOverlay1=function(){var l=c("PagesCoverCoreStore").getEventTourBadgeInfo(),m=l.tourID,n=l.title,o=l.eventTourBadgeStatus;return o===c("EventTourBadgeEnum").TOUR_BADGE_SHOWN&&m!==null&&n!==null};k.prototype.$PageOnTourOverlay4=function(){return c("EventActionContext").addActionHistoryEntry(c("EventActionContext").getNewActionContext(),{surface:c("EventsActionsLogger").Surface.PAGE,mechanism:c("EventsActionsLogger").Mechanism.PAGE_COVER_AREA,extra_data:c("FBJSON").stringify({tourID:c("PagesCoverCoreStore").getEventTourBadgeInfo().tourID})})};k.prototype.render=function(){if(!this.$PageOnTourOverlay1())return null;var l=c("PagesCoverCoreStore").getEventTourBadgeInfo(),m=l.title,n=l.subtitle,o=l.tourID,p="_ncd";if(this.props.className)p=c("joinClasses")(p,this.props.className);var q=c("XEventsTourPermalinkController").getURIBuilder().setFBID("tour_id",o).setString("acontext",c("EventActionContext").toString(this.$PageOnTourOverlay4())).getURI();return c("React").createElement("div",{className:p},c("React").createElement(c("Link.react"),{href:q,onClick:this.$PageOnTourOverlay3},c("React").createElement(c("XUIText.react"),{className:"_4yv7",color:"white",size:"header1"},m)),c("React").createElement("br",null),c("React").createElement(c("XUIText.react"),{className:"_nce _4yv7",size:"header3"},n))};f.exports=k}),null);
__d("PagesCoverLoadingScreen.react",["cx","CenteredContainer.react","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"})),l=j.height,m=j.width;if(l&&m)return c("React").createElement("div",{style:{height:l,width:m}},k);return c("React").createElement("div",{className:"_2rc-"},k)};f.exports=i}),null);
__d("XPagesCoverOverlayEditAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_overlay_edit/",{})}),null);
__d("XPagesCoverOverlayRemoveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_overlay_remove/",{})}),null);
__d("PagesCoverOverlay.react",["ix","cx","fbt","AsyncRequest","Image.react","LayerFadeOnHide","PageCallToActionRef","PageCTAAction.react","PagesEventObserver","PagesEventType","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","ShimButton.react","SimpleNUXMessage","SimpleNUXMessageTypes","XPagesCoverOverlayEditAsyncController","XPagesCoverOverlayRemoveAsyncController","XUIAmbientNUX.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=100;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){__p&&__p();l.constructor.call(this,o);this.$PagesCoverOverlay7=function(p){var q=p.target;if(q instanceof HTMLTextAreaElement&&q.value.length<=m)this.setState({newDescription:q.value})}.bind(this);this.$PagesCoverOverlay11=function(){this.setState({isEditing:true,shouldShowNUX:false});return}.bind(this);this.$PagesCoverOverlay9=function(){this.setState({isEditing:false,newDescription:this.state.currentDescription||""})}.bind(this);this.$PagesCoverOverlay10=function(){__p&&__p();var p=null,q=null;if(!this.state.newDescription){p=c("XPagesCoverOverlayRemoveAsyncController").getURIBuilder().getURI();q=true}else{p=c("XPagesCoverOverlayEditAsyncController").getURIBuilder().getURI();q=this.state.newDescription}new(c("AsyncRequest"))().setURI(p).setData({page_id:this.props.pageID,description:q}).setHandler(function(r){if(r.payload.description!==null)this.setState({isEditing:false,newDescription:r.payload.description||"",currentDescription:r.payload.description})}.bind(this)).send()}.bind(this);this.$PagesCoverOverlay13=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").PAGES_COVER_DESCRIPTION_CREATION_NUX);this.setState({shouldShowNUX:false})}.bind(this);this.state={isEditing:false,newDescription:this.props.description||"",currentDescription:this.props.description,shouldShowNUX:false}}n.prototype.componentDidMount=function(){if(this.$PagesCoverOverlay1())this.setState({shouldShowNUX:true})};n.prototype.UNSAFE_componentWillReceiveProps=function(o){if(this.props.description===o.description)return;this.setState({newDescription:o.description||"",currentDescription:o.description})};n.prototype.render=function(){var o=this.props.description,p=!!o||this.$PagesCoverOverlay2();if(!p&&!this.props.isEditable)return null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_4i3o"}),c("React").createElement("div",{className:"_4i3n"},this.$PagesCoverOverlay3(),this.$PagesCoverOverlay4(),this.$PagesCoverOverlay5(),this.$PagesCoverOverlay6()))};n.prototype.$PagesCoverOverlay3=function(){if(this.state.isEditing||!this.state.currentDescription)return null;c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").PAGE_COVER_DESCRIPTION,c("PageCallToActionRef").PAGES_COVER_AREA_SURFACE);c("PagesEventObserver").notify(c("PagesEventType").COVER_AREA_DESCRIPTION_IMPRESSION,this.props.pageID);var o=this.$PagesCoverOverlay2();return c("React").createElement("div",{className:"_4i46"+(o?" _4i47":"")+(!o?" _4i4d":"")},c("React").createElement(c("XUIText.react"),null,this.state.currentDescription))};n.prototype.$PagesCoverOverlay4=function(){if(this.$PagesCoverOverlay2()){c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").PAGE_COVER_CTA_BUTTON,c("PageCallToActionRef").PAGES_COVER_AREA_SURFACE);c("PagesEventObserver").notify(c("PagesEventType").COVER_AREA_CTA_IMPRESSION,this.props.pageID);return c("React").createElement(c("PageCTAAction.react"),babelHelpers["extends"]({},this.props.primaryButton,{className:"_1kp2 _4i44 _291t",surface:c("PageCallToActionRef").PAGES_COVER_AREA_SURFACE}))}return null};n.prototype.$PagesCoverOverlay5=function(){if(!this.props.isEditable||!this.state.isEditing)return null;var o=this.$PagesCoverOverlay2();return c("React").createElement("div",null,c("React").createElement("textarea",{ref:function p(q){q&&q.focus()},className:"_4i4e"+(o?" _4i47":"")+(!o?" _4i4d":""),maxLines:"3",value:this.state.newDescription,onChange:this.$PagesCoverOverlay7,onKeyDown:this.$PagesCoverOverlay8}))};n.prototype.$PagesCoverOverlay6=function(){if(!this.props.isEditable||this.props.isPreviewMode||this.props.isLoading)return null;if(this.state.isEditing)return c("React").createElement("div",null,c("React").createElement("div",{className:"_4i4f"},c("React").createElement("div",{className:"_4i4g"},c("React").createElement(c("XUIText.react"),null,j._("{current_char_num} \/ {max_char_num}",[j._param("current_char_num",this.state.newDescription.length),j._param("max_char_num",m)])))),c("React").createElement("div",{className:"_4i4p"},c("React").createElement(c("ShimButton.react"),{className:"_4i4r",onClick:this.$PagesCoverOverlay9},c("React").createElement(c("Image.react"),{src:h("127524")})),c("React").createElement(c("ShimButton.react"),{className:"_4i4r",onClick:this.$PagesCoverOverlay10},c("React").createElement(c("Image.react"),{src:h("114570")}))));return c("React").createElement(c("ShimButton.react"),{className:"_4i4p",onClick:this.$PagesCoverOverlay11},c("React").createElement("div",{className:"_4i4r"},c("React").createElement(c("Image.react"),{src:h("115342")})),c("React").createElement("div",{className:"_4i4s",ref:"coverEditButton"},c("React").createElement(c("XUIText.react"),null,j._("Edit"))),this.$PagesCoverOverlay12())};n.prototype.$PagesCoverOverlay8=function(o){if(o.keyCode==13)o.preventDefault()};n.prototype.$PagesCoverOverlay2=function(){return!!this.props.primaryButton&&this.props.primaryButton.__typename==="PageCTAAction"};n.prototype.$PagesCoverOverlay12=function(){var o=c("React").createElement("div",{className:"_308b"},j._("Make it easy for people to see what's important and take action on your Page. You can edit or remove this new description anytime, and it won't affect other descriptions on your Page."));return c("React").createElement(c("XUIAmbientNUX.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},contextRef:function(){return this.refs.coverEditButton}.bind(this),onCloseButtonClick:this.$PagesCoverOverlay13,position:"above",alignment:"right",shown:this.state.shouldShowNUX},o)};n.prototype.$PagesCoverOverlay1=function(){if(this.props.isEditable)return!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").PAGES_COVER_DESCRIPTION_CREATION_NUX);return false};f.exports=n}),null);
__d("XPhotoPermalinkController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/{vanity}/photos/{?set_token}/{photo_id}/",{photo_id:{type:"Int"},set_token:{type:"String"},type:{type:"Enum",defaultValue:3,enumType:0},link_share:{type:"String"},subject:{type:"Int"},object_id:{type:"Int"},opaque_cursor:{type:"String"},legacy_user_id:{type:"Int"},legacy_photo_id:{type:"Int"},video_id:{type:"Int"},comment_id:{type:"Int"},notif_t:{type:"String"},is_notification_preview:{type:"Bool",defaultValue:false},force_theater:{type:"Bool",defaultValue:false},story_token:{type:"String"},vanity:{type:"String"},reply_comment_id:{type:"Int"}})}),null);
__d("PagesCoverPhotoLink.react",["cx","Link.react","React","XPhotoPermalinkController"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){if(j.coverPhotoData.uri===null||j.isLoading||j.isPreviewMode)return c("React").Children.only(j.children);return c("React").createElement(c("Link.react"),{className:"_5q-4",href:c("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",j.coverPhotoData.id).setString("vanity",j.pageID).getURI(),rel:"theater"},j.children)};f.exports=i}),null);
__d("XPagesCoverPhotoSaveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_photo_save/",{focus_x:{type:"Float",required:true},focus_y:{type:"Float",required:true},page_id:{type:"FBID",required:true},photo_id:{type:"FBID",required:true}})}),null);
__d("PagesCoverPhoto.react",["cx","ActorURI","AsyncRequest","PagesCoverAction","PagesCoverDispatcher","PagesCoverOverlay.react","PagesCoverPhotoLink.react","ProfileHeaderCoverPhoto.react","React","XPagesCoverPhotoSaveAsyncController","XPagesCoverReloadController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){if(!this.$PagesCoverPhoto1()&&!this.props.isEditable)return null;return c("React").createElement("div",{className:"_2g7o"},c("React").createElement(c("PagesCoverPhotoLink.react"),this.props,c("React").createElement("div",null,c("React").createElement(c("ProfileHeaderCoverPhoto.react"),{coverPhotoData:this.props.coverPhotoData,emptyCover:this.$PagesCoverPhoto2(),height:this.props.renderedHeight,isLoading:this.props.isLoading,previewCancelHandler:this.$PagesCoverPhoto3.bind(this),previewMode:this.props.isPreviewMode,previewSaveHandler:this.$PagesCoverPhoto4.bind(this),ref:"coverPhoto",width:this.props.renderedWidth}))),this.props.isOverlayEnabled?c("React").createElement(c("PagesCoverOverlay.react"),{pageID:this.props.pageID,primaryButton:this.props.pagePrimaryButton,description:this.props.pageDescription,isEditable:this.props.isEditable,isPreviewMode:this.props.isPreviewMode,isLoading:this.props.isLoading}):null)};k.prototype.$PagesCoverPhoto1=function(){return this.props.coverPhotoData.uri!==null};k.prototype.$PagesCoverPhoto2=function(){return c("React").createElement("div",{className:"_5_yy _44oa"})};k.prototype.$PagesCoverPhoto3=function(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").PHOTO_CANCEL});new(c("AsyncRequest"))().setURI(c("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI()).send()};k.prototype.$PagesCoverPhoto4=function(){var l=this.refs.coverPhoto.getDimensions().getRect().center;c("PagesCoverDispatcher").dispatch({data:{coverPhotoData:babelHelpers["extends"]({},this.props.coverPhotoData,{focus:{height:l.y,width:l.x}})},type:c("PagesCoverAction").PHOTO_SAVING});new(c("AsyncRequest"))().setURI(c("ActorURI").create(c("XPagesCoverPhotoSaveAsyncController").getURIBuilder().setFloat("focus_x",l.x).setFloat("focus_y",l.y).setFBID("page_id",this.props.pageID).setFBID("photo_id",this.props.coverPhotoData.id).getURI(),this.props.pageID)).send()};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("PagesCoverSlideshowButtonGroup.react",["cx","fbt","PagesCoverSlideshowActionCreator","React","SimpleXUIDialog","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$PagesCoverSlideshowButtonGroup1=function(){if(this.props.items.length===0)c("SimpleXUIDialog").show(i._("To save your slideshow, first add photos. To delete your cover photo, return to your Page and select Remove in the cover area."),i._("Slideshow Not Saved"));else if(this.$PagesCoverSlideshowButtonGroup2())c("SimpleXUIDialog").show(i._("You can't save duplicated photos in your slideshow."),i._("Duplicated Photo"));else{this.props.onSave();c("PagesCoverSlideshowActionCreator").onSlideshowSaving(this.props.pageID)}}.bind(this),o}m.prototype.$PagesCoverSlideshowButtonGroup2=function(){var n=this.props.items.map(function(o){return o.carouselData.coverPhotoData.id});return new Set(n).size!==n.length};m.prototype.render=function(){if(!this.props.isEditMode)return null;return c("React").createElement("span",{className:"_34p_"},c("React").createElement(c("XUIButton.react"),{disabled:!this.props.hasPendingChanges,label:i._("Cancel"),onClick:c("PagesCoverSlideshowActionCreator").confirmCancel,use:"default"}),c("React").createElement(c("XUIButton.react"),{disabled:!this.props.hasPendingChanges,label:i._("Save"),onClick:this.$PagesCoverSlideshowButtonGroup1,use:"confirm"}))};m.propTypes={pageID:l.string.isRequired,isEditMode:l.bool.isRequired,items:l.array.isRequired,onSave:l.func.isRequired,hasPendingChanges:l.bool.isRequired};f.exports=m}),null);
__d("PagesCoverSlideshowItemLoadingScreen.react",["cx","CenteredContainer.react","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){if(!j.shown)return null;return c("React").createElement(c("CenteredContainer.react"),{className:"_4g6t",fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))}f.exports=i}),null);
__d("XPagesCoverSlideshowSaveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_slideshow/save/",{})}),null);
__d("PagesCoverSlideshowCarousel.react",["ix","cx","invariant","AsyncRequest","Image.react","Link.react","PagesCoverSlideshowActionCreator","PagesCoverSlideshowButtonGroup.react","PagesCoverSlideshowItemLoadingScreen.react","ProfileHeaderCoverPhoto.react","React","XPagesCoverSlideshowSaveAsyncController","XPhotoPermalinkController","XUICarousel.react","XUICarouselArrow.react","XUICarouselItem.react","XUICarouselLinks.react","asset","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n={focus:{height:0,width:0},id:"0",original:{height:0,width:0},uri:null},o=820,p=312;k=babelHelpers.inherits(q,c("React").PureComponent);l=k&&k.prototype;function q(r){__p&&__p();l.constructor.call(this,r);this.state={showCarouselDotsIndicator:false};this.$PagesCoverSlideshowCarousel4=function(s){this.$PagesCoverSlideshowCarousel1=s;if(this.$PagesCoverSlideshowCarousel1){this.$PagesCoverSlideshowCarousel2=this.$PagesCoverSlideshowCarousel1.subscribe(["animation_start"],function(t,u){if(t==="animation_start")c("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,u)}.bind(this));this.setState({showCarouselDotsIndicator:this.props.items.length>1})}}.bind(this);this.$PagesCoverSlideshowCarousel7=function(){__p&&__p();var s=[],t=[],u=[];for(var v=0;v<this.props.items.length;v++){var w=this.props.items[v],x=w.carouselData.coverPhotoData.id,y=this.$PagesCoverSlideshowCarousel3.get(x);!!y||j(0);var z=y.getDimensions().getRect().center;s.push(x);t.push(z.x);u.push(z.y)}var A=c("XPagesCoverSlideshowSaveAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(A).setData({page_id:this.props.pageID,photo_id_vector:s,focus_x_vector:t,focus_y_vector:u,is_content_optimizer_on:this.props.isContentOptimizerOn}).send()}.bind(this);this.$PagesCoverSlideshowCarousel3=new Map()}q.prototype.UNSAFE_componentWillReceiveProps=function(r){if(this.$PagesCoverSlideshowCarousel1&&r.currentIndex!==this.props.currentIndex)this.$PagesCoverSlideshowCarousel1.setIndex(r.currentIndex)};q.prototype.componentWillUnmount=function(){if(this.$PagesCoverSlideshowCarousel1&&this.$PagesCoverSlideshowCarousel2)this.$PagesCoverSlideshowCarousel1.unsubscribe(this.$PagesCoverSlideshowCarousel2)};q.prototype.$PagesCoverSlideshowCarousel5=function(){if(!this.$PagesCoverSlideshowCarousel1||!this.state.showCarouselDotsIndicator)return null;return c("React").createElement(c("XUICarouselLinks.react"),{carousel:this.$PagesCoverSlideshowCarousel1,className:"_2yih"})};q.prototype.$PagesCoverSlideshowCarousel6=function(r,s){if(!s)return;this.$PagesCoverSlideshowCarousel3.set(r,s)};q.prototype.render=function(){var r=c("React").createElement(c("XUICarouselArrow.react"),{className:"_3-9a"},c("React").createElement(c("Image.react"),{src:h("480582")})),s=c("React").createElement(c("XUICarouselArrow.react"),{className:"_3-90"},c("React").createElement(c("Image.react"),{src:h("480590")})),t=this.props.items.map(function(u,v){var w=u.carouselData,x=c("React").createElement(c("ProfileHeaderCoverPhoto.react"),{coverPhotoData:w.coverPhotoData,height:w.renderedHeight,hideDefaultButtons:true,isLoading:w.isLoading,onMove:c("PagesCoverSlideshowActionCreator").onItemRepositioned,previewCancelHandler:c("emptyFunction"),previewMode:this.props.isEditMode,previewSaveHandler:c("emptyFunction"),ref:function(y){return this.$PagesCoverSlideshowCarousel6(w.coverPhotoData.id,y)}.bind(this),width:w.renderedWidth});if(!this.props.isEditMode)x=c("React").createElement(c("Link.react"),{className:"_5q-4",href:c("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",w.coverPhotoData.id).setString("vanity",this.props.pageID).setString("set_token","p."+w.coverPhotoData.id).getURI(),rel:"theater"},x);return c("React").createElement(c("XUICarouselItem.react"),{className:"_626d",key:w.coverPhotoData.id},x,c("React").createElement(c("PagesCoverSlideshowItemLoadingScreen.react"),{shown:!!u.shouldShowLoadingIndicator}))}.bind(this));if(t.length===0)t.push(c("React").createElement(c("XUICarouselItem.react"),{className:"_626d",key:"empty_cover_photo_placeholder"},c("React").createElement(c("ProfileHeaderCoverPhoto.react"),{coverPhotoData:n,emptyCover:c("React").createElement("div",{className:"_5_yy _44oa"}),height:p,hideDefaultButtons:true,isLoading:false,previewCancelHandler:c("emptyFunction"),previewMode:false,previewSaveHandler:c("emptyFunction"),width:o})));return c("React").createElement("div",null,c("React").createElement(c("XUICarousel.react"),{arrows:this.state.showCarouselDotsIndicator?[r,s]:null,initialAutoplay:false,initialIndex:this.props.currentIndex,ref:this.$PagesCoverSlideshowCarousel4,resizeViewport:"fixed",viewportHeight:p,wrapAround:true},t),this.$PagesCoverSlideshowCarousel5(),c("React").createElement(c("PagesCoverSlideshowButtonGroup.react"),babelHelpers["extends"]({},this.props,{onSave:this.$PagesCoverSlideshowCarousel7})))};q.propTypes={items:m.array.isRequired,maxNumberOfPhotosInSlideshow:m.number.isRequired,photoPreviewData:m.object,currentIndex:m.number.isRequired,isEditMode:m.bool.isRequired,hasPendingChanges:m.bool.isRequired,isContentOptimizerOn:m.bool.isRequired};f.exports=q}),null);
__d("PagesCoverSlideshowItemEditMenu.react",["cx","fbt","ActorURI","ContextualDialogArrow","FileInput.react","FileInputUploader","PagesCoverSlideshowActionCreator","ReactXUIMenu","PhotoBrowserDialogEndpointType","PhotoBrowserDialogPhotoGeneratorType","PopoverMenu.react","React","XPhotoBrowserDialogController","ReactDOM","XPagesCoverPhotoUploadAsyncController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("ReactXUIMenu").Item,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$PagesCoverSlideshowItemEditMenu2=function(t){this.$PagesCoverSlideshowItemEditMenu1=t}.bind(this),this.$PagesCoverSlideshowItemEditMenu3=function(){var t=c("ActorURI").create(c("XPagesCoverPhotoUploadAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).setString("ref","pages_cover_slideshow_ref").setInt("index",this.props.index).getURI(),this.props.pageID),u=c("ReactDOM").findDOMNode(this.$PagesCoverSlideshowItemEditMenu1);new(c("FileInputUploader"))(u).setURI(t).setAllowCrossOrigin(true).send();c("PagesCoverSlideshowActionCreator").onPhotoUploading(this.props.index)}.bind(this),this.$PagesCoverSlideshowItemEditMenu4=function(){c("PagesCoverSlideshowActionCreator").onPhotoRemoved(this.props.index)}.bind(this),p}n.prototype.componentDidMount=function(){if(this.props.index!==0)return;var o=c("ReactDOM").findDOMNode(this);if(!(o instanceof Element)||!this.props.hasItem)return;c("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(o,2,i._("To choose your slideshow manually, add a new photo or choose an existing one. Slideshow images must be at least 820 pixels wide and 312 pixels tall."),"below")};n.prototype.$PagesCoverSlideshowItemEditMenu5=function(){var o=c("XPhotoBrowserDialogController").getURIBuilder().setEnum("endpoint",c("PhotoBrowserDialogEndpointType").PAGES_COVER_SLIDESHOW_JS).setEnum("generator",c("PhotoBrowserDialogPhotoGeneratorType").PAGE).setString("data","pages_cover_photo").setInt("id",this.props.pageID).setString("data",""+this.props.index).getURI();return c("React").createElement(l,{href:o,rel:"dialog"},i._("Choose From Photos"))};n.prototype.$PagesCoverSlideshowItemEditMenu6=function(){return c("React").createElement(l,{renderas:"label"},c("React").createElement(c("FileInput.react"),{accept:"image/*",display:"inline-block",name:"pages_cover_slideshow_photo_uploader",onChange:this.$PagesCoverSlideshowItemEditMenu3,ref:this.$PagesCoverSlideshowItemEditMenu2},c("React").createElement("a",{className:"_2ojv",href:"#"},i._("Upload Photo"))))};n.prototype.$PagesCoverSlideshowItemEditMenu7=function(){if(!this.props.hasItem)return null;return c("React").createElement(l,{onClick:this.$PagesCoverSlideshowItemEditMenu4},i._("Remove"))};n.prototype.$PagesCoverSlideshowItemEditMenu8=function(){return c("React").createElement(c("ReactXUIMenu"),null,this.$PagesCoverSlideshowItemEditMenu5(),this.$PagesCoverSlideshowItemEditMenu6(),this.$PagesCoverSlideshowItemEditMenu7())};n.prototype.render=function(){return c("React").createElement(c("PopoverMenu.react"),{layerBehaviors:[c("ContextualDialogArrow")],menu:this.$PagesCoverSlideshowItemEditMenu8(),position:"below"},this.props.icon)};n.propTypes={index:m.number.isRequired,pageID:m.string.isRequired,icon:m.object.isRequired,hasItem:m.bool.isRequired};f.exports=n}),null);
__d("PagesCoverSlideshowPlaceholder.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){return c("React").createElement("div",{className:"_2aou",key:"placeholder"},c("React").createElement("div",{className:"_2ap1",style:{height:j.thumbnailHeight,width:j.thumbnailWidth}}))}f.exports=i}),null);
__d("PagesCoverSlideshowPlaceholderWithPicker.react",["ix","cx","fbt","CenteredContainer.react","Image.react","Link.react","PagesCoverSlideshowActionCreator","PagesCoverSlideshowItemEditMenu.react","React","ReactDOM","XUISpinner.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;n.prototype.$PagesCoverSlideshowPlaceholderWithPicker1=function(){if(this.props.shouldShowLoadingScreenOnPickerPlaceholder)return null;var o=c("React").createElement(c("CenteredContainer.react"),{className:"_30i-",style:{height:this.props.thumbnailHeight,width:this.props.thumbnailWidth},vertical:true},c("React").createElement(c("Image.react"),{src:h("123419")}));return c("React").createElement(c("PagesCoverSlideshowItemEditMenu.react"),{hasItem:false,icon:o,index:this.props.index,pageID:this.props.pageID})};n.prototype.$PagesCoverSlideshowPlaceholderWithPicker2=function(){if(!this.props.shouldShowLoadingScreenOnPickerPlaceholder)return null;return c("React").createElement(c("CenteredContainer.react"),{className:"_30i-",style:{height:this.props.thumbnailHeight,width:this.props.thumbnailWidth},vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))};n.prototype.render=function(){return c("React").createElement("div",{className:"_2aou",key:"picker"},c("React").createElement(c("Link.react"),null,this.$PagesCoverSlideshowPlaceholderWithPicker1(),this.$PagesCoverSlideshowPlaceholderWithPicker2()))};function n(){k.apply(this,arguments)}n.propTypes={index:m.number.isRequired,pageID:m.string.isRequired,thumbnailHeight:m.number.isRequired,thumbnailWidth:m.number.isRequired,shouldShowLoadingScreenOnPickerPlaceholder:m.bool.isRequired};f.exports=n}),null);
__d("PagesCoverSlideshowThumbnailItem.react",["cx","BackgroundImage.react","Link.react","PagesCoverSlideshowActionCreator","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PagesCoverSlideshowThumbnailItem1=function(){c("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,this.props.index)}.bind(this),n}l.prototype.render=function(){return c("React").createElement("div",{className:"_2aou",key:this.props.thumbnailURI},c("React").createElement(c("Link.react"),{onClick:this.$PagesCoverSlideshowThumbnailItem1},c("React").createElement(c("BackgroundImage.react"),{alt:"pages_cover_photo_thumbnail",backgroundSize:"cover",className:this.props.isCurrent?"_4bou":"",height:this.props.thumbnailHeight,src:this.props.thumbnailURI,width:this.props.thumbnailWidth})))};l.propTypes={index:k.number.isRequired,isCurrent:k.bool.isRequired,pageID:k.string.isRequired,thumbnailWidth:k.number.isRequired,thumbnailHeight:k.number.isRequired,thumbnailURI:k.string.isRequired};f.exports=l}),null);
__d("PagesCoverSlideshowEditBar.react",["ix","cx","fbt","invariant","FBCircularGlyph.react","FBDraggableBar.react","FBDraggableItem.react","FBToggleSwitch.react","PagesCoverSlideshowActionCreator","PagesCoverSlideshowItemEditMenu.react","PagesCoverSlideshowPlaceholder.react","PagesCoverSlideshowPlaceholderWithPicker.react","PagesCoverSlideshowThumbnailItem.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes;l=babelHelpers.inherits(o,c("React").PureComponent);m=l&&l.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.$PagesCoverSlideshowEditBar3=function(u){u||u===0||k(0);c("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,u)}.bind(this),this.$PagesCoverSlideshowEditBar4=function(u){c("PagesCoverSlideshowActionCreator").toggleContentOptimizer(this.props.pageID,u)}.bind(this),this.$PagesCoverSlideshowEditBar5=function(u,v){c("PagesCoverSlideshowActionCreator").reorderSlideshowItems(u,v,this.props.pageID)}.bind(this),q}o.prototype.$PagesCoverSlideshowEditBar1=function(p){if(!p)return;c("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(p,1,j._("You can rearrange the order of your slideshow by dragging the photos to the position where you want them."),"below")};o.prototype.$PagesCoverSlideshowEditBar2=function(p){if(!p)return;c("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(p,4,j._("To help get you started, we've chosen photos based on what performs well. If you let Facebook choose your slideshow, the photos may update based on your Page activity."),"left")};o.prototype.render=function(){__p&&__p();if(!this.props.isEditMode)return null;var p=this.props.items.map(function(t,s){var u=t.thumbnailData;return c("React").createElement(c("FBDraggableItem.react"),{index:s,key:u.thumbnailURI,onGrab:this.$PagesCoverSlideshowEditBar3},c("React").createElement(c("PagesCoverSlideshowThumbnailItem.react"),babelHelpers["extends"]({index:s,isCurrent:s===this.props.currentIndex,pageID:this.props.pageID},u)),c("React").createElement("div",{className:"_37bb"},c("React").createElement(c("PagesCoverSlideshowItemEditMenu.react"),babelHelpers["extends"]({},u,{hasItem:true,icon:c("React").createElement(c("FBCircularGlyph.react"),{circleSize:18,className:"_4boy",glyph:h("113738")}),index:s,pageID:this.props.pageID}))))}.bind(this)),q=[],r=this.props.maxNumberOfPhotosInSlideshow-p.length;if(r>0)q.push(c("React").createElement(c("PagesCoverSlideshowPlaceholderWithPicker.react"),{index:p.length,key:"pages_cover_slideshow_picker",pageID:this.props.pageID,shouldShowLoadingScreenOnPickerPlaceholder:this.props.shouldShowLoadingScreenOnPickerPlaceholder,thumbnailHeight:this.props.thumbnailHeight,thumbnailWidth:this.props.thumbnailWidth}));var s=p.length+q.length;while(q.length<r){q.push(c("React").createElement(c("PagesCoverSlideshowPlaceholder.react"),{key:"pages_cover_slideshow_placeholder"+s,thumbnailHeight:this.props.thumbnailHeight,thumbnailWidth:this.props.thumbnailWidth}));s++}return c("React").createElement("div",{ref:this.$PagesCoverSlideshowEditBar1},c("React").createElement("div",{className:"_3rgb"},j._("Choose photos you'd like to feature in your cover slideshow"),c("React").createElement("span",{className:"_3rgc",ref:this.$PagesCoverSlideshowEditBar2},c("React").createElement("span",{className:"_3-8s"},j._("Let Facebook Choose Photos")),c("React").createElement(c("FBToggleSwitch.react"),{animate:true,checked:this.props.isContentOptimizerOn,onToggle:this.$PagesCoverSlideshowEditBar4,tooltip:j._("Facebook can select photos for you based on what performs well. These photos may update based on your Page activity. To create your own slideshow, add or edit photos.")}))),c("React").createElement("div",{className:"_3rgd"},c("React").createElement(c("FBDraggableBar.react"),{onReorder:this.$PagesCoverSlideshowEditBar5},p),q))};o.propTypes={pageID:n.string.isRequired,items:n.array.isRequired,isEditMode:n.bool.isRequired,maxNumberOfPhotosInSlideshow:n.number.isRequired,currentIndex:n.number.isRequired,thumbnailHeight:n.number.isRequired,thumbnailWidth:n.number.isRequired,isContentOptimizerOn:n.bool.isRequired,shouldShowLoadingScreenOnPickerPlaceholder:n.bool.isRequired};f.exports=o}),null);
__d("PagesCoverSlideshowNUXTour.react",["AdsBlueTipTour.react","BasicFBNux","LayerFadeOnShow","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.prototype.$PagesCoverSlideshowNUXTour1=function(){c("BasicFBNux").onDismiss(5385)};k.prototype.$PagesCoverSlideshowNUXTour2=function(l){if(!l)return;c("BasicFBNux").onView(5385)};k.prototype.render=function(){if(this.props.steps.length===0||!this.props.shown)return null;var l=this.props.steps.map(function(m){return{content:m.description,context:m.context,position:m.position}});return c("React").createElement(c("AdsBlueTipTour.react"),{behaviors:{LayerFadeOnShow:c("LayerFadeOnShow")},highlightContext:false,onComplete:this.$PagesCoverSlideshowNUXTour1,onXOut:this.$PagesCoverSlideshowNUXTour1,ref:this.$PagesCoverSlideshowNUXTour2,steps:l})};function k(){h.apply(this,arguments)}k.propTypes={shown:j.bool.isRequired,steps:j.array.isRequired};f.exports=k}),null);
__d("PagesCoverSlideshow.react",["cx","PagesCoverSlideshowActionCreator","PagesCoverSlideshowCarousel.react","PagesCoverSlideshowEditBar.react","PagesCoverSlideshowItemLoadingScreen.react","PagesCoverSlideshowNUXTour.react","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PagesCoverSlideshow1=function(){if(this.props.hasPendingChanges)c("PagesCoverSlideshowActionCreator").confirmCancel();else c("PagesCoverSlideshowActionCreator").onEditingCancelled()}.bind(this),n}l.prototype.componentDidMount=function(){if(!this.props.isEditMode)c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW)};l.prototype.render=function(){if(!this.props.isCoverSlideshowEnabled)return null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_626c"},c("React").createElement(c("PagesCoverSlideshowEditBar.react"),this.props),c("React").createElement(c("PagesCoverSlideshowCarousel.react"),this.props),c("React").createElement(c("PagesCoverSlideshowNUXTour.react"),{shown:this.props.shouldShowNUXTour&&this.props.isEditMode,steps:this.props.nuxTourSteps}),c("React").createElement(c("PagesCoverSlideshowItemLoadingScreen.react"),{shown:this.props.showLoadingScreen})),c("React").createElement("div",{className:this.props.isEditMode?"_i5t":"",onClick:this.$PagesCoverSlideshow1,role:"link",tabIndex:0}))};l.propTypes={pageID:k.string.isRequired,isCoverSlideshowEnabled:k.bool.isRequired,hasPendingChanges:k.bool.isRequired,shouldShowNUXTour:k.bool.isRequired,nuxTourSteps:k.array.isRequired,showLoadingScreen:k.bool.isRequired,isEditMode:k.bool.isRequired};f.exports=l}),null);
__d("PagesCoverVideoPlayer.react",["Bootloader","CoverVideoUtil","OnVisible.react","PagesEventObserver","PagesEventType","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","ReactDOM","SubscriptionsHandler","URI","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentWithLoopingPlayback.react","VideoPlayer.react","VideoPlayerLoggerSource","VideoPlayerReason"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=-100;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(l){__p&&__p();i.constructor.call(this,l);this.$PagesCoverVideoPlayer5=function(){var m=this.$PagesCoverVideoPlayer2;if(!m.vpc.isState("playing")&&!m.vpc.isState("finished"))m.vpc.play(c("VideoPlayerReason").PAGE_VISIBILITY)}.bind(this);this.$PagesCoverVideoPlayer6=function(){var m=this.$PagesCoverVideoPlayer2;if(m.vpc.isState("playing"))m.vpc.pause(c("VideoPlayerReason").PAGE_VISIBILITY)}.bind(this);this.state={offsetType:null,offsetValue:null,videoData:null};this.$PagesCoverVideoPlayer1=new(c("SubscriptionsHandler"))()}k.prototype.componentDidMount=function(){if(this.props.videoID)c("CoverVideoUtil").fetchCoverVideoData(this.props.videoID).then(function(l){return this.setState(babelHelpers["extends"]({},l))}.bind(this)).done()};k.prototype.shouldComponentUpdate=function(l,m){var n=m.videoData;return!!n&&n.getVideoID()===l.videoID};k.prototype.UNSAFE_componentWillReceiveProps=function(l){if(l.videoID&&this.props.videoID!==l.videoID)c("CoverVideoUtil").fetchCoverVideoData(l.videoID).then(function(m){return this.setState(babelHelpers["extends"]({},m))}.bind(this)).done()};k.prototype.componentWillUnmount=function(){this.$PagesCoverVideoPlayer1.release()};k.prototype.$PagesCoverVideoPlayer3=function(){c("PagesEventObserver").notify(c("PagesEventType").COVER_VIDEO_CLICK,this.props.pageID,{video_id:this.props.videoID});c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGES_COVER_VIDEO,"page_header",["Pages","Pages: Engagement","pages web + m-site","pages surface"],{video_id:this.props.videoID})};k.prototype.$PagesCoverVideoPlayer4=function(){c("PagesEventObserver").notify(c("PagesEventType").COVER_VIDEO_IMPRESSION,this.props.pageID,{video_id:this.props.videoID});c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").PAGES_COVER_VIDEO,"page_header",["Pages","Pages: Engagement","pages web + m-site","pages surface"],{video_id:this.props.videoID})};k.prototype.render=function(){__p&&__p();var l=this.state,m=l.offsetType,n=l.offsetValue,o=l.videoData;if(m===null||n===null||!o)return null;var p=this.props.shouldHideSoundControl?null:c("React").createElement(c("VideoComponentEmbeddedControls.react"),{hidePlaybackControl:false,hidePlaybackScrubber:true,hideRemainingTime:true,showFullscreenButton:false,showSettingsButton:false}),q=this.props.shouldCoverVideoLoop?c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),{infiniteLooping:true}):null;this.$PagesCoverVideoPlayer4();return c("React").createElement(c("OnVisible.react"),{buffer:j,onHidden:this.$PagesCoverVideoPlayer6,onVisible:this.$PagesCoverVideoPlayer5},c("React").createElement(c("VideoPlayer.react"),{allowCrossPageTransition:true,autoplay:true,forceHD:true,height:this.props.containerHeight,offsetType:m,offsetValue:n,onVideoClick:function(){var r=this.props,s=r.videoLinkData,t=r.playerOrigin;if(!s)return;if(this.$PagesCoverVideoPlayer2&&this.$PagesCoverVideoPlayer2.vpc&&!this.$PagesCoverVideoPlayer2.vpc.isState("playing"))return;var u=s.channelCaller;c("Bootloader").loadModules(["TahoeController"],function(v){v.openFromVideoLink(new(c("URI"))(s.href),{channelID:s.channelID,caller:u,origin:t})},"PagesCoverVideoPlayer.react")}.bind(this),playerOrigin:this.props.playerOrigin,subOrigin:c("VideoPlayerLoggerSource").PAGES_COVER,ref:function(r){var s=c("ReactDOM").findDOMNode(r);if(!(s&&s instanceof Element))return;this.$PagesCoverVideoPlayer2=r;r.vpc&&r.vpc.setAllowCrossPageTransition(true)}.bind(this),startMuted:true,videoData:o,width:this.props.containerWidth},p,q,c("React").createElement(c("VideoComponentPlayButton.react"),{alsoVisibleWhen:"finished"})))};f.exports=k}),null);
__d("PagesLiveCoverVideo.react",["React","VideoComponentContextMenu.react","VideoComponentCover.react","VideoComponentDebugOverlay.react","VideoComponentEmbeddedControls.react","VideoComponentErrorOverlay.react","VideoComponentLiveEndScreen.react","VideoComponentLiveInterruptedScreen.react","VideoComponentLiveVideoIndicator.react","VideoComponentPlayButton.react","VideoComponentStreamingReactionTray.react","VideoComponentVolumeStorage.react","VideoComponentWithFallbackMode.react","VideoComponentWithLiveBroadcast.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerOrigins"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("VideoDataContainer.react"),{videoID:this.props.videoID},c("React").createElement(c("VideoPlayer.react"),{autoplay:true,height:this.props.renderedHeight,playerOrigin:c("VideoPlayerOrigins").INTERN,startMuted:true,videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER},c("React").createElement(c("VideoComponentEmbeddedControls.react"),{showSettingsButton:true}),c("React").createElement(c("VideoComponentWithLiveBroadcast.react"),null),c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentCover.react"),null),c("React").createElement(c("VideoComponentLiveVideoIndicator.react"),null),c("React").createElement(c("VideoComponentDebugOverlay.react"),null),c("React").createElement(c("VideoComponentContextMenu.react"),null),c("React").createElement(c("VideoComponentLiveInterruptedScreen.react"),null),c("React").createElement(c("VideoComponentLiveEndScreen.react"),null),c("React").createElement(c("VideoComponentStreamingReactionTray.react"),null),c("React").createElement(c("VideoComponentVolumeStorage.react"),null),c("React").createElement(c("VideoComponentWithFallbackMode.react"),null),c("React").createElement(c("VideoComponentErrorOverlay.react"),null)))};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("ShowmarkErrorDialog.react",["cx","ix","fbt","Image.react","Layout.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Layout.react").Column,n=500;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.hide=function(){this.setState({shown:false})}.bind(this);this.state={shown:false}}o.prototype.$ShowmarkErrorDialog1=function(){if(this.props.validationFailure==="transparent_and_white")return j._("A showmark must be an all-white graphic on a transparent background.");return null};o.prototype.$ShowmarkErrorDialog2=function(){if(this.props.validationFailure==="transparent_and_white")return j._("Your showmark Can't be Added in This Format");return null};o.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{shown:this.state.shown,hideOnEscape:false,layerHideOnBlur:false,width:n},c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement(c("Layout.react"),null,c("React").createElement(m,null,c("React").createElement(c("Image.react"),{className:"_3-90",src:i("26339")})),c("React").createElement(m,null,this.$ShowmarkErrorDialog2()))),c("React").createElement(c("XUIDialogBody.react"),null,this.$ShowmarkErrorDialog1(),c("React").createElement("div",{display:"block",className:"_3-8x"},j._("Make sure your showmark meets these requirements and try again."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:j._("OK"),onClick:this.hide})))};o.prototype.show=function(){this.setState({shown:true})};f.exports=o}),null);
__d("ShowmarkTemplate",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({RALEWAY:"RALEWAY",ASAPCONDENSED:"ASAPCONDENSED",MONTSERRAT:"MONTSERRAT",NOTOSERIF:"NOTOSERIF",ROBOTOSLAB:"ROBOTOSLAB",FREDOKAONE:"FREDOKAONE"})}),null);
__d("ShowmarkTemplateFontConfig",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({ASAPCONDENSED:"Asap Condensed Medium",FREDOKAONE:"Fredoka One Regular",MONTSERRAT:"Montserrat Regular",NOTOSERIF:"Noto Serif Bold",RALEWAY:"Raleway ExtraBold",ROBOTOSLAB:"Roboto Slab Bold"});f.exports=h}),null);
__d("VideoShowsLogoFileInput.react",["FileInput.react","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("FileInput.react"),{accept:"image/png",multiple:false,onChange:this.props.onFileChange,containerClassName:this.props.className},this.props.children)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("XShowsLogoUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/showpages/logo/upload/",{page_id:{type:"FBID"},crop_window:{type:"IntVector"},file_data_url:{type:"String"}})}),null);
__d("VideoShowsLogoUploadDialog.react",["ix","cx","fbt","cssVar","ActorURI","AdsXUIProgressBar.react","DOM","FileInputUploader","Image.react","Layout.react","LeftRight.react","React","ReactDOM","ShowCreationFlowStep","ShowCreationFlowTypedLogger","ShowsConfig","ShowmarkErrorDialog.react","Text","VideoShowsLogoFileInput.react","XShowsLogoUploadController","XUICard.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUIText.react","XUINotice.react","XUISpinner.react","PhotoZoomCropImagePreview.react","XUIButton.react","PhotoZoomCropDimensions","BasicVector","Link.react","ShowmarkTemplate","ShowmarkTemplateFontConfig","Grid.react","XUITextInput.react","canvasToBlob","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("Grid.react").GridItem,o=c("Layout.react").Column,p=c("Layout.react").FillColumn,q=900,r=270,s=84,t=144,u=45,v=24,w=3,x=720,y=225,z=215,A=110;l=babelHelpers.inherits(B,c("React").Component);m=l&&l.prototype;function B(C){__p&&__p();m.constructor.call(this,C);this.$VideoShowsLogoUploadDialog2=function(event){this.setState({uploadState:"loading"})}.bind(this);this.$VideoShowsLogoUploadDialog3=function(event){__p&&__p();var D=event.currentTarget.result,E=new Image();E.src=D;E.onload=function(){__p&&__p();var F=document.createElement("canvas");F.width=E.width;F.height=E.height;var G=F.getContext("2d");if(G==undefined)return;G.drawImage(E,0,0);var H=G.getImageData(0,0,E.width,E.height),I=H.data,J=0,K=0,L=c("ShowsConfig").countThreshold,M=E.width,N=0,O=E.height,P=0;for(var Q=0;Q<E.height;Q++)for(var R=0;R<E.width;R++){var S=E.width*Q+R,T=4*S;if(I[T+3]!=0){J++;if(R<M)M=R;if(R>N)N=R;if(Q<O)O=Q;if(Q>P)P=Q;var U=I[T],V=I[T+1],W=I[T+2],X=.2126*U+.7152*V+.0722*W;if(X>=250)K++}}if(J===E.width*E.height||J*L>=K*100){if(J===E.width*E.height)this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_INVALID,new Map([["reason","Not transparent"]]));else this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_INVALID,new Map([["reason","Not white"],["non transparent pixels",J],["whitePixels",K]]));var Y=c("React").createElement(c("ShowmarkErrorDialog.react"),{validationFailure:"transparent_and_white"});Y=c("ReactDOM").render(Y,c("DOM").create("div"));Y.show();this.setState({uploadState:null,url:null});return}var Z=null,$=null;if(M!==0||N!==E.width-1||O!==0||P!==E.height-1){$=[M,O,N,P];Z=new(c("PhotoZoomCropDimensions"))(new(c("BasicVector"))(E.width,E.height));Z.setCenter((M+N)/E.width/2,(O+P)/E.height/2);Z=this.$VideoShowsLogoUploadDialog5(Z,$,r,s);this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_UPLOAD_CROPPED,{cropWindow:JSON.stringify($)})}this.setState({uploadState:"success",url:D,cropDims:Z,cropWindow:$})}.bind(this)}.bind(this);this.$VideoShowsLogoUploadDialog6=function(event){this.setState({uploadState:"failed"})}.bind(this);this.$VideoShowsLogoUploadDialog22=function(){this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_CREATION_TOGGLE,new Map([["is_creation",!this.state.useCreationTool]]));var D=!this.state.useCreationTool;if(D)this.$VideoShowsLogoUploadDialog23();this.setState({useCreationTool:D,templateSelected:D?c("ShowmarkTemplate").RALEWAY:null})}.bind(this);this.$VideoShowsLogoUploadDialog27=function(event){var D=event.currentTarget.value;if(D.length<=v)this.setState({templateText:D},this.$VideoShowsLogoUploadDialog26)}.bind(this);this.$VideoShowsLogoUploadDialog26=function(){__p&&__p();var D=this.state,E=D.templateSelected,F=D.templateText;if(!E||F.length<w||F.length>v)return;var G=c("DOM").create("canvas");G.width=x;G.height=y;var H=G.getContext("2d");H.fillStyle="#ffffff";H.textAlign="left";H.textBaseline="bottom";var I=z;H=this.$VideoShowsLogoUploadDialog28(H,I,E);while(H.measureText(F).width>x&&I>A){I--;H=this.$VideoShowsLogoUploadDialog28(H,I,E)}if(H.measureText(F).width<=x)H.fillText(F,0,y);else{var J=F.split(" "),K="";for(var L=J,M=Array.isArray(L),N=0,L=M?L:L[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var O;if(M){if(N>=L.length)break;O=L[N++]}else{N=L.next();if(N.done)break;O=N.value}var P=O;if(H.measureText(K+P).width<=x)K+=P+" ";else break}K=K.trim();var Q=F.slice(K.length).trim();if(H.measureText(Q).width>x){while(H.measureText(K+F[K.length]).width<=x)K+=F[K.length];Q=F.slice(K.length).trim();while(H.measureText(Q).width>x)Q=Q.slice(0,-1)}H.fillText(K,0,y-I);H.fillText(Q,0,y)}c("canvasToBlob")(G,"image/png").then(function(R){var S=new FileReader();S.onload=function(T){this.$VideoShowsLogoUploadDialog3(T);this.setState({file:new File([R],"temp-showmark.png"),fileInput:c("ReactDOM").findDOMNode(this.refs.showmarkCreationFileInput),fileDataURL:G.toDataURL()})}.bind(this);S.onprogress=this.$VideoShowsLogoUploadDialog2;S.onerror=this.$VideoShowsLogoUploadDialog6;S.readAsDataURL(R)}.bind(this)).done()}.bind(this);this.$VideoShowsLogoUploadDialog23=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").SHOWMARK_CREATION_TOOL_NUX);this.setState({creationToolNuxShown:false})}.bind(this);this.$VideoShowsLogoUploadDialog35=function(){__p&&__p();this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_UPLOAD_CLICKED,{cropWindow:JSON.stringify(this.state.cropWindow)});if(this.state.useCreationTool)this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_CREATION_UPLOAD,new Map([["template",this.state.templateSelected],["template_text",this.state.templateText]]));if(this.state.fileInput){this.setState({uploadToServerState:"loading"});var D=c("XShowsLogoUploadController").getURIBuilder().setFBID("page_id",this.props.pageID);if(this.state.cropWindow)D.setIntVector("crop_window",this.state.cropWindow);D=c("ActorURI").create(D.getURI(),this.props.pageID);var E=new(c("FileInputUploader"))(this.state.fileInput).setURI(D).setFiles({file:this.state.file}).setData({file_data_url:this.state.fileDataURL});E.subscribe("success",function(F,G){this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_UPLOAD_SUCCESS,new Map([["photo_id",G.photoID]]));this.setState({uploadToServerState:"success"});this.props.onSuccess()}.bind(this));E.subscribe("failure",function(F,G){this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_UPLOAD_FAILED);this.setState({uploadToServerState:"failed"})}.bind(this));E.send()}}.bind(this);this.$VideoShowsLogoUploadDialog36=function(){this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_DIALOG_CLOSED);this.props.hideDialog()}.bind(this);this.state={file:null,fileInput:null,fileDataURL:null,uploadToServerState:null,uploadState:null,url:C.existingLogoUrl,cropDims:null,cropWindow:null,useCreationTool:false,templateSelected:null,templateText:C.pageName.substr(0,v),creationToolNuxShown:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").SHOWMARK_CREATION_TOOL_NUX)}}B.prototype.$VideoShowsLogoUploadDialog1=function(C){var D=C.files;if(!D||!D[0])return null;return D[0]};B.prototype.$VideoShowsLogoUploadDialog7=function(event,C){__p&&__p();event.preventDefault();var D=event.target,E=this.$VideoShowsLogoUploadDialog1(D);this.setState({fileInput:D,file:E});if(!E)return;var F=new FileReader();F.onload=this.$VideoShowsLogoUploadDialog3;F.onprogress=this.$VideoShowsLogoUploadDialog2;F.onerror=this.$VideoShowsLogoUploadDialog6;F.readAsDataURL(E);if(C)this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_FILE_SELECTED);else this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_FILE_CHANGED)};B.prototype.$VideoShowsLogoUploadDialog8=function(){return j._("Add Your Showmark")};B.prototype.$VideoShowsLogoUploadDialog9=function(){return j._("Showmarks highlight your show's brand. Your showmark appears as an overlay on top of your videos and thumbnails in the lower-left corner. Your showmark should be unique to your show.")};B.prototype.$VideoShowsLogoUploadDialog4=function(C,D){var E=new(c("ShowCreationFlowTypedLogger"))().setStep(C).setPageID(this.props.pageID);if(D)E=E.updateExtraData(D);E.log()};B.prototype.$VideoShowsLogoUploadDialog10=function(){return c("React").createElement("div",{className:"_45l_"},c("React").createElement(c("Layout.react"),null,c("React").createElement(o,null,c("React").createElement("div",{className:"_2gsu"},c("React").createElement(c("Image.react"),{className:"_45m2",src:h("134353")}))),c("React").createElement(p,null,c("React").createElement("div",{className:"_45m4"},this.$VideoShowsLogoUploadDialog9()))))};B.prototype.$VideoShowsLogoUploadDialog11=function(){return c("React").createElement("div",{className:"_2gzs"},c("React").createElement(c("XUIText.react"),{display:"block",headingLevel:1,weight:"bold",className:"_2gzt"},this.$VideoShowsLogoUploadDialog8()),c("React").createElement(c("XUIText.react"),{display:"block",className:"_2gzu"},this.$VideoShowsLogoUploadDialog9()))};B.prototype.$VideoShowsLogoUploadDialog5=function(C,D,E,F){var G=Math.min(Math.min(E/(D[2]-D[0]+1),F/(D[3]-D[1]+1)),1),H=C.clone();H.setSize((D[2]-D[0]+1)*G,(D[3]-D[1]+1)*G);H.setZoom(G);return H};B.prototype.$VideoShowsLogoUploadDialog12=function(){var C=this.state,D=C.cropWindow,E=C.cropDims,F=C.url;if(E&&D)E=this.$VideoShowsLogoUploadDialog5(E,D,t,u);var G=c("React").createElement("div",{className:"_16wy"},E?c("React").createElement(c("PhotoZoomCropImagePreview.react"),{dimensions:E,size:E.getSize(),src:String(F),className:"_16wz"}):c("React").createElement(c("Image.react"),{src:F,className:"_16wz"}));return c("React").createElement("div",{className:"_2gzw"},c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold",className:"_2gzz"},j._("Preview of your showmark placement")),c("React").createElement(c("XUICard.react"),{background:"base-wash",className:"_2gz-"},c("React").createElement("div",{className:"_16w_"},c("React").createElement(c("Layout.react"),{className:"_16x1"},c("React").createElement(o,null,this.props.pageProfilePic?c("React").createElement(c("Image.react"),{src:this.props.pageProfilePic,className:"_4kh1"}):c("React").createElement("div",{className:"_4kh1"})),c("React").createElement(p,null,c("React").createElement(c("XUIText.react"),{weight:"bold"},this.props.pageName),c("React").createElement(c("Layout.react"),null,c("React").createElement(o,null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},j._("2 hours ago"))),c("React").createElement(o,{className:"_3-8r"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},"\xb7")),c("React").createElement(o,null,c("React").createElement(c("Image.react"),{className:"_4kh3",src:h("124639")})))),c("React").createElement(o,null,c("React").createElement(c("Image.react"),{src:h("125398")}))),c("React").createElement("div",{className:"_16x2"+(!!this.state.url?" _3d6w":"")},this.state.url?G:c("React").createElement(c("XUIText.react"),{className:"_16wy"},j._("Showmark").toString())),c("React").createElement("div",{className:"_16x5"},c("React").createElement(c("Layout.react"),null,c("React").createElement(p,null,c("React").createElement(c("XUIGrayText.react"),{className:"_16x6",display:"block",shade:"light",size:"meta1"},j._("LATEST EPISODE")),c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold",className:"_16x8"},j._("Episode title"))),c("React").createElement(o,null,c("React").createElement(c("XUIButton.react"),{className:"_16x9",image:c("React").createElement(c("Image.react"),{src:h("121816")}),label:j._("Watchlist"),use:"default",href:"#"})))))),c("React").createElement("div",{className:"_2gz_"},this.$VideoShowsLogoUploadDialog13()))};B.prototype.$VideoShowsLogoUploadDialog14=function(){return c("React").createElement("div",{className:"_2g-0"},this.state.uploadToServerState==="loading"?c("React").createElement("div",{className:"_26of"},c("React").createElement(c("XUISpinner.react"),{className:"_26oj",background:"dark",size:"large"})):null,c("React").createElement(c("LeftRight.react"),null,this.$VideoShowsLogoUploadDialog15(),this.$VideoShowsLogoUploadDialog12()))};B.prototype.$VideoShowsLogoUploadDialog16=function(){return c("React").createElement(c("VideoShowsLogoFileInput.react"),{onFileChange:function(event){return this.$VideoShowsLogoUploadDialog7(event,true)}.bind(this),ref:"blankLogofileInput"},c("React").createElement("a",{href:"#"},c("React").createElement("div",{className:"_45m5"},c("React").createElement(c("Image.react"),{className:"_3-94",src:h("124971")}),c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"header3",className:"_37a1"},j._("Click to upload or drag image")))))};B.prototype.$VideoShowsLogoUploadDialog17=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_45m6"},c("React").createElement(c("Image.react"),{className:"_45m9",src:this.state.url})),c("React").createElement(c("VideoShowsLogoFileInput.react"),{onFileChange:function(event){return this.$VideoShowsLogoUploadDialog7(event,false)}.bind(this),ref:"changeLogofileInput"},c("React").createElement("a",{href:"#"},c("React").createElement(c("Layout.react"),{style:{marginTop:"12px"}},c("React").createElement(o,null,c("React").createElement(c("Image.react"),{src:h("126555")})),c("React").createElement(o,null,c("React").createElement(c("XUIGrayText.react"),{style:{paddingLeft:"4px"},shade:"light"},j._("Change Image")))))))};B.prototype.$VideoShowsLogoUploadDialog18=function(){var C=c("React").createElement(c("VideoShowsLogoFileInput.react"),{onFileChange:function(event){return this.$VideoShowsLogoUploadDialog7(event,false)}.bind(this),ref:"changeLogofileInput"},c("React").createElement(c("XUIButton.react"),{className:"_3-8y",image:c("React").createElement(c("Image.react"),{src:h("121748")}),label:j._("Change Showmark"),use:"default",href:"#"}));if(this.state.cropDims)C=c("React").createElement(c("Layout.react"),{className:"_3-8o"},c("React").createElement(o,null,c("React").createElement(c("Image.react"),{src:h("116731")})),c("React").createElement(p,{className:"_18p2"},c("React").createElement(c("XUIText.react"),{weight:"bold",display:"block"},j._("Showmark Cropped")),c("React").createElement(c("XUIText.react"),{display:"block"},j._("To make sure your showmark displays properly, your graphic was automatically cropped to remove any extra padding around the sides.")),c("React").createElement("div",null,c("React").createElement(c("XUIButton.react"),{className:"_3-8y _3-90",image:c("React").createElement(c("Image.react"),{src:h("120765")}),label:j._("Revert"),use:"default",href:"#",onClick:function(){this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_UPLOAD_CROP_REVERTED);this.setState({cropDims:null,cropWindow:null})}.bind(this)}),C)));var D=this.state,E=D.cropDims,F=D.url;return c("React").createElement("div",null,c("React").createElement("div",{className:"_45m6"},E?c("React").createElement(c("PhotoZoomCropImagePreview.react"),{className:"_18p3",dimensions:E,size:E.getSize(),src:String(F)}):c("React").createElement(c("Image.react"),{className:"_45m9",src:F})),C)};B.prototype.$VideoShowsLogoUploadDialog19=function(){return c("React").createElement(c("AdsXUIProgressBar.react"),{className:"_45mb",striped:true,value:100})};B.prototype.$VideoShowsLogoUploadDialog20=function(){return c("React").createElement(c("XUINotice.react"),{style:{marginTop:"12px",marginRight:"12px"},use:"warn"},j._("There was an error adding your showmark. Please try again."))};B.prototype.$VideoShowsLogoUploadDialog21=function(){return c("React").createElement("ul",{className:"_2g-3"},c("React").createElement("li",{className:"_2g-4"},j._("At least 300 pixels high (recommended size: 900 X 300 pixels).")),c("React").createElement("li",{className:"_2g-4"},j._("An all-white graphic on a transparent background.")),c("React").createElement("li",{className:"_2g-4"},j._("PNG files only.")),c("React").createElement("li",{className:"_2g-4"},j._("Tightly cropped around the edges of your graphic so there's no extra padding on any side (see the white lines around the showmark below)."),c("React").createElement("div",{className:"_2g-5"},c("React").createElement("div",{className:"_2g-6"},j._("Showmark").toString()))))};B.prototype.$VideoShowsLogoUploadDialog24=function(){return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_2g-8"},j._("ADD A SHOWMARK")),this.state.url?this.$VideoShowsLogoUploadDialog18():this.$VideoShowsLogoUploadDialog16(),this.state.uploadState==="loading"?this.$VideoShowsLogoUploadDialog19():null)};B.prototype.$VideoShowsLogoUploadDialog25=function(C){this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_CREATION_TEMPLATE_SELECTED,new Map([["template",C]]));this.setState({templateSelected:C},this.$VideoShowsLogoUploadDialog26)};B.prototype.$VideoShowsLogoUploadDialog28=function(C,D,E){C.font=D+"px "+c("ShowmarkTemplateFontConfig")[E];return C};B.prototype.componentDidUpdate=function(C,D){if(this.state.useCreationTool&&!D.useCreationTool)this.$VideoShowsLogoUploadDialog25(c("ShowmarkTemplate").RALEWAY)};B.prototype.$VideoShowsLogoUploadDialog29=function(C){return c("React").createElement("div",{className:"_3h-p"+(C===this.state.templateSelected?" _3h-q":""),onClick:function(){return this.$VideoShowsLogoUploadDialog25(C)}.bind(this),role:"radio","aria-checked":C===this.state.templateSelected,tabIndex:Object.values(c("ShowmarkTemplate")).indexOf(C)},c("React").createElement("span",{style:{fontFamily:c("ShowmarkTemplateFontConfig")[C]},className:"_3h-r"},"Abc"))};B.prototype.$VideoShowsLogoUploadDialog30=function(){var C=v-this.state.templateText.length;return c("React").createElement("div",{className:"_2put"},c("React").createElement(c("XUIText.react"),{className:"_2g-8"},j._("SELECT A SHOWMARK TEMPLATE")),c("React").createElement(c("Grid.react"),{cols:3,spacing:"pas",className:"_3-8o"},Object.keys(c("ShowmarkTemplate")).map(function(D){return c("React").createElement(n,{key:D},this.$VideoShowsLogoUploadDialog29(D))}.bind(this))),c("React").createElement(c("XUITextInput.react"),{className:"_2puu",value:this.state.templateText,onChange:this.$VideoShowsLogoUploadDialog27}),c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block",className:"_3-8x"+(C<=0||this.state.templateText.length<w?" _2puw":"")},this.state.templateText.length>=w?j._({"*":"({number} characters remaining)","_1":"(1 character remaining)"},[j._plural(C,"number")]):j._("Showmark must be more than 3 characters")),c("React").createElement(c("VideoShowsLogoFileInput.react"),{ref:"showmarkCreationFileInput",onFileChange:function D(){},className:"hidden_elem"},c("React").createElement("a",{href:"#"})))};B.prototype.$VideoShowsLogoUploadDialog15=function(){var C=c("React").createElement(c("Link.react"),{href:"#",onClick:this.$VideoShowsLogoUploadDialog22,className:"_33xa",ref:"creationToolToggleLink"},this.state.useCreationTool?j._("Do you want to add your own showmark?"):j._("Don't have a showmark? Add a default showmark.")),D=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.creationToolToggleLink}.bind(this),position:"below",shown:this.state.creationToolNuxShown,onCloseButtonClick:this.$VideoShowsLogoUploadDialog23},j._("New! If you don't have a showmark, Facebook can make one for you to get started."));return c("React").createElement("div",{className:"_2g-7"},c("React").createElement(c("XUIText.react"),{className:"_2g-8"},j._("SHOWMARK REQUIREMENTS")),this.$VideoShowsLogoUploadDialog21(),this.state.useCreationTool?this.$VideoShowsLogoUploadDialog30():this.$VideoShowsLogoUploadDialog24(),C,this.state.creationToolNuxShown?D:null)};B.prototype.$VideoShowsLogoUploadDialog31=function(){return c("React").createElement("div",{className:"_ixe"},c("React").createElement(c("Text"),{style:{fontWeight:"bold",marginBottom:"12px"}},j._("Your showmark should be:")),c("React").createElement("ul",{className:"_2hz8"},c("React").createElement("li",{className:"_2hza"},j._("At least 300 pixels high (recommended size: 900 X 300 pixels).")),c("React").createElement("li",{className:"_2hza"},j._("An all-white graphic on a transparent background.")),c("React").createElement("li",{className:"_2hza"},j._("PNG files only")),c("React").createElement("li",{className:"_2hza"},j._("Tightly cropped around the edges of your graphic so there's no extra padding or pixels on the side."))),this.state.url?this.$VideoShowsLogoUploadDialog17():this.$VideoShowsLogoUploadDialog16(),this.state.uploadState=="loading"?this.$VideoShowsLogoUploadDialog19():null)};B.prototype.$VideoShowsLogoUploadDialog32=function(){return c("React").createElement("div",{className:"_1qx9"},c("React").createElement(c("Layout.react"),null,c("React").createElement(o,null,c("React").createElement("div",{className:"_4kh1"})),c("React").createElement(p,null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"header4"},j._("Show name added a new episode")),c("React").createElement(c("Layout.react"),null,c("React").createElement(o,null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",className:"_3-90"},j._("2 hours ago"))),c("React").createElement(o,null,c("React").createElement(c("Image.react"),{className:"_4kh3",src:h("126241")})))),c("React").createElement(o,null,c("React").createElement(c("Image.react"),{src:h("125398")}))),c("React").createElement("div",{className:(this.state.url!=null?"_1qxa":"")+(this.state.url==null?" _1qxo":"")+" _1qxp"},this.state.url?c("React").createElement(c("Image.react"),{className:"_1qxq",src:this.state.url}):c("React").createElement("div",{className:"_4kh6"})))};B.prototype.$VideoShowsLogoUploadDialog33=function(){return c("React").createElement("div",{className:"_1qx7"},c("React").createElement(c("Text"),{className:"_3-94",style:{fontWeight:"bold"}},j._("Example of showmark placement")),c("React").createElement(c("Text"),{style:{display:"block"}},j._("This is how your showmark will appear on your videos in News Feed.")),c("React").createElement("div",{className:"_1qx8"},this.$VideoShowsLogoUploadDialog32(),this.$VideoShowsLogoUploadDialog32()))};B.prototype.$VideoShowsLogoUploadDialog34=function(){return c("React").createElement("div",{style:{padding:"18px"}},this.state.uploadToServerState==="loading"?c("React").createElement("div",{className:"_26of"},c("React").createElement(c("XUISpinner.react"),{className:"_26oj",background:"dark",size:"large"})):null,c("React").createElement(c("LeftRight.react"),null,this.$VideoShowsLogoUploadDialog31(),this.$VideoShowsLogoUploadDialog33()),this.state.uploadState==="failed"||this.state.uploadToServerState==="failed"?this.$VideoShowsLogoUploadDialog20():null)};B.prototype.$VideoShowsLogoUploadDialog13=function(){var C=this.state.uploadToServerState==="loading",D=this.state.useCreationTool&&(!this.state.templateSelected||this.state.templateText.length<w);return c("React").createElement(c("LeftRight.react"),null,c("React").createElement("span",null),c("React").createElement("span",null,c("React").createElement(c("XUIDialogButton.react"),{label:j._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.$VideoShowsLogoUploadDialog36,disabled:C}),c("React").createElement(c("XUIDialogButton.react"),{label:j._("Add Showmark"),action:"confirm",size:"large",use:"confirm",disabled:this.state.uploadState!=="success"||C||D,onClick:this.$VideoShowsLogoUploadDialog35})))};B.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("XUIDialog.react"),{width:q,shown:true,hideOnEscape:false,label:this.$VideoShowsLogoUploadDialog8(),layerHideOnBlur:false},c("React").createElement(c("XUIDialogBody.react"),{className:"_45me"},this.$VideoShowsLogoUploadDialog11(),this.$VideoShowsLogoUploadDialog14())))};f.exports=B}),null);
__d("VideoComponentShowmarkOverlay.react",["ix","cx","fbt","AbstractButton.react","AsyncRequest","Image.react","Layout.react","PopoverMenu.react","React","ReactXUIMenu","ShowCreationFlowStep","ShowsCreationLoggerUtils","VideoShowsLogoUploadDialog.react","XPagesCoverReloadController","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Layout.react").Column,n=c("Layout.react").FillColumn,o=c("ReactXUIMenu").Item;k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){__p&&__p();l.constructor.call(this,q);this.$VideoComponentShowmarkOverlay1=function(){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOWMARK_CHANGE_CLICK,this.props.pageID);this.setState({showEditShowMarkDialog:true})}.bind(this);this.$VideoComponentShowmarkOverlay2=function(){this.setState({showEditShowMarkDialog:false})}.bind(this);this.$VideoComponentShowmarkOverlay3=function(){new(c("AsyncRequest"))().setURI(c("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI()).send();this.$VideoComponentShowmarkOverlay2()}.bind(this);this.state={showEditShowMarkDialog:false}}p.prototype.$VideoComponentShowmarkOverlay4=function(){return c("React").createElement(c("Image.react"),{className:"_1o-v",src:this.props.showmarkURL})};p.prototype.$VideoComponentShowmarkOverlay5=function(){if(!this.props.isAdmin)return null;var q=c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(o,{onClick:this.$VideoComponentShowmarkOverlay1},j._("Change Showmark"))),r=c("React").createElement(c("Image.react"),{src:h("115342")}),s=j._("Edit showmark");return c("React").createElement("div",null,this.state.showEditShowMarkDialog?c("React").createElement(c("VideoShowsLogoUploadDialog.react"),{existingLogoUrl:this.props.showmarkUploadPreviewURL,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePic:this.props.pageProfilePic,hideDialog:this.$VideoComponentShowmarkOverlay2,onSuccess:this.$VideoComponentShowmarkOverlay3}):null,c("React").createElement("div",{className:"_2210"},c("React").createElement(c("PopoverMenu.react"),{menu:q,position:"below"},c("React").createElement(c("AbstractButton.react"),{className:"_2212",image:r,label:s,labelIsHidden:true,ref:"button",type:"button"}))))};p.prototype.render=function(){var q=this.props.isShowPageNewCover;return c("React").createElement(c("Layout.react"),{className:(!q?"_2213":"")+(q?" _11ro":"")},c("React").createElement(m,null,this.$VideoComponentShowmarkOverlay4()),c("React").createElement(n,null,this.$VideoComponentShowmarkOverlay5()))};f.exports=p}),null);
__d("VideoComponentShowsViewers.react",["cx","fbt","FacepileRounded.react","intlSummarizeNumber","React","VideoComponent","VideoPlayerStates"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=30;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.state={vpc:null}}m.prototype.enable=function(n){this.setState({vpc:n})};m.prototype.disable=function(){};m.prototype.$VideoComponentShowsViewers1=function(n){var o=n.map(function(p){return{image_src:"https://graph.facebook.com/"+p+"/picture?height="+l*2+"&width="+l*2,name:""}});return c("React").createElement(c("FacepileRounded.react"),{direction:"descending",className:(!this.props.data.isShowPageNewCover?"_1kox":"")+(this.props.data.isShowPageNewCover?" _66j-":""),imageSize:l,profiles:o})};m.prototype.render=function(){if(!this.props.data||!this.props.data.showsFollowerData)return null;var n=this.props.data.showsFollowerData,o=n.friendList,p=n.friendCount,q=n.followerCount,r=this.state.vpc&&this.state.vpc.getState()===c("VideoPlayerStates").PLAYING,s=o==null||o.length===0?null:this.$VideoComponentShowsViewers1(o),t=p===0?c("React").createElement("span",{className:"_1koz"},i._({"*":"{fan_count} followers","_1":"1 follower"},[i._plural(q,"fan_count",c("intlSummarizeNumber")(q))])):c("React").createElement("span",{className:(!this.props.data.isShowPageNewCover?"_1koz":"")+(this.props.data.isShowPageNewCover?" _66j_":"")},i._({"*":{"*":"{fan_count} followers including {friend_count} friends","_1":"{fan_count} followers including 1 friend"},"_1":{"*":"1 follower including {friend_count} friends","_1":"1 follower including 1 friend"}},[i._plural(q,"fan_count",c("intlSummarizeNumber")(q)),i._plural(p,"friend_count",c("intlSummarizeNumber")(p))]));return c("React").createElement("div",{className:(!this.props.data.isShowPageNewCover?"_1ko-":"")+(this.props.data.isShowPageNewCover?" _4yj4":"")+(this.props.hideOnPlay?" _s0r":"")+(this.props.hideOnPlay&&r?" _s0s":"")},s,t)};f.exports=c("VideoComponent").createContainer(m,{observedVpcEvents:["stateChange"]})}),null);
__d("VideoShowsMetadataBlock.react",["cx","fbt","invariant","LineClamp.react","Link.react","React","ShimButton.react","UFIReactionsBlingTokens.react","VideoComponentShowmarkOverlay.react","VideoComponentShowsViewers.react","PagesCoverTrailerState","UFIReactionsProfileBrowserUtils","Bootloader"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){__p&&__p();l.constructor.call(this,n);this.$VideoShowsMetadataBlock2=function(event){event.preventDefault();var o=this.props.data.showsFeedbackData;o||j(0);var p=o.actorId,q=o.videoId;p||j(0);q||j(0);var r=c("UFIReactionsProfileBrowserUtils").getDialogURI({actorID:p,feedbackTargetID:q}).toString();c("Bootloader").loadModules(["AsyncDialog"],function(s){s.bootstrap(r,event.currentTarget,"dialog")},"VideoShowsMetadataBlock.react")}.bind(this)}m.prototype.$VideoShowsMetadataBlock1=function(){var n=this.props.data.viewerCoverTrailerState;switch(n){case c("PagesCoverTrailerState").RESUME_EPISODE:return i._("CONTINUE WATCHING");case c("PagesCoverTrailerState").LATEST_EPISODE:return i._("LATEST EPISODE");case c("PagesCoverTrailerState").WATCH_TRAILER:return i._("SHOW TRAILER")}return null};m.prototype.$VideoShowsMetadataBlock3=function(){__p&&__p();var n=this.props.data,o=n.viewerCoverTrailerState,p=n.showsFeedbackData,q=n.showsVideoData;if(o===c("PagesCoverTrailerState").WATCH_TRAILER)return c("React").createElement(c("VideoComponentShowsViewers.react"),{data:this.props.data,hideOnPlay:false});else{if(!p)return null;var r={};if(p&&p.reactionCountMap){var s=p.reactionCountMap;for(var t in s)if(Object.prototype.hasOwnProperty.call(s,t))r[t]={"default":s[t]}}var u=p.commentCount,v=p.commentsCountReduced,w=p.reactionsCountReduced,x=q&&u&&v&&u>0?c("React").createElement("span",{className:"_1m-9"},c("React").createElement(c("ShimButton.react"),{className:"_o12",inline:true,onClick:this.$VideoShowsMetadataBlock2},w)," ","\xb7"," ",c("React").createElement(c("Link.react"),{href:q.uri},c("React").createElement("span",{className:"_o12"},i._({"*":"{number} Comments","_1":"1 Comment"},[i._plural(u,"number",v)])))):null;return c("React").createElement("div",{className:"_1m-8"},c("React").createElement("span",null,c("React").createElement(c("UFIReactionsBlingTokens.react"),{className:"_4ar- _ipn _1m-f",feedback:{actorforpost:p.actorId,entidentifier:p.videoId,reactioncountmap:r},max:3,size:"16"})),x)}};m.prototype.$VideoShowsMetadataBlock4=function(){var n=this.props.data,o=n.viewerCoverTrailerState,p=n.showsVideoData,q=n.showsData;if(p&&(o===c("PagesCoverTrailerState").LATEST_EPISODE||o===c("PagesCoverTrailerState").RESUME_EPISODE))return p.description;return q.showDescription};m.prototype.$VideoShowsMetadataBlock5=function(){var n=this.props.data.viewerCoverTrailerState;if((n===c("PagesCoverTrailerState").LATEST_EPISODE||n===c("PagesCoverTrailerState").RESUME_EPISODE)&&this.props.data.showsVideoData)return c("React").createElement("span",{className:"_2yyi"},this.props.data.showsVideoData.title);return null};m.prototype.$VideoShowsMetadataBlock6=function(){var n=this.props.data.showsData,o=n.showmarkURL,p=n.showmarkUploadPreviewURL,q=n.title,r=n.profilePic;if(!o||!p)return null;return c("React").createElement(c("VideoComponentShowmarkOverlay.react"),{showmarkURL:o.toString(),showmarkUploadPreviewURL:p.toString(),pageID:this.props.pageID,pageName:q,pageProfilePic:r,isAdmin:this.props.data.isAdmin,isShowPageNewCover:this.props.data.isShowPageNewCover})};m.prototype.render=function(){return c("React").createElement("div",{className:"_66ev"},this.$VideoShowsMetadataBlock6(),c("React").createElement("div",null,c("React").createElement("span",{className:"_2xn9"},this.$VideoShowsMetadataBlock1()),this.$VideoShowsMetadataBlock5(),c("React").createElement(c("LineClamp.react"),{fitHeightToShorterText:true,lineHeight:18,lines:4,className:"_39rp"},this.$VideoShowsMetadataBlock4()),this.$VideoShowsMetadataBlock3()))};m.defaultProps={renderedHeight:461.25,renderedWidth:820};f.exports=m}),null);
__d("VideoComponentShowsTrailerOverlay.react",["ix","cx","fbt","ComposerEntryPointRef","ComposerXVideoUploadDialogController","ContextualDialogArrow","VideoHomePlayButtonThumbnailOverlay.react","XUIText.react","formatDurationSeconds","FileInput.react","Image.react","LeftRight.react","LineClamp.react","OptimisticVideoProgressBar.react","PagesCoverTrailerState","ProgressBar.react","PopoverMenu.react","ShowCreationFlowStep","ShowsCreationLoggerUtils","React","ReactXUIMenu","VideoComponent","VideoComponentShowmarkOverlay.react","VideoPlayerStates","XUIOverlayButton.react","fbglyph","joinClasses","DateConsts"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item,n=c("DateConsts").MS_PER_SEC;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){__p&&__p();l.constructor.call(this,p);this.$VideoComponentShowsTrailerOverlay4=function(){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_UPLOAD_NEW_CLICKED,this.props.pageID)}.bind(this);this.$VideoComponentShowsTrailerOverlay5=function(){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_UPLOAD_NEW_FILE_SELECTED,this.props.pageID);var q=this.refs.fileInput;if(!q)return;var r=q.getFileInput();c("ComposerXVideoUploadDialogController").showDialog({targetID:this.props.pageID,fileInput:r,composerEntryPointRef:c("ComposerEntryPointRef").PAGE_TRAILER})}.bind(this);this.state={vpc:null}}o.prototype.enable=function(p){this.setState({vpc:p})};o.prototype.disable=function(){};o.prototype.$VideoComponentShowsTrailerOverlay1=function(){var p=this.props.data.showsData,q=p.showmarkURL,r=p.showmarkUploadPreviewURL,s=p.title,t=p.profilePic;if(!q||!r)return null;return c("React").createElement(c("VideoComponentShowmarkOverlay.react"),{showmarkURL:q.toString(),showmarkUploadPreviewURL:r.toString(),pageID:this.props.pageID,pageName:s,pageProfilePic:t,isAdmin:this.props.isAdmin,isShowPageNewCover:false})};o.prototype.$VideoComponentShowsTrailerOverlay2=function(){var p=this.props.data.viewerCoverTrailerState;switch(p){case c("PagesCoverTrailerState").RESUME_EPISODE:return j._("Continue Watching");case c("PagesCoverTrailerState").LATEST_EPISODE:return j._("Latest Episode");case c("PagesCoverTrailerState").WATCH_TRAILER:return j._("Trailer")}return null};o.prototype.$VideoComponentShowsTrailerOverlay3=function(){var p=this.props.data,q=p.showsVideoData,r=p.viewerCoverTrailerState,s=r===c("PagesCoverTrailerState").WATCH_TRAILER,t=q?q.title:null;return c("React").createElement("div",{className:"_39rm"},this.$VideoComponentShowsTrailerOverlay1(),s?null:[c("React").createElement("div",{className:"_39ro",key:"title"},c("React").createElement(c("LineClamp.react"),{lines:2},t)),c("React").createElement("div",{className:"_39rn",key:"header"},this.$VideoComponentShowsTrailerOverlay2())])};o.prototype.$VideoComponentShowsTrailerOverlay6=function(){if(!this.props.isAdmin)return null;var p=c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(m,{renderas:"label"},c("React").createElement(c("FileInput.react"),{accept:"video/mp4, video/quicktime, video/*",ref:"fileInput",onClick:this.$VideoComponentShowsTrailerOverlay4,onChange:this.$VideoComponentShowsTrailerOverlay5},c("React").createElement("a",{style:{color:"inherit",textDecoration:"none"}},j._("Upload New Video")))));return c("React").createElement("div",{className:"_20kk"},c("React").createElement(c("PopoverMenu.react"),{layerBehaviors:[c("ContextualDialogArrow")],menu:p,position:"below"},c("React").createElement(c("XUIOverlayButton.react"),{className:"_20kl",image:c("React").createElement(c("Image.react"),{src:h("125727")}),label:j._("Change Trailer"),href:"#"})))};o.prototype.$VideoComponentShowsTrailerOverlay7=function(p){var q=c("React").createElement(c("Image.react"),{className:"_39rl",src:h("125848")});return c("React").createElement("div",{className:"_39rs"},q,c("React").createElement("span",{className:"_39rt"},c("formatDurationSeconds")(p/n)))};o.prototype.$VideoComponentShowsTrailerOverlay8=function(){var p=this.props.data,q=p.isShowPageNewCover,r=p.showsVideoData;return q&&r?c("React").createElement(c("XUIText.react"),{className:"_3_sk"},c("formatDurationSeconds")(r.duration/n)):null};o.prototype.$VideoComponentShowsTrailerOverlay9=function(){var p=this.props.data,q=p.showsVideoData,r=p.viewerCoverTrailerState,s=q?q.duration:100,t=q?q.startTimestamp:40;return r===c("PagesCoverTrailerState").RESUME_EPISODE&&s&&t?c("React").createElement("div",{className:"_tn4"},c("React").createElement(c("ProgressBar.react"),{className:"_df_",max:s,min:0,value:t})):null};o.prototype.$VideoComponentShowsTrailerOverlay10=function(){return c("React").createElement(c("VideoHomePlayButtonThumbnailOverlay.react"),{size:"72",className:"_3_sl"})};o.prototype.render=function(){var p=this.state.vpc&&this.state.vpc.getState()===c("VideoPlayerStates").PLAYING,q=this.props.isTrailer&&(!this.state.vpc||this.state.vpc.getState()===c("VideoPlayerStates").READY),r=this.props.data.isShowPageNewCover;if(r)return c("React").createElement("div",null,c("React").createElement("div",{className:c("joinClasses")("_39s3"+(!this.props.isTrailer&&p?" _s0s":"")+(q?" _31ye":""),this.props.className)},this.props.uploadedVideoData?c("React").createElement("div",{className:"_20km"},c("React").createElement(c("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"})):null,c("React").createElement("div",{className:this.props.uploadedVideoData!=null?"hidden_elem":""},this.$VideoComponentShowsTrailerOverlay6()),this.$VideoComponentShowsTrailerOverlay9()),this.$VideoComponentShowsTrailerOverlay8(),this.$VideoComponentShowsTrailerOverlay10());return c("React").createElement("div",{className:c("joinClasses")("_39s3"+(!this.props.isTrailer&&p?" _s0s":"")+(q?" _31ye":""),this.props.className)},c("React").createElement("div",{className:"_39s4"}),c("React").createElement("div",{className:"_1fth"}),this.props.uploadedVideoData?c("React").createElement("div",{className:"_20km"},c("React").createElement(c("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"})):null,c("React").createElement("div",{className:this.props.uploadedVideoData!=null?"hidden_elem":""},c("React").createElement(c("LeftRight.react"),{className:"_20kn _1fti"},c("React").createElement("div",{className:"_39s5"},this.$VideoComponentShowsTrailerOverlay3()),this.$VideoComponentShowsTrailerOverlay6())),this.$VideoComponentShowsTrailerOverlay9())};f.exports=c("VideoComponent").createContainer(o,{observedVpcEvents:["stateChange"]})}),null);
__d("VideoComponentShowsVideoLink.react",["cx","fbt","React","VideoComponent","VideoLink.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.enable=function(m){};l.prototype.disable=function(){};l.prototype.render=function(){var m=i._("Play episode");return c("React").createElement(c("VideoLink.react"),babelHelpers["extends"]({onClick:this.props.onClick,useTahoe:true,referrer:this.props.referrer},this.props.data),c("React").createElement("div",{className:"_1hvs"},c("React").createElement("i",{className:"_3htz _1jto"+(!this.props.hideButton?" _bsl":"")},c("React").createElement("input",{"aria-label":m,type:"button",className:"_yak"}))))};function l(){j.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(l)}),null);
__d("VideoShowsAdminAddTrailer.react",["ix","cx","fbt","ComposerEntryPointRef","ComposerXVideoUploadDialogController","FileInput.react","Image.react","OptimisticVideoProgressBar.react","React","AbstractButton.react","Text.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n);this.$VideoShowsAdminAddTrailer1=function(){var o=this.refs.fileInput;if(!o)return;var p=o.getFileInput();c("ComposerXVideoUploadDialogController").showDialog({targetID:this.props.pageID,fileInput:p,composerEntryPointRef:c("ComposerEntryPointRef").PAGE_TRAILER})}.bind(this)}m.prototype.render=function(){if(!this.props.isAdmin)return null;return c("React").createElement("div",{style:{width:this.props.width,height:this.props.height},className:"_1ew_ _5-9f"},c("React").createElement("div",{className:"_5-9g"},c("React").createElement("div",{className:"_4xv5"},c("React").createElement(c("Image.react"),{className:"_4xv6",src:h("122642")})),c("React").createElement(c("Text.react"),{className:"_5-9h",style:{fontSize:16,fontWeight:"600",color:"white"}},j._("Introduce Your Show With a Trailer")),c("React").createElement(c("Text.react"),{className:"_40em"},j._("Your trailer is a 16:9 video used to promote your show across Facebook. It should be less than 2 minutes and 30 seconds long.")),c("React").createElement(c("Text.react"),{className:"_40em _3-8w"},j._("Your trailer and most recent episodes will play in this space.")),this.props.uploadedVideoData?null:c("React").createElement(c("FileInput.react"),{accept:"video/mp4, video/quicktime, video/*",ref:"fileInput",onChange:this.$VideoShowsAdminAddTrailer1},c("React").createElement(c("AbstractButton.react"),{className:"_5-9j",label:j._("Add Trailer"),href:"#"})),this.props.uploadedVideoData?c("React").createElement(c("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"}):null))};f.exports=m}),null);
__d("VideoShowsTrailer.react",["cx","Arbiter","AsyncRequest","ComposerEntryPointRef","OnVisible.react","PagesCoverTrailerState","PagesEventObserver","PagesEventType","React","ShowCreationFlowStep","ShowsCreationLoggerUtils","VideoComponentEmbeddedControls.react","VideoComponentShowsVideoLink.react","VideoComponentShowsViewers.react","VideoComponentShowsTrailerOverlay.react","VideoComponentWithLoopingPlayback.react","VideoComponentCover.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerLoggerSource","VideoPlayerOrigins","VideoPlayerReason","VideoShowsAdminAddTrailer.react","XPagesCoverReloadController","DateConsts","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("DateConsts").MS_PER_SEC,l=-100;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(n){__p&&__p();j.constructor.call(this,n);this.$VideoShowsTrailer1=null;this.$VideoShowsTrailer2=null;this.$VideoShowsTrailer3=null;this.$VideoShowsTrailer4=false;this.$VideoShowsTrailer6=function(){var o=this.refs.player;if(o&&o.vpc.isState("playing")){this.$VideoShowsTrailer4=true;o.vpc.pause(c("VideoPlayerReason").PAGE_VISIBILITY)}}.bind(this);this.$VideoShowsTrailer7=function(){if(!this.$VideoShowsTrailer4)return;this.$VideoShowsTrailer4=false;var o=this.refs.player;o.vpc.play(c("VideoPlayerReason").PAGE_VISIBILITY)}.bind(this);this.$VideoShowsTrailer8=function(){this.$VideoShowsTrailer5("COVER_TRAILER_CLICK")}.bind(this);this.$VideoShowsTrailer9=function(){return c("VideoDataContainer.react").renderSpinner(this.props.renderedWidth,this.props.renderedHeight)}.bind(this);this.state={uploadedVideoData:null}}m.prototype.componentDidMount=function(){__p&&__p();this.$VideoShowsTrailer5("COVER_TRAILER_IMPRESSION");this.$VideoShowsTrailer1=c("Arbiter").subscribe("videoUpload/complete",function(n,o){var p=c("ComposerEntryPointRef").PAGE_TRAILER+"_"+this.props.pageID;if(o.originalComposerID==p){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_UPLOADED,this.props.pageID,new Map([["video_id",o.videoID]]));this.setState({uploadedVideoData:o})}}.bind(this));this.$VideoShowsTrailer2=c("Arbiter").subscribe("pageTrailerVideoEncode/complete",function(n,o){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_ENCODE_SUCCESS,this.props.pageID,new Map([["video_id",o.videoID]]));new(c("AsyncRequest"))().setURI(c("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI()).setHandler(function(p){this.setState({uploadedVideoData:null})}.bind(this)).send()}.bind(this));this.$VideoShowsTrailer3=c("Arbiter").subscribe("videoUpload/cancel",function(n,o){var p=c("ComposerEntryPointRef").PAGE_TRAILER+"_"+this.props.pageID;if(o.composerID==p)c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_UPLOAD_CANCELLED,this.props.pageID)}.bind(this))};m.prototype.componentWillUnmount=function(){if(this.$VideoShowsTrailer1)c("Arbiter").unsubscribe(this.$VideoShowsTrailer1);if(this.$VideoShowsTrailer2)c("Arbiter").unsubscribe(this.$VideoShowsTrailer2);if(this.$VideoShowsTrailer3)c("Arbiter").unsubscribe(this.$VideoShowsTrailer3)};m.prototype.$VideoShowsTrailer5=function(n){var o,p,q=this.props.data;if(!q)return;var r=(o=q)!=null?(o=o.showsVideoData)!=null?o.videoID:o:o,s=(p=q)!=null?(p=p.showsVideoData)!=null?p.startTimestamp:p:p;c("PagesEventObserver").notify(c("PagesEventType")[n],this.props.pageID,{videoID:r,startTimestamp:s,viewerCoverTrailerState:q.viewerCoverTrailerState})};m.prototype.$VideoShowsTrailer10=function(){var n;return((n=this.props)!=null?(n=n.data)!=null?n.viewerCoverTrailerState:n:n)===c("PagesCoverTrailerState").WATCH_TRAILER};m.prototype.$VideoShowsTrailer11=function(){return this.$VideoShowsTrailer10()?c("React").createElement(c("VideoComponentEmbeddedControls.react"),{hidePlaybackControl:true,hideRemainingTime:true,showFullscreenButton:false,showSettingsButton:false}):null};m.prototype.render=function(){var n=this.props.data;if(!n)return null;var o=n.showsVideoData,p=n.videoLinkData,q=n.isAdmin;if(!o||!p)return c("React").createElement(c("VideoShowsAdminAddTrailer.react"),{isAdmin:q,uploadedVideoData:this.state.uploadedVideoData,width:this.props.renderedWidth,height:this.props.renderedHeight,pageID:this.props.pageID});var r=o.startTimestamp?o.startTimestamp/k:0,s=this.props.referrer===c("VideoPlayerOrigins").VIDEO_HOME?c("VideoPlayerOrigins").VIDEO_HOME:c("VideoPlayerOrigins").PAGE_TIMELINE,t=this.props.referrer===c("VideoPlayerOrigins").VIDEO_HOME?c("VideoPlayerLoggerSource").PAGES_TIMELINE_PAGES_COVER:c("VideoPlayerLoggerSource").PAGES_COVER;return c("React").createElement(c("OnVisible.react"),{className:"_28pj",buffer:l,onHidden:this.$VideoShowsTrailer6,onVisible:this.$VideoShowsTrailer7},c("React").createElement(c("VideoDataContainer.react"),{key:o.videoID,videoID:o.videoID,renderLoading:this.$VideoShowsTrailer9},c("React").createElement(c("VideoPlayer.react"),{allowCrossPageTransition:true,autoplay:this.$VideoShowsTrailer10(),forceHD:true,height:this.props.renderedHeight,offsetType:"vertical",playerOrigin:s,subOrigin:t,ref:"player",startMuted:true,startTimestamp:r,videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:this.props.renderedWidth},c("React").createElement(c("VideoComponentCover.react"),{hiddenAfterFinish:true,showWhileBuffering:true}),!n.isImmersiveShowPage&&c("React").createElement(c("VideoComponentShowsTrailerOverlay.react"),{data:n,isAdmin:q,isTrailer:this.$VideoShowsTrailer10(),pageID:this.props.pageID,uploadedVideoData:this.state.uploadedVideoData,width:this.props.renderedWidth}),!n.isShowPageNewCover&&!n.isImmersiveShowPage&&c("React").createElement(c("VideoComponentShowsViewers.react"),{data:n,hideOnPlay:!this.$VideoShowsTrailer10()}),c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),{forceLooping:true}),c("React").createElement(c("VideoComponentShowsVideoLink.react"),{data:n.videoLinkData,hideButton:this.$VideoShowsTrailer10(),onClick:this.$VideoShowsTrailer8,referrer:this.props.referrer}),n.isShowPageNewCover?null:this.$VideoShowsTrailer11())))};m.defaultProps={renderedHeight:461.25,renderedWidth:820};f.exports=m}),null);
__d("PagesCurrentCoverComponent.react",["cx","PageOnTourOverlay.react","PagesCoverLoadingScreen.react","PagesCoverPhoto.react","PagesCoverSlideshow.react","PagesCoverType","PagesCoverVideoPlayer.react","PagesLiveCoverVideo.react","React","VideoShowsMetadataBlock.react","VideoShowsTrailer.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){__p&&__p();var k=null,l=null;switch(j.currentCoverType){case c("PagesCoverType").LOADING:k=c("React").createElement(c("PagesCoverLoadingScreen.react"),null);break;case c("PagesCoverType").COVER_LIVE_VIDEO:var m=j.coverData.cover_live_video,n=m.videoID,o=m.renderedHeight;if(n){k=c("React").createElement(c("PagesLiveCoverVideo.react"),{renderedHeight:o,videoID:n});l="_3wu6"}break;case c("PagesCoverType").COVER_TRAILER:if(j.coverData.cover_trailer.isShowPageNewCover&&!j.coverData.cover_trailer.isImmersiveShowPage)k=c("React").createElement("div",null,c("React").createElement("div",{className:"_66et"},c("React").createElement(c("VideoShowsMetadataBlock.react"),{data:j.coverData.cover_trailer,pageID:j.pageID})),c("React").createElement("div",{className:"_66-8"},c("React").createElement("div",{className:"_66eu"}),c("React").createElement(c("VideoShowsTrailer.react"),{data:j.coverData.cover_trailer,pageID:j.pageID,referrer:j.referrer,renderedHeight:336,renderedWidth:598})));else k=c("React").createElement(c("VideoShowsTrailer.react"),{data:j.coverData.cover_trailer,pageID:j.pageID});l="_3wu6";break;case c("PagesCoverType").COVER_VIDEO:k=c("React").createElement(c("PagesCoverVideoPlayer.react"),j.coverData.cover_video);l="_3wu6";break;case c("PagesCoverType").COVER_SLIDESHOW:k=c("React").createElement(c("PagesCoverSlideshow.react"),babelHelpers["extends"]({pageID:j.pageID},j.coverData.cover_slideshow));l="_668x";break;case c("PagesCoverType").COVER_PHOTO:default:k=c("React").createElement(c("PagesCoverPhoto.react"),j.coverData.cover_photo)}return c("React").createElement("div",null,k,c("React").createElement(c("PageOnTourOverlay.react"),{className:l}))}f.exports=i}),null);
__d("PagesCoverVideoPreviewActionBar.react",["cx","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement("div",{className:"_2roy"},!j.leftElement?null:c("React").createElement("div",{className:"_1iaz"},j.leftElement),c("React").createElement("div",{className:"_1ia-"},c("React").createElement("span",{className:"_1ia_"},c("React").createElement(c("XUIButton.react"),{className:"_3-90",label:j.cancelButtonLabel,onClick:j.onCancelClick}),c("React").createElement(c("XUIButton.react"),{label:j.confirmButtonLabel,onClick:j.onConfirmClick,use:"confirm"}))))};f.exports=i}),null);
__d("PagesCoverVideoRepositionIndicator.react",["ix","cx","fbt","Image.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=function k(l){if(!l.shown)return null;return c("React").createElement("div",{className:"_1ge3"},c("React").createElement("div",{className:"_1geb"},c("React").createElement(c("Image.react"),{className:"_4l6j",src:h("114322")}),c("React").createElement("span",{className:"_4l6j"},j._("Drag to Reposition"))))};f.exports=k}),null);
__d("PagesCoverVideoPreview.react",["ix","cx","fbt","invariant","CenteredContainer.react","CoverVideoOffsetType","CoverVideoStatus","CoverVideoUtil","Image.react","PagesCoverVideoActionCreator","PagesCoverVideoPreviewActionBar.react","PagesCoverVideoRepositionIndicator.react","PagesCoverVideoConstant","React","XUISpinner.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=-1;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(p){__p&&__p();m.constructor.call(this,p);this.$PagesCoverVideoPreview7=function(q){if(this.state.offsetType===c("CoverVideoOffsetType").HORIZONTAL)this.$PagesCoverVideoPreview4=q.screenX;else if(this.state.offsetType===c("CoverVideoOffsetType").VERTICAL)this.$PagesCoverVideoPreview4=q.screenY;else k(0);this.$PagesCoverVideoPreview2=true}.bind(this);this.$PagesCoverVideoPreview8=function(q){__p&&__p();if(!this.$PagesCoverVideoPreview2)return;this.$PagesCoverVideoPreview4!==n||k(0);var r=0;if(this.state.offsetType===c("CoverVideoOffsetType").HORIZONTAL)r=q.screenX-this.$PagesCoverVideoPreview4;else if(this.state.offsetType===c("CoverVideoOffsetType").VERTICAL)r=q.screenY-this.$PagesCoverVideoPreview4;else k(0);var s=this.$PagesCoverVideoPreview1+r;if(s>0||s<this.state.minOffsetValue)return;this.$PagesCoverVideoPreview5=true;this.setState({offsetValue:s})}.bind(this);this.$PagesCoverVideoPreview9=function(q){this.$PagesCoverVideoPreview2=false;this.$PagesCoverVideoPreview4=n;this.$PagesCoverVideoPreview1=this.state.offsetValue}.bind(this);this.$PagesCoverVideoPreview10=function(q){this.$PagesCoverVideoPreview2=false;this.$PagesCoverVideoPreview4=-1;this.$PagesCoverVideoPreview1=this.state.offsetValue}.bind(this);this.$PagesCoverVideoPreview11=function(){var q=this.props,r=q.futureVideoID,s=q.pageID,t=q.isFromReposition;if(t&&s)c("PagesCoverVideoActionCreator").reloadCover(s);else if(r&&s)c("PagesCoverVideoActionCreator").cancelNewUploadingWithConfirmationDialog(s,r)}.bind(this);this.$PagesCoverVideoPreview12=function(){var q=this.props,r=q.futureVideoID,s=q.pageID;if(r&&s){var t=this.props,u=t.containerWidth,v=t.containerHeight;u&&v||k(0);c("PagesCoverVideoActionCreator").chooseThumbnail(r,s,this.state.offsetType,this.state.offsetValue,v,u)}else if(r&&s)c("PagesCoverVideoActionCreator").confirmPublishingVideo(s,r,this.state.offsetType,this.state.offsetValue,this.props.shouldCoverVideoLoop)}.bind(this);this.state={minOffsetValue:0,offsetType:c("CoverVideoOffsetType").VERTICAL,offsetValue:0,videoData:null,videoNewSize:0};this.$PagesCoverVideoPreview1=0;this.$PagesCoverVideoPreview2=false;this.$PagesCoverVideoPreview4=n;this.$PagesCoverVideoPreview5=false}o.prototype.componentDidMount=function(){__p&&__p();if(!this.props.futureVideoID)return;this.$PagesCoverVideoPreview3=true;c("CoverVideoUtil").fetchCoverVideoData(this.props.futureVideoID).then(function(p){if(!this.$PagesCoverVideoPreview3)return;var q=p.offsetValue,r=p.videoData;r||k(0);var s=this.$PagesCoverVideoPreview6(r),t=s.minOffsetValue,u=s.offsetType,v=s.videoNewSize;this.setState({minOffsetValue:t,offsetType:u,offsetValue:q||0,videoData:r,videoNewSize:v})}.bind(this)).done()};o.prototype.componentWillUnmount=function(){this.$PagesCoverVideoPreview3=false};o.prototype.$PagesCoverVideoPreview6=function(p){__p&&__p();var q=this.props,r=q.containerWidth,s=q.containerHeight;r&&s||k(0);var t=r/s,u=p.getAspectRatio(),v=null,w=null,x=null;if(u>t){v=c("CoverVideoOffsetType").HORIZONTAL;w=s;x=r-Math.floor(p.getOriginalWidth()*(s/p.getOriginalHeight()))}else{v=c("CoverVideoOffsetType").VERTICAL;w=r;x=s-Math.floor(p.getOriginalHeight()*(r/p.getOriginalWidth()))}return{minOffsetValue:x,offsetType:v,videoNewSize:w}};o.prototype.$PagesCoverVideoPreview13=function(){if(this.props.status!==c("CoverVideoStatus").PREVIEWING)return null;var p=j._("Cancel"),q=j._("Next"),r=!this.props.isParentLocationPage?null:j._("Your video will appear as the cover on this Page and on any other locations associated with this Page."),s=!this.props.isFromReposition?c("React").createElement("div",null,c("React").createElement("span",{className:"_2roz"},c("React").createElement(c("Image.react"),{src:h("115129")})),c("React").createElement("span",{className:"_2ro-"},c("PagesCoverVideoConstant").PREVIEW_TIP_FOR_CREATION,r)):c("React").createElement("div",null,c("React").createElement("span",{className:"_2roz"},c("React").createElement(c("Image.react"),{src:h("115129")})),c("React").createElement("span",{className:"_2ro-"},c("PagesCoverVideoConstant").PREVIEW_TIP_FOR_EDITING,r));return c("React").createElement(c("PagesCoverVideoPreviewActionBar.react"),{cancelButtonLabel:p,confirmButtonLabel:q,onCancelClick:this.$PagesCoverVideoPreview11,onConfirmClick:this.$PagesCoverVideoPreview12,leftElement:s})};o.prototype.$PagesCoverVideoPreview14=function(){return c("React").createElement(c("CenteredContainer.react"),{className:"_4fkc",fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))};o.prototype.render=function(){__p&&__p();if(!this.state.videoData)return this.$PagesCoverVideoPreview14();var p=this.props,q=p.containerWidth,r=p.containerHeight;q&&r||k(0);this.props.status===c("CoverVideoStatus").PREVIEWING||this.props.status===c("CoverVideoStatus").PUBLISHING||k(0);var s=this.state.videoData.getRawData().hd_src;if(!s)return null;var t=this.state.offsetType===c("CoverVideoOffsetType").HORIZONTAL?this.state.videoNewSize:null,u=this.state.offsetType===c("CoverVideoOffsetType").VERTICAL?this.state.videoNewSize:null,v=this.state.offsetType===c("CoverVideoOffsetType").VERTICAL?this.state.offsetValue:0,w=this.state.offsetType===c("CoverVideoOffsetType").HORIZONTAL?this.state.offsetValue:0;return c("React").createElement("div",{style:{cursor:"move",height:r,overflow:"hidden",position:"relative",width:q}},c("React").createElement("video",{autoPlay:true,height:t,loop:this.props.shouldCoverVideoLoop,onMouseDown:this.$PagesCoverVideoPreview7,onMouseLeave:this.$PagesCoverVideoPreview10,onMouseMove:this.$PagesCoverVideoPreview8,onMouseUp:this.$PagesCoverVideoPreview9,src:s,style:{position:"absolute",top:v,left:w},width:u}),c("React").createElement(c("PagesCoverVideoRepositionIndicator.react"),{shown:!this.$PagesCoverVideoPreview5}),this.$PagesCoverVideoPreview13())};f.exports=o}),null);
__d("PagesCoverVideoProgressOverlay.react",["cx","fbt","invariant","CoverVideoStatus","ProgressBar.react","React"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=function k(l){if(l.status!==c("CoverVideoStatus").UPLOADING&&l.status!==c("CoverVideoStatus").ENCODING)return null;l.progress===0||l.progress||j(0);var m=null;if(l.status===c("CoverVideoStatus").UPLOADING)m=i._("VIDEO UPLOADING {percentage (0-100) of uploading progress}\u0025",[i._param("percentage (0-100) of uploading progress",l.progress)]);else if(l.status===c("CoverVideoStatus").ENCODING)m=i._("VIDEO ENCODING {percentage (0-100) of encoding progress}\u0025",[i._param("percentage (0-100) of encoding progress",l.progress)]);return c("React").createElement("div",{className:"_2grf"},c("React").createElement("div",{className:"_2grg"},c("React").createElement(c("ProgressBar.react"),{isRounded:true,size:"small",value:l.progress}),c("React").createElement("div",{className:"_2grh"},m)))};f.exports=k}),null);
__d("PagesCoverVideoThumbnailPicker.react",["cx","fbt","ix","CenteredContainer.react","CoverVideoOffsetType","CoverVideoUtil","FBToggleSwitch.react","Image.react","PagesCoverVideoActionCreator","PagesCoverVideoPreviewActionBar.react","React","SimpleXUIDialog","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","XUICarouselItem.react","XUISpinner.react","emptyFunction","nullthrows"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){__p&&__p();l.constructor.call(this,n);this.$PagesCoverVideoThumbnailPicker4=function(){var o=this.state.thumbnails.length;if(o===0)return;var p=(this.state.currentThumbnailIndex-1+o)%o;this.setState({currentThumbnailIndex:p});this.$PagesCoverVideoThumbnailPicker1&&this.$PagesCoverVideoThumbnailPicker1.prev()}.bind(this);this.$PagesCoverVideoThumbnailPicker5=function(){var o=this.state.thumbnails.length;if(o===0)return;var p=(this.state.currentThumbnailIndex+1+o)%o;this.setState({currentThumbnailIndex:p});this.$PagesCoverVideoThumbnailPicker1&&this.$PagesCoverVideoThumbnailPicker1.next()}.bind(this);this.$PagesCoverVideoThumbnailPicker8=function(){var o=this.props,p=o.futureVideoID,q=o.pageID;c("PagesCoverVideoActionCreator").editCoverVideo(c("nullthrows")(q),c("nullthrows")(p))}.bind(this);this.$PagesCoverVideoThumbnailPicker9=function(){if(this.state.isStatusOK){this.$PagesCoverVideoThumbnailPicker10();return}c("SimpleXUIDialog").showConfirm(i._("This video is not published yet. If you choose it as your cover video, it will be published for people to watch."),i._("Publish Cover Video?"),this.$PagesCoverVideoThumbnailPicker11,{confirmBtnTxt:i._("Publish")})}.bind(this);this.$PagesCoverVideoThumbnailPicker11=function(o){if(o)this.$PagesCoverVideoThumbnailPicker10()}.bind(this);this.$PagesCoverVideoThumbnailPicker12=function(){var o=this.state.shouldCoverVideoLoop;this.setState({shouldCoverVideoLoop:!o})}.bind(this);this.$PagesCoverVideoThumbnailPicker2()}m.prototype.$PagesCoverVideoThumbnailPicker2=function(){this.state={thumbnails:[],currentThumbnailIndex:0,animator:new(c("XUICarouselAnimator"))({type:"horizontal"}),shouldCoverVideoLoop:this.props.shouldCoverVideoLoop,isStatusOK:false}};m.prototype.UNSAFE_componentWillMount=function(){c("CoverVideoUtil").fetchCoverVideoData(c("nullthrows")(this.props.futureVideoID),true).then(function(n){this.setState({thumbnails:n.thumbnails,isStatusOK:n.isStatusOK})}.bind(this)).done()};m.prototype.$PagesCoverVideoThumbnailPicker3=function(){return c("React").createElement(c("CenteredContainer.react"),{className:"_yd2",fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))};m.prototype.$PagesCoverVideoThumbnailPicker6=function(){if(this.state.thumbnails.length===0)return null;return c("React").createElement("div",{className:"_4hmf"},i._({"*":"{the index of the current thumbnail} \/ {the total number of thumbnails} Thumbnails","_1":"{the index of the current thumbnail} \/ {the total number of thumbnails} Thumbnail"},[i._param("the index of the current thumbnail",this.state.currentThumbnailIndex+1),i._param("the total number of thumbnails",this.state.thumbnails.length),i._plural(this.state.thumbnails.length)]))};m.prototype.$PagesCoverVideoThumbnailPicker7=function(){__p&&__p();if(this.state.thumbnails.length===0)return null;var n=null,o=null,p=0,q=0;if(this.props.offsetType===c("CoverVideoOffsetType").VERTICAL){o=this.props.containerWidth;p=this.props.offsetValue}else{n=this.props.containerHeight;q=this.props.offsetValue}var r=this.state.thumbnails.map(function(u){return c("React").createElement(c("XUICarouselItem.react"),{key:u.id},c("React").createElement("div",{style:{height:this.props.containerHeight,position:"relative",textAlign:"center",width:this.props.containerWidth}},c("React").createElement(c("Image.react"),{style:{left:q,position:"absolute",top:p},height:n,src:u.url,width:o})))}.bind(this)),s=c("React").createElement(c("XUICarouselArrow.react"),{onClick:this.$PagesCoverVideoThumbnailPicker4},c("React").createElement(c("Image.react"),{alt:i._("Prev"),src:j("101565")})),t=c("React").createElement(c("XUICarouselArrow.react"),{onClick:this.$PagesCoverVideoThumbnailPicker5},c("React").createElement(c("Image.react"),{alt:i._("Next"),src:j("101566")}));return c("React").createElement(c("XUICarousel.react"),{animator:this.state.animator,arrows:[s,t],initialAutoplay:false,initialIndex:0,onItemClick:c("emptyFunction"),ref:function(u){return this.$PagesCoverVideoThumbnailPicker1=u}.bind(this),resizeViewport:"fixed",style:{height:this.props.containerHeight,width:this.props.containerWidth,position:"absolute"},wrapAround:true},r)};m.prototype.$PagesCoverVideoThumbnailPicker10=function(){var n=this.props,o=n.futureVideoID,p=n.pageID,q=n.offsetType,r=n.offsetValue,s=this.state,t=s.thumbnails,u=s.currentThumbnailIndex,v=s.shouldCoverVideoLoop,w=t[u].id;c("PagesCoverVideoActionCreator").confirmPublishingVideo(c("nullthrows")(p),c("nullthrows")(o),c("nullthrows")(q),c("nullthrows")(r),c("nullthrows")(v),w)};m.prototype.$PagesCoverVideoThumbnailPicker13=function(){var n=i._("Back"),o=i._("Publish"),p=c("React").createElement("div",{className:"_d-g"},c("React").createElement("span",{className:"_d-h"},c("React").createElement(c("FBToggleSwitch.react"),{checked:this.state.shouldCoverVideoLoop,onToggle:this.$PagesCoverVideoThumbnailPicker12})),c("React").createElement("span",{className:"_d-i"},i._("Automatically replay video in a loop")));return c("React").createElement(c("PagesCoverVideoPreviewActionBar.react"),{cancelButtonLabel:n,confirmButtonLabel:o,onCancelClick:this.$PagesCoverVideoThumbnailPicker8,onConfirmClick:this.$PagesCoverVideoThumbnailPicker9,leftElement:p})};m.prototype.render=function(){if(this.state.thumbnails.length===0)return this.$PagesCoverVideoThumbnailPicker3();return c("React").createElement("div",{className:"_5_lp",style:{height:this.props.containerHeight,width:this.props.containerWidth}},this.$PagesCoverVideoThumbnailPicker6(),this.$PagesCoverVideoThumbnailPicker7(),this.$PagesCoverVideoThumbnailPicker13())};f.exports=m}),null);
__d("PagesCoverVideoCreator.react",["cx","PagesCoverVideoProgressOverlay.react","PagesCoverVideoPreview.react","PagesCoverVideoThumbnailPicker.react","CoverVideoStatus","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){__p&&__p();var k=null;switch(j.status){case c("CoverVideoStatus").UPLOADING:case c("CoverVideoStatus").ENCODING:k=c("React").createElement(c("PagesCoverVideoProgressOverlay.react"),j);break;case c("CoverVideoStatus").PREVIEWING:k=c("React").createElement(c("PagesCoverVideoPreview.react"),j);break;case c("CoverVideoStatus").CHOOSING_THUMBNAIL:k=c("React").createElement(c("PagesCoverVideoThumbnailPicker.react"),j);break;default:return null}var l=j.containerWidth,m=j.containerHeight;if(l!=null&&m!=null)return c("React").createElement("div",{style:{height:m,position:"relative",width:l}},k);return c("React").createElement("div",{className:"_5-qd"},k)};f.exports=i}),null);
__d("PagesFutureCoverComponent.react",["cx","PagesCoverPhoto.react","PagesCoverSlideshow.react","PagesCoverType","PagesCoverVideoCreator.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){__p&&__p();if(j.coreData.currentCoverType===c("PagesCoverType").LOADING||!j.coreData.futureCoverType)return null;var k=null;switch(j.coreData.futureCoverType){case c("PagesCoverType").COVER_PHOTO:k=c("React").createElement(c("PagesCoverPhoto.react"),j.coverData.cover_photo);break;case c("PagesCoverType").COVER_VIDEO:k=c("React").createElement(c("PagesCoverVideoCreator.react"),j.coverData.cover_video);break;case c("PagesCoverType").COVER_SLIDESHOW:var l=j.coverData.cover_slideshow,m=l.currentIndex,n=l.isContentOptimizerOn,o=l.isCoverSlideshowEnabled,p=l.isEditMode,q=l.items,r=l.maxNumberOfPhotosInSlideshow,s=l.nuxTourSteps,t=l.pageID,u=l.shouldShowLoadingScreenOnPickerPlaceholder,v=l.shouldShowNUXTour,w=l.showLoadingScreen,x=l.thumbnailHeight,y=l.thumbnailWidth,z=l.shouldShowMenuNux;k=c("React").createElement(c("PagesCoverSlideshow.react"),{currentIndex:m,hasPendingChanges:true,isContentOptimizerOn:n,isCoverSlideshowEnabled:o,isEditMode:p,items:q,maxNumberOfPhotosInSlideshow:r,nuxTourSteps:s,pageID:t,shouldShowLoadingScreenOnPickerPlaceholder:u,shouldShowMenuNux:z,shouldShowNUXTour:v,showLoadingScreen:w,thumbnailHeight:x,thumbnailWidth:y});break}if(!k)return null;return c("React").createElement("div",{className:"_32bq"},k)}f.exports=i}),null);
__d("PagesLiveCoverVideoStore",["FluxReduceStore","immutable","PagesCoverAction","PagesCoverDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={videoID:null,canEnable:false,isEnabled:false,renderedWidth:812};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.__moduleID=f.id,p}n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){switch(p.type){case c("PagesCoverAction").NEW_COVER_DATA:var q=p.data.coverData.cover_live_video;o=new m(q);return o;case c("PagesCoverAction").LIVE_VIDEO_ENABLE:o=o.set("isEnabled",true);return o;case c("PagesCoverAction").LIVE_VIDEO_DISABLE:o=o.set("isEnabled",false);return o;default:return o}};f.exports=new n(c("PagesCoverDispatcher"))}),null);
__d("PagesCoverContainer.react",["cx","CenteredContainer.react","FluxContainer","PagesCoverAction","PagesCoverCoreStore","PagesCoverDispatcher","PagesCoverEditMenu.react","PagesCoverPhotoStore","PagesCoverSlideshowStore","PagesCoverTrailerStore","PagesCoverVideoStore","PagesCurrentCoverComponent.react","PagesFutureCoverComponent.react","PagesLiveCoverVideoStore","React","XUISpinner.react","ModernWatchQueueFollowedShowTapMutation","RelayFBEnvironment"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.getStores=function(){return[c("PagesCoverCoreStore"),c("PagesLiveCoverVideoStore"),c("PagesCoverPhotoStore"),c("PagesCoverSlideshowStore"),c("PagesCoverTrailerStore"),c("PagesCoverVideoStore")]};l.calculateState=function(){return{coreData:c("PagesCoverCoreStore").getState(),coverData:{cover_live_video:c("PagesLiveCoverVideoStore").getState(),cover_photo:c("PagesCoverPhotoStore").getState(),cover_slideshow:c("PagesCoverSlideshowStore").getCurrentState(),cover_trailer:c("PagesCoverTrailerStore").getState(),cover_video:c("PagesCoverVideoStore").getState()}}};l.prototype.UNSAFE_componentWillMount=function(){c("PagesCoverDispatcher").explicitlyRegisterStores([c("PagesCoverCoreStore"),c("PagesLiveCoverVideoStore"),c("PagesCoverPhotoStore"),c("PagesCoverVideoStore"),c("PagesCoverTrailerStore"),c("PagesCoverSlideshowStore")])};l.prototype.componentDidMount=function(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").NEW_COVER_DATA,data:this.props});var m=c("PagesCoverTrailerStore").getState();if(!m||!m.isShowPageNewCover)return;var n=m.showsFeedbackData;if(n&&n.actorId){var o=this.props.pageID;c("ModernWatchQueueFollowedShowTapMutation").commit(c("RelayFBEnvironment"),{pageID:o,actorID:n.actorId})}};l.prototype.render=function(){if(!this.state.coreData.hasCoverSet&&!this.state.coreData.canViewerEditProfile)return null;var m=!this.state.coreData.shouldShowLoadingOverlay?null:c("React").createElement("div",{className:"_b1w"},c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"})));return c("React").createElement("div",{className:"_5_yy"},c("React").createElement(c("PagesCurrentCoverComponent.react"),{coverData:this.state.coverData,currentCoverType:this.state.coreData.currentCoverType,pageID:this.props.pageID,referrer:this.props.referrer}),c("React").createElement(c("PagesFutureCoverComponent.react"),{coreData:this.state.coreData,coverData:this.state.coverData,pageID:this.props.pageID}),c("React").createElement(c("PagesCoverEditMenu.react"),babelHelpers["extends"]({pageID:this.props.pageID},this.state)),m)};function l(){i.apply(this,arguments)}l.propTypes={pageID:k.string.isRequired,referrer:k.string};f.exports=c("FluxContainer").create(l)}),null);
__d("PagesProfilePictureLink.react",["cx","fbt","Link.react","React","VideoData","XPhotoPermalinkController","XVideoPermalinkController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function j(k){var l=k.children,m=k.loading,n=k.photoSourcePageID,o=k.photoID,p=k.videoData,q=p!==null?new(c("VideoData"))(p).getVideoID():null;if(o===null&&q===null||m)return c("React").Children.only(l);var r=null;if(q!==null)r=c("XVideoPermalinkController").getURIBuilder().setString("vanity",n).setInt("video_id",q).getURI();else r=c("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",o).setString("vanity",n).getURI();return c("React").createElement(c("Link.react"),{"aria-label":i._("Profile picture"),className:"_2dgj",href:r,rel:"theater"},k.children)};f.exports=j}),null);
__d("PagesProfilePicture.react",["cx","invariant","Image.react","PagesCoverType","PagesProfilePictureLink.react","ProfileHeaderSpinner.react","React","VideoData"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_qa1"+(this.props.isShowPageProfileInHeader?" _4zk8":"")},c("React").createElement(c("PagesProfilePictureLink.react"),this.props,this.$PagesProfilePicture1()),c("React").createElement(c("ProfileHeaderSpinner.react"),{shown:this.props.loading}),this.$PagesProfilePicture2())};l.prototype.$PagesProfilePicture1=function(){if(this.props.videoData&&this.props.currentCoverType!==c("PagesCoverType").COVER_VIDEO){var m=new(c("VideoData"))(this.props.videoData);return c("React").createElement("video",{autoPlay:true,className:"_4jhq"+(this.props.isShowPageProfileInHeader?" _4zk8":"")+(this.props.loading?" _179t":""),height:this.props.size,loop:true,muted:true,poster:this.props.uri,src:m.getPlayableSrcSD(),width:this.props.size})}return c("React").createElement(c("Image.react"),{className:"_4jhq"+(this.props.isShowPageProfileInHeader?" _4zk8":"")+(this.props.loading?" _179t":""),height:this.props.size,src:this.props.uri,width:this.props.size})};l.prototype.$PagesProfilePicture2=function(){if(!this.props.editable||this.props.loading)return null;var m=this.props.modules.PagesProfilePictureEditMenu;m!=null||i(0);return c("React").createElement(m,this.props)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("EntityPageLayoutDockingElement",["DockingElement","EntityPageDockingElementController"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("DockingElement"));i=h&&h.prototype;j.prototype.register=function(){c("EntityPageDockingElementController").register(this.__queryDOM.bind(this),this.__updateWithCache.bind(this))};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("EntityPageRenderer",["ReactDOM","ReactRenderer","XUISubNavigationLoader"],(function a(b,c,d,e,f,g){var h={constructAndRenderComponent:function i(j,k,l,m){c("XUISubNavigationLoader").onLeave(function(){c("ReactDOM").unmountComponentAtNode(l)});return c("ReactRenderer").constructAndRenderComponentAcrossTransitions(j,k,l,m)}};f.exports=h}),null);
__d("PagesProfileTestIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_PHOTOS:"pages_add_photos_button",ADD_TAB_OPEN_BUTTON:"add_tab_open_button",ADD_TAB_CLOSE_BUTTON:"add_tab_close_button",ADD_TAB_HEADER:"add_tab_header",ALBUMS:"pages_albums_section",ALL_PHOTOS:"pages_all_photos_section",CONTEXT_ROWS:"pages_context_rows_pagelet",CREATE_ALBUM:"pages_create_album_button",INFO_CARD:"pages_structured_context_pagelet",ABOUT_TAB_ROOT:"pages_about_tab_root",ABOUT_TAB_HEADER:"pages_about_tab_header",OBJECTIVE_FIRST_GET_CALLS:"pages_objective_first_get_calls_tile",OBJECTIVE_FIRST_SIGN_UP:"pages_objective_first_get_sign_up_tile",OBJECTIVE_FIRST_GET_DIRECTIONS:"pages_objective_first_get_directions_tile",OBJECTIVE_FIRST_GET_MESSAGES:"pages_objective_first_get_messages_tile",OBJECTIVE_FIRST_CANVAS:"pages_objective_first_canvas_tile"})}),null);