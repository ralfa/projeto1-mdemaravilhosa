if (self.CavalryLogger) { CavalryLogger.start_js(["2m5I5"]); }

__d("FbFeedHighlight",["cx","CSS","DOM","DOMScroll","JSXDOM"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=1e3,j=1e3,k=null;function l(){return c("JSXDOM").div({className:"_1usz"},c("JSXDOM").div({className:"_1us-"}),c("JSXDOM").div({className:"_1us_"}),c("JSXDOM").div({className:"_1ut0"}),c("JSXDOM").div({className:"_1ut1"}))}var m={highlightAndScrollTo:function n(o){m.highlightAndScrollToWithTime(o,j,0)},highlightAndScrollToWithTime:function n(o,p,q){m.highlightWithTime(o,p);m.scrollTo(o,q,0)},highlightSingle:function n(o){m.highlightSingleWithTime(o,j)},highlightSingleWithTime:function n(o,p){__p&&__p();var q=l();c("DOM").appendContent(o,q);setTimeout(function(){if(k)c("DOM").remove(k);k=q;c("CSS").addClass(o,"_1ut2")},0);setTimeout(function(){c("CSS").removeClass(o,"_1ut2");setTimeout(function(){c("DOM").remove(q);if(q==k)k=null},i+p)},i+p)},highlight:function n(o){m.highlightWithTime(o,j)},highlightWithTime:function n(o,p){var q=m.highlightPermanent(o);setTimeout(function(){c("CSS").removeClass(o,"_1ut2");setTimeout(c("DOM").remove.bind(null,q),i+i)},i+p)},highlightPermanent:function n(o){var p=l();c("DOM").appendContent(o,p);setTimeout(function(){c("CSS").addClass(o,"_1ut2")},0);return p},scrollTo:function n(o,p,q){setTimeout(function(){c("DOMScroll").scrollTo(o,750,false,false,p)},q)}};f.exports=m}),null);
__d("LikeConfirmer",["AsyncDialog","AsyncRequest"],(function a(b,c,d,e,f,g){__p&&__p();var h=false,i=false,j={likeContent:function k(){},like:function k(l,m){__p&&__p();this.likeContent=l;if(i)return;if(h)this.likeContent();else{var n=new(c("AsyncRequest"))().setURI("/like/confirm_like.php").setRelativeTo(m);c("AsyncDialog").send(n,function(o){i=true;o.subscribe("hide",this.onCloseLikeConfirmDialog.bind(this));o.setCausalElement(m)}.bind(this))}return false},isShowingConfirmation:function k(){return i},onCloseLikeConfirmDialog:function k(){i=false},likeSkipConfirmation:function k(l){h=l;this.likeContent()}};f.exports=j}),null);
__d("FbFeedKeyboardController",["csx","cx","fbt","Arbiter","AsyncDialog","AsyncRequest","CSS","DOM","DOMQuery","DOMScroll","Event","FbFeedHighlight","Focus","JSXDOM","KeyboardShortcuts","LikeConfirmer","NavigationMessage","Parent","ReactComposerEvents","ReactComposerIDGenerator","Run","Scroll","SubscriptionsHandler","UITinyViewportAction","Vector","ViewportBounds","emptyFunction","ge","getActiveElement","gkx","isAsyncScrollQuery","isElementNode","throttle"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=45,l=0;function m(){l=c("UITinyViewportAction").isTiny()?0:c("ViewportBounds").getTop()}function n(q){if(!q)return null;if(q.previousElementSibling instanceof HTMLElement)return q.previousElementSibling;var r=q.previousSibling;while(r&&!(r instanceof HTMLElement))r=r.previousSibling;return r||null}function o(q){if(q.nextElementSibling instanceof HTMLElement)return q.nextElementSibling;var r=q.nextSibling;while(r&&!(r instanceof HTMLElement))r=r.nextSibling;return r||null}function p(q){"use strict";this.root=q;this.init()}p.prototype.getStories=function(q){"use strict";return c("DOMQuery").scry(q||this.root,"._5jmm")};p.prototype.isStory=function(q){"use strict";return c("CSS").matchesSelector(q,"._5jmm")};p.prototype.clickLike=function(){"use strict";__p&&__p();var q=this.$FbFeedKeyboardController3();this.clickElement(q,".UFILikeLink");if(q!==this.selected)return;var r=this.getParentStory(c("getActiveElement")());if(r){var s=c("DOMQuery").scry(r,".UFILikeLink");for(var t=0;t<s.length;t++)if(!c("CSS").hasClass(s[t],"accessible_elem"))c("Focus").setWithoutOutline(s[t])}};p.prototype.clickComment=function(){"use strict";this.clickElement(this.$FbFeedKeyboardController3(),".comment_link")};p.prototype.clickShare=function(){"use strict";this.click(".share_action_link")};p.prototype.clickSeeMore=function(){"use strict";this.click(".see_more_link")};p.prototype.clickLeft=function(){"use strict";this.click("._1mri")};p.prototype.clickRight=function(){"use strict";this.click("._2fu-")};p.prototype.openAttachment=function(){"use strict";this.click("._5dec","a._52c6","._4-eo",".uiVideoThumb")};p.prototype.getHeadline=function(q){"use strict";return c("DOMQuery").scry(q,"h5._5pbw")[0]};p.prototype.$FbFeedKeyboardController4=function(q){"use strict";var r=c("Parent").bySelector(q,"._5pcb"),s=c("ge")("pagelet_soft_permalink_posts");return!!(r||s&&c("DOM").contains(s,q))};p.prototype.getPreviousSibling=function(q){"use strict";__p&&__p();var r=n(q);if(r&&this.getParentStory(r))return r;r=null;if(this.$FbFeedKeyboardController4(q)){var s=this.getStories(this.root),t=s.indexOf(q);while(t>-1){if(t===0){r=c("ge")("pagelet_composer");r=r&&c("Parent").bySelector(r,"._5jmm")}else if(t>0){r=s[t-1];if(r.offsetHeight>0)break}t--}}if(r instanceof HTMLElement)return r;return this.selected};p.prototype.getPreviousStory=function(q){"use strict";var r=this.getPreviousSibling(q);while(r&&!this.isStory(r))r=this.getPreviousSibling(r);return r};p.prototype.getParentStory=function(q){"use strict";var r=c("Parent").bySelector(q,"._5jmm");return r instanceof HTMLElement?r:null};p.prototype.getNextSibling=function(q){"use strict";__p&&__p();var r=o(q);if(r&&this.getParentStory(r))return r;r=null;if(this.$FbFeedKeyboardController4(q)){var s=this.getStories(this.root),t=s.indexOf(q);if(t>-1){r=s[++t];while(r&&r.offsetHeight===0)r=s[++t]}}else if(c("ge")("pagelet_composer",q))r=c("DOMQuery").scry(document,"div._5pcb ._5jmm")[0];return r||this.selected};p.prototype.getNextStory=function(q){"use strict";var r=this.getNextSibling(q);while(r&&!this.isStory(r))r=this.getNextSibling(r);return r};p.prototype.setSelected=function(q,r){"use strict";__p&&__p();if(q){var s="_5qdu",t=c("DOMQuery").scry(q,"._5qdu");if(!t.length&&r)c("DOM").prependContent(q,c("JSXDOM").div({className:s}))}if(r){this.selected&&this.setTabindexOnStory(this.selected,"-1");this.selected&&c("CSS").removeClass(this.selected,"_5qdv");this.selected=q;q&&this.setTabindexOnStory(q,"0");q&&c("CSS").addClass(q,"_5qdv");q&&c("FbFeedHighlight").highlightSingle(q)}};p.prototype.$FbFeedKeyboardController3=function(){"use strict";var q=c("DOM").scry(this.selected,"._1qch");if(q.length>0)return c("DOM").scry(this.selected,"._3el7")[0];return this.selected};p.prototype.focusComposer=function(){"use strict";__p&&__p();var q=["pagelet_composer","pagelet_group_composer","pagelet_event_composer","PageComposerPagelet_","PageComposerPagelet_Admin_View","timeline_composer_container"],r=null;for(var s=q,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v;r=c("ge")(w);if(r)break}if(r){var x=c("DOM").scry(r,"textarea")[0];if(x){c("Focus").set(x);c("DOMScroll").scrollTo(r,true)}else{var y=c("DOM").scry(r,"div._36bx")[0],z=y&&y.id;if(c("ReactComposerIDGenerator").isComposerID(z)){c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+y.id);c("DOMScroll").scrollTo(r,true)}}}};p.prototype.getScrollOffset=function(){"use strict";return 10+(this.scrollOffset||0)};p.prototype.getAnimationLength=function(q){"use strict";return Math.min(Math.abs(c("Vector").getElementPosition(q).y-c("ViewportBounds").getTop()-c("Scroll").getTop(document.body)),400)};p.prototype.findTop=function(){"use strict";var q=this.getStories();for(var r=0;r<q.length;r++)if(c("Vector").getElementPosition(q[r]).y>c("Vector").getScrollPosition().y)return q[r];return null};p.prototype.onLeave=function(){"use strict";this.subscriptions&&this.subscriptions.release()};p.prototype.getHelpDialogRequest=function(){"use strict";if(!this.dialogRequest){this.dialogRequest=new(c("AsyncRequest"))("/ajax/keyboard_shortcuts");this.dialogRequest.setReadOnly(true)}else if(this.dialogRequest.transport)return null;return this.dialogRequest};p.prototype.init=function(){"use strict";__p&&__p();c("Run").onLeave(this.onLeave.bind(this));this.subscriptions=new(c("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,this.onLeave.bind(this)),c("KeyboardShortcuts").register("j",this.vert.bind(this,1),{shortcutInfo:{displayKeys:["j"],description:j._("Scroll to the next News Feed story")}}),c("KeyboardShortcuts").register("k",this.vert.bind(this,-1),{shortcutInfo:{displayKeys:["k"],description:j._("Scroll to the previous News Feed story")}}),c("KeyboardShortcuts").register("p",this.focusComposer.bind(this),{shortcutInfo:{displayKeys:["p"],description:j._("Post a new story")}}),c("KeyboardShortcuts").register("l",function(){var q=this.getParentStory(c("getActiveElement")());c("LikeConfirmer").like(function(){this.setSelected(q,false);this.clickLike()}.bind(this),c("getActiveElement")())}.bind(this),{filter:this.hasActiveStory.bind(this),shortcutInfo:{displayKeys:["l"],description:j._("Like or unlike the selected story")}}),c("KeyboardShortcuts").register("c",this.clickComment.bind(this),{filter:this.hasActiveStory.bind(this),shortcutInfo:{displayKeys:["c"],description:j._("Comment on the selected story")}}),c("KeyboardShortcuts").register("s",this.clickShare.bind(this),{filter:this.hasActiveStory.bind(this),shortcutInfo:{displayKeys:["s"],description:j._("Share the selected story")}}),c("KeyboardShortcuts").register("o",this.openAttachment.bind(this),{filter:this.hasActiveStory.bind(this),shortcutInfo:{displayKeys:["o"],description:j._("Open attachment of the selected story")}}),c("KeyboardShortcuts").register("RETURN",this.clickSeeMore.bind(this),{filter:this.hasExpandableStoryInFocus.bind(this),shortcutInfo:{displayKeys:["enter"],description:j._("See More of the selected story")}}),c("KeyboardShortcuts").register("LEFT",this.clickLeft.bind(this),{filter:this.hasActiveStory.bind(this)}),c("KeyboardShortcuts").register("RIGHT",this.clickRight.bind(this),{filter:this.hasActiveStory.bind(this)}),c("Event").listen(this.root,"focusin",function(event){var q=event.getTarget();if(!this.isStory(q)){var r=c("DOM").isNodeOfType(q,["object","embed","iframe"]),s=this.getParentStory(q),t=this.selected;if(s&&!r&&t){this.setSelected(s,true);this.selected=s}}}.bind(this)));if(!c("gkx")("AT73P93_INI-GqvCJryiCJt-6N2SiiMDsHXGy5Hu8NdiDMizG7bp30EClsuOfY6D_WWbWtv3DC2aKvFPzAkh46-Q"))this.subscriptions.addSubscriptions(c("KeyboardShortcuts").register("SLASH",function(){var q=this.getHelpDialogRequest();if(q){q.setRelativeTo(c("getActiveElement")());c("AsyncDialog").send(q)}}.bind(this),{filter:function q(event,r){return event.getModifiers().shift},shortcutInfo:{displayKeys:["?"],description:"Show this help dialog"}}))};p.prototype.hasActiveStory=function(event,q){"use strict";var r=c("getActiveElement")();return!(r&&c("CSS").shown(r))||!!this.getParentStory(r)};p.prototype.hasExpandableStoryInFocus=function(event,q){"use strict";var r=c("getActiveElement")();return!!(r.getElementsByClassName("text_exposed_root").length&&!r.getElementsByClassName("text_exposed_root text_exposed").length)};p.prototype.clickElement=function(q){"use strict";__p&&__p();if(!q)return;var r=void 0;for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];for(var v=0,w=t.length;v<w;v++){r=c("DOM").scry(q,t[v])[0];if(r&&c("CSS").shown(r)){r.click();return}}};p.prototype.click=function(){"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];this.clickElement.apply(this,[this.selected].concat(r))};p.prototype.$FbFeedKeyboardController5=function(){"use strict";__p&&__p();if(!this.$FbFeedKeyboardController1){this.scrollOffset=0;var q=c("ge")("pagelet_feed_switcher_root");if(q)this.scrollOffset+=q.getBoundingClientRect().height;this.subscriptions.addSubscriptions(c("Event").listen(document,"scroll",function(){if(this.selected&&!this.scrolling)this.setSelected(null,false)}.bind(this)));this.$FbFeedKeyboardController1=true}};p.prototype.$FbFeedKeyboardController6=function(){"use strict";if(!this.$FbFeedKeyboardController2){m();this.subscriptions.addSubscriptions(c("Event").listen(window,"resize",c("throttle")(m)));this.$FbFeedKeyboardController2=true}};p.prototype.vert=function(q){"use strict";__p&&__p();this.$FbFeedKeyboardController5();var r;if(this.selected){if(this.selected.id=="pagelet_composer")r=q>0?this.getStories()[0]:null;else if(q===0)r=this.selected;else r=q>0?this.getNextStory(this.selected):this.getPreviousStory(this.selected)||c("ge")("pagelet_composer");if(!r)return;else if(!c("isElementNode")(r)||c("CSS").hasClass(r,"hidden_elem")){if(this.selected)c("CSS").removeClass(this.selected,"selectedStorySimple");this.selected=r;this.vert(q);return}}if(!r||c("Parent").byClass(r,"hidden_elem")||!c("DOM").contains(document,r)){r=this.findTop();if(r&&q<0)r=this.getPreviousStory(r)}if(!r)return;this.anim&&this.anim.stop();var s=Date.now()-(this.lastScroll||0)>30,t=c("emptyFunction");if(q!==0)t=this.setFocused.bind(this,r);if(c("isAsyncScrollQuery")()){s=false;t();t=c("emptyFunction")}this.scrolling=true;this.scrollingTimer&&clearTimeout(this.scrollingTimer);this.$FbFeedKeyboardController6();var u=c("Vector").getViewportDimensions().y-l-this.getScrollOffset();if(this.selected){var v=c("DOM").scry(this.selected,"._2pum")[0],w=c("DOM").scry(r,"._2pum")[0];if(v&&q>0)this.isExplore=true;if(w)this.isExplore=false}if(this.root.id==="pagelet_explore_feed")this.isExplore=true;if(this.isExplore)u-=k;this.anim=c("DOMScroll").scrollTo(r,s?this.getAnimationLength(r):0,false,u,0,function(){this.scrollingTimer=setTimeout(function(){this.scrolling=false}.bind(this),300);var x=c("Vector").getScrollPosition();t();if(x.distanceTo(c("Vector").getScrollPosition())!==0)c("DOMScroll").scrollTo(x,0)}.bind(this));this.setSelected(r,true);this.lastScroll=Date.now()};p.prototype.setTabindexOnStory=function(q,r){"use strict";if(q&&this.isStory(q))q.tabIndex=parseInt(r,10)};p.prototype.setFocused=function(q){"use strict";if(q&&this.isStory(q))c("Focus").setWithoutOutline(q)};p.init=function(q){"use strict";return new p(q)};f.exports=p}),null);