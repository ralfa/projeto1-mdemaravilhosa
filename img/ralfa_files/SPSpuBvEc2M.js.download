if (self.CavalryLogger) { CavalryLogger.start_js(["j0M2c"]); }

__d("PagesManagerNotificationsSection",[],(function a(b,c,d,e,f,g){f.exports={ACTIVITY_FEED:"activity_feed",APPOINTMENT_CALENDAR:"appointment_calendar",CONTACT_US_REQUESTS:"contact_us_requests",INFO_REQUESTS:"info_requests",LOCATIONS:"locations",NOTIFICATIONS:"notifications"}}),null);
__d("PagesPlatformNativeBookingGraphQLStatus",[],(function a(b,c,d,e,f,g){f.exports={CANCELLED:"CANCELLED",CONFIRMED:"CONFIRMED",DECLINED:"DECLINED",PENDING:"PENDING",REQUESTED:"REQUESTED",INSTANT_BOOKING_PENDING:"INSTANT_BOOKING_PENDING"}}),null);
__d("ProfileImageBlockEntry.react",["cx","Grid.react","HovercardLink","Image.react","Link.react","Badge.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("Grid.react").GridItem,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){__p&&__p();var n=this.props.hovercardID?c("HovercardLink").constructEndpoint({id:this.props.hovercardID}):null,o=c("React").createElement("div",{className:"_2akn"},c("React").createElement(c("Image.react"),{className:"_2ako",src:this.props.imgSrc}),this.props.profileIcon?c("React").createElement(c("Image.react"),{src:this.props.profileIcon,className:"_2akp"}):null),p=this.props.showVerify?c("React").createElement(c("Badge.react"),{type:"verified",size:"medium"}):null,q=c("React").createElement("span",{className:"_h24 _h25",id:this.props.labelID},this.props.title,p);if(this.props.profileURI){o=c("React").createElement(c("Link.react"),{"data-hovercard":n,href:this.props.profileURI},o);q=c("React").createElement(c("Link.react"),{"data-hovercard":n,href:this.props.profileURI},q)}q=c("React").createElement("div",{className:"_2akq ellipsis"},q);var r=null;if(this.props.auxiliarySubtitle&&this.props.auxSubtitleImage)r=c("React").createElement(c("Image.react"),{src:this.props.auxSubtitleImage,className:"_5ob0"});return c("React").createElement("div",{className:"_2aks _1boy"},c("React").createElement(c("Grid.react"),{cols:3,alignv:"middle"},c("React").createElement(k,{key:"image"},o),c("React").createElement(k,{key:"text",className:"_2akt _4oh_"},q,c("React").createElement("div",{className:"_2aku _1boz ellipsis",id:this.props.subtitleID},this.props.subtitle),c("React").createElement("div",{className:"_2aku"},r,this.props.auxiliarySubtitle)),c("React").createElement(k,{key:"widget"},this.props.children)))};function m(){i.apply(this,arguments)}m.propTypes={imgSrc:c("Image.react").validateImageSrcPropType,title:l.node.isRequired,subtitle:l.node,auxiliarySubtitle:l.node,auxSubtitleImage:l.object,profileIcon:l.string,profileURI:l.string,hovercardID:l.string,showVerify:l.bool,labelID:l.string,subtitleID:l.string};f.exports=m}),null);
__d("NativeBookingFlowAdminNotesMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"RequestNoteUpdateData!",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"RequestNoteUpdateData!"}],k={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},m={kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:false,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},n={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},o={kind:"InlineFragment",type:"NativeComponentFlowBookingRequest",selections:[{kind:"ScalarField",alias:null,name:"request_flow_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"booking_status",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:null,concreteType:"Page",plural:false,selections:[k,{kind:"LinkedField",alias:null,name:"address",storageKey:null,args:null,concreteType:"StreetAddress",plural:false,selections:[{kind:"ScalarField",alias:null,name:"single_line_full_address",args:null,storageKey:null}]},l,{kind:"LinkedField",alias:null,name:"phone_number",storageKey:null,args:null,concreteType:"PhoneNumber",plural:false,selections:[{kind:"ScalarField",alias:null,name:"display_number",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"profile_photo",storageKey:null,args:null,concreteType:"Photo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},k]}]},{kind:"LinkedField",alias:null,name:"request_note",storageKey:"request_note(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"PagesPlatformNoteFromComponentFlowRequestConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PagesPlatformNoteFromComponentFlowRequestEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"PagesPlatformNote",plural:false,selections:[m,k]}]}]},{kind:"LinkedField",alias:null,name:"suggested_time_range",storageKey:null,args:null,concreteType:"TimeRange",plural:false,selections:[{kind:"ScalarField",alias:null,name:"start",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"calendar_sync_type",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"product_item",storageKey:null,args:null,concreteType:"ProductItem",plural:false,selections:[{kind:"ScalarField",alias:null,name:"experimental_freeform_price",args:null,storageKey:null},k,l,n]},{kind:"ScalarField",alias:null,name:"has_saved_to_calendar",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"requested_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"service_general_info",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"special_request",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:false,selections:[l,n,k]},{kind:"ScalarField",alias:null,name:"user_availability",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"additional_info",storageKey:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",plural:true,selections:[{kind:"ScalarField",alias:null,name:"field_key",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null}]}]},p={kind:"LinkedField",alias:null,name:"request_note",storageKey:null,args:null,concreteType:"PagesPlatformNote",plural:false,selections:[k,m]};return{kind:"Request",operationKind:"mutation",name:"NativeBookingFlowAdminNotesMutation",id:"1809300029080052",text:null,metadata:{},fragment:{kind:"Fragment",name:"NativeBookingFlowAdminNotesMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"request_note_update",storageKey:null,args:j,concreteType:"RequestNoteUpdateResponsePayload",plural:false,selections:[{kind:"LinkedField",alias:null,name:"component_flow_request",storageKey:null,args:null,concreteType:null,plural:false,selections:[k,o]},p]}]},operation:{kind:"Operation",name:"NativeBookingFlowAdminNotesMutation",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"request_note_update",storageKey:null,args:j,concreteType:"RequestNoteUpdateResponsePayload",plural:false,selections:[{kind:"LinkedField",alias:null,name:"component_flow_request",storageKey:null,args:null,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},k,o]},p]}]}}}();f.exports=h}),null);
__d("NativeComponentFlowBookingRequestMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"NativeBookingRequestStatusUpdateData!",defaultValue:null}],j=[{kind:"LinkedField",alias:null,name:"native_booking_request_status_update",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"NativeBookingRequestStatusUpdateData!"}],concreteType:"NativeBookingRequestStatusUpdateResponsePayload",plural:false,selections:[{kind:"LinkedField",alias:null,name:"request",storageKey:null,args:null,concreteType:"NativeComponentFlowBookingRequest",plural:false,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"NativeComponentFlowBookingRequestMutation",id:"1673379016047829",text:null,metadata:{},fragment:{kind:"Fragment",name:"NativeComponentFlowBookingRequestMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:j},operation:{kind:"Operation",name:"NativeComponentFlowBookingRequestMutation",argumentDefinitions:i,selections:j}}}();f.exports=h}),null);
__d("PagesManagerMessagingAppointmentDialogDetailPane_appointment.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},k={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]};return{kind:"Fragment",name:"PagesManagerMessagingAppointmentDialogDetailPane_appointment",type:"NativeComponentFlowBookingRequest",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"service_general_info",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"booking_status",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:null,concreteType:"Page",plural:false,selections:[{kind:"LinkedField",alias:null,name:"address",storageKey:null,args:null,concreteType:"StreetAddress",plural:false,selections:[{kind:"ScalarField",alias:null,name:"single_line_full_address",args:null,storageKey:null}]},i,j,{kind:"LinkedField",alias:null,name:"phone_number",storageKey:null,args:null,concreteType:"PhoneNumber",plural:false,selections:[{kind:"ScalarField",alias:null,name:"display_number",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"profile_photo",storageKey:null,args:null,concreteType:"Photo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"product_item",storageKey:null,args:null,concreteType:"ProductItem",plural:false,selections:[{kind:"ScalarField",alias:null,name:"experimental_freeform_price",args:null,storageKey:null},i,j,k]},{kind:"ScalarField",alias:null,name:"request_flow_type",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"request_note",storageKey:"request_note(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"PagesPlatformNoteFromComponentFlowRequestConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PagesPlatformNoteFromComponentFlowRequestEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"PagesPlatformNote",plural:false,selections:[{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:false,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}]}]}]},{kind:"ScalarField",alias:null,name:"requested_time",args:null,storageKey:null},i,{kind:"ScalarField",alias:null,name:"special_request",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"suggested_time_range",storageKey:null,args:null,concreteType:"TimeRange",plural:false,selections:[{kind:"ScalarField",alias:null,name:"start",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:false,selections:[j,k]},{kind:"ScalarField",alias:null,name:"user_availability",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"additional_info",storageKey:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",plural:true,selections:[{kind:"ScalarField",alias:null,name:"field_key",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null}]}]}}();f.exports=h}),null);
__d("PagesManagerMessagingAppointmentDialogFragment_appointment.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"PagesManagerMessagingAppointmentDialogFragment_appointment",type:"NativeComponentFlowBookingRequest",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"booking_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_saved_to_calendar",args:null,storageKey:null},i,{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:null,concreteType:"Page",plural:false,selections:[i]},{kind:"LinkedField",alias:null,name:"request_note",storageKey:"request_note(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"PagesPlatformNoteFromComponentFlowRequestConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PagesPlatformNoteFromComponentFlowRequestEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"PagesPlatformNote",plural:false,selections:[{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:false,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}]}]}]},{kind:"LinkedField",alias:null,name:"suggested_time_range",storageKey:null,args:null,concreteType:"TimeRange",plural:false,selections:[{kind:"ScalarField",alias:null,name:"start",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end",args:null,storageKey:null}]}]}}();f.exports=h}),null);
__d("PagesManagerMessagingAppointmentDialogNavItem_appointment.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={kind:"Fragment",name:"PagesManagerMessagingAppointmentDialogNavItem_appointment",type:"NativeComponentFlowBookingRequest",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"booking_status",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"product_item",storageKey:null,args:null,concreteType:"ProductItem",plural:false,selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"requested_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"service_general_info",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"suggested_time_range",storageKey:null,args:null,concreteType:"TimeRange",plural:false,selections:[{kind:"ScalarField",alias:null,name:"start",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null}]};f.exports=h}),null);
__d("PagesManagerMessagingAppointmentDialogRefetchQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"requestID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"requestID",type:"ID!"}],k={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},m={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"PagesManagerMessagingAppointmentDialogRefetchQuery",id:"1414169052038385",text:null,metadata:{},fragment:{kind:"Fragment",name:"PagesManagerMessagingAppointmentDialogRefetchQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:"appointment",name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"FragmentSpread",name:"PagesManagerMessagingAppointmentDialog_appointment",args:null}]}]},operation:{kind:"Operation",name:"PagesManagerMessagingAppointmentDialogRefetchQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:"appointment",name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},k,{kind:"InlineFragment",type:"NativeComponentFlowBookingRequest",selections:[{kind:"ScalarField",alias:null,name:"request_flow_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"booking_status",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:null,concreteType:"Page",plural:false,selections:[k,{kind:"LinkedField",alias:null,name:"address",storageKey:null,args:null,concreteType:"StreetAddress",plural:false,selections:[{kind:"ScalarField",alias:null,name:"single_line_full_address",args:null,storageKey:null}]},l,{kind:"LinkedField",alias:null,name:"phone_number",storageKey:null,args:null,concreteType:"PhoneNumber",plural:false,selections:[{kind:"ScalarField",alias:null,name:"display_number",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"profile_photo",storageKey:null,args:null,concreteType:"Photo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},k]}]},{kind:"LinkedField",alias:null,name:"request_note",storageKey:"request_note(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"PagesPlatformNoteFromComponentFlowRequestConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PagesPlatformNoteFromComponentFlowRequestEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"PagesPlatformNote",plural:false,selections:[{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:false,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},k]}]}]},{kind:"LinkedField",alias:null,name:"suggested_time_range",storageKey:null,args:null,concreteType:"TimeRange",plural:false,selections:[{kind:"ScalarField",alias:null,name:"start",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"calendar_sync_type",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"product_item",storageKey:null,args:null,concreteType:"ProductItem",plural:false,selections:[{kind:"ScalarField",alias:null,name:"experimental_freeform_price",args:null,storageKey:null},k,l,m]},{kind:"ScalarField",alias:null,name:"has_saved_to_calendar",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"requested_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"service_general_info",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"special_request",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:false,selections:[l,m,k]},{kind:"ScalarField",alias:null,name:"user_availability",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"additional_info",storageKey:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",plural:true,selections:[{kind:"ScalarField",alias:null,name:"field_key",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null}]}]}]}]}}}();f.exports=h}),null);
__d("PagesManagerMessagingAppointmentDialog_appointment.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"PagesManagerMessagingAppointmentDialog_appointment",type:"NativeComponentFlowBookingRequest",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"booking_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_saved_to_calendar",args:null,storageKey:null},i,{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:null,concreteType:"Page",plural:false,selections:[i]},{kind:"LinkedField",alias:null,name:"request_note",storageKey:"request_note(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"PagesPlatformNoteFromComponentFlowRequestConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PagesPlatformNoteFromComponentFlowRequestEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"PagesPlatformNote",plural:false,selections:[{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:false,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}]}]}]},{kind:"LinkedField",alias:null,name:"suggested_time_range",storageKey:null,args:null,concreteType:"TimeRange",plural:false,selections:[{kind:"ScalarField",alias:null,name:"start",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"ServicesAppointmentManagementDialogFooter_appointment",args:null},{kind:"FragmentSpread",name:"PagesManagerMessagingAppointmentDialogDetailPane_appointment",args:null}]}}();f.exports=h}),null);
__d("PagesManagerMessagingAppointmentDialog_appointments.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"PagesManagerMessagingAppointmentDialog_appointments",type:"NativeBookingRequestsConnection",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NativeBookingRequestsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"NativeComponentFlowBookingRequest",plural:false,selections:[{kind:"ScalarField",alias:null,name:"booking_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_saved_to_calendar",args:null,storageKey:null},i,{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:null,concreteType:"Page",plural:false,selections:[i]},{kind:"LinkedField",alias:null,name:"request_note",storageKey:"request_note(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"PagesPlatformNoteFromComponentFlowRequestConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PagesPlatformNoteFromComponentFlowRequestEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"PagesPlatformNote",plural:false,selections:[{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:false,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}]}]}]},{kind:"LinkedField",alias:null,name:"suggested_time_range",storageKey:null,args:null,concreteType:"TimeRange",plural:false,selections:[{kind:"ScalarField",alias:null,name:"start",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"ServicesAppointmentManagementDialogFooter_appointment",args:null},{kind:"FragmentSpread",name:"PagesManagerMessagingAppointmentDialogNavItem_appointment",args:null},{kind:"FragmentSpread",name:"PagesManagerMessagingAppointmentDialogDetailPane_appointment",args:null}]}]}]}}();f.exports=h}),null);
__d("PagesManagerMessagingAppointmentDialog_page.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={kind:"Fragment",name:"PagesManagerMessagingAppointmentDialog_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"should_show_page_admin_calendar_view",args:null,storageKey:null}]};f.exports=h}),null);
__d("ServicesAppointmentInterstitialOptOutMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"ServicesAppointmentInterstitialOptOutCreateData!",defaultValue:null}],j=[{kind:"LinkedField",alias:null,name:"services_appointment_interstitial_opt_out_create",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"ServicesAppointmentInterstitialOptOutCreateData!"}],concreteType:"ServicesAppointmentInterstitialOptOutCreateResponsePayload",plural:false,selections:[{kind:"LinkedField",alias:null,name:"services_appointment_interstitial_opt_out",storageKey:null,args:null,concreteType:"ServicesAppointmentInterstitialOptOut",plural:false,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ServicesAppointmentInterstitialOptOutMutation",id:"2055978301084753",text:null,metadata:{},fragment:{kind:"Fragment",name:"ServicesAppointmentInterstitialOptOutMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:j},operation:{kind:"Operation",name:"ServicesAppointmentInterstitialOptOutMutation",argumentDefinitions:i,selections:j}}}();f.exports=h}),null);
__d("ServicesAppointmentManagementDialogFooter_appointment.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"ServicesAppointmentManagementDialogFooter_appointment",type:"NativeComponentFlowBookingRequest",metadata:null,argumentDefinitions:[],selections:[i,{kind:"ScalarField",alias:null,name:"booking_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"calendar_sync_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_saved_to_calendar",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:null,concreteType:"Page",plural:false,selections:[i]}]}}();f.exports=h}),null);
__d("ServicesVerticalCreateAppointmentDialogRootQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"count",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"userID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"userID",type:"ID!"}],k=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"ServicesVerticalCreateAppointmentDialogRootQuery",id:"1556299261154359",text:null,metadata:{},fragment:{kind:"Fragment",name:"ServicesVerticalCreateAppointmentDialogRootQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:"user",name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"FragmentSpread",name:"ServicesVerticalCreateAppointmentDialog_user",args:null}]}]},{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:k,concreteType:"Page",plural:false,selections:[{kind:"FragmentSpread",name:"ServicesVerticalCreateAppointmentDialog_services",args:[{kind:"Variable",name:"count",variableName:"count",type:null},{kind:"Variable",name:"userID",variableName:"userID",type:null}]}]}]},operation:{kind:"Operation",name:"ServicesVerticalCreateAppointmentDialogRootQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:"user",name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l,{kind:"InlineFragment",type:"User",selections:[m]}]},{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:k,concreteType:"Page",plural:false,selections:[l,{kind:"LinkedField",alias:null,name:"services_card",storageKey:null,args:null,concreteType:"PageServicesCard",plural:false,selections:[{kind:"ScalarField",alias:null,name:"card_visibility",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"product_catalog",storageKey:null,args:null,concreteType:"ProductCatalog",plural:false,selections:[{kind:"LinkedField",alias:null,name:"catalog_items",storageKey:null,args:[{kind:"Variable",name:"first",variableName:"count",type:"Int"}],concreteType:"ProductCatalogToProductItemsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ProductCatalogToProductItemsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"ProductItem",plural:false,selections:[l,m]}]}]},l]},l]},{kind:"LinkedField",alias:null,name:"services_vertical_info",storageKey:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"should_allow_admin_enter_customer_notes",args:null,storageKey:null}]}]}]}}}();f.exports=h}),null);
__d("ServicesVerticalCreateAppointmentDialog_services.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"ServicesVerticalCreateAppointmentDialog_services",type:"Page",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"count",type:"Int",defaultValue:100},{kind:"LocalArgument",name:"userID",type:"ID",defaultValue:null}],selections:[i,{kind:"LinkedField",alias:null,name:"services_card",storageKey:null,args:null,concreteType:"PageServicesCard",plural:false,selections:[{kind:"ScalarField",alias:null,name:"card_visibility",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"product_catalog",storageKey:null,args:null,concreteType:"ProductCatalog",plural:false,selections:[{kind:"LinkedField",alias:null,name:"catalog_items",storageKey:null,args:[{kind:"Variable",name:"first",variableName:"count",type:"Int"}],concreteType:"ProductCatalogToProductItemsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ProductCatalogToProductItemsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"ProductItem",plural:false,selections:[i,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]}]}]}]}]},{kind:"LinkedField",alias:null,name:"services_vertical_info",storageKey:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"should_allow_admin_enter_customer_notes",args:null,storageKey:null}]}]}}();f.exports=h}),null);
__d("ServicesVerticalCreateAppointmentDialog_user.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={kind:"Fragment",name:"ServicesVerticalCreateAppointmentDialog_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]};f.exports=h}),null);
__d("PresmaUsageTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:PresmaUsageLoggerConfig",this.$PresmaUsageTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:PresmaUsageLoggerConfig",this.$PresmaUsageTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$PresmaUsageTypedLogger1={};return this};h.prototype.updateData=function(j){this.$PresmaUsageTypedLogger1=babelHelpers["extends"]({},this.$PresmaUsageTypedLogger1,j);return this};h.prototype.setBusinessID=function(j){this.$PresmaUsageTypedLogger1.business_id=j;return this};h.prototype.setUsageEvent=function(j){this.$PresmaUsageTypedLogger1.usage_event=j;return this};h.prototype.setVC=function(j){this.$PresmaUsageTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$PresmaUsageTypedLogger1=babelHelpers["extends"]({},this.$PresmaUsageTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={business_id:true,usage_event:true,vc:true};f.exports=h}),null);
__d("ChatAppointmentUtil",["fbt","MercuryShareAttachmentRenderLocations","DateTime","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=Object.freeze({LONG_DATE_FORMAT:"l, M j, Y",SHORT_DATE_FORMAT:"D M j, y",TIME_FORMAT:"g:i A",LONG_DATE_TIME_FORMAT:"l, M j, Y g:ia",SHORT_DATE_TIME_FORMAT:"D M j, g:ia"}),j={getAbbreviationMonthText:function k(l){__p&&__p();switch(l.getMonth()){case 1:return h._("JAN");case 2:return h._("FEB");case 3:return h._("MAR");case 4:return h._("APR");case 5:return h._("MAY");case 6:return h._("JUN");case 7:return h._("JUL");case 8:return h._("AUG");case 9:return h._("SEP");case 10:return h._("OCT");case 11:return h._("NOV");case 12:return h._("DEC")}return null},getDateFormat:function k(l){if(l===c("MercuryShareAttachmentRenderLocations").CHAT||l===c("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW)return i.SHORT_DATE_FORMAT;return i.LONG_DATE_FORMAT},getDateTimeFormat:function k(l){if(l===c("MercuryShareAttachmentRenderLocations").CHAT||l===c("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW)return i.SHORT_DATE_TIME_FORMAT;return i.LONG_DATE_TIME_FORMAT},validateAppointment:function k(l){return Boolean(l.product_item&&l.page)},isEndDayDifferentFromStartDay:function k(l){var m=c("DateTime").localCreate(l.start),n=c("DateTime").localCreate(l.end);return m.getDayOfMonth()!==n.getDayOfMonth()},renderDate:function k(l,m){if(!l)return null;var n=c("DateTime").localCreate(l.start);return n.format(j.getDateFormat(m))},renderTimeRange:function k(l,m){if(!l)return null;var n=c("DateTime").localCreate(l.start),o=c("DateTime").localCreate(l.end),p=i.TIME_FORMAT;if(n.equals(o))return n.format(p);else return n.format(p)+" - "+o.format(p)},renderDateTimeRange:function k(l,m){if(!l)return null;var n=c("DateTime").localCreate(l.start);return n.format(j.getDateTimeFormat(m))},renderDateTime:function k(l,m){if(!l)return null;return l.format(j.getDateTimeFormat(m))},renderStartDateTime:function k(l,m){if(!l)return null;var n=c("DateTime").localCreate(l.start);return j.renderDateTime(n,m)},renderEndDateTime:function k(l,m){if(!l)return null;var n=c("DateTime").localCreate(l.end);return j.renderDateTime(n,m)}};f.exports=j}),null);
__d("getFBAlphaConsoleSize",["ge"],(function a(b,c,d,e,f,g){function h(){var i=c("ge")("alpha_console_container");if(i)return{height:i.offsetHeight,width:i.offsetWidth};else return{height:0,width:0}}f.exports=h}),null);
__d("PagesManagerDispatcher",["ReactDispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ReactDispatcher_DEPRECATED"))()}),null);
__d("ServicesAppointmentInterstitialActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({INTERSTITIAL_HAS_REQUESTS_OR_THREAD_INTENTS:"",INTERSTITIAL_CLOSE:"",INTERSTITIAL_DISABLE:"",INTERSTITIAL_READY:"",INTERSTITIAL_TRIGGER_ACTION:"",INTERSTITIAL_QE_EXPOSURE_LOG:""});f.exports=h}),null);
__d("ServicesAppointmentInterstitialOptOutMutation",["RelayAPIConfig","RelayFBEnvironment","RelayModern","ServicesAppointmentInterstitialOptOutMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("ServicesAppointmentInterstitialOptOutMutation.graphql")};function k(l){return h(c("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:c("RelayAPIConfig").actorID}},onCompleted:l&&l.onSuccess,onError:l&&l.onFailure})}f.exports={commit:k}}),null);
__d("ServicesAppointmentInterstitialAction",["PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesManagerDispatcher","ServicesAppointmentInterstitialActionTypes","ServicesAppointmentInterstitialOptOutMutation"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={appointmentScheduled:function i(){c("PagesManagerDispatcher").dispatch({type:c("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_DISABLE})},hasRequestsOrThreadIntents:function i(){c("PagesManagerDispatcher").dispatch({type:c("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_HAS_REQUESTS_OR_THREAD_INTENTS})},interstitialClose:function i(){c("PagesManagerDispatcher").dispatch({type:c("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_CLOSE})},interstitialOptOut:function i(){c("ServicesAppointmentInterstitialOptOutMutation").commit()},interstitialReady:function i(){c("PagesManagerDispatcher").dispatch({type:c("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_READY})},interstitialTriggerAction:function i(j,k){c("PagesLogger").log(k,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").SERVICES_APPOINTMENT_INTERSTITIAL,null,["services_appointment_interstitial"],{target:j});c("PagesManagerDispatcher").dispatch({type:c("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_TRIGGER_ACTION})},logQEExposure:function i(){c("PagesManagerDispatcher").dispatch({type:c("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_QE_EXPOSURE_LOG})}};f.exports=h}),null);
__d("NativeBookingFlowAdminNotesMutation",["RelayModern","NativeBookingFlowAdminNotesMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("NativeBookingFlowAdminNotesMutation.graphql")};function k(l,m,n){return h(l,{mutation:j,variables:{input:{action:m.action,actor_id:m.actor_id,body:m.body,component_flow_request_id:m.component_flow_request_id,request_note_id:m.request_note_id}},onCompleted:n&&n.onSuccess,onError:n&&n.onFailure})}f.exports={commit:k}}),null);
__d("NativeComponentFlowBookingRequestMutation",["RelayCompat","NativeComponentFlowBookingRequestMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayCompat").MutationTypes,i=c("RelayCompat").commitMutation,j=c("RelayCompat").graphql,k={modern:function m(){return c("NativeComponentFlowBookingRequestMutation.graphql")},classic:function m(n){return{kind:"OperationDefinition",argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"input"}],name:"NativeComponentFlowBookingRequestMutation",operation:"mutation",node:function(){return{calls:[{kind:"Call",metadata:{},name:"native_booking_request_status_update",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"}],fieldName:"request",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"NativeComponentFlowBookingRequest"},{fieldName:"client_mutation_id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],kind:"Mutation",metadata:{inputType:"NativeBookingRequestStatusUpdateData!"},name:"NativeComponentFlowBookingRequestMutation",responseType:"NativeBookingRequestStatusUpdateResponsePayload"}}()}}};function l(m,n,o){var p=[{type:h.FIELDS_CHANGE,fieldIDs:{request:n.request_id||""}}];return i(m,{configs:p,mutation:k,variables:{input:{action:n.action,actor_id:n.actor_id,consumer_name:n.consumer_name,job_application_id:n.job_application_id,message_text:n.message_text,notes_for_customer:n.notes_for_customer,page_id:n.page_id,referrer:n.referrer,request_id:n.request_id,request_note_body:n.request_note_body,request_owner_id:n.request_owner_id,service_id:n.service_id,services_flow_type:n.services_flow_type,suggested_end_time:n.suggested_end_time,suggested_time:n.suggested_time}},onCompleted:o&&o.onSuccess,onError:o&&o.onFailure})}f.exports={commit:l}}),null);
__d("PagesAppointmentDateTimeRangePicker.react",["cx","fbt","BUIDatePicker.react","BUITimeInput.react","DateTime","Link.react","LocalDate","React","TimeOfDay","XUIText.react","Timezone","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Timezone").getEnvironmentTimezoneID,m=c("Timezone").UTC,n=l()||m,o=c("LocalDate").today(n),p=[function(r){return r.isAfterOrEqual(o)}];j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(r){__p&&__p();k.constructor.call(this,r);this.$PagesAppointmentDateTimeRangePicker4=function(s){var t=Object.assign({},this.props.value,{fromDate:s});this.props.onChange(t)}.bind(this);this.$PagesAppointmentDateTimeRangePicker5=function(s){var t=Object.assign({},this.props.value,{fromTime:s});this.props.onChange(t)}.bind(this);this.$PagesAppointmentDateTimeRangePicker6=function(s){var t=Object.assign({},this.props.value,{untilDate:s});this.props.onChange(t)}.bind(this);this.$PagesAppointmentDateTimeRangePicker7=function(s){var t=Object.assign({},this.props.value,{untilTime:s});this.props.onChange(t)}.bind(this);this.$PagesAppointmentDateTimeRangePicker8=function(){var s,t,u=(s=this)!=null?(s=s.props)!=null?(s=s.value)!=null?s.fromDate:s:s:s,v=(t=this)!=null?(t=t.props)!=null?(t=t.value)!=null?t.fromTime:t:t:t;if(!u||!v){u=this.defaultValue.fromDate;v=this.defaultValue.fromTime}var w=this.$PagesAppointmentDateTimeRangePicker3(u,v).addMinutes(30),x=c("LocalDate").fromDateTime(w),y=c("TimeOfDay").fromDateTime(w),z=Object.assign({},this.props.value,{untilDate:x,untilTime:y});this.setState({showUntil:true});this.props.onChange(z)}.bind(this);this.defaultValue=this.$PagesAppointmentDateTimeRangePicker1();this.state={showUntil:false}}q.prototype.shouldComponentUpdate=function(r,s){return!this.$PagesAppointmentDateTimeRangePicker2(this.props.value,r.value)||this.state.showUntil!==s.showUntil||this.props.disabled!==r.disabled};q.prototype.UNSAFE_componentWillReceiveProps=function(r){if(r.value&&!this.$PagesAppointmentDateTimeRangePicker2(this.props.value,r.value))this.setState({showUntil:Boolean(r.value.untilTime)})};q.prototype.componentDidMount=function(){var r;if(!((r=this)!=null?(r=r.props)!=null?r.value:r:r))this.props.onChange(this.defaultValue)};q.prototype.$PagesAppointmentDateTimeRangePicker2=function(r,s){__p&&__p();if(!r&&!s)return true;if(r&&s){if(!r.fromDate.equals(s.fromDate))return false;if(!r.fromTime.equals(s.fromTime))return false;if(r.untilDate&&s.untilDate&&!r.untilDate.equals(s.untilDate))return false;if(r.untilTime&&s.untilTime&&!r.untilTime.equals(s.untilTime))return false;return true}return false};q.prototype.$PagesAppointmentDateTimeRangePicker3=function(r,s){return c("DateTime").localNow().set({second:s.second,minute:s.minute,hour:s.hour,day:r.day,month:r.month,year:r.year})};q.prototype.$PagesAppointmentDateTimeRangePicker1=function(){var r,s=this.props.appointmentDurationMinutes,t=c("DateTime").now(n).addMinutes(15),u=s?t.addMinutes(s):null,v=(r=this)!=null?(r=r.props)!=null?(r=r.appointment)!=null?(r=r.suggested_time_range)!=null?r.start:r:r:r:r;if(v)t=c("DateTime").localCreate(v);var w={fromDate:c("LocalDate").fromDateTime(t),fromTime:c("TimeOfDay").fromDateTime(t),untilDate:u?c("LocalDate").fromDateTime(u):null,untilTime:u?c("TimeOfDay").fromDateTime(u):null};return w};q.prototype.$PagesAppointmentDateTimeRangePicker9=function(){var r,s,t=(r=this)!=null?(r=r.props)!=null?(r=r.value)!=null?r.untilDate:r:r:r,u=(s=this)!=null?(s=s.props)!=null?(s=s.value)!=null?s.untilTime:s:s:s;if(this.state.showUntil&&t&&u)return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{display:"block",size:"meta1",className:"_9te _3-94"},i._("Ends")),this.renderDatePicker(t,false),this.renderTimePicker(u,false));return c("React").createElement(c("Link.react"),{onClick:this.$PagesAppointmentDateTimeRangePicker8},i._("+ End Time"))};q.prototype.renderDatePicker=function(r,s){return c("React").createElement(c("BUIDatePicker.react"),{className:"_vxa _3-91",dateRestraints:s?p:[function(r){var t;return r.isAfterOrEqual((t=this)!=null?(t=t.props)!=null?(t=t.value)!=null?t.fromDate:t:t:t)}.bind(this)],disabled:this.props.disabled,onChange:s?this.$PagesAppointmentDateTimeRangePicker4:this.$PagesAppointmentDateTimeRangePicker6,value:r})};q.prototype.renderTimePicker=function(r,s){return c("React").createElement(c("BUITimeInput.react"),{className:"_vxa",disabled:this.props.disabled,onChange:s?this.$PagesAppointmentDateTimeRangePicker5:this.$PagesAppointmentDateTimeRangePicker7,value:r})};q.prototype.render=function(){var r,s,t=(r=this)!=null?(r=r.props)!=null?(r=r.value)!=null?r.fromDate:r:r:r,u=(s=this)!=null?(s=s.props)!=null?(s=s.value)!=null?s.fromTime:s:s:s;if(!t||!u){t=this.defaultValue.fromDate;u=this.defaultValue.fromTime}return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{display:"block",size:"meta1",className:"_9te _3-94"},i._("Starts")),this.renderDatePicker(t,true),this.renderTimePicker(u,true),c("React").createElement("div",{className:"_3-8y"},this.$PagesAppointmentDateTimeRangePicker9()))};q.defaultProps={disabled:false};f.exports=q}),null);
__d("PageAllServicesQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1308264852564700"};j.getQueryID=function(){"use strict";return"246146925834855"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("PagesCatalogItemsSelector.react",["fbt","AsyncRequest","PageAllServicesQueryWebGraphQLQuery","React","SUIBusinessTheme","SUISelector.react","SUISelectorOption.react","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){__p&&__p();j.constructor.call(this,l);this.$PagesCatalogItemsSelector1=function(m){var n,o=((n=m)!=null?(n=n.payload)!=null?(n=n.data)!=null?(n=n.page)!=null?n.services_card:n:n:n:n)||{},p=o.card_visibility;if(p==="published"){var q,r=((q=o)!=null?(q=q.product_catalog)!=null?(q=q.catalog_items)!=null?q.edges:q:q:q)||[],s=r.map(function(u){return u.node}),t=s.length>0;this.setState({catalogItems:s,hasService:t},function(){this.$PagesCatalogItemsSelector2(this.state.value)}.bind(this))}}.bind(this);this.$PagesCatalogItemsSelector2=function(m){var n=this.state,o=n.catalogItems,p=n.hasService,q=o.find(function(r){return r.id===m});this.setState({value:m});this.props.onChange(q,p)}.bind(this);this.state={catalogItems:l.catalogItems||[],hasService:false,value:l.defaultValue||null}}k.prototype.componentDidMount=function(){if(this.state.catalogItems.length===0){var l=c("PageAllServicesQueryWebGraphQLQuery").getURI({page_id:this.props.pageID});new(c("AsyncRequest"))(l).setHandler(this.$PagesCatalogItemsSelector1).send()}else this.setState({hasService:true},function(){this.$PagesCatalogItemsSelector2(this.state.value)}.bind(this))};k.prototype.render=function(){var l=this.state.catalogItems;if(l.length===0)return null;var m=this.props.maxWidth?this.props.maxWidth-2:undefined;return c("React").createElement(c("SUISelector.react"),{disabled:this.props.disabled,maxWidth:m,onChange:this.$PagesCatalogItemsSelector2,placeholder:h._("Select a service"),theme:c("SUIBusinessTheme"),value:this.state.value},l.map(function(n){return c("React").createElement(c("SUISelectorOption.react"),{value:n.id,key:n.id},n.name)}))};k.defaultProps={disabled:false};f.exports=k}),null);
__d("NativeBookingRequestStatusUpdateAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACCEPT:"accept",ADMIN_ACCEPT:"admin_accept",ADMIN_CANCEL:"admin_cancel",ADMIN_DECLINE:"admin_decline",CREATE:"create",CREATE_FOR_EXTERNAL_USERS:"create_for_external_users",DECLINE:"decline",DELETE:"delete",EDIT:"edit",SCHEDULE:"schedule",USER_CANCEL:"user_cancel",REQUEST:"request"})}),null);
__d("ServicesAppointmentManagementDialogEnum",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({ADMIN_CANCEL:null,ADMIN_DECLINE:null,CREATE_ANOTHER_APPOINTMENT:null,DISMISS_DIALOG:null,EDIT:null,LIST:null,MANUAL_CREATE:null,SCHEDULE:null,USER_CANCEL:null,USER_DECLINE:null,USER_VIEW_DETAILS:null,VIEW_DETAILS:null,VIEW_DETAILS_MANUAL_CREATE:null});f.exports=h}),null);
__d("ServicesNativeBookingRequestAdditionalInfoKey",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({REFERRAL_OFFER_DETAIL:"referral_offer_detail",NOTES_FOR_CUSTOMER:"notes_for_customer"})}),null);
__d("ServicesChatAppointmentUtils",["ServicesNativeBookingRequestAdditionalInfoKey","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ServicesNativeBookingRequestAdditionalInfoKey").NOTES_FOR_CUSTOMER,i=c("ServicesNativeBookingRequestAdditionalInfoKey").REFERRAL_OFFER_DETAIL,j={getCustomerNotes:function k(l){var m;if(!l)return null;var n=l.find(function(o){return this.isItemWithKey(o,h)}.bind(this))||null;return(m=n)!=null?m.value:m},getReferralInfo:function k(l){if(!l)return null;var m=l.find(function(n){return this.isItemWithKey(n,i)}.bind(this));if(m)return babelHelpers["extends"]({},m);return null},isItemWithKey:function k(l,m){return l.field_key.toLowerCase()===m}};f.exports=j}),null);
__d("ServicesVerticalBookingRequestFlow",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({REQUEST_TIME:"request_time",INSTANT_BOOKING:"instant_booking",JOB_INTERVIEW:"job_interview",FACEBOOK_APPOINTMENT:"facebook_appointment"})}),null);
__d("PagesManagerMessagingAppointmentDialogDetailPane.react",["ix","cx","fbt","AbstractTextArea.react","ChatAppointmentUtil","DateTime","Image.react","ImageBlock.react","LongLiveTimer","PagesAppointmentDateTimeRangePicker.react","PagesCatalogItemsSelector.react","PagesPlatformNativeBookingGraphQLStatus","React","RelayModern","ServicesAppointmentDialogConfig","ServicesAppointmentManagementDialogEnum","ServicesChatAppointmentUtils","ServicesIBFeedbackLink.react","ServicesVerticalBookingRequestFlow","Timezone","asset","idx","joinClasses","PagesManagerMessagingAppointmentDialogDetailPane_appointment.graphql"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m,n,o=c("RelayModern").createFragmentContainer,p=c("RelayModern").graphql,q=c("React").PropTypes,r=c("Timezone").getEnvironmentTimezoneID()||c("Timezone").UTC,s=function s(){return c("React").createElement("div",{className:"_9tb _3-8y"})},t=function t(y){return c("React").createElement("div",{className:c("joinClasses")(y.className,"_9tc")},y.children)},u=function u(y){return c("React").createElement("div",{className:c("joinClasses")(y.className,"_9te")},y.children)},v=function v(y){return c("React").createElement("div",{className:c("joinClasses")(y.className,"_18rc")},y.children)};t.propTypes={className:q.string,children:q.any};u.propTypes={className:q.string,children:q.any};v.propTypes={className:q.string,children:q.any};k=babelHelpers.inherits(w,c("React").Component);l=k&&k.prototype;w.prototype.render=function(){__p&&__p();var y=this.props,z=y.className,A=y.primaryText,B=y.secondaryText,C=y.shouldReverseTextOrder,D=y.src,E=y.subText,F=D?c("ImageBlock.react"):"div",G=void 0;if(!A)return null;if(D)G=c("React").createElement("div",{className:"_9tf"},c("React").createElement(c("Image.react"),{className:"_9tg",src:D}));if(C){var H=!B&&!E;return c("React").createElement(F,{className:z,spacing:"medium"},G,c("React").createElement("div",{className:"_3-99"},c("React").createElement(t,{className:(H?"_3-8x":"")+(!H?" _3-94":"")},A),B?c("React").createElement(u,null,B):null,E?c("React").createElement(u,{className:"_3-8w"},E):null))}return c("React").createElement(F,{className:z,spacing:"medium"},G,c("React").createElement("div",{className:"_3-99"},B?c("React").createElement(u,{className:"_3-94"},B):null,c("React").createElement(t,{className:!B&&!E?"_3-8x":""},A),E?c("React").createElement(u,{className:"_3-8w"},E):null))};function w(){k.apply(this,arguments)}w.propTypes={className:q.string,primaryText:q.any,secondaryText:q.any,shouldReverseTextOrder:q.bool,src:q.any,subText:q.any};m=babelHelpers.inherits(x,c("React").Component);n=m&&m.prototype;function x(y){__p&&__p();n.constructor.call(this,y);this.$PagesManagerMessagingAppointmentDialogDetailPane2=function(){this.props.onDataChange(this.$PagesManagerMessagingAppointmentDialogDetailPane4())}.bind(this);this.$PagesManagerMessagingAppointmentDialogDetailPane15=function(z){var A=z,B=this.$PagesManagerMessagingAppointmentDialogDetailPane8(z.fromDate,z.fromTime),C=z.untilDate&&z.untilTime?this.$PagesManagerMessagingAppointmentDialogDetailPane8(z.untilDate,z.untilTime):null;if(C&&B>C){A.untilDate=A.fromDate;A.untilTime=A.fromTime}this.setState({dateTimeRange:A},this.$PagesManagerMessagingAppointmentDialogDetailPane2)}.bind(this);this.$PagesManagerMessagingAppointmentDialogDetailPane14=function(z,A){var B=z;this.setState({selectedService:B},this.$PagesManagerMessagingAppointmentDialogDetailPane2)}.bind(this);this.$PagesManagerMessagingAppointmentDialogDetailPane25=function(event){var z=event.target.value;this.setState({notes:z},this.$PagesManagerMessagingAppointmentDialogDetailPane2)}.bind(this);this.$PagesManagerMessagingAppointmentDialogDetailPane16=function(event){var z=event.target.value;this.setState({customerNotes:z},this.$PagesManagerMessagingAppointmentDialogDetailPane2)}.bind(this);this.$PagesManagerMessagingAppointmentDialogDetailPane24=function(event){var z=event.target.value;this.setState({cancelNotes:z},this.$PagesManagerMessagingAppointmentDialogDetailPane2)}.bind(this);this.state=this.$PagesManagerMessagingAppointmentDialogDetailPane1(y);this.$PagesManagerMessagingAppointmentDialogDetailPane2()}x.prototype.UNSAFE_componentWillReceiveProps=function(y){if(this.props.paneType!==y.paneType)this.setState(this.$PagesManagerMessagingAppointmentDialogDetailPane1(y),this.$PagesManagerMessagingAppointmentDialogDetailPane2)};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane1=function(y){var z,A;return{cancelNotes:this.$PagesManagerMessagingAppointmentDialogDetailPane3(y),customerNotes:c("ServicesChatAppointmentUtils").getCustomerNotes((z=y)!=null?(z=z.appointment)!=null?z.additional_info:z:z)||null,dateTimeRange:null,hasService:false,notes:((A=y)!=null?(A=A.appointment)!=null?(A=A.request_note)!=null?(A=A.edges)!=null?(A=A[0])!=null?(A=A.node)!=null?(A=A.body)!=null?A.text:A:A:A:A:A:A:A)||"",selectedService:null}};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane4=function(){switch(this.props.paneType){case c("ServicesAppointmentManagementDialogEnum").SCHEDULE:return this.$PagesManagerMessagingAppointmentDialogDetailPane5();case c("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:case c("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:case c("ServicesAppointmentManagementDialogEnum").USER_CANCEL:case c("ServicesAppointmentManagementDialogEnum").USER_DECLINE:return this.$PagesManagerMessagingAppointmentDialogDetailPane6();case c("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:return this.$PagesManagerMessagingAppointmentDialogDetailPane7()}return{data:{},isValid:false}};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane8=function(y,z){return c("DateTime").localNow().set({second:z.second,minute:z.minute,hour:z.hour,day:y.day,month:y.month,year:y.year}).getUnixTimestampSeconds()};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane7=function(){var y=this.state.notes;return{data:{notes:y},isValid:true}};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane6=function(){var y=this.state.cancelNotes;return{data:{cancelNotes:y},isValid:true}};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane9=function(){var y=this.state.dateTimeRange,z={data:{},isValid:false};if(y){var A=y.fromDate,B=y.fromTime,C=y.untilDate,D=y.untilTime,E=c("DateTime").now(r).getUnixTimestampSeconds(),F=this.$PagesManagerMessagingAppointmentDialogDetailPane8(A,B),G=C&&D?this.$PagesManagerMessagingAppointmentDialogDetailPane8(C,D):null;if(F>E&&(G&&G>=F||!G))z={data:{startTime:F,endTime:G},isValid:true}}return z};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane5=function(){var y=[this.$PagesManagerMessagingAppointmentDialogDetailPane10(),this.$PagesManagerMessagingAppointmentDialogDetailPane9(),this.$PagesManagerMessagingAppointmentDialogDetailPane11()];y=y.reduce(function(z,A){z.data=babelHelpers["extends"]({},z.data,A.data);z.isValid=z.isValid&&A.isValid;return z},{data:{},isValid:true});return y};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane10=function(){var y=this.state.selectedService,z=y?y.id:null;return{data:{serviceID:z},isValid:true}};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane11=function(){var y=this.state.customerNotes;return{data:{customerNotes:y},isValid:true}};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane3=function(y){var z,A=((z=y)!=null?(z=z.appointment)!=null?(z=z.user)!=null?z.name:z:z:z)||"";switch(y.paneType){case c("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:return j._("Hi, {user name}. Unfortunately, we need to cancel this appointment. We're sorry for the inconvenience and would like to reschedule. Are there any other times that would work for you?",[j._param("user name",A)]);case c("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:return j._("Hi, {user name}. Unfortunately, the appointment times you've suggested aren't available. Are there any other times that would work for you?",[j._param("user name",A)]);case c("ServicesAppointmentManagementDialogEnum").USER_CANCEL:case c("ServicesAppointmentManagementDialogEnum").USER_DECLINE:return j._("Hello. Unfortunately, this time doesn't work for my schedule.")}return""};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane12=function(){var y,z,A=this.state.selectedService,B=A?A.id:null,C=this.props.appointment;if(!C)return null;var D=C.user||{},E=D.name||"",F=C.page.id,G=(y=D)!=null?(y=y.profile_picture)!=null?y.uri:y:y,H=C.requested_time?j._("Requested: {relativeTime}",[j._param("relativeTime",c("LongLiveTimer").renderRelativeTimeToServer(C.requested_time).text)]):"",I=C.product_item||{},J=B||I.id,K=(z=I)!=null?z.name:z;return c("React").createElement("div",{className:"_zcq"},c("React").createElement(w,{className:"_62pf",primaryText:E,src:G,subText:H}),c("React").createElement(s,null),c("React").createElement(w,{className:"_3-8y",primaryText:K,secondaryText:j._("Requested Service")}),this.$PagesManagerMessagingAppointmentDialogDetailPane13(false),c("React").createElement(s,null),c("React").createElement("div",{className:"_4bp2"},c("React").createElement(u,{className:"_3-94"},j._("Service")),c("React").createElement(c("PagesCatalogItemsSelector.react"),{defaultValue:J,maxWidth:this.props.maxWidth,onChange:this.$PagesManagerMessagingAppointmentDialogDetailPane14,pageID:F})),c("React").createElement("div",{className:"_9th"},c("React").createElement(c("PagesAppointmentDateTimeRangePicker.react"),{appointment:C,onChange:this.$PagesManagerMessagingAppointmentDialogDetailPane15,value:this.state.dateTimeRange})),c("React").createElement(s,null),c("React").createElement("div",{className:"_3-8y"},c("React").createElement(u,{className:"_3-94"},j._("Message for customer (Optional)")),c("React").createElement(c("AbstractTextArea.react"),{className:"_zcu",onChange:this.$PagesManagerMessagingAppointmentDialogDetailPane16,placeholder:j._("Add information about your location, cancellation policy, or anything else {customer name} should know for their appointment.",[j._param("customer name",E?E:"the customer")])})))};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane17=function(){var y=this.props.appointment;if(!y)return null;var z=y.booking_status||"",A=y.user||{},B=A.name||"",C=A.profile_picture||{},D=z===c("PagesPlatformNativeBookingGraphQLStatus").REQUESTED?this.$PagesManagerMessagingAppointmentDialogDetailPane13():this.$PagesManagerMessagingAppointmentDialogDetailPane18();return c("React").createElement("div",{className:"_zcq"},c("React").createElement(w,{primaryText:B,secondaryText:j._("Customer"),src:C.uri}),D,c("React").createElement(s,null),this.$PagesManagerMessagingAppointmentDialogDetailPane19())};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane20=function(){return c("React").createElement("div",{className:"_zcq"},this.$PagesManagerMessagingAppointmentDialogDetailPane21(),c("React").createElement(s,null),this.$PagesManagerMessagingAppointmentDialogDetailPane19())};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane22=function(){__p&&__p();var y=this.props.appointment;if(!y)return null;var z=y.booking_status||"",A=y.status||"",B=y.request_flow_type,C=void 0;switch(z){case c("PagesPlatformNativeBookingGraphQLStatus").CONFIRMED:C=h("425290");break;case c("PagesPlatformNativeBookingGraphQLStatus").CANCELLED:case c("PagesPlatformNativeBookingGraphQLStatus").DECLINED:C=h("425299");break;default:C=h("363503")}var D=!this.isJobInterview()?c("React").createElement("div",null,c("React").createElement(s,null),this.$PagesManagerMessagingAppointmentDialogDetailPane19()):null;return c("React").createElement("div",{className:"_zcq"},c("React").createElement(w,{className:c("joinClasses")("_zcr _2ph_",(z===c("PagesPlatformNativeBookingGraphQLStatus").PENDING?"_9ti":"")+(z===c("PagesPlatformNativeBookingGraphQLStatus").CONFIRMED?" _9tj":"")+(z===c("PagesPlatformNativeBookingGraphQLStatus").DECLINED||z===c("PagesPlatformNativeBookingGraphQLStatus").CANCELLED?" _9tk":"")),primaryText:A,secondaryText:j._("Appointment"),src:C}),this.$PagesManagerMessagingAppointmentDialogDetailPane18(),D,c("ServicesAppointmentDialogConfig").showCalendarSyncFeedbackForm&&B&&c("ServicesVerticalBookingRequestFlow")[B]===c("ServicesVerticalBookingRequestFlow").INSTANT_BOOKING?c("React").createElement(c("ServicesIBFeedbackLink.react"),{className:"_3-8y"}):null)};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane23=function(){var y=this.props.appointment;if(!y)return null;return c("React").createElement("div",{className:"_zcq"},this.$PagesManagerMessagingAppointmentDialogDetailPane21(true))};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane13=function(y){var z,A=this.props.appointment;if(!A)return null;var B=A.service_general_info||"",C=A.special_request||"",D=A.user_availability||"",E=((z=A)!=null?(z=z.user)!=null?z.name:z:z)||"",F=y&&E?j._("{user name}'s Availability",[j._param("user name",E)]):j._("Availability"),G=c("ServicesChatAppointmentUtils").getReferralInfo(A.additional_info),H=G?c("React").createElement(w,{className:"_3-8y",primaryText:G.value,secondaryText:G.label}):null;return c("React").createElement("div",null,c("React").createElement(w,{className:"_3-8y",primaryText:B,secondaryText:j._("General Info")}),c("React").createElement(w,{className:"_3-8y",primaryText:D,secondaryText:F}),c("React").createElement(w,{className:"_3-8y",primaryText:C,secondaryText:j._("Additional Notes")}),H)};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane18=function(){__p&&__p();var y,z,A=this.props.appointment;if(!A)return null;var B=A.product_item||{},C=A.suggested_time_range||{},D=B.experimental_freeform_price||"",E=B.name||"",F=((y=B)!=null?(y=y.profile_picture)!=null?y.uri:y:y)||((z=A)!=null?(z=z.page)!=null?(z=z.profile_photo)!=null?z.url:z:z:z),G=null,H=null;if(Object.keys(B).length!==0){G=c("React").createElement(w,{className:"_3-8y",primaryText:E,secondaryText:D,shouldReverseTextOrder:true,src:F});H=c("React").createElement(s,null)}var I=h("363499"),J=h("363558"),K=h("358304"),L=h("375379"),M=c("ServicesChatAppointmentUtils").getReferralInfo(A.additional_info),N=null;if(M){var O=h("375558");N=c("React").createElement(w,{className:"_3-8x",primaryText:M.value,src:O})}var P=void 0;if(this.isJobInterview())P=c("React").createElement(w,{className:"_3-8y",primaryText:j._("Job Interview"),secondaryText:j._("Type"),src:L});return c("React").createElement("div",null,P,G,H,c("React").createElement(w,{className:"_3-8x",primaryText:c("ChatAppointmentUtil").renderDate(C),src:I}),c("React").createElement(w,{className:"_3-8x",primaryText:c("ChatAppointmentUtil").renderTimeRange(C),src:J}),c("React").createElement(w,{className:"_3-8y",primaryText:this.state.customerNotes,secondaryText:null,src:K}),N)};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane21=function(y){__p&&__p();var z,A,B,C,D=this.props.appointment;if(!D)return null;var E=D.page||{},F=E.name,G=((z=E)!=null?(z=z.phone_number)!=null?z.display_number:z:z)||"",H=((A=E)!=null?(A=A.address)!=null?A.single_line_full_address:A:A)||"",I=D.product_item||{},J=D.suggested_time_range||{},K=I.experimental_freeform_price||"",L=I.name||"",M=((B=I)!=null?(B=B.profile_picture)!=null?B.uri:B:B)||((C=D)!=null?(C=C.page)!=null?(C=C.profile_photo)!=null?C.url:C:C:C),N=h("363499"),O=h("363558"),P=h("363791"),Q=h("363776"),R=h("358304"),S=h("375379"),T=c("ServicesChatAppointmentUtils").getReferralInfo(D.additional_info),U=null;if(T){var V=h("375558");U=c("React").createElement(w,{className:"_3-8y",primaryText:T.value,secondaryText:T.label,src:V})}var W=void 0;if(y&&M&&L)W=c("React").createElement("div",{className:"_2pio _9nm"},c("React").createElement(c("Image.react"),{height:72,src:M,width:72}),c("React").createElement(t,{className:"_3-8m"},L),c("React").createElement(u,null,K));else W=c("React").createElement(w,{className:"_3-8y",primaryText:L,subText:K,src:M});var X=void 0;if(this.isJobInterview())X=c("React").createElement(w,{className:"_3-8y",primaryText:j._("Job Interview"),src:S});return c("React").createElement("div",null,W,X,c("React").createElement(w,{className:"_3-8y",primaryText:c("ChatAppointmentUtil").renderDate(J),src:N}),c("React").createElement(w,{className:"_3-8y",primaryText:c("ChatAppointmentUtil").renderTimeRange(J),src:O}),c("React").createElement(w,{className:"_3-8y",primaryText:F,subText:H,src:P}),c("React").createElement(w,{className:"_3-8y",primaryText:G,src:Q}),c("React").createElement(w,{className:"_3-8y",primaryText:this.state.customerNotes,secondaryText:null,src:R}),U)};x.prototype.$PagesManagerMessagingAppointmentDialogDetailPane19=function(){__p&&__p();var y,z="",A="",B="",C=null,D=this.props.paneType,E=null;switch(this.props.paneType){case c("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:case c("ServicesAppointmentManagementDialogEnum").USER_DECLINE:B=j._("Message");A=j._("Send a brief message describing why you're declining this appointment request.");z=this.state.cancelNotes;C=this.$PagesManagerMessagingAppointmentDialogDetailPane24;break;case c("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:case c("ServicesAppointmentManagementDialogEnum").USER_CANCEL:B=j._("Message");A=j._("Send a brief message describing why you're cancelling this appointment.");z=this.state.cancelNotes;C=this.$PagesManagerMessagingAppointmentDialogDetailPane24;break;case c("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:B=c("React").createElement("div",{className:"_18rd"},j._("Private Notes"));A=j._("Add information about this appointment that will only be visible to people who manage your Facebook Page.");z=this.state.notes;C=this.$PagesManagerMessagingAppointmentDialogDetailPane25;var F=((y=this.props)!=null?(y=y.appointment)!=null?(y=y.user)!=null?y.name:y:y:y)||"Customer";E=c("React").createElement(v,{className:"_3-8x"},j._("Private notes are only visible to people who manage your Facebook Page. {customer name} will not see these notes.",[j._param("customer name",F)]));break}return c("React").createElement("div",{className:"_3-8y"},c("React").createElement(t,{className:"_3-95"},B),c("React").createElement(c("AbstractTextArea.react"),{className:"_zcu",defaultValue:z.toString(),key:D,onChange:C,placeholder:A.toString()}),E)};x.prototype.isJobInterview=function(){var y,z=(y=this.props.appointment)!=null?y.request_flow_type:y;return!!z&&c("ServicesVerticalBookingRequestFlow")[z]===c("ServicesVerticalBookingRequestFlow").JOB_INTERVIEW};x.prototype.render=function(){switch(this.props.paneType){case c("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:case c("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:return this.$PagesManagerMessagingAppointmentDialogDetailPane17();case c("ServicesAppointmentManagementDialogEnum").USER_DECLINE:case c("ServicesAppointmentManagementDialogEnum").USER_CANCEL:return this.$PagesManagerMessagingAppointmentDialogDetailPane20();case c("ServicesAppointmentManagementDialogEnum").SCHEDULE:return this.$PagesManagerMessagingAppointmentDialogDetailPane12();case c("ServicesAppointmentManagementDialogEnum").USER_VIEW_DETAILS:return this.$PagesManagerMessagingAppointmentDialogDetailPane23();case c("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:return this.$PagesManagerMessagingAppointmentDialogDetailPane22()}return null};f.exports=o(x,{appointment:function y(){return c("PagesManagerMessagingAppointmentDialogDetailPane_appointment.graphql")}})}),null);
__d("PagesPlatformBookingMessageViewer",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({ADMIN:null,USER:null})}),null);
__d("PagesManagerMessagingAppointmentDialogNavItem.react",["cx","fbt","DateBlock.react","DateTime","Layout.react","Link.react","PagesPlatformBookingMessageViewer","PagesPlatformNativeBookingGraphQLStatus","React","RelayModern","ServicesWordingUtils","PagesManagerMessagingAppointmentDialogNavItem_appointment.graphql"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("RelayModern").createFragmentContainer,m=c("RelayModern").graphql,n=c("ServicesWordingUtils").ServicesWordingUtils,o=c("Layout.react").Column,p=c("Layout.react").FillColumn;j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$PagesManagerMessagingAppointmentDialogNavItem1=function(){this.props.onClick(this.props.index)}.bind(this),s}q.prototype.$PagesManagerMessagingAppointmentDialogNavItem2=function(r){return r?c("React").createElement(c("DateBlock.react"),babelHelpers["extends"]({className:"_3-90"},r)):null};q.prototype.$PagesManagerMessagingAppointmentDialogNavItem3=function(r,s){if(this.props.viewer===c("PagesPlatformBookingMessageViewer").USER)return null;if(s!==c("PagesPlatformNativeBookingGraphQLStatus").PENDING&&s!==c("PagesPlatformNativeBookingGraphQLStatus").CONFIRMED)return null;return c("React").createElement(o,{className:"_1oa1"+(s===c("PagesPlatformNativeBookingGraphQLStatus").CONFIRMED?" _2qun":"")+(s===c("PagesPlatformNativeBookingGraphQLStatus").PENDING?" _2qum":"")},r)};q.prototype.render=function(){__p&&__p();var r=this.props.appointment;if(!r)return null;var s=r.booking_status,t=r.product_item||{},u=r.requested_time,v=r.status,w=r.suggested_time_range,x=r.service_general_info,y=void 0,z=void 0;switch(s){case c("PagesPlatformNativeBookingGraphQLStatus").PENDING:case c("PagesPlatformNativeBookingGraphQLStatus").CONFIRMED:var A=c("DateTime").localCreate(w.start),B=c("DateTime").localCreate(w.end);y={month:A.format("M"),day:A.format("j")};z=A.format("g:i A");if(w.start!==w.end)z+=" - "+B.format("g:i A");break;case c("PagesPlatformNativeBookingGraphQLStatus").REQUESTED:case c("PagesPlatformNativeBookingGraphQLStatus").DECLINED:z=n.getAppointmentRequestedTimeText(u);break}return c("React").createElement(c("Layout.react"),{className:"_2pi3 _2quo"},this.$PagesManagerMessagingAppointmentDialogNavItem2(y),c("React").createElement(p,null,c("React").createElement("div",{className:"_2qus"},t.name||x||i._("Appointment")),c("React").createElement("div",{className:"_2quw"},z)),this.$PagesManagerMessagingAppointmentDialogNavItem3(v,s),c("React").createElement(c("Link.react"),{className:"_1oa2",onClick:this.$PagesManagerMessagingAppointmentDialogNavItem1}))};f.exports=l(q,{appointment:function r(){return c("PagesManagerMessagingAppointmentDialogNavItem_appointment.graphql")}})}),null);
__d("PagesPlatformNoteUpdateAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD:"add",DELETE:"delete",UPDATE:"update"})}),null);
__d("SaveToCalendarDialogType",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({CONNECT_GOOGLE_DIALOG:null,SAVED_TO_GOOGLE_DIALOG:null});f.exports.SaveToCalendarDialogType=h}),null);
__d("ServicesConnectGoogleCalendarDialog.react",["ix","cx","fbt","CenteredContainer.react","FluxContainer","FluxStore","Image.react","LayerFadeOnHide","PagesEventObserver","PagesEventType","React","ServicesCTAUnificationDispatcher","ServicesGoogleCalendarDialogActions","ServicesGoogleCalendarDialogStore","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIGrayText.react","XUISpinner.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={redirectAuthURL:null},this.handleContinueClick=function(){this.logEvent(c("PagesEventType").ACTION_TAP_GCAL_DIALOG_CONTINUE);this.openAuthorizationPopupWindow()}.bind(this),this.$ServicesConnectGoogleCalendarDialog1=function(s){if(!s)this.props.onCancel()}.bind(this),o}m.getStores=function(){return[c("ServicesGoogleCalendarDialogStore")]};m.calculateState=function(){var n=c("ServicesGoogleCalendarDialogStore").getState();return{redirectAuthURL:n.redirectAuthURL}};m.prototype.UNSAFE_componentWillMount=function(){c("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores())};m.prototype.componentDidMount=function(){this.logEvent(c("PagesEventType").IMPRESSION_SHOW_GCAL_DIALOG);var n=this.props,o=n.pageID,p=n.redirectAuthURL;if(p)this.setState({redirectAuthURL:p});else c("ServicesGoogleCalendarDialogActions").loadGoogleCalendarConfig(o)};m.prototype.componentWillUnmount=function(){c("ServicesGoogleCalendarDialogActions").disposePopupWindow()};m.prototype.logEvent=function(n){c("PagesEventObserver").notify(n,this.props.pageID)};m.prototype.renderBody=function(){if(!this.state.redirectAuthURL)return c("React").createElement(c("CenteredContainer.react"),{vertical:true,style:{height:0,minHeight:240}},c("React").createElement(c("XUISpinner.react"),null));return c("React").createElement(c("CenteredContainer.react"),{className:"_2pi1 _2pie"},c("React").createElement(c("Image.react"),{src:h("288995")}),c("React").createElement("div",{style:{textAlign:"center"}},c("React").createElement(c("XUIText.react"),{className:"_3-8p",display:"block",size:"header3",weight:"bold"},j._("Use Google Calendar")),c("React").createElement(c("XUIGrayText.react"),null,j._("Sign in to your Google Account to add this appointment to your Google Calendar on all your devices."))))};m.prototype.openAuthorizationPopupWindow=function(){var n=this.state.redirectAuthURL;if(n){this.logEvent(c("PagesEventType").IMPRESSION_SHOW_GCAL_LOGIN);c("ServicesGoogleCalendarDialogActions").openGoogleAuthenticationDialog(n,this.props.onConfirm)}};m.prototype.render=function(){if(!this.props.isShown)return null;return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},layerHideOnBlur:false,onToggle:this.$ServicesConnectGoogleCalendarDialog1,shown:this.props.isShown,width:300},c("React").createElement(c("XUIDialogBody.react"),null,this.renderBody()),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:!this.state.redirectAuthURL,label:j._("Continue"),onClick:this.handleContinueClick,use:"confirm"})))};f.exports=c("FluxContainer").create(m)}),null);
__d("ServicesCalendarAppointmentSaveMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1493646170708188"};j.getQueryID=function(){"use strict";return"243003749515968"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("ServicesSavedToGoogleCalendarDialog.react",["ix","cx","fbt","CenteredContainer.react","Image.react","ImageBlock.react","LayerFadeOnHide","PagesEventObserver","PagesEventType","React","ServicesCalendarAppointmentSaveMutationWebGraphQLMutation","ServicesExternalCalendarProviderMutationWebGraphQLMutation","WebGraphQL","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","XUISpinner.react","XUIText.react","ServicesCalendarSyncType","idx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ServicesCalendarSyncType").SERVER_CONTINUOUS,n=c("ServicesCalendarSyncType").SERVER_SINGLE;k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={currentIsContinousSync:this.props.isContinuousSync,isContinousChecked:true,isSaving:false},this.handleClick=function(){__p&&__p();this.logEvent(c("PagesEventType").ACTION_TAP_CONFIGM_DIALOG_DONE);if(this.state.currentIsContinousSync!==this.state.isContinousChecked){this.setState({isSaving:true});var u=this.state.isContinousChecked?m:n;c("WebGraphQL").exec(new(c("ServicesExternalCalendarProviderMutationWebGraphQLMutation"))({input:{client_mutation_id:0,actor_id:this.props.actorID,page_id:this.props.pageID,export_status:u}})).done(function(v,w){if(w)this.logEvent(c("PagesEventType").EVENT_GRAPHQL_FAILED);this.setState({isSaving:false});this.props.onDone()}.bind(this))}else this.props.onDone()}.bind(this),this.onToggleContinuous=function(event){this.logEvent(c("PagesEventType").ACTION_TAP_CONFIGM_DIALOG_CHECKBOX);this.setState({isContinousChecked:event.target.checked})}.bind(this),this.$ServicesSavedToGoogleCalendarDialog1=function(u){if(!u)this.props.onDone()}.bind(this),q}o.prototype.UNSAFE_componentWillMount=function(){this.saveAppointment()};o.prototype.logEvent=function(p){c("PagesEventObserver").notify(p,this.props.pageID)};o.prototype.saveAppointment=function(){__p&&__p();var p=this.props,q=p.actorID,r=p.requestID;this.setState({isSaving:true});c("WebGraphQL").exec(new(c("ServicesCalendarAppointmentSaveMutationWebGraphQLMutation"))({input:{actor_id:q,client_mutation_id:0,request_id:r,is_continuous_sync:this.props.isContinuousSync}})).done(function(s,t){__p&&__p();var u;if(t)this.logEvent(c("PagesEventType").EVENT_GRAPHQL_FAILED);var v=(u=s)!=null?(u=u.services_calendar_appointment_save)!=null?(u=u.page)!=null?u.provider:u:u:u;if(!v){this.props.onReconnectServer();return}this.logEvent(c("PagesEventType").IMPRESSION_SHOW_CONFIRM_DIALOG);this.setState({isSaving:false,currentIsContinousSync:v.isContinuous})}.bind(this))};o.prototype.renderBody=function(){if(this.state.isSaving)return c("React").createElement(c("CenteredContainer.react"),{vertical:true,style:{height:0,minHeight:240}},c("React").createElement(c("XUISpinner.react"),null));var p=this.state.isContinousChecked;return c("React").createElement(c("CenteredContainer.react"),{className:"_2pi1 _2pie"},c("React").createElement(c("Image.react"),{className:"_3-8n",height:36,src:h("95055"),width:36}),c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_5_xw _3-8p",display:"block",size:"header3",weight:"bold"},j._("Added to Google Calendar")),c("React").createElement(c("ImageBlock.react"),{className:"_3-8o"},c("React").createElement("input",{checked:p,className:"_5_xx _3-99 _3-90 _3-8x",onClick:this.onToggleContinuous,type:"checkbox"}),c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_3-95",display:"block",weight:"bold"},j._("Always Add Appointments to Google Calendar")),c("React").createElement(c("XUIGrayText.react"),{size:"meta1"},j._("You can edit this in your Pages Manager settings."))))))};o.prototype.render=function(){if(!this.props.isShown)return null;return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},layerHideOnBlur:false,onToggle:this.$ServicesSavedToGoogleCalendarDialog1,shown:this.props.isShown,width:300},c("React").createElement(c("XUIDialogBody.react"),null,this.renderBody()),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:this.state.isSaving,label:j._("Done"),onClick:this.handleClick,use:"confirm"})))};f.exports=o}),null);
__d("ServicesSaveToCalendarDialogs.react",["CenteredContainer.react","ServicesConnectGoogleCalendarDialogQueryWebGraphQLQuery","React","PagesEventObserver","PagesEventType","ServicesConnectGoogleCalendarDialog.react","ServicesSavedToGoogleCalendarDialog.react","WebGraphQL","XUISpinner.react","idx","SaveToCalendarDialogType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("SaveToCalendarDialogType").SaveToCalendarDialogType;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(l){__p&&__p();i.constructor.call(this,l);this.handleGoogleConnected=function(){this.setState({dialogShown:true,dialogType:j.SAVED_TO_GOOGLE_DIALOG,isContinuousSync:true})}.bind(this);this.handleDialogClose=function(){this.setState({dialogShown:false,dialogType:null,isContinuousSync:false});this.props.onDone()}.bind(this);this.handleDialogCancel=function(){c("PagesEventObserver").notify(c("PagesEventType").ACTION_TAP_GCAL_DIALOG_SKIP,this.props.pageID);this.handleDialogClose()}.bind(this);this.showConnectToGoogleCalendar=function(){this.setState({dialogType:j.CONNECT_GOOGLE_DIALOG,dialogShown:true})}.bind(this);this.state={dialogShown:this.props.dialogShown,dialogType:null,isContinuousSync:false,isLoading:true,redirectAuthURL:null}}k.prototype.UNSAFE_componentWillMount=function(){c("WebGraphQL").exec(new(c("ServicesConnectGoogleCalendarDialogQueryWebGraphQLQuery"))({page_id:this.props.pageID})).done(function(l){var m,n,o,p=((m=l)!=null?(m=m.page)!=null?m.provider:m:m)||false,q=((n=l)!=null?(n=n.page)!=null?(n=n.provider)!=null?n.isEnabled:n:n:n)||false,r=p?j.SAVED_TO_GOOGLE_DIALOG:j.CONNECT_GOOGLE_DIALOG;this.setState({dialogType:r,isContinuousSync:q,isLoading:false,redirectAuthURL:(o=l)!=null?(o=o.page)!=null?(o=o.info)!=null?o.redirectURL:o:o:o})}.bind(this))};k.prototype.renderDialog=function(){if(!this.state.dialogShown)return null;switch(this.state.dialogType){case j.CONNECT_GOOGLE_DIALOG:return this.renderConnectGoogleDialog();case j.SAVED_TO_GOOGLE_DIALOG:return this.renderSavedToGoogleDialog()}return null};k.prototype.renderSavedToGoogleDialog=function(){return c("React").createElement(c("ServicesSavedToGoogleCalendarDialog.react"),{actorID:this.props.actorID,isContinuousSync:this.state.isContinuousSync,isShown:this.state.dialogShown,onDone:this.handleDialogClose,onReconnectServer:this.showConnectToGoogleCalendar,pageID:this.props.pageID,requestID:this.props.requestID})};k.prototype.renderConnectGoogleDialog=function(){return c("React").createElement(c("ServicesConnectGoogleCalendarDialog.react"),{redirectAuthURL:this.state.redirectAuthURL,isShown:this.state.dialogShown,onCancel:this.handleDialogCancel,onConfirm:this.handleGoogleConnected,pageID:this.props.pageID})};k.prototype.render=function(){if(this.state.isLoading)return c("React").createElement(c("CenteredContainer.react"),{vertical:true,style:{height:0,minHeight:240}},c("React").createElement(c("XUISpinner.react"),null));return this.renderDialog()};k.prototype.UNSAFE_componentWillReceiveProps=function(l){this.setState({dialogShown:l.dialogShown})};f.exports=k}),null);
__d("ServicesSaveToCalendarButtonWrapper",["fbt","PagesEventObserver","PagesEventType","React","ServicesSaveToCalendarDialogs.react","ServicesCalendarSyncType","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("ServicesCalendarSyncType").CLIENT_ONLY,j=c("ServicesCalendarSyncType").SERVER_CONTINUOUS,k=c("ServicesCalendarSyncType").SERVER_SINGLE,l=[i.toUpperCase(),j.toUpperCase(),k.toUpperCase()];f.exports=function m(n){__p&&__p();return function(){__p&&__p();var o,p;o=babelHelpers.inherits(q,c("React").Component);p=o&&o.prototype;function q(r){"use strict";__p&&__p();p.constructor.call(this,r);this.onDoneDialogs=function(){this.setState({dialogShown:false});if(this.props.onAddToCalendarDone)this.props.onAddToCalendarDone()}.bind(this);this.handleClick=function(){var s,t=((s=this)!=null?(s=s.props)!=null?s.pageID:s:s)||"";c("PagesEventObserver").notify(c("PagesEventType").SERVICES_CALENDAR_SINGLE_EXPORT,t);this.setState({dialogShown:true})}.bind(this);this.state={dialogShown:false}}q.prototype.renderDialogs=function(){"use strict";var r=this.props,s=r.pageID,t=r.requestID,u=r.actorID,v=babelHelpers.objectWithoutProperties(r,["pageID","requestID","actorID"]);if(!s||!t||!u)return null;return c("React").createElement(c("ServicesSaveToCalendarDialogs.react"),babelHelpers["extends"]({},v,{actorID:u,pageID:s,requestID:t,dialogShown:this.state.dialogShown,onDone:this.onDoneDialogs}))};q.prototype.render=function(){"use strict";__p&&__p();var r=this.props,s=r.calendarSyncType,t=r.hasSavedToCalendar,u=r.pageID,v=r.requestID,w=r.actorID;if(t&&!this.state.dialogShown)return null;if(!l.some(function(y){return y===s.toUpperCase()}))return null;if(!u||!v||!w)return null;var x=h._("Add To Calendar");return c("React").createElement("div",null,c("React").createElement(n,babelHelpers["extends"]({},this.props,{onClick:this.handleClick,text:x})),this.renderDialogs())};return q}()}}),null);
__d("ServicesAppointmentManagementDialogFooter.react",["cx","fbt","InlineBlock.react","PagesPlatformNativeBookingStatus","React","RelayCompat","ServicesAppointmentManagementDialogEnum","ServicesSaveToCalendarButtonWrapper","ServicesRequestAppointmentGating","XUIDialogButton.react","XUIDialogFooter.react","XUISpinner.react","idx","ServicesAppointmentManagementDialogFooter_appointment.graphql"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("RelayCompat").createFragmentContainer,m=c("RelayCompat").graphql,n=c("PagesPlatformNativeBookingStatus").PENDING.toLowerCase(),o=function o(r){return c("React").createElement(c("XUIDialogButton.react"),{action:"button",disabled:r.isUpdating,label:r.text,onClick:r.onClick})},p=c("ServicesSaveToCalendarButtonWrapper")(o);j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.onClickConfirm=function(){this.props.onClickConfirm(this.props.dialogType)}.bind(this),this.goToUserDeclineDialog=function(){this.props.onDialogSwitch(c("ServicesAppointmentManagementDialogEnum").USER_DECLINE)}.bind(this),this.goToUserCancelDialog=function(){this.props.onDialogSwitch(c("ServicesAppointmentManagementDialogEnum").USER_CANCEL)}.bind(this),this.onCancel=function(){this.props.onDialogSwitch(c("ServicesAppointmentManagementDialogEnum").DISMISS_DIALOG)}.bind(this),this.goToAdminCancelDialog=function(){this.props.onDialogSwitch(c("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL)}.bind(this),s}q.prototype.renderSpinner=function(){if(!this.props.isUpdating)return null;return c("React").createElement(c("XUISpinner.react"),{className:"_3-8_"})};q.prototype.renderUserDeclineButton=function(){return c("ServicesRequestAppointmentGating").Decline||i._("Request Change")};q.prototype.renderBackButton=function(){if(!this.props.showBack)return null;var r=i._("Back");return c("React").createElement(c("XUIDialogButton.react"),{action:"button",disabled:this.props.isUpdating,label:r,onClick:this.props.onGoBack})};q.prototype.renderScheduleFooter=function(){var r=this.renderBackButton();return c("React").createElement(c("XUIDialogFooter.react"),{leftContent:r},this.renderSpinner(),c("React").createElement(c("XUIDialogButton.react"),{action:"button",disabled:this.props.isUpdating,label:i._("Cancel"),onClick:this.onCancel}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:this.props.confirmDisabled||this.props.isUpdating,label:i._("Create Appointment"),onClick:this.onClickConfirm,use:"confirm"}))};q.prototype.renderAdminViewDetailsFooter=function(){var r=this.renderBackButton(),s=this.renderSaveToCalendarButton();return c("React").createElement(c("XUIDialogFooter.react"),{leftContent:r},this.renderSpinner(),s,c("React").createElement(c("XUIDialogButton.react"),{action:"button",disabled:this.props.isUpdating,label:i._("Cancel Appointment"),onClick:this.goToAdminCancelDialog}),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",disabled:this.props.isUpdating,label:i._("Done"),onClick:this.onClickConfirm,use:"confirm"}))};q.prototype.renderUserViewDetailsFooter=function(){__p&&__p();var r=this.props.appointment;if(!r)return null;var s=r.booking_status,t=void 0,u=void 0,v=void 0;switch(s.toLowerCase()){case n:t=i._("Accept");u=this.renderUserDeclineButton();v=this.goToUserDeclineDialog;break;default:t=i._("Done");u=i._("Cancel Appointment");v=this.goToUserCancelDialog;break}var w=this.renderBackButton();return c("React").createElement(c("XUIDialogFooter.react"),{leftContent:w},this.renderSpinner(),c("React").createElement(c("XUIDialogButton.react"),{action:"button",disabled:this.props.isUpdating,label:u,onClick:v}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:this.props.isUpdating,label:t,onClick:this.onClickConfirm,use:"confirm"}))};q.prototype.renderUserDeclineFooter=function(){return c("React").createElement(c("XUIDialogFooter.react"),null,this.renderSpinner(),this.renderBackButton(),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:this.props.isUpdating,label:this.renderUserDeclineButton(),onClick:this.onClickConfirm,use:"confirm"}))};q.prototype.renderAdminDeclineFooter=function(){return c("React").createElement(c("XUIDialogFooter.react"),null,this.renderSpinner(),this.renderBackButton(),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:this.props.isUpdating,label:i._("Decline Appointment"),onClick:this.onClickConfirm,use:"confirm"}))};q.prototype.renderCancelFooter=function(){return c("React").createElement(c("XUIDialogFooter.react"),null,this.renderSpinner(),this.renderBackButton(),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:this.props.isUpdating,label:i._("Cancel Appointment"),onClick:this.onClickConfirm,use:"confirm"}))};q.prototype.render=function(){switch(this.props.dialogType){case c("ServicesAppointmentManagementDialogEnum").SCHEDULE:return this.renderScheduleFooter();case c("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:return this.renderAdminDeclineFooter();case c("ServicesAppointmentManagementDialogEnum").USER_DECLINE:return this.renderUserDeclineFooter();case c("ServicesAppointmentManagementDialogEnum").USER_VIEW_DETAILS:return this.renderUserViewDetailsFooter();case c("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:return this.renderAdminViewDetailsFooter();case c("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:case c("ServicesAppointmentManagementDialogEnum").USER_CANCEL:return this.renderCancelFooter()}return null};q.prototype.renderSaveToCalendarButton=function(){var r,s,t=this.props,u=t.appointment,v=t.viewerID;if(!u||!v)return null;var w=((r=u)!=null?r.id:r)||null,x=((s=u)!=null?(s=s.page)!=null?s.id:s:s)||null;return c("React").createElement(c("InlineBlock.react"),{className:"_2pi7"},c("React").createElement(p,{actorID:v,calendarSyncType:u.calendar_sync_type,hasSavedToCalendar:u.has_saved_to_calendar,onAddToCalendarDone:this.props.onAddToCalendarDone,pageID:x,requestID:w}))};f.exports=l(q,{appointment:{modern:function r(){return c("ServicesAppointmentManagementDialogFooter_appointment.graphql")},classic:function r(s){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"booking_status",kind:"Field",metadata:{},type:"PagesPlatformNativeBookingStatus"},{fieldName:"calendar_sync_type",kind:"Field",metadata:{},type:"ServicesCalendarSyncType"},{fieldName:"has_saved_to_calendar",kind:"Field",metadata:{},type:"Boolean"},{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"}],fieldName:"page",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Page"}],id:s.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentManagementDialogFooter_appointment",type:"NativeComponentFlowBookingRequest"}}()}}}})}),null);
__d("PagesManagerMessagingAppointmentDialog.react",["cx","fbt","CenteredContainer.react","CurrentUser","LayerFadeOnHide","Link.react","NativeBookingFlowAdminNotesMutation","NativeBookingRequestStatusUpdateAction","NativeComponentFlowBookingRequestMutation","PagesEventObserver","PagesEventType","PagesManagerMessagingAppointmentDialogDetailPane.react","PagesManagerMessagingAppointmentDialogNavItem.react","PagesManagerNotificationsSection","PagesPlatformBookingMessageViewer","PagesPlatformNativeBookingGraphQLStatus","PagesPlatformNoteUpdateAction","React","RelayAPIConfig","RelayCompat","ServicesAppointmentInterstitialAction","ServicesAppointmentManagementDialogEnum","ServicesAppointmentManagementDialogFooter.react","ServicesAppointmentReferrer","ServicesRequestAppointmentGating","XPagesManagerNotificationsController","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUISpinner.react","idx","PagesManagerMessagingAppointmentDialogFragment_appointment.graphql","PagesManagerMessagingAppointmentDialog_appointments.graphql","PagesManagerMessagingAppointmentDialog_appointment.graphql","PagesManagerMessagingAppointmentDialog_page.graphql","PagesManagerMessagingAppointmentDialogRefetchQuery.graphql"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("PagesManagerNotificationsSection").APPOINTMENT_CALENDAR,m=c("RelayCompat").createRefetchContainer,n=c("RelayCompat").graphql,o=400;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(r){__p&&__p();k.constructor.call(this,r);this.$PagesManagerMessagingAppointmentDialog3=function(){this.setState({isUpdating:false});this.$PagesManagerMessagingAppointmentDialog4(false);this.props.onUpdateFailure&&this.props.onUpdateFailure()}.bind(this);this.$PagesManagerMessagingAppointmentDialog5=function(){this.setState({isUpdating:false});this.$PagesManagerMessagingAppointmentDialog4(false);this.props.onUpdateSuccess&&this.props.onUpdateSuccess()}.bind(this);this.$PagesManagerMessagingAppointmentDialog6=function(){var s=this.state.history,t=s.pop();if(t)this.setState({dialogType:t,history:s});else this.$PagesManagerMessagingAppointmentDialog4(false)}.bind(this);this.$PagesManagerMessagingAppointmentDialog4=function(s){if(!s)this.setState({appointments:[],currentAppointment:null});this.setState({dialogShown:s});this.props.onToggle&&this.props.onToggle(s)}.bind(this);this.$PagesManagerMessagingAppointmentDialog7=function(s){switch(s){case c("ServicesAppointmentManagementDialogEnum").DISMISS_DIALOG:this.$PagesManagerMessagingAppointmentDialog4(false);break;default:var t=this.state.history;t.push(this.state.dialogType);this.setState(babelHelpers["extends"]({},this.$PagesManagerMessagingAppointmentDialog1(this.props),{dialogType:s,history:t}))}}.bind(this);this.$PagesManagerMessagingAppointmentDialog13=function(s){__p&&__p();var t,u=false;switch(s){case c("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:case c("ServicesAppointmentManagementDialogEnum").USER_DECLINE:case c("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:case c("ServicesAppointmentManagementDialogEnum").USER_CANCEL:u=this.$PagesManagerMessagingAppointmentDialog9();break;case c("ServicesAppointmentManagementDialogEnum").USER_VIEW_DETAILS:var v=(t=this)!=null?(t=t.state)!=null?(t=t.currentAppointment)!=null?t.booking_status:t:t:t;if(v===c("PagesPlatformNativeBookingGraphQLStatus").PENDING)u=this.$PagesManagerMessagingAppointmentDialog8();break;case c("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:u=this.$PagesManagerMessagingAppointmentDialog10();break;case c("ServicesAppointmentManagementDialogEnum").SCHEDULE:u=this.$PagesManagerMessagingAppointmentDialog11();break}if(!u)this.$PagesManagerMessagingAppointmentDialog4(false);if(u!==this.state.isUpdating)this.setState({isUpdating:u})}.bind(this);this.$PagesManagerMessagingAppointmentDialog15=function(){var s=this.state.currentAppointment;if(!s)return;this.props.relay.refetch({requestID:s.id},null,null,{force:true})}.bind(this);this.$PagesManagerMessagingAppointmentDialog16=function(s){var t=this.state.appointments[s],u=t.booking_status,v=this.state,w=v.history,x=v.dialogType;w.push(x);x=this.$PagesManagerMessagingAppointmentDialog2(u);this.setState({currentAppointment:t,dialogType:x,history:w})}.bind(this);this.$PagesManagerMessagingAppointmentDialog17=function(s){this.setState({formData:s})}.bind(this);this.state=this.$PagesManagerMessagingAppointmentDialog1(r)}p.prototype.userDeclineTitle=function(){return c("ServicesRequestAppointmentGating").decline_title||i._("Request Change")};p.prototype.UNSAFE_componentWillReceiveProps=function(r){var s=this.state,t=s.appointments,u=s.currentAppointment;if(t.length===0&&!u)this.setState(this.$PagesManagerMessagingAppointmentDialog1(r));var v=r.appointment,w=v&&u&&v.has_saved_to_calendar!==u.has_saved_to_calendar;if(w)this.setState({currentAppointment:v})};p.prototype.$PagesManagerMessagingAppointmentDialog1=function(r){var s,t,u=((s=r)!=null?(s=s.appointments)!=null?s.edges:s:s)||[],v=u.map(function(y){return y.node}),w=r.appointment||((t=this)!=null?(t=t.state)!=null?t.currentAppointment:t:t),x=w&&w.booking_status;return{appointments:v,currentAppointment:w,dialogShown:r.dialogShown,dialogType:r.dialogType||this.$PagesManagerMessagingAppointmentDialog2(x),formData:{isValid:false,data:{}},history:[],isUpdating:false}};p.prototype.$PagesManagerMessagingAppointmentDialog2=function(r){switch(r){case c("PagesPlatformNativeBookingGraphQLStatus").CONFIRMED:case c("PagesPlatformNativeBookingGraphQLStatus").PENDING:if(this.props.viewer===c("PagesPlatformBookingMessageViewer").ADMIN)return c("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS;else return c("ServicesAppointmentManagementDialogEnum").USER_VIEW_DETAILS;case c("PagesPlatformNativeBookingGraphQLStatus").DECLINED:case c("PagesPlatformNativeBookingGraphQLStatus").REQUESTED:return c("ServicesAppointmentManagementDialogEnum").SCHEDULE;case c("PagesPlatformNativeBookingGraphQLStatus").CANCELLED:return c("ServicesAppointmentManagementDialogEnum").LIST}return c("ServicesAppointmentManagementDialogEnum").LIST};p.prototype.$PagesManagerMessagingAppointmentDialog8=function(){var r=this.state.currentAppointment;if(!r)return false;var s=r.page||{},t=r.suggested_time_range||{},u=this.props.referrer;c("PagesEventObserver").notify(c("PagesEventType").BOOKING_CONSUMER_TAPPED_ACCEPT_APPOINTMENT,s.id,{referrer:u});c("NativeComponentFlowBookingRequestMutation").commit(this.props.relay.environment,{action:c("NativeBookingRequestStatusUpdateAction").ACCEPT,actor_id:c("RelayAPIConfig").actorID,referrer:this.props.referrer,request_id:r.id,suggested_end_time:t.end,suggested_time:t.start},{onFailure:this.$PagesManagerMessagingAppointmentDialog3,onSuccess:this.$PagesManagerMessagingAppointmentDialog5});return true};p.prototype.$PagesManagerMessagingAppointmentDialog9=function(){__p&&__p();var r=this.state,s=r.currentAppointment,t=r.formData;if(!s||!t.isValid)return false;var u=t.data,v=s.page||{},w=s.suggested_time_range||{},x=void 0,y=void 0;switch(this.state.dialogType){case c("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:x=c("NativeBookingRequestStatusUpdateAction").ADMIN_CANCEL;y=c("PagesEventType").BOOKING_ADMIN_TAPPED_CANCEL_APPOINTMENT;break;case c("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:x=c("NativeBookingRequestStatusUpdateAction").ADMIN_DECLINE;y=c("PagesEventType").BOOKING_ADMIN_TAPPED_DECLINE_APPOINTMENT;break;case c("ServicesAppointmentManagementDialogEnum").USER_CANCEL:x=c("NativeBookingRequestStatusUpdateAction").USER_CANCEL;y=c("PagesEventType").BOOKING_CONSUMER_TAPPED_CANCEL_APPOINTMENT;break;case c("ServicesAppointmentManagementDialogEnum").USER_DECLINE:x=c("NativeBookingRequestStatusUpdateAction").DECLINE;y=c("PagesEventType").BOOKING_CONSUMER_TAPPED_DECLINE_APPOINTMENT;break}if(!x||!y)return false;var z=this.props.referrer;c("PagesEventObserver").notify(y,v.id,{referrer:z});c("NativeComponentFlowBookingRequestMutation").commit(this.props.relay.environment,{action:x,actor_id:c("RelayAPIConfig").actorID,message_text:u.cancelNotes,referrer:this.props.referrer,request_id:s.id,suggested_end_time:w.end,suggested_time:w.start},{onFailure:this.$PagesManagerMessagingAppointmentDialog3,onSuccess:this.$PagesManagerMessagingAppointmentDialog5});return true};p.prototype.$PagesManagerMessagingAppointmentDialog10=function(){var r,s,t=this.state,u=t.currentAppointment,v=t.formData;if(!u||!v.isValid)return false;var w=v.data,x=((r=u)!=null?(r=r.request_note)!=null?(r=r.edges)!=null?(r=r[0])!=null?r.node:r:r:r:r)||{},y=((s=x)!=null?(s=s.body)!=null?s.text:s:s)||"",z=w.notes||"";if(z!==y){var A=x.id?c("PagesPlatformNoteUpdateAction").UPDATE:c("PagesPlatformNoteUpdateAction").ADD;c("NativeBookingFlowAdminNotesMutation").commit(this.props.relay.environment,{action:A,actor_id:c("RelayAPIConfig").actorID,body:{text:z},component_flow_request_id:u.id,referrer:this.props.referrer,request_note_id:x.id},{onFailure:this.$PagesManagerMessagingAppointmentDialog3,onSuccess:this.$PagesManagerMessagingAppointmentDialog5})}return true};p.prototype.$PagesManagerMessagingAppointmentDialog11=function(){__p&&__p();var r=this.state,s=r.currentAppointment,t=r.formData;if(!s||!t.isValid)return false;var u=t.data,v=s.page.id,w=s.id;c("NativeComponentFlowBookingRequestMutation").commit(this.props.relay.environment,{action:c("NativeBookingRequestStatusUpdateAction").SCHEDULE,actor_id:c("RelayAPIConfig").actorID,notes_for_customer:u.customerNotes,request_id:w,referrer:this.props.referrer,service_id:u.serviceID,suggested_end_time:u.endTime,suggested_time:u.startTime},{onFailure:this.$PagesManagerMessagingAppointmentDialog3,onSuccess:this.$PagesManagerMessagingAppointmentDialog5});var x=this.props.referrer;if(x===c("ServicesAppointmentReferrer").BUBBLE)x=c("ServicesAppointmentReferrer").BUBBLE_SCHEDULE;c("PagesEventObserver").notify(c("PagesEventType").BOOKING_ADMIN_TAPPED_SCHEDULE_APPOINTMENT,v,{referrer:x});if(u.customerNotes)c("PagesEventObserver").notify(c("PagesEventType").BOOKING_ADMIN_ADDED_CUSTOMER_NOTES,v);c("ServicesAppointmentInterstitialAction").appointmentScheduled();return true};p.prototype.$PagesManagerMessagingAppointmentDialog12=function(){__p&&__p();var r=void 0;switch(this.state.dialogType){case c("ServicesAppointmentManagementDialogEnum").SCHEDULE:r=i._("Schedule Appointment");break;case c("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:r=i._("Decline Appointment");break;case c("ServicesAppointmentManagementDialogEnum").USER_DECLINE:r=this.userDeclineTitle();break;case c("ServicesAppointmentManagementDialogEnum").USER_VIEW_DETAILS:case c("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:r=i._("Appointment Details");break;case c("ServicesAppointmentManagementDialogEnum").LIST:r=i._({"*":"Appointments","_1":" Appointment"},[i._plural(this.state.appointments.length)]);break;case c("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:case c("ServicesAppointmentManagementDialogEnum").USER_CANCEL:r=i._("Cancel Appointment");break}return c("React").createElement(c("XUIDialogTitle.react"),null,r)};p.prototype.$PagesManagerMessagingAppointmentDialog14=function(){var r=this.state,s=r.dialogType,t=r.history,u=r.formData;return c("React").createElement(c("ServicesAppointmentManagementDialogFooter.react"),{appointment:this.state.currentAppointment,confirmDisabled:!u.isValid,dialogType:s,isUpdating:this.state.isUpdating,onAddToCalendarDone:this.$PagesManagerMessagingAppointmentDialog15,onClickConfirm:this.$PagesManagerMessagingAppointmentDialog13,onDialogSwitch:this.$PagesManagerMessagingAppointmentDialog7,onGoBack:this.$PagesManagerMessagingAppointmentDialog6,showBack:t.length>0,viewerID:c("CurrentUser").getAccountID()})};p.prototype.$PagesManagerMessagingAppointmentDialog18=function(){var r=void 0;if(this.state.dialogType===c("ServicesAppointmentManagementDialogEnum").LIST||!this.state.currentAppointment){var s=this.state.appointments.map(function(t,u){return c("React").createElement(c("PagesManagerMessagingAppointmentDialogNavItem.react"),{appointment:t,index:u,key:t.id,onClick:this.$PagesManagerMessagingAppointmentDialog16,viewer:this.props.viewer})}.bind(this));r=c("React").createElement("div",{className:"_25xb"},s,this.$PagesManagerMessagingAppointmentDialog19())}else r=c("React").createElement(c("PagesManagerMessagingAppointmentDialogDetailPane.react"),{appointment:this.state.currentAppointment,maxWidth:o-24,onDataChange:this.$PagesManagerMessagingAppointmentDialog17,paneType:this.state.dialogType,viewer:this.props.viewer});return c("React").createElement(c("XUIDialogBody.react"),null,r)};p.prototype.$PagesManagerMessagingAppointmentDialog20=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},causalElementRef:this.props.causalElementRef,hideOnEscape:true,onToggle:this.$PagesManagerMessagingAppointmentDialog4,shown:true,width:o},c("React").createElement(c("XUIDialogBody.react"),{className:"_2mr1"},c("React").createElement(c("XUISpinner.react"),{size:"large"})))};p.prototype.render=function(){if(!this.state.dialogShown)return null;if(!this.props.appointments&&!this.props.appointment)return this.$PagesManagerMessagingAppointmentDialog20();return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},causalElementRef:this.props.causalElementRef,hideOnEscape:true,onToggle:this.$PagesManagerMessagingAppointmentDialog4,shown:this.state.dialogShown,width:o},this.$PagesManagerMessagingAppointmentDialog12(),this.$PagesManagerMessagingAppointmentDialog18(),this.$PagesManagerMessagingAppointmentDialog14())};p.prototype.$PagesManagerMessagingAppointmentDialog19=function(){var r,s,t=((r=this)!=null?(r=r.props)!=null?(r=r.page)!=null?r.should_show_page_admin_calendar_view:r:r:r)||false;if(!t)return null;var u=(s=this)!=null?(s=s.props)!=null?(s=s.page)!=null?s.id:s:s:s;if(!u)return null;var v=c("XPagesManagerNotificationsController").getURIBuilder().setString("page_token",u).setEnum("section",l).getURI();return c("React").createElement(c("CenteredContainer.react"),{className:"_2ph_"},c("React").createElement(c("Link.react"),{href:v,onClick:function w(){c("PagesEventObserver").notify(c("PagesEventType").BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_VIEW,u,{referrer:c("ServicesAppointmentReferrer").DETAIL_VIEW})},role:"button"},i._("See all appointments")))};var q={appointment:{modern:function r(){return c("PagesManagerMessagingAppointmentDialogFragment_appointment.graphql")},classic:function r(s){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"booking_status",kind:"Field",metadata:{},type:"PagesPlatformNativeBookingStatus"},{fieldName:"has_saved_to_calendar",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"}],fieldName:"page",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Page"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:10}}],children:[{children:[{children:[{children:[{fieldName:"text",kind:"Field",metadata:{},type:"String"}],fieldName:"body",kind:"Field",metadata:{canHaveSubselections:true},type:"TextWithEntities"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:true},type:"PagesPlatformNote"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"PagesPlatformNoteFromComponentFlowRequestEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:"PageInfo"}],fieldName:"request_note",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:"PagesPlatformNoteFromComponentFlowRequestConnection"},{children:[{fieldName:"start",kind:"Field",metadata:{},type:"Time"},{fieldName:"end",kind:"Field",metadata:{},type:"Time"}],fieldName:"suggested_time_range",kind:"Field",metadata:{canHaveSubselections:true},type:"TimeRange"}],id:s.__id(),kind:"Fragment",metadata:{},name:"PagesManagerMessagingAppointmentDialogFragment_appointment",type:"NativeComponentFlowBookingRequest"}}()}}}};f.exports=m(p,{appointments:{modern:function r(){return c("PagesManagerMessagingAppointmentDialog_appointments.graphql")},classic:function r(s){var t=s.__getClassicFragment(q.appointment.appointment||q.appointment,true).node,u=c("ServicesAppointmentManagementDialogFooter.react").getFragment("appointment"),v=c("PagesManagerMessagingAppointmentDialogNavItem.react").getFragment("appointment"),w=c("PagesManagerMessagingAppointmentDialogDetailPane.react").getFragment("appointment");return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},s.__frag(t),s.__frag(u),s.__frag(v),s.__frag(w)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:true},type:"NativeComponentFlowBookingRequest"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"NativeBookingRequestsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:"PageInfo"}],id:s.__id(),kind:"Fragment",metadata:{},name:"PagesManagerMessagingAppointmentDialog_appointments",type:"NativeBookingRequestsConnection"}}()}}},appointment:{modern:function r(){return c("PagesManagerMessagingAppointmentDialog_appointment.graphql")},classic:function r(s){var t=s.__getClassicFragment(q.appointment.appointment||q.appointment,true).node,u=c("ServicesAppointmentManagementDialogFooter.react").getFragment("appointment"),v=c("PagesManagerMessagingAppointmentDialogDetailPane.react").getFragment("appointment");return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},s.__frag(t),s.__frag(u),s.__frag(v)]),id:s.__id(),kind:"Fragment",metadata:{},name:"PagesManagerMessagingAppointmentDialog_appointment",type:"NativeComponentFlowBookingRequest"}}()}}},page:{modern:function r(){return c("PagesManagerMessagingAppointmentDialog_page.graphql")},classic:function r(s){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"should_show_page_admin_calendar_view",kind:"Field",metadata:{},type:"Boolean"}],id:s.__id(),kind:"Fragment",metadata:{},name:"PagesManagerMessagingAppointmentDialog_page",type:"Page"}}()}}}},{modern:function r(){return c("PagesManagerMessagingAppointmentDialogRefetchQuery.graphql")},classic:function r(s){var t=(p.__container__||p).getFragment("appointment");return{kind:"OperationDefinition",argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"requestID"}],name:"PagesManagerMessagingAppointmentDialogRefetchQuery",operation:"query",node:function(){return{children:[{alias:"appointment",calls:[{kind:"Call",metadata:{},name:"id",value:{kind:"CallVariable",callVariableName:"requestID"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"},s.__frag(t)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isAbstract:true},type:"Node"}],id:s.__id(),kind:"Fragment",metadata:{},name:"PagesManagerMessagingAppointmentDialogRefetchQuery",type:"Query"}}()}}})}),null);
__d("PresenceAccountIntagramDialog",["cx","CSS","DialogX","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnEscape","LayerRefocusOnHide"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=485;i=babelHelpers.inherits(l,c("DialogX"));j=i&&i.prototype;function l(m){j.constructor.call(this,{width:k,xui:true,addedBehaviors:[c("LayerDestroyOnHide"),c("LayerFadeOnShow"),c("LayerFadeOnHide"),c("LayerHideOnEscape"),c("LayerRefocusOnHide")]},m)}l.prototype.getContentRoot=function(){var m=j.getContentRoot.call(this);c("CSS").addClass(m,"_3acm");return m};f.exports=l}),null);
__d("XPresenceAccountInstagramAuthenticateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/presence/instagram/authenticate/",{})}),null);
__d("XPresenceAccountInstagramConnectionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/presence/instagram/connect/",{})}),null);
__d("XPresenceAccountInstagramCreateAndConnectController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/presence/instagram/create_connect/",{})}),null);
__d("PresenceAccountInstagramAuthenticator",["fbt","invariant","AsyncRequest","PresenceAccountInstagramAuthView.react","PresenceAccountIntagramDialog","React","XPresenceAccountInstagramAuthenticateController","XPresenceAccountInstagramConnectionController","XPresenceAccountInstagramCreateAndConnectController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();j.authenticateWithCredential=function(k,l,m,n,o){var p=c("XPresenceAccountInstagramConnectionController").getURIBuilder().getURI();j.$PresenceAccountInstagramAuthenticator7(p,k,{username:l,password:m},n,o)};j.authenticateAccountWithCredential=function(k,l,m,n,o){var p=c("XPresenceAccountInstagramAuthenticateController").getURIBuilder().getURI();j.$PresenceAccountInstagramAuthenticator7(p,k,{username:l,password:m},n,o)};j.authenticateWithAccountCreation=function(k,l,m,n,o,p){var q=c("XPresenceAccountInstagramCreateAndConnectController").getURIBuilder().getURI();j.$PresenceAccountInstagramAuthenticator7(q,k,{username:l,email:m,phone_number:n},o,p)};j.$PresenceAccountInstagramAuthenticator7=function(k,l,m,n,o){new(c("AsyncRequest"))().setURI(k).setMethod("POST").setData(Object.assign({owner_id:l,presence_owner_id:l},m)).setHandler(function(p){var q=p.payload;if(q&&q.ig_error_message)o(q.ig_error_message);else n(q)}).setErrorHandler(function(p){return o(j.getDefaultErrorMessage())}).send()};j.getDefaultErrorMessage=function(){return h._("Sorry, an unknown error occurred. Please try again.")};function j(k,l){this.$PresenceAccountInstagramAuthenticator1=k;this.$PresenceAccountInstagramAuthenticator2=false;this.$PresenceAccountInstagramAuthenticator3=l}j.prototype.authenticate=function(k,l){!this.$PresenceAccountInstagramAuthenticator2||i(0);this.$PresenceAccountInstagramAuthenticator5=k;this.$PresenceAccountInstagramAuthenticator6=l;this.$PresenceAccountInstagramAuthenticator8()};j.prototype.verifyAccess=function(k,l){!this.$PresenceAccountInstagramAuthenticator2||i(0);this.$PresenceAccountInstagramAuthenticator5=k;this.$PresenceAccountInstagramAuthenticator6=l;this.$PresenceAccountInstagramAuthenticator9()};j.prototype.$PresenceAccountInstagramAuthenticator10=function(){!this.$PresenceAccountInstagramAuthenticator2||i(0);this.$PresenceAccountInstagramAuthenticator2=true;this.$PresenceAccountInstagramAuthenticator4&&this.$PresenceAccountInstagramAuthenticator4.hide()};j.prototype.$PresenceAccountInstagramAuthenticator8=function(){var k=c("React").createElement(c("PresenceAccountInstagramAuthView.react"),{presenceOwnerID:this.$PresenceAccountInstagramAuthenticator3,onConnected:function(l){this.$PresenceAccountInstagramAuthenticator5&&this.$PresenceAccountInstagramAuthenticator5(l);this.$PresenceAccountInstagramAuthenticator10()}.bind(this),onClose:function(){this.$PresenceAccountInstagramAuthenticator6&&this.$PresenceAccountInstagramAuthenticator6("USER_CLOSE_DIALOG");this.$PresenceAccountInstagramAuthenticator10()}.bind(this),viewOptions:"signIn"});this.$PresenceAccountInstagramAuthenticator4=new(c("PresenceAccountIntagramDialog"))(k);this.$PresenceAccountInstagramAuthenticator4.show()};j.prototype.$PresenceAccountInstagramAuthenticator9=function(){var k=c("React").createElement(c("PresenceAccountInstagramAuthView.react"),{presenceOwnerID:this.$PresenceAccountInstagramAuthenticator3,onConnected:function(l){this.$PresenceAccountInstagramAuthenticator5&&this.$PresenceAccountInstagramAuthenticator5(l);this.$PresenceAccountInstagramAuthenticator10()}.bind(this),onClose:function(){this.$PresenceAccountInstagramAuthenticator6&&this.$PresenceAccountInstagramAuthenticator6("USER_CLOSE_DIALOG");this.$PresenceAccountInstagramAuthenticator10()}.bind(this),viewOptions:"authenticate"});this.$PresenceAccountInstagramAuthenticator4=new(c("PresenceAccountIntagramDialog"))(k);this.$PresenceAccountInstagramAuthenticator4.show()};f.exports=j}),null);
__d("PresmaUsageEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LINK_ACCOUNT:"link_account",UNLINK_ACCOUNT:"unlink_account",IG_UPDATE_PROFILE_IMAGE:"ig_update_profile_image",IG_UPDATE_PROFILE_DATA:"ig_update_profile_data",IG_CONNECT_VIEW_LOADED:"ig_connect_view_loaded",IG_CONNECT_XOUT_CLICKED:"ig_connect_xout_clicked",IG_CONNECT_SEE_DETAILS_CLICKED:"ig_connect_see_details_clicked",IG_SETTING_VIEW_LOADED:"ig_setting_view_loaded",IG_CONNECT_AUTH_CLICKED:"ig_connect_auth_clicked",IG_CONNECT_LOGIN_CLICKED:"ig_connect_login_clicked",IG_CONNECT_SWITCH_TO_LOG_IN:"ig_connect_switch_to_log_in",IG_CONNECT_SWITCH_TO_SIGN_UP:"ig_connect_switch_to_sign_up",IG_CONNECT_SIGN_UP_CLICKED:"ig_connect_sign_up_clicked",IG_CONNECT_CONNECT_BUTTON_CLICKED:"ig_connect_connect_button_clicked",IG_CONNECT_DISCONNECT_BUTTON_CLICKED:"ig_connect_disconnect_button_clicked",IG_CONNECT_OAUTH_CONNECT_CLICKED:"ig_connect_oauth_connect_clicked",IG_CONNECT_OAUTH_WEBVIEW_CANCEL_CLICKED:"ig_connect_oauth_webview_cancel_clicked",MISSING_INSTAGRAM_USER_FOR_V2_ID:"missing_instagram_user_for_v2_id",MISSING_PAGE_FOR_INSTAGRAM_USER:"missing_page_for_instagram_user",ACCEPT_INVITATION:"accept_invitation",ADDED_ROLE:"added_role",ATTEMPT_ADDING_OR_INVITE_ROLE:"attempt_adding_or_invite_role",ATTEMPT_CANCELING_INVITATION:"attempt_canceling_invitation",ATTEMPT_CHANGING_ROLE:"attempt_changing_role",ATTEMPT_DELETING_ROLE:"attempt_deleting_role",CANCELED_INVITATION:"canceled_invitation",CHANGED_ROLE:"changed_role",DECLINE_INVITATION:"decline_invitation",DELETED_ROLE:"deleted_role",FAILED_ADDING_ROLE:"failed_adding_role",FAILED_CANCELING_INVITATION:"failed_canceling_invitation",FAILED_CHANGING_ROLE:"failed_changing_role",FAILED_DELETING_ROLE:"failed_delete_role",FAILED_PERMISSION_CHECK:"failed_permission_check",FAILED_REMOVING_PROXY:"failed_removing_proxy",FAILED_TRANSFERING_SCHEULD_POSTS:"failed_transfering_scheuld_posts",INVITATION_SENT:"invitation_sent",FAILED_ADDING_SPECIAL_ROLE:"failed_adding_special_role",ACCEPT_PROXY_REQUEST:"accept_proxy_request",REJECT_PROXY_REQUEST:"reject_proxy_request",ACCEPT_BUSINESS_REQUEST:"accept_business_request",REJECT_BUSINESS_REQUEST:"recject_business_request",WA_ACCOUNT_CREATION_CALLBACK:"account_creation_callback",WA_REQUEST_WA_REGISTRATION_CODE:"wa_request_wa_registration_code",BUSINESS_PAGE_IG_MISMATCH:"business_page_ig_mismatch",ROLLBACK_BUSINESS_MIGRATION:"rollback_business_migration"})}),null);
__d("PresenceAccountInstagramAuthView.react",["cx","fbt","ix","AbstractButton.react","AbstractTextInput.react","Image.react","Keys","Link.react","PresmaUsageEvents","PresmaUsageTypedLogger","React","ShimButton.react","XUISpinner.react","fbglyph","joinClasses","PresenceAccountInstagramAuthenticator"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){__p&&__p();l.constructor.call(this,n);this.$PresenceAccountInstagramAuthView7=function(){new(c("PresmaUsageTypedLogger"))().setUsageEvent(c("PresmaUsageEvents").IG_CONNECT_XOUT_CLICKED).setBusinessID(this.props.presenceOwnerID).log();this.props.onClose()}.bind(this);this.$PresenceAccountInstagramAuthView8=function(o){var p=this.$PresenceAccountInstagramAuthView9();if(o.keyCode===c("Keys").RETURN&&!p.isButtonDisabled()){p.buttonAction();new(c("PresmaUsageTypedLogger"))().setUsageEvent(c("PresmaUsageEvents").IG_CONNECT_LOGIN_CLICKED).setBusinessID(this.props.presenceOwnerID).log()}}.bind(this);this.$PresenceAccountInstagramAuthView1={signIn:{subtitle:i._("Log in to Instagram so you can connect with more customers right from Facebook"),buttonLabel:i._("Log In"),buttonAction:function(){new(c("PresmaUsageTypedLogger"))().setUsageEvent(c("PresmaUsageEvents").IG_CONNECT_LOGIN_CLICKED).setBusinessID(this.props.presenceOwnerID).log();this.$PresenceAccountInstagramAuthView2()}.bind(this),isButtonDisabled:function(){return!this.state.username||!this.state.password}.bind(this),renderForm:function(){return this.$PresenceAccountInstagramAuthView3()}.bind(this),promptSectionConfig:{prompt:i._("Don't have an account?"),actionLabel:i._("Sign up"),action:function(){return this.setState({errorMessage:null,mode:"signUp"})}.bind(this)}},signUp:{subtitle:i._("Sign up to see photos and videos from your friends"),buttonLabel:i._("Create Account"),buttonAction:function(){new(c("PresmaUsageTypedLogger"))().setUsageEvent(c("PresmaUsageEvents").IG_CONNECT_SIGN_UP_CLICKED).setBusinessID(this.props.presenceOwnerID).log();this.$PresenceAccountInstagramAuthView4()}.bind(this),isButtonDisabled:function(){return!this.state.username||!this.state.email||this.state.email!==this.state.reEnterEmail}.bind(this),renderForm:function(){return this.$PresenceAccountInstagramAuthView5()}.bind(this),promptSectionConfig:{prompt:i._("Already have an account?"),actionLabel:i._("Sign in"),action:function(){return this.setState({errorMessage:null,mode:"signIn"})}.bind(this)}},authenticate:{subtitle:i._("You're about to change the instagram username. Please enter your original username and password to verify your identity."),buttonLabel:i._("Verify"),buttonAction:function(){new(c("PresmaUsageTypedLogger"))().setUsageEvent(c("PresmaUsageEvents").IG_CONNECT_AUTH_CLICKED).setBusinessID(this.props.presenceOwnerID).log();this.$PresenceAccountInstagramAuthView6()}.bind(this),isButtonDisabled:function(){return!this.state.username||!this.state.password}.bind(this),renderForm:function(){return this.$PresenceAccountInstagramAuthView3()}.bind(this),PromptRenderConfig:null}};this.state={username:"",password:"",email:"",reEnterEmail:"",phoneNumber:"",isRequesting:false,errorMessage:null,mode:this.props.viewOptions}}m.prototype.$PresenceAccountInstagramAuthView9=function(){if(this.state.mode==="authenticate")return this.$PresenceAccountInstagramAuthView1.authenticate;else if(this.state.mode==="signUp")return this.$PresenceAccountInstagramAuthView1.signUp;else return this.$PresenceAccountInstagramAuthView1.signIn};m.prototype.componentDidMount=function(){new(c("PresmaUsageTypedLogger"))().setUsageEvent(c("PresmaUsageEvents").IG_SETTING_VIEW_LOADED).setBusinessID(this.props.presenceOwnerID).log()};m.prototype.render=function(){var n=this.$PresenceAccountInstagramAuthView9(),o=this.state.isRequesting?this.$PresenceAccountInstagramAuthView10():this.$PresenceAccountInstagramAuthView11(n);return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_2k3s")},this.$PresenceAccountInstagramAuthView12(),o)};m.prototype.$PresenceAccountInstagramAuthView13=function(n){return function(o){this.$PresenceAccountInstagramAuthView14(n,o.target.value)}.bind(this)};m.prototype.$PresenceAccountInstagramAuthView14=function(n,o){var p={};p[n]=o;this.setState(p)};m.prototype.$PresenceAccountInstagramAuthView12=function(){if(!this.state.errorMessage)return null;return c("React").createElement("div",{className:"_53n- _4auv _4auw"},c("React").createElement(c("Image.react"),{src:j("114551")}),c("React").createElement("div",{className:"_3-9a"},this.state.errorMessage))};m.prototype.$PresenceAccountInstagramAuthView10=function(){return c("React").createElement("div",{className:"_4aux _4auy"},c("React").createElement("div",{className:"_2k3t _2k3u"},c("React").createElement(c("Image.react"),{src:j("96615"),height:46,width:160}),c("React").createElement("div",{className:"_3-8y"},c("React").createElement(c("XUISpinner.react"),{className:"_4auz",size:"large",background:"dark"}))))};m.prototype.$PresenceAccountInstagramAuthView15=function(){return c("React").createElement(c("ShimButton.react"),{className:"_2k3x"+(this.state.isRequesting?" hidden_elem":""),onClick:this.$PresenceAccountInstagramAuthView7},c("React").createElement(c("Image.react"),{src:j("114708")}))};m.prototype.$PresenceAccountInstagramAuthView11=function(n){return c("React").createElement("div",{className:"_4au- _4auv _4auy _2k3t"},this.$PresenceAccountInstagramAuthView15(),c("React").createElement(c("Image.react"),{src:j("96615"),height:46,width:160}),c("React").createElement("div",{className:"_2k3y"},n.subtitle),c("React").createElement("div",{className:"_2k3z"}),n.renderForm(),c("React").createElement(c("AbstractButton.react"),{className:"_2k43",onClick:n.buttonAction,label:n.buttonLabel,disabled:n.isButtonDisabled()}),this.$PresenceAccountInstagramAuthView16(n.promptSectionConfig))};m.prototype.$PresenceAccountInstagramAuthView5=function(){return c("React").createElement("div",null,c("React").createElement(c("AbstractTextInput.react"),{className:"_2k3- _4au_",placeholder:i._("username"),value:this.state.username,onChange:this.$PresenceAccountInstagramAuthView13("username")}),c("React").createElement(c("AbstractTextInput.react"),{className:"_2k3- _4au_",placeholder:i._("email"),value:this.state.email,onChange:this.$PresenceAccountInstagramAuthView13("email")}),c("React").createElement(c("AbstractTextInput.react"),{className:"_2k3- _4au_",placeholder:i._("re-enter email"),value:this.state.reEnterEmail,onChange:this.$PresenceAccountInstagramAuthView13("reEnterEmail")}),c("React").createElement(c("AbstractTextInput.react"),{className:"_2k3- _4au_",placeholder:i._("phone number (optional)"),value:this.state.phoneNumber,onChange:this.$PresenceAccountInstagramAuthView13("phoneNumber")}))};m.prototype.$PresenceAccountInstagramAuthView3=function(){return c("React").createElement("div",null,c("React").createElement(c("AbstractTextInput.react"),{className:"_2k3- _4au_",placeholder:i._("Username"),value:this.state.username,onChange:this.$PresenceAccountInstagramAuthView13("username"),onKeyDown:this.$PresenceAccountInstagramAuthView8}),c("React").createElement(c("AbstractTextInput.react"),{className:"_2k3-",type:"password",placeholder:i._("Password"),value:this.state.password,onChange:this.$PresenceAccountInstagramAuthView13("password"),onKeyDown:this.$PresenceAccountInstagramAuthView8}))};m.prototype.$PresenceAccountInstagramAuthView16=function(n){if(this.state.mode==="authenticate")return c("React").createElement("div",{className:"_4av0"});return c("React").createElement("div",{className:"_4av0"},c("React").createElement("span",null,n?n.prompt:null),c("React").createElement(c("Link.react"),{onClick:n?n.action:null},n?n.actionLabel:null))};m.prototype.$PresenceAccountInstagramAuthView2=function(){this.setState({isRequesting:true,errorMessage:null});c("PresenceAccountInstagramAuthenticator").authenticateWithCredential(this.props.presenceOwnerID,this.state.username,this.state.password,function(n){this.props.onConnected(n);this.setState({isRequesting:false})}.bind(this),function(n){this.setState({isRequesting:false,errorMessage:n})}.bind(this))};m.prototype.$PresenceAccountInstagramAuthView6=function(){this.setState({isRequesting:true,errorMessage:null});c("PresenceAccountInstagramAuthenticator").authenticateAccountWithCredential(this.props.presenceOwnerID,this.state.username,this.state.password,function(n){this.props.onConnected(n);this.setState({isRequesting:false})}.bind(this),function(n){this.setState({isRequesting:false,errorMessage:n})}.bind(this))};m.prototype.$PresenceAccountInstagramAuthView4=function(){this.setState({isRequesting:true,errorMessage:null});c("PresenceAccountInstagramAuthenticator").authenticateWithAccountCreation(this.props.presenceOwnerID,this.state.username,this.state.email,this.state.phoneNumber,function(n){this.props.onConnected(n);this.setState({isRequesting:false})}.bind(this),function(n){this.setState({isRequesting:false,errorMessage:n})}.bind(this))};f.exports=m}),null);
__d("XPresenceAccountOAuthUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/presence/account/oauth/update/",{})}),null);
__d("PresenceAccountOAuthAuthenticator",["invariant","AsyncRequest","EventListener","PopupWindow","URI","XPresenceAccountOAuthUpdateController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();i.informOAuthResult=function(j,k){j.postMessage({oAuthResult:k},window.location.origin)};i.extractResultFromOAuthHash=function(){var j=window.location.hash.substr(1),k=/([^&=]+)=([^&]*)/g,l={},m=null;while(m=k.exec(j))l[decodeURIComponent(m[1])]=decodeURIComponent(m[2]);if(l.error)return{succeeded:false,error:l.error,payload:null};else return{succeeded:true,error:null,payload:l}};function i(j,k,l,m,n){this.$PresenceAccountOAuthAuthenticator1=j;this.$PresenceAccountOAuthAuthenticator3=l;this.$PresenceAccountOAuthAuthenticator5=false;this.$PresenceAccountOAuthAuthenticator6=k;this.$PresenceAccountOAuthAuthenticator10=m;this.$PresenceAccountOAuthAuthenticator11=n}i.prototype.authenticate=function(j,k){__p&&__p();!this.$PresenceAccountOAuthAuthenticator5||h(0);!this.$PresenceAccountOAuthAuthenticator2||h(0);this.$PresenceAccountOAuthAuthenticator8=j;this.$PresenceAccountOAuthAuthenticator7=k;var l=new(c("URI"))("/presence/oauth/callback").setProtocol("https").setDomain(this.$PresenceAccountOAuthAuthenticator1.location.hostname),m=new(c("URI"))(this.$PresenceAccountOAuthAuthenticator3.url).addQueryData(this.$PresenceAccountOAuthAuthenticator6).addQueryData("redirect_uri",l.toString()).toString();this.$PresenceAccountOAuthAuthenticator9=c("PopupWindow").open(m,this.$PresenceAccountOAuthAuthenticator3.height,this.$PresenceAccountOAuthAuthenticator3.width);this.$PresenceAccountOAuthAuthenticator2=c("EventListener").listen(this.$PresenceAccountOAuthAuthenticator1,"message",function(event){return this.$PresenceAccountOAuthAuthenticator12(event)}.bind(this));this.$PresenceAccountOAuthAuthenticator4=c("EventListener").listen(this.$PresenceAccountOAuthAuthenticator9,"beforeunload",function(event){this.$PresenceAccountOAuthAuthenticator7&&this.$PresenceAccountOAuthAuthenticator7("DIALOG_CLOSED");this.$PresenceAccountOAuthAuthenticator13()}.bind(this))};i.prototype.$PresenceAccountOAuthAuthenticator12=function(event){__p&&__p();if(event.origin!==this.$PresenceAccountOAuthAuthenticator1.location.origin||!event.data.oAuthResult)return;if(event.data.oAuthResult.succeeded){var j=event.data.oAuthResult.payload;j||h(0);var k=c("XPresenceAccountOAuthUpdateController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(k).setMethod("POST").setData({presence_owner_id:this.$PresenceAccountOAuthAuthenticator10,presence_account_type:this.$PresenceAccountOAuthAuthenticator11,payload:JSON.stringify(j)}).setHandler(function(l){this.$PresenceAccountOAuthAuthenticator8&&this.$PresenceAccountOAuthAuthenticator8(l.payload);this.$PresenceAccountOAuthAuthenticator13()}.bind(this)).setErrorHandler(function(l){this.$PresenceAccountOAuthAuthenticator7&&this.$PresenceAccountOAuthAuthenticator7("UPDATE_ACCOUNT_FAILED");this.$PresenceAccountOAuthAuthenticator13()}.bind(this)).send()}else{this.$PresenceAccountOAuthAuthenticator7&&this.$PresenceAccountOAuthAuthenticator7(event.data.error);this.$PresenceAccountOAuthAuthenticator13()}};i.prototype.$PresenceAccountOAuthAuthenticator13=function(){!this.$PresenceAccountOAuthAuthenticator5||h(0);this.$PresenceAccountOAuthAuthenticator2&&this.$PresenceAccountOAuthAuthenticator2.remove();this.$PresenceAccountOAuthAuthenticator2=null;this.$PresenceAccountOAuthAuthenticator4&&this.$PresenceAccountOAuthAuthenticator4.remove&&this.$PresenceAccountOAuthAuthenticator4.remove();this.$PresenceAccountOAuthAuthenticator4=null;this.$PresenceAccountOAuthAuthenticator9&&this.$PresenceAccountOAuthAuthenticator9.close();this.$PresenceAccountOAuthAuthenticator9=null;this.$PresenceAccountOAuthAuthenticator5=true};f.exports=i}),null);
__d("PresenceAccountType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FACEBOOK_PAGE:"page",INSTAGRAM:"instagram",GOOGLE:"google"})}),null);
__d("XPresenceAccountDisconnectController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/presence/account/disconnect/",{})}),null);
__d("XPresenceAccountPayloadFetchController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/presence/account/payload/fetch/",{})}),null);
__d("PresenceAccountUtilities",["invariant","AsyncRequest","PresenceAccountInstagramAuthenticator","PresenceAccountOAuthAuthenticator","PresenceAccountType","XPresenceAccountDisconnectController","XPresenceAccountPayloadFetchController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={getAuthPayloadAsync:function j(k,l,m,n){var o=c("XPresenceAccountPayloadFetchController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(o).setMethod("POST").setData({owner_id:k,presence_account_type:l}).setHandler(function(p){p.payload&&p.payload.authContext||h(0);if(!p.payload.accountPayload&&m)i.connectToAccountOfType(k,l,p.payload.authContext,n);else n(p.payload.accountPayload,null)}).setErrorHandler(function(){n(null,"ACCOUNT_PAYLOAD_FETCH_ERROR")}).send()},connectToAccountOfType:function j(k,l,m,n){__p&&__p();switch(l){case c("PresenceAccountType").GOOGLE:new(c("PresenceAccountOAuthAuthenticator"))(window,m.oAuthParams,m.dialogParams,k,l).authenticate(function(o){return n(o,null)},function(o){return n(null,o)});return;case c("PresenceAccountType").INSTAGRAM:new(c("PresenceAccountInstagramAuthenticator"))(window,k).authenticate(function(o){return n(o,null)},function(o){return n(null,o)});return;default:throw new Error("Unsupported account type: "+l)}},disconnectAccountOfType:function j(k,l,m){var n=c("XPresenceAccountDisconnectController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(n).setMethod("POST").setData({owner_id:k,presence_account_type:l}).setHandler(function(o){m(o.payload,null)}).setErrorHandler(function(){m(null,"DISCONNECT_FAILURE")}).send()}};f.exports=i}),null);
__d("ServicesVerticalCreateAppointmentDialog.react",["cx","fbt","invariant","AbstractTextArea.react","DateTime","JobConstants","LayerFadeOnHide","LayerFadeOnShow","LocalDate","NativeBookingRequestStatusUpdateAction","NativeComponentFlowBookingRequestMutation","PagesAppointmentDateTimeRangePicker.react","PagesCatalogItemsSelector.react","PagesEventObserver","PagesEventType","React","RelayFBEnvironment","ServicesAppointmentInterstitialAction","ServicesAppointmentReferrer","ServicesUISpinner.react","ServicesVerticalBookingRequestFlow","TimeOfDay","Timezone","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","idx","RelayModern","ServicesWordingUtils","ServicesVerticalCreateAppointmentDialog_user.graphql","ServicesVerticalCreateAppointmentDialog_services.graphql"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("RelayModern").createFragmentContainer,n=c("RelayModern").graphql,o=c("ServicesWordingUtils").CREATE_ANOTHER_APPOINTMENT_DESCRIPTION_TEXT,p=c("ServicesWordingUtils").CUSTOMER_NOTES_TEXT_AREA_TITLE,q=c("ServicesWordingUtils").ServicesWordingUtils,r=400,s=c("Timezone").getEnvironmentTimezoneID()||c("Timezone").UTC;function t(v,w){return c("DateTime").localNow().set({second:w.second,minute:w.minute,hour:w.hour,day:v.day,month:v.month,year:v.year}).getUnixTimestampSeconds()}k=babelHelpers.inherits(u,c("React").Component);l=k&&k.prototype;function u(v){__p&&__p();l.constructor.call(this,v);this.$ServicesVerticalCreateAppointmentDialog3=function(w){this.props.onToggle&&this.props.onToggle(w)}.bind(this);this.$ServicesVerticalCreateAppointmentDialog1=function(){this.setState({isUpdating:false});this.$ServicesVerticalCreateAppointmentDialog3(false);this.props.onUpdateFailure&&this.props.onUpdateFailure()}.bind(this);this.$ServicesVerticalCreateAppointmentDialog2=function(){this.setState({isUpdating:false});this.$ServicesVerticalCreateAppointmentDialog3(false);this.props.onUpdateSuccess&&this.props.onUpdateSuccess()}.bind(this);this.handleServiceSelectorChange=function(w){var x=w?w.id:null;this.setState({serviceID:x},this.validateData)}.bind(this);this.$ServicesVerticalCreateAppointmentDialog4=function(){var w=false;w=this.onClickCreateAnotherAppointment();if(!w)this.$ServicesVerticalCreateAppointmentDialog3(false);if(w!==this.state.isUpdating)this.setState({isUpdating:w})}.bind(this);this.handleDateTimeChange=function(w){this.setState({dateTimeRange:w},this.validateData)}.bind(this);this.handleCustomerNotesChange=function(event){var w=event.target.value;this.setState({customerNotes:w},this.validateData)}.bind(this);this.validateData=function(){var w=[this.validateServiceData(),this.validateScheduleData(),this.validateCustomerNotesData()];w=w.reduce(function(x,y){x.data=babelHelpers["extends"]({},x.data,y.data);x.isValid=x.isValid&&y.isValid;return x},{data:{},isValid:true});this.setState({formData:w})}.bind(this);this.state={customerNotes:null,dateTimeRange:this.getTimeRange(v.startTime,v.endTime),formData:{data:{},isValid:false},isUpdating:false,serviceID:null}}u.prototype.UNSAFE_componentWillReceiveProps=function(v){if(!this.props.user&&v.user){var w,x=this.props,y=x.pageID,z=x.referrer,A=(w=v)!=null?(w=w.user)!=null?w.id:w:w;c("PagesEventObserver").notify(c("PagesEventType").BOOKING_ADMIN_ENTER_CREATION_FLOW,y,{referrer:z,customer_id:A})}};u.prototype.getTimeRange=function(v,w){if(!v)return null;return{fromDate:c("LocalDate").fromInstant(v,s),fromTime:c("TimeOfDay").fromInstant(v,s),untilDate:w?c("LocalDate").fromInstant(w,s):null,untilTime:w?c("TimeOfDay").fromInstant(w,s):null}};u.prototype.getCatalogItems=function(){var v,w=((v=this)!=null?(v=v.props)!=null?(v=v.services)!=null?v.services_card:v:v:v)||{},x=w.card_visibility;if(x==="published"){var y,z=((y=w)!=null?(y=y.product_catalog)!=null?(y=y.catalog_items)!=null?y.edges:y:y:y)||[];return z.map(function(A){return A.node})}return[]};u.prototype.onClickCreateAnotherAppointment=function(){__p&&__p();var v=this.state.formData;if(!v.isValid)return false;var w=this.props,x=w.requestID,y=w.requestOwnerID,z=this.props.pageID,A=v.data,B={action:c("NativeBookingRequestStatusUpdateAction").CREATE,actor_id:z,job_application_id:this.props.jobApplicationID,notes_for_customer:A.customerNotes,referrer:this.props.referrer,service_id:A.serviceID,services_flow_type:this.props.servicesFlowType,suggested_end_time:A.endTime,suggested_time:A.startTime};x||y&&z||j(0);if(x)B=babelHelpers["extends"]({},B,{request_id:x});else if(y)B=babelHelpers["extends"]({},B,{page_id:this.props.pageID,request_owner_id:y});c("NativeComponentFlowBookingRequestMutation").commit(c("RelayFBEnvironment"),B,{onFailure:this.$ServicesVerticalCreateAppointmentDialog1,onSuccess:this.$ServicesVerticalCreateAppointmentDialog2});var C=this.props.referrer;if(C===c("ServicesAppointmentReferrer").BUBBLE)C=c("ServicesAppointmentReferrer").BUBBLE_CREATE;c("PagesEventObserver").notify(c("PagesEventType").BOOKING_ADMIN_TAPPED_CREATE_APPOINTMENT,z,{referrer:C});if(A.customerNotes)c("PagesEventObserver").notify(c("PagesEventType").BOOKING_ADMIN_ADDED_CUSTOMER_NOTES,z);c("ServicesAppointmentInterstitialAction").appointmentScheduled();return true};u.prototype.renderSpinner=function(){if(!this.state.isUpdating)return null;return c("React").createElement(c("ServicesUISpinner.react"),{className:"_3-8_"})};u.prototype.validateServiceData=function(){var v=this.state.serviceID;return{data:{serviceID:v},isValid:true}};u.prototype.validateScheduleData=function(){var v=this.state.dateTimeRange;if(v){var w=v.fromDate,x=v.fromTime,y=v.untilDate,z=v.untilTime,A=t(w,x),B=y&&z?t(y,z):null,C=c("DateTime").now(s).getUnixTimestampSeconds();if(A>C&&(B&&B>=A||!B))return{data:{startTime:A,endTime:B},isValid:true}}return{data:{},isValid:false}};u.prototype.validateCustomerNotesData=function(){var v=this.state.customerNotes;return{data:{customerNotes:v},isValid:true}};u.prototype.isJobInterview=function(){return!!this.props.jobApplicationID&&this.props.servicesFlowType===c("ServicesVerticalBookingRequestFlow").JOB_INTERVIEW};u.prototype.getTitle=function(){if(this.isJobInterview())return i._("Schedule An Interview");return this.props.title||i._("Create An Appointment")};u.prototype.getBody=function(){if(this.isJobInterview()){var v,w=(v=this.props)!=null?(v=v.user)!=null?v.name:v:v;return i._("Create an appointment to interview {user name}.",[i._param("user name",w)])}return this.props.body||o};u.prototype.getAppointmentDurationMinutes=function(){if(this.isJobInterview())return c("JobConstants").JOB_INTERVIEW_DEFAULT_DURATION_MINUTES;return this.props.appointmentDurationMinutes};u.prototype.renderTitle=function(){return c("React").createElement(c("XUIDialogTitle.react"),null,this.getTitle())};u.prototype.renderContent=function(){__p&&__p();var v,w;if(!this.props.services)return c("React").createElement(c("XUIDialogBody.react"),{className:"_1hhk"},c("React").createElement(c("ServicesUISpinner.react"),{centered:true,className:"_3-8o",size:"large"}));var x=this.getCatalogItems(),y=void 0;if(this.props.servicesFlowType!==c("ServicesVerticalBookingRequestFlow").JOB_INTERVIEW)y=c("React").createElement(c("PagesCatalogItemsSelector.react"),{catalogItems:x,maxWidth:r-24,onChange:this.handleServiceSelectorChange});var z=(v=this)!=null?(v=v.props)!=null?(v=v.user)!=null?v.name:v:v:v,A=null,B=((w=this.props)!=null?(w=w.services)!=null?(w=w.services_vertical_info)!=null?w.should_allow_admin_enter_customer_notes:w:w:w)||false;if(B&&!this.isJobInterview())A=c("React").createElement("div",{className:"_3-8y"},c("React").createElement(c("XUIText.react"),{className:"_9te _3-94",display:"block",size:"meta1"},p),c("React").createElement(c("AbstractTextArea.react"),{className:"_zcu",onChange:this.handleCustomerNotesChange,placeholder:q.getCustomerNotesPlaceholder(z)}));return c("React").createElement(c("XUIDialogBody.react"),{className:"_1hhk"},c("React").createElement("div",{className:"_3-96"},this.getBody()),y,c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("PagesAppointmentDateTimeRangePicker.react"),{appointmentDurationMinutes:this.getAppointmentDurationMinutes(),onChange:this.handleDateTimeChange,value:this.state.dateTimeRange})),A)};u.prototype.renderFooter=function(){if(!this.props.services)return null;return c("React").createElement(c("XUIDialogFooter.react"),null,this.renderSpinner(),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",disabled:this.state.isUpdating,label:i._("Cancel")}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:!this.state.formData.isValid||this.state.isUpdating,label:i._("Create Appointment"),onClick:this.$ServicesVerticalCreateAppointmentDialog4,use:"confirm"}))};u.prototype.render=function(){var v=this.props,w=v.causalElementRef,x=v.shown;if(!x)return null;return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide"),LayerFadeOnShow:c("LayerFadeOnShow")},causalElementRef:w,hideOnEscape:true,layerHideOnBlur:false,onToggle:this.$ServicesVerticalCreateAppointmentDialog3,shown:x,width:r},this.renderTitle(),this.renderContent(),this.renderFooter())};f.exports=m(u,{user:function v(){return c("ServicesVerticalCreateAppointmentDialog_user.graphql")},services:function v(){return c("ServicesVerticalCreateAppointmentDialog_services.graphql")}})}),null);
__d("ServicesVerticalCreateAppointmentDialogRoot.react",["cx","fbt","ServicesVerticalCreateAppointmentDialog.react","React","RelayFBEnvironment","RelayModern","ServicesVerticalCreateAppointmentDialogRootQuery.graphql"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql,n=function n(){return c("ServicesVerticalCreateAppointmentDialogRootQuery.graphql")};j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;o.prototype.renderFailure=function(){return c("React").createElement("div",{className:"_65fh"},i._("Something went wrong. Please try again later."))};o.prototype.renderLoading=function(){return c("React").createElement(c("ServicesVerticalCreateAppointmentDialog.react"),babelHelpers["extends"]({},this.props,{services:null,user:null}))};o.prototype.renderFetched=function(p){return c("React").createElement(c("ServicesVerticalCreateAppointmentDialog.react"),babelHelpers["extends"]({},this.props,{services:p.page,user:p.user}))};o.prototype.render=function(){return c("React").createElement(l,{environment:c("RelayFBEnvironment"),query:n,render:function(p){var q=p.error,r=p.props;if(q)return this.renderFailure();else if(r)return this.renderFetched(r);return this.renderLoading()}.bind(this),variables:{count:this.props.count,pageID:this.props.pageID,userID:this.props.requestOwnerID}})};function o(){j.apply(this,arguments)}o.defaultProps={count:100};f.exports=o}),null);
__d("AbstractRelaySearchSource",["AbstractAsyncSearchSource","debounceCore","fetchRelayModernQuery"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;function j(l){return function(m,n,o,p){var q=n.gen(m.value),r=q.query,s=q.variables;return c("fetchRelayModernQuery")(l,r,s).then(o,p)}}h=babelHelpers.inherits(k,c("AbstractAsyncSearchSource"));i=h&&h.prototype;function k(l,m,n){i.constructor.call(this,m,c("debounceCore")(j(l),225),n)}f.exports=k}),null);
__d("XAdsLeadGenFormPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/lead_ads/form_preview/",{lead_gen_data_id:{type:"FBID",required:true},recipient_id:{type:"FBID"},__asyncDialog:{type:"Int"}})}),null);
__d("XPagesManagerProductSearchController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/products/search/",{})}),null);