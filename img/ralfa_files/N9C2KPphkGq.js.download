if (self.CavalryLogger) { CavalryLogger.start_js(["4b5g2"]); }

__d("AdsDispatcher",["AdsDataAtom"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("AdsDataAtom")}),null);
__d("OptimisticVideoPostUtils",["AsyncRequest"],(function a(b,c,d,e,f,g){__p&&__p();var h={shouldShowOptimisticPost:function i(j){if(j.isScheduledPost||j.isHiddenFromTimeline||j.isSecret||!j.isPageToPage&&!j.isToUserProfile||j.isDraft)return false;return true},checkVideoStatus:function i(j,k,l,m){new(c("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:j}).setHandler(function(n){var o=n.getPayload();if(n.error||o.error)l(j,n);else if(o.is_ready)k(j);else m(j)}).send()}};f.exports=h}),null);
__d("SubscriptionLevels",[],(function a(b,c,d,e,f,g){var h=Object.freeze({ALL:"162318810514679",DEFAULT:"271670892858696",TOP:"266156873403755"});f.exports=h}),null);
__d("EditSubscriptions",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","FeedBlacklistButton","MenuDeprecated","Parent","SubscriptionLevels","ge","getOrCreateDOMID"],(function aa(a,b,ba,ca,c,da,ea,fa){__p&&__p();var d=45,e=[b("SubscriptionLevels").ALL,b("SubscriptionLevels").DEFAULT,b("SubscriptionLevels").TOP],f={},g={},h={},i={},j={},k={},l={},m={},n={},o={},p={},q="/ajax/follow/follow_profile.php",r="/ajax/follow/unfollow_profile.php",s="/ajax/settings/notifications/notify_me.php",t={},u={},v={},w=null,x={};function y(T){return e.includes(T)}function z(T,U,V,W){__p&&__p();var X=b("Parent").byClass(W,"uiMenuItem")||b("Parent").bySelector(W,"._54ni"),Y=b("getOrCreateDOMID")(T);if(!X||!b("DOM").contains(T,X))return;else if(b("CSS").hasClass(X,"SubscribeMenuSubscribeCheckbox")){if(h[U])E(Y,U);else D(Y,U);return false}else if(b("CSS").hasClass(X,"SubscribeMenuUnsubscribe")){E(Y,U);return false}else if(b("CSS").hasClass(X,"SubscribeMenuSettingsItem")){Q(T,true);return false}else if(b("CSS").hasClass(X,"SubscriptionMenuGoBack")){Q(T,false);return false}else if(b("CSS").hasClass(X,"SubscriptionMenuItem")){B(T,U,V,X);return false}else if(b("CSS").hasClass(X,"SubscribeMenuNotifyMeCheckbox")){A(T,U);return false}}function A(T,U){if(i[U])ha(T,U);else ga(T,U)}function B(T,U,V,W){if(b("CSS").hasClass(W,"SubscriptionMenuLevel")){if(b("MenuDeprecated").isItemChecked(W))return;O(T,U,H(W),true,V)}else if(b("CSS").hasClass(W,"SubscriptionMenuCategory"))L(U,W,!b("MenuDeprecated").isItemChecked(W),true,V);else if(b("CSS").hasClass(W,"SubscriptionAppStory"))N(U,W,!b("MenuDeprecated").isItemChecked(W),V)}function C(T){return x[T]?x[T]:0}function D(T,U){var V={profile_id:U};b("Arbiter").inform("FollowingUser",V);b("Arbiter").inform(b("FeedBlacklistButton").UNBLACKLIST,V);new(b("AsyncRequest"))().setURI(q).setMethod("POST").setData({profile_id:U,location:C(T)}).setErrorHandler(b("Arbiter").inform.bind(null,"FollowUserFail",V)).send()}function E(T,U){var V={profile_id:U};b("Arbiter").inform("UnfollowingUser",V);b("Arbiter").inform(b("FeedBlacklistButton").BLACKLIST,V);new(b("AsyncRequest"))().setURI(r).setMethod("POST").setData({profile_id:U,location:C(T)}).setErrorHandler(b("Arbiter").inform.bind(null,"UnfollowUserFail",V)).send()}function F(T,U,V){var W={profile_id:T,level:m[T],custom_categories:n[T],location:V};new(b("AsyncRequest"))().setURI("/ajax/follow/manage_subscriptions.php").setData(W).send()}function G(T,U){__p&&__p();var V=n[U]||[],W=b("MenuDeprecated").getItems(T);W.forEach(function(X){__p&&__p();if(b("CSS").hasClass(X,"SubscriptionMenuCategory")){var Y=H(X);if(V.includes(Y))J(X);else K(X)}else if(b("CSS").hasClass(X,"SubscriptionAppStory")){var Z=H(X);if(v[U]&&v[U][Z])J(X);else K(X)}});O(T,U,m[U],false)}function H(T){var U=b("DOM").scry(T,"input")[0];return U&&U.value}function I(T){return b("DOM").find(T,"a.itemAnchor")}function J(T){b("CSS").addClass(T,"checked");I(T).setAttribute("aria-checked",true)}function K(T){b("CSS").removeClass(T,"checked");I(T).setAttribute("aria-checked",false)}function L(T,U,V,W,X){__p&&__p();if(V)J(U);else K(U);var Y=H(U);if(y(Y))V&&M(T,Y);else if(V){if(!n[T].includes(Y))n[T].push(Y)}else{var Z=n[T].indexOf(Y);if(Z!==-1)n[T].splice(Z,1)}if(W)F(T,Y,X)}function M(T,U){m[T]=U;b("Arbiter").inform("SubscriptionLevelUpdated",{profile_id:T,level:U})}function N(T,U,V,W){__p&&__p();var X="/ajax/feed/filter_action/",Y=H(U),Z={actor_id:T,app_id:Y};if(V){J(U);X+="resubscribe_user_app/";Z.action="resubscribe_user_app";if(!v[T])v[T]={};v[T][Y]=true}else{K(U);X+="unsubscribe_user_app_checkbox/";Z.action="unsubscribe_user_app_checkbox";if(v[T])v[T][Y]=false}new(b("AsyncRequest"))().setURI(X).setData(Z).send()}function O(T,U,V,W,X){var Y=b("DOM").scry(T,".SubscriptionMenuLevel"),Z=null;Y.forEach(function($){if(H($)==V)Z=$;else if(b("MenuDeprecated").isItemChecked($))L(U,$,false,false)});Z&&L(U,Z,true,W,X)}function P(T,U,V){h[U]=V;b("CSS").conditionClass(T,"isUnsubscribed",!V);var W=b("DOM").scry(T,"li.SubscribeMenuSubscribeCheckbox");if(W.length!==0){var X=W[0];if(V)J(X);else K(X)}}function Q(T,U){b("CSS").conditionClass(T,"subscriptionMenuOpen",U)}function R(T,U,V){var W=b("DOM").find(T,".FriendListSubscriptionsMenu"),X=b("DOM").find(W,".uiMenuInner");if(w!=null)w.forEach(function(Y){X.removeChild(Y)});V.forEach(function(Y){X.appendChild(Y)});w=V}b("Arbiter").subscribe("UnfollowUser",function(T,U){if(o[U.profile_id]){M(U.profile_id,o[U.profile_id]);n[U.profile_id]=p[U.profile_id].slice()}});b("Arbiter").subscribe("UpdateSubscriptionLevel",function(T,U){var V=U.profile_id+"",W=U.level+"";M(V,W);var X;for(X in f)if(f[X]===V){var Y=b("ge")(X);Y&&O(Y,V,W,false)}});b("Arbiter").subscribe("listeditor/close_editor",function(){var T;for(T in f){var U=b("ge")(T);U&&Q(U,false)}});function S(T,U,V){__p&&__p();i[U]=V;var W=u[U];if(W){if(V)W.select();else W.deselect();return}var X=b("DOM").scry(T,"li.SubscribeMenuNotifyMeCheckbox");if(X.length!==0){var Y=X[0];b("CSS").conditionShow(Y,true);var Z=b("DOM").scry(T,"li.SubscribeMenuNotifyMeCheckboxSeparator");if(Z.length>0)b("CSS").conditionShow(Z[0],true);if(V)J(Y);else K(Y)}}function ga(T,U){var V={profile_id:U};b("Arbiter").inform("EnableNotifsForUser",V);new(b("AsyncRequest"))().setURI(s).setMethod("POST").setData({notifier_id:U,enable:true}).setErrorHandler(b("Arbiter").inform.bind(null,"EnableNotifsForUserFail",V)).send()}function ha(T,U){var V={profile_id:U};b("Arbiter").inform("DisableNotifsForUser",V);new(b("AsyncRequest"))().setURI(s).setMethod("POST").setData({notifier_id:U,enable:false}).setErrorHandler(b("Arbiter").inform.bind(null,"DisableNotifsForUserFail",V)).send()}var ia={init:function T(U,V,W){__p&&__p();var X=b("getOrCreateDOMID")(U);x[X]=W;if(!f[X])b("Event").listen(U,"click",function(Y){return z(U,f[X],W,Y.getTarget())});if(W===d&&t[V].length)R(U,V,t[V]);if(m[V])G(U,V);f[X]=V;b("CSS").conditionClass(U,"NonFriendSubscriptionMenu",!g[V]);b("CSS").conditionClass(U,"cannotSubscribe",!j[V]);b("CSS").conditionClass(U,"noSubscriptionLevels",k[V]&&!l[V]);b("CSS").conditionClass(U,"noSubscribeCheckbox",!g[V]&&!k[V]);P(U,V,h[V]);S(U,V,i[V]);b("Arbiter").subscribe(["FollowUser","FollowingUser","UnfollowUserFail"],function(Y,Z){if(Z.profile_id==V)P(U,V,true)}.bind(this));b("Arbiter").subscribe(["UnfollowUser","UnfollowingUser","FollowUserFail"],function(Y,Z){if(Z.profile_id==V){b("Arbiter").inform("SubMenu/Reset");P(U,V,false)}}.bind(this));b("Arbiter").subscribe(["EnableNotifsForUser","DisableNotifsForUserFail"],function(Y,Z){if(Z.profile_id==V)S(U,V,true)}.bind(this));b("Arbiter").subscribe(["DisableNotifsForUser","EnableNotifsForUserFail"],function(Y,Z){if(Z.profile_id==V)S(U,V,false)}.bind(this));b("Arbiter").subscribe("listeditor/friend_lists_changed",function(Y,Z){if(Z.notify_state){var $=Z.added_uid?Z.added_uid:Z.removed_uid;S(U,$,Z.notify_state.is_notified)}}.bind(this))},getSubscriptions:function T(U){return{level:m[U],custom_categories:n[U]}},registerTimelineNotifySelector:function T(U,V){__p&&__p();var W=U.getInitialMenu(),X=U.getContentRoot();W.forEachItem(function(Y){var Z=Y.getRoot();if(b("CSS").hasClass(Z,"SubscribeMenuNotifyMeCheckbox")){u[V]=Y;S(X,V,i[V])}});W.subscribe("itemclick",function(Y,Z){if(Z.item===u[V])A(X,V);return true})},toggleNotificationsOnJoin:function T(U,V){if(i[U]!==V)A(null,U)},setSubscriptions:function T(U,V,W,X,Y,Z,$,ja,ka,la,ma,na){__p&&__p();M(U,$+"");g[U]=V;h[U]=W;j[U]=X;k[U]=Y;l[U]=Z;o[U]=ka+"";n[U]=ja.map(String);p[U]=la.map(String);t[U]=na;i[U]=ma}};c.exports=a.EditSubscriptions||ia}),null);
__d("ConnectionsPYMLTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ConnectionsPYMLLoggerConfig",this.$ConnectionsPYMLTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ConnectionsPYMLLoggerConfig",this.$ConnectionsPYMLTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ConnectionsPYMLTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ConnectionsPYMLTypedLogger1=babelHelpers["extends"]({},this.$ConnectionsPYMLTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$ConnectionsPYMLTypedLogger1.event=j;return this};h.prototype.setLikeSource=function(j){this.$ConnectionsPYMLTypedLogger1.like_source=j;return this};h.prototype.setPageID=function(j){this.$ConnectionsPYMLTypedLogger1.page_id=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$ConnectionsPYMLTypedLogger1=babelHelpers["extends"]({},this.$ConnectionsPYMLTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={event:true,like_source:true,page_id:true};f.exports=h}),null);
__d("PagesIntegrityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:PagesIntegrityLoggerConfig",this.$PagesIntegrityTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:PagesIntegrityLoggerConfig",this.$PagesIntegrityTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:PagesIntegrityLoggerConfig",this.$PagesIntegrityTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$PagesIntegrityTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$PagesIntegrityTypedLogger1)};h.prototype.updateData=function(j){this.$PagesIntegrityTypedLogger1=babelHelpers["extends"]({},this.$PagesIntegrityTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$PagesIntegrityTypedLogger1.event=j;return this};h.prototype.setPageAdminNotified=function(j){this.$PagesIntegrityTypedLogger1.page_admin_notified=j;return this};h.prototype.setPageID=function(j){this.$PagesIntegrityTypedLogger1.page_id=j;return this};h.prototype.setPageSurface=function(j){this.$PagesIntegrityTypedLogger1.page_surface=j;return this};h.prototype.setPostSessionUuid=function(j){this.$PagesIntegrityTypedLogger1.post_session_uuid=j;return this};h.prototype.setVC=function(j){this.$PagesIntegrityTypedLogger1.vc=j;return this};var i={event:true,page_admin_notified:true,page_id:true,page_surface:true,post_session_uuid:true,vc:true};f.exports=h}),null);
__d("ProfileVideoWWWFrontendActionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ProfileVideoWWWFrontendActionLoggerConfig",this.$ProfileVideoWWWFrontendActionTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ProfileVideoWWWFrontendActionLoggerConfig",this.$ProfileVideoWWWFrontendActionTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ProfileVideoWWWFrontendActionTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ProfileVideoWWWFrontendActionTypedLogger1=babelHelpers["extends"]({},this.$ProfileVideoWWWFrontendActionTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$ProfileVideoWWWFrontendActionTypedLogger1.event=j;return this};h.prototype.setSessionID=function(j){this.$ProfileVideoWWWFrontendActionTypedLogger1.session_id=j;return this};h.prototype.setUploadError=function(j){this.$ProfileVideoWWWFrontendActionTypedLogger1.upload_error=j;return this};var i={event:true,session_id:true,upload_error:true};f.exports=h}),null);
__d("Tour",["Arbiter","LayerDestroyOnHide","LayerHideOnEscape","NavigationMessage","PageEvents"],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";if(h._instance)h._instance.setTourComplete();h._instance=this}h.prototype.init=function(){"use strict";this._pageLeaveToken=c("Arbiter").subscribe(c("PageEvents").AJAXPIPE_ONUNLOAD,this.handleLeavePage.bind(this));this._navigationBeginToken=c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,this.handleTransition.bind(this));this.steps={};return this};h.prototype.registerStep=function(i,j){"use strict";i.disableBehavior(c("LayerDestroyOnHide"));i.disableBehavior(c("LayerHideOnEscape"));this.steps[j]=i;i.subscribe("show",function(){i.inform("tour-dialog-show",i)});if(!this.getTourStarted())this.setTourStart()};h.prototype._unsubscribeSubscriptions=function(){"use strict";this._navigationBeginToken.unsubscribe();this._pageLeaveToken.unsubscribe()};h.prototype.handleLeavePage=function(){"use strict";this._unsubscribeSubscriptions()};h.prototype.handleTransition=function(){"use strict";this._unsubscribeSubscriptions()};h.prototype.handleTourStart=function(){"use strict"};h.prototype.handleTourStop=function(){"use strict"};h.prototype.handleTourComplete=function(){"use strict"};h.prototype.showStep=function(i){"use strict";var j=this.steps[i];if(!(this.openDialog==j))this.hideOpenDialog();if(!j)return;this.openDialog=j;j.show()};h.prototype.hideOpenDialog=function(){"use strict";if(this.openDialog){this.openDialog.hide();this.openDialog=null}};h.prototype.getTourStarted=function(){"use strict";return this.tourStarted};h.prototype.setTourStart=function(){"use strict";this.tourStarted=true;this.handleTourStart()};h.prototype.setTourStop=function(){"use strict";this.tourStarted=false;this.hideOpenDialog();this.handleTourStop()};h.prototype.setTourComplete=function(){"use strict";if(this.tourComplete)return;this.setTourStop();this.tourComplete=true;this.handleTourComplete()};h.prototype.hideStep=function(i){"use strict";var j=this.steps[i];j&&j.hide()};h.getInstance=function(){"use strict";return h._instance||(h._instance=new h())};Object.assign(h.prototype,{tourStarted:false,tourComplete:false,_navigationBeginToken:null,_pageLeaveToken:null,steps:{},openDialog:null});f.exports=h}),null);
__d("EgoActionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({IMP:1,CLICK:2,CONVERSION:4,SUPPRESS:8,NEXT:16,ERROR:32,XOUT:24,NONE:0})}),null);
__d("EgoPageServiceConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FAN:"fan",UNFAN:"unfan",PAGE_VIEW:"page_view",FRIEND_VIEW:"friend_view",SEE_ALL:"see_all",ADD_INTEREST:"add_interest",CONTEXT_ITEM:"tap_context_item",BOOST_POST:"tap_boost_post",WATCH_AS_PAGE:"watch_as_page",UNWATCH_AS_PAGE:"unwatch_as_page",SHOP_VIEW:"shop_view",MESSAGE:"message",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe"})}),null);
__d("XPubcontentInteractionLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pubcontent/suggestions/interaction_logging/",{})}),null);
__d("PageFanning",["ActorURI","Animation","AsyncRequest","ConnectionsPYMLTypedLogger","CSS","DOM","EgoActionType","EgoPageServiceConstants","Parent","URI","XPubcontentInteractionLoggingController","$","collectDataAttributes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={setFanStatus:function j(k,l,m,n,o,p,q){__p&&__p();var r={ft:{}};if(k)r={ft:c("collectDataAttributes")(k,["ft"]).ft};var s=new(c("URI"))(window.location.href).getQueryData();if(m)if(s.ref==="pyml_feed")new(c("ConnectionsPYMLTypedLogger"))().setEvent("like_page").setLikeSource("profile").setPageID(parseInt(l,10)).log();else if(s.ref==="pyml_permalink")new(c("ConnectionsPYMLTypedLogger"))().setEvent("like_page").setLikeSource("post_permalink").setPageID(parseInt(l,10)).log();o=o||function(x){var t=x.getPayload();if(!t||!k)return;if(t.reload)h.reloadOnFanStatusChanged();else i(k,t)};var t={fbpage_id:l,add:m,reload:n};if(q!=null)Object.assign(t,q);Object.assign(t,r);var u="/ajax/pages/fan_status.php";if(q!=null&&q.actor_id!=null)u=c("ActorURI").create(u,q.actor_id);var v=new(c("AsyncRequest"))().setURI(u).setData(t).setNectarModuleDataSafe(k).setHandler(o);if(p)v.setErrorHandler(p);v.send();if(q.fan_origin==="PSYM"&&m&&q.egodata!==null){var w={q:q.egodata,action:c("EgoPageServiceConstants").FAN,action_type:c("EgoActionType").CONVERSION};new(c("AsyncRequest"))().setMethod("POST").setURI(c("XPubcontentInteractionLoggingController").getURIBuilder().getURI()).setData(w).send()}return false},reloadOnFanStatusChanged:function j(){var k=c("URI").getRequestURI();window.location.href=k},toggleLikeOnFanStatusChanged:function j(k,l){var m=c("$")("liked_pages_like_action_"+k),n=c("$")("liked_pages_undo_action_"+k);c("CSS").conditionClass(m,"hidden_elem",l);c("CSS").conditionClass(n,"hidden_elem",!l)}};function i(j,k){__p&&__p();var l=k.feedback;if(!l)return;if(c("Parent").byClass(j,"fbTimelineEscapeSectionItem"))j=c("Parent").byClass(j,"fan_status_inactive")||j;var m=c("DOM").create("span",{className:"fan_status_inactive"},l);j.parentNode.replaceChild(m,j);var n=function n(){if(k.can_repeat_action)m.parentNode.replaceChild(j,m)};new(c("Animation"))(m).duration(3e3).checkpoint().to("backgroundColor","#FFFFFF").duration(1e3).ondone(n).go()}f.exports=h}),null);
__d("PagesLikeFollowNotifActions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INIT_DATA:"init_data",LIKE:"like",UNLIKE:"unlike",FOLLOW_CHANGED:"follow_changed",SNOOZE_CHANGED:"snooze_changed",NOTIF_CHANGE:"notif_change",NOTIF_ALL_ON:"notif_all_on",NOTIF_ALL_OFF:"notif_all_off",NEWS_FEED_CHANGE:"news_feed_change"})}),null);
__d("PagesLikeFollowNotifDispatcher",["Arbiter","ExplicitRegistrationReactDispatcher","PageLikeConstants","PagesLikeFollowNotifActions","SubscriptionsHandler"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);var l=new(c("SubscriptionsHandler"))();l.addSubscriptions(c("Arbiter").subscribe(c("PageLikeConstants").LIKED,function(m,n){return this.dispatchLike(n.profile_id)}.bind(this)),c("Arbiter").subscribe(c("PageLikeConstants").UNLIKED,function(m,n){return this.dispatchUnlike(n.profile_id)}.bind(this)))}j.prototype.dispatchLike=function(k){this.dispatch({type:c("PagesLikeFollowNotifActions").LIKE,data:{pageID:k,likeStatus:true}})};j.prototype.dispatchUnlike=function(k){this.dispatch({type:c("PagesLikeFollowNotifActions").UNLIKE,data:{pageID:k,likeStatus:false}})};f.exports=new j({strict:true})}),null);
__d("PagesFollowStore",["FluxReduceStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.__moduleID=f.id,l}j.prototype.getInitialState=function(){return{}};j.prototype.reduce=function(k,l){var m=babelHelpers["extends"]({},k);switch(l.type){case c("PagesLikeFollowNotifActions").INIT_DATA:if(l.data.pageID in k)return k;m[l.data.pageID]=l.data.followStatus;return m;case c("PagesLikeFollowNotifActions").FOLLOW_CHANGED:m[l.data.pageID]=l.data.followStatus;return m}return k};f.exports=new j(c("PagesLikeFollowNotifDispatcher"))}),null);
__d("XPagesLikeCountController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/x/updateLikeCountDomString/",{page_id:{type:"Int",required:true},like_id:{type:"String",required:true}})}),null);
__d("PageLikeButton",["Arbiter","AsyncRequest","AsyncResponse","DOM","EditSubscriptions","Event","FeedBlacklistButton","PageFanning","PageLikeConstants","PagesFollowStore","ProfileSubFollowStatus","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","SocialGoodCharityActionsLoggerUtils","Tour","XPagesLikeCountController"],(function a(b,c,d,e,f,g){__p&&__p();var h={init:function i(j,k,l,m,n,o,p,q,r,s,t,u){__p&&__p();var v=this._getOption(u,"isLazy");this._subscribe(c("PageLikeConstants").LIKED,v,function(x,y){if(this._shouldUpdateButton(m,u,y)){j.swap();if(!r)l.suppressNextMouseEnter&&l.suppressNextMouseEnter();if(this._getOption(u,"is_fundraiser"))c("EditSubscriptions").toggleNotificationsOnJoin(m,true)}}.bind(this));this._subscribe(c("PageLikeConstants").UNLIKED,v,function(x,y){if(this._shouldUpdateButton(m,u,y)){j.unswap();l.hideFlyout&&l.hideFlyout();if(this._getOption(u,"is_fundraiser"))c("EditSubscriptions").toggleNotificationsOnJoin(m,false)}}.bind(this));if(t)this._subscribe(c("PageLikeConstants").SPM_CALLOUT,v,function(x,y){if(this._shouldUpdateButton(m,u,y)){t.show();c("Arbiter")._releaseAllEvents(c("PageLikeConstants").SPM_CALLOUT)}}.bind(this));var w=function(event){var x=j.getCurrentButton();this._likeButtonAction(m,n,o,p,x,event,u)}.bind(this);c("Event").listen(k,"click",w);if(v)c("Arbiter").subscribe(c("PageLikeConstants").LAZY_CLICK,function(x,y){var event=y.event,z=y.node;if(z!==k)return;w(event)})},_subscribe:function i(event,j,k){var l=j?[event,event+".lazy"]:[event];c("Arbiter").subscribe(l,k)},initCallout:function i(j,k){var l=document.getElementById("pageActionLikeCalloutButton");c("Event").listen(l,"click",this._likeButtonAction(j,k,null,null,null))},initUnlike:function i(j,k,l,m){var n=this._getOption(m,"actor_id");c("Event").listen(j,"click",function(event){this.doUnlikeAction(event,k,l,n,m)}.bind(this))},initUnlikeAndHide:function i(j,k,l,m){var n=this._getOption(m,"actor_id");c("Event").listen(j,"click",function(event){this.doUnlikeAction(event,k,l,n,m);c("DOM").remove(j)}.bind(this))},doUnlikeAction:function i(event,j,k,l,m){this._saveLike(event.target,j,false,function(n){c("Arbiter").inform(c("PageLikeConstants").LIKED,{profile_id:j,actor_id:l});c("AsyncResponse").defaultErrorHandler(n)},k,null,null,m);this.informUnlike(j,l)},doLikeAction:function i(j,k,l,m){var n={actor_id:m};this._saveLike(j,k,true,function(o){if(o.getError()!==1431019)c("Arbiter").inform(c("PageLikeConstants").UNLIKED,{profile_id:k,actor_id:m});c("AsyncResponse").defaultErrorHandler(o)},l,null,null,n);h.informLike(k,j,l,n)},informLike:function i(j,k,l,m){var n=this._getOption(m,"actor_id"),o={profile_id:j,actor_id:n,target:k,origin:l};c("Arbiter").inform(c("PageLikeConstants").LIKED,o);o.connected=true;var p=c("PagesFollowStore").getState();if(!(j in p)||!p[j]||p[j]!==c("ProfileSubFollowStatus").SEE_FIRST)c("PagesLikeFollowNotifDispatcher").dispatch({type:c("PagesLikeFollowNotifActions").FOLLOW_CHANGED,data:{pageID:o.profile_id,followStatus:true}});c("Arbiter").inform(c("FeedBlacklistButton").UNBLACKLIST,o)},informLikeSuccess:function i(j){var k={profile_id:j};c("Arbiter").inform(c("PageLikeConstants").LIKED_SUCCESS,k);c("Arbiter").inform(c("PageLikeConstants").SPM_CALLOUT,k)},informUnlike:function i(j,k){var l={profile_id:j,actor_id:k};setTimeout(c("Arbiter").inform.bind(c("Arbiter"),c("PageLikeConstants").UNLIKED,l),0);l.connected=false;setTimeout(function(){return c("PagesLikeFollowNotifDispatcher").dispatch({type:c("PagesLikeFollowNotifActions").FOLLOW_CHANGED,data:{pageID:l.profile_id,followStatus:false}})},0);c("Arbiter").inform(c("FeedBlacklistButton").BLACKLIST,l)},updateLikeCount:function i(j,k){c("Arbiter").subscribe(c("PageLikeConstants").LIKED_SUCCESS,function(l,m){var n=m.profile_id;if(k==n){var o=c("XPagesLikeCountController").getURIBuilder().setInt("page_id",k).setString("like_id",j).getURI();new(c("AsyncRequest"))().setURI(o).send()}})},_saveLike:function i(j,k,l,m,n,o,p,q){var r=this._getOption(q,"actor_id"),s=this._getOption(q,"egodata");c("Tour").getInstance().hideStep("low_page_likes");if(this._getOption(q,"is_fundraiser")&&this._getOption(q,"logging_info"))c("SocialGoodCharityActionsLoggerUtils").logJoinActionClick(l,this._getOption(q,"logging_info"));c("PageFanning").setFanStatus(j,k,l,false,function(){h.informLikeSuccess(k);if(!l&&this._getOption(q,"reload_on_unlike")||l&&this._getOption(q,"reload_on_like"))location.reload()}.bind(this),m,{fan_origin:n,fan_source:o,cat:p,actor_id:r,egodata:s})},_likeButtonAction:function i(j,k,l,m,n,event,o){var p=this._getOption(o,"actor_id");this._saveLike(event.getTarget(),j,true,function(q){c("Arbiter").inform(c("PageLikeConstants").UNLIKED,{profile_id:j,actor_id:p});c("AsyncResponse").defaultErrorHandler(q)},k,l,m,o);h.informLike(j,n,k,o)},_shouldUpdateButton:function i(j,k,l){var m=this._getOption(k,"actor_id");if(j===l.profile_id){if(m===null)return true;if(l.actor_id!==null&&m===l.actor_id)return true}return false},_getOption:function i(j,k){if(j&&k in j)return j[k];return null}};f.exports=h;b.PageLikeButton=h}),null);
__d("PagesComposerUnpublishedPostsStore",["ReactComposerStoreBase","PagesComposerActionsTypes"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j={isDraft:false,scheduledPublishTime:null,backdateConfig:null,isAdsPost:false,isReviewableBrandedContent:false,stopFeedDistributionDate:null,isOfferUpsellShown:false,isOfferUpsellAbandoned:false,offerConfig:null};h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l;i.constructor.call(this,function(){return Object.assign({},j)},function(m){__p&&__p();switch(m.type){case c("PagesComposerActionsTypes").BACKDATE:l&&l.$PagesComposerUnpublishedPostsStore1(m);break;case c("PagesComposerActionsTypes").SET_DRAFT:l&&l.$PagesComposerUnpublishedPostsStore2(m);break;case c("PagesComposerActionsTypes").SCHEDULE:l&&l.$PagesComposerUnpublishedPostsStore3(m);break;case c("PagesComposerActionsTypes").SET_ADS_POST:l&&l.$PagesComposerUnpublishedPostsStore4(m);break;case c("PagesComposerActionsTypes").SHOW_OFFER_UPSELL:l&&l.$PagesComposerUnpublishedPostsStore5(m);break;case c("PagesComposerActionsTypes").ABANDON_OFFER_UPSELL:l&&l.$PagesComposerUnpublishedPostsStore6(m);break;case c("PagesComposerActionsTypes").SET_IS_REVIEWABLE_BRANDED_CONTENT:l&&l.$PagesComposerUnpublishedPostsStore7(m);break;case c("PagesComposerActionsTypes").CLEAR_COMPOSER_DATA:l&&l.$PagesComposerUnpublishedPostsStore8(m);break}});l=this}k.prototype.getBackdateConfig=function(l){"use strict";return this.getComposerData(l).backdateConfig};k.prototype.getIsDraft=function(l){"use strict";return this.getComposerData(l).isDraft};k.prototype.getIsReviewableBrandedContent=function(l){"use strict";return this.getComposerData(l).isReviewableBrandedContent};k.prototype.getScheduledPublishTime=function(l){"use strict";return this.getComposerData(l).scheduledPublishTime};k.prototype.getStopFeedDistributionTime=function(l){"use strict";return this.getComposerData(l).stopFeedDistributionDate};k.prototype.getIsAdsPost=function(l){"use strict";return this.getComposerData(l).isAdsPost};k.prototype.getIsOfferUpsellShown=function(l){"use strict";return this.getComposerData(l).isOfferUpsellShown};k.prototype.getIsOfferUpsellAbandoned=function(l){"use strict";return this.getComposerData(l).isOfferUpsellAbandoned};k.prototype.getOfferConfig=function(l){"use strict";return this.getComposerData(l).offerConfig};k.prototype.$PagesComposerUnpublishedPostsStore1=function(l){"use strict";var m=this.getComposerData(l.composerID);m.backdateConfig={year:l.year,month:l.month,day:l.day,hideFromNewsFeed:l.hideFromNewsFeed}};k.prototype.$PagesComposerUnpublishedPostsStore3=function(l){"use strict";var m=this.getComposerData(l.composerID);m.scheduledPublishTime=l.scheduleDate;m.stopFeedDistributionDate=l.stopFeedDistributionDate};k.prototype.$PagesComposerUnpublishedPostsStore2=function(l){"use strict";var m=this.getComposerData(l.composerID);m.isDraft=true};k.prototype.$PagesComposerUnpublishedPostsStore4=function(l){"use strict";var m=this.getComposerData(l.composerID);m.isAdsPost=true};k.prototype.$PagesComposerUnpublishedPostsStore5=function(l){"use strict";var m=this.validateAction(l,["composerID","config"]),n=m[0],o=m[1],p=this.getComposerData(n);p.offerConfig=o;p.isOfferUpsellShown=true;this.emitChange(n)};k.prototype.$PagesComposerUnpublishedPostsStore6=function(l){"use strict";var m=this.getComposerData(l.composerID);m.isOfferUpsellAbandoned=true};k.prototype.$PagesComposerUnpublishedPostsStore7=function(l){"use strict";var m=this.getComposerData(l.composerID);m.isReviewableBrandedContent=true};k.prototype.$PagesComposerUnpublishedPostsStore8=function(l){"use strict";this.clearComposerData(l.composerID)};f.exports=new k()}),null);
__d("PagesIntegrityLoggingActionType",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({INITIAL_LOAD:null,FAKE_NEWS_DIALOG_SHOWN:null,ADMIN_DID_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:null,ADMIN_DID_NOT_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:null,UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:null,ADMIN_DID_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:null,ADMIN_DID_NOT_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:null})}),null);
__d("PagesIntegrityLoggingActions",["AdsDataAtom","PagesIntegrityLoggingActionType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(o){c("AdsDataAtom").handleUpdateFromInitialServer({type:c("PagesIntegrityLoggingActionType").INITIAL_LOAD,pageID:o})},i=function i(){c("AdsDataAtom").handleUpdateFromViewAction({type:c("PagesIntegrityLoggingActionType").ADMIN_DID_NOT_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN})},j=function j(){c("AdsDataAtom").handleUpdateFromViewAction({type:c("PagesIntegrityLoggingActionType").ADMIN_DID_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN})},k=function k(){c("AdsDataAtom").handleUpdateFromViewAction({type:c("PagesIntegrityLoggingActionType").FAKE_NEWS_DIALOG_SHOWN})},l=function l(){c("AdsDataAtom").handleUpdateFromViewAction({type:c("PagesIntegrityLoggingActionType").ADMIN_DID_NOT_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN})},m=function m(){c("AdsDataAtom").handleUpdateFromViewAction({type:c("PagesIntegrityLoggingActionType").ADMIN_DID_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN})},n=function n(){c("AdsDataAtom").handleUpdateFromViewAction({type:c("PagesIntegrityLoggingActionType").UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN})};f.exports={initializeLoggingStore:h,logFakeNewsDialogShown:k,logFakeNewsSubmitted:j,logFakeNewsNotSubmitted:i,logUnpublishedContentBankMatchNotSubmitted:l,logUnpublishedContentBankMatchSubmitted:m,logUnpublishedContentWarningDialogShown:n}}),null);
__d("PagesIntegrityLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FAKE_NEWS_LINK_SHARE_WARNING_DIALOG_SHOWN:"FAKE_NEWS_LINK_SHARE_WARNING_DIALOG_SHOWN",FAKE_NEWS_LINK_SHARED_BY_ADMIN:"FAKE_NEWS_LINK_SHARED_BY_ADMIN",FAKE_NEWS_LINK_NOT_SHARED_BY_ADMIN:"FAKE_NEWS_LINK_NOT_SHARED_BY_ADMIN",FAKE_NEWS_LINK_SHARE_NOTIFICATION_SENT_TO_ADMIN:"FAKE_NEWS_LINK_SHARE_NOTIFICATION_SENT_TO_ADMIN",FAKE_NEWS_LINK_URI_TO_PAGE_NOTIFICATION_SENT_TO_ADMIN:"FAKE_NEWS_LINK_URI_TO_PAGE_NOTIFICATION_SENT_TO_ADMIN",UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:"UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN",UNPUBLISHED_CONTENT_BANK_MATCH_POSTED_BY_ADMIN:"UNPUBLISHED_CONTENT_BANK_MATCH_POSTED_BY_ADMIN",UNPUBLISHED_CONTENT_BANK_MATCH_NOT_POSTED_BY_ADMIN:"UNPUBLISHED_CONTENT_BANK_MATCH_NOT_POSTED_BY_ADMIN"})}),null);
__d("PagesIntegrityLoggerSurfaces",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER:"COMPOSER"})}),null);
__d("PagesIntegrityLoggingStore",["AdsDataAtom","FluxReduceStore","immutable","PagesIntegrityLoggerEvent","PagesIntegrityLoggerSurfaces","PagesIntegrityLoggingActionType","PagesIntegrityTypedLogger","uuid"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k;h=babelHelpers.inherits(l,c("immutable").Record({composerPostSessionUUID:null,pageID:null}));i=h&&h.prototype;function l(){h.apply(this,arguments)}j=babelHelpers.inherits(m,c("FluxReduceStore"));k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.__moduleID=f.id,o}m.prototype.getInitialState=function(){return new l()};m.prototype.reduce=function(n,o){__p&&__p();var p=o.action;switch(p.type){case c("PagesIntegrityLoggingActionType").INITIAL_LOAD:var q=p.pageID;return n.set("composerPostSessionUUID",c("uuid")()).set("pageID",q);case c("PagesIntegrityLoggingActionType").FAKE_NEWS_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(c("PagesIntegrityLoggerEvent").FAKE_NEWS_LINK_SHARE_WARNING_DIALOG_SHOWN,n,false);case c("PagesIntegrityLoggingActionType").ADMIN_DID_NOT_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(c("PagesIntegrityLoggerEvent").FAKE_NEWS_LINK_NOT_SHARED_BY_ADMIN,n,true);case c("PagesIntegrityLoggingActionType").ADMIN_DID_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(c("PagesIntegrityLoggerEvent").FAKE_NEWS_LINK_SHARED_BY_ADMIN,n,true);case c("PagesIntegrityLoggingActionType").UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(c("PagesIntegrityLoggerEvent").UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN,n,false);case c("PagesIntegrityLoggingActionType").ADMIN_DID_NOT_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(c("PagesIntegrityLoggerEvent").UNPUBLISHED_CONTENT_BANK_MATCH_NOT_POSTED_BY_ADMIN,n,true);case c("PagesIntegrityLoggingActionType").ADMIN_DID_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(c("PagesIntegrityLoggerEvent").UNPUBLISHED_CONTENT_BANK_MATCH_POSTED_BY_ADMIN,n,true);default:return n}};m.prototype.$PagesIntegrityLoggingStore1=function(event,n,o){new(c("PagesIntegrityTypedLogger"))().setEvent(event).setPageID(n.get("pageID")).setPostSessionUuid(n.get("composerPostSessionUUID")).setPageSurface(c("PagesIntegrityLoggerSurfaces").COMPOSER).log();return o?n.set("composerPostSessionUUID",c("uuid")()):n};f.exports=new m(c("AdsDataAtom"))}),null);
__d("ReactComposerFocusStore",["ReactComposerFocusActionTypes","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){__p&&__p();var k=void 0;i.constructor.call(this,function(){return{focusConfig:{},isFocused:false}},function(l){__p&&__p();if(!k)return;switch(l.type){case c("ReactComposerFocusActionTypes").SUBSCRIBE:k.$ReactComposerFocusStore1(l.composerID,l.onFocusAcquiredCallback,l.onFocusLostCallback);k.emitChange(l.composerID);break;case c("ReactComposerFocusActionTypes").UNSUBSCRIBE:k.$ReactComposerFocusStore2(l.composerID);k.emitChange(l.composerID);break;case c("ReactComposerFocusActionTypes").FOCUS_ACQUIRED:k.$ReactComposerFocusStore3(l.composerID);k.emitChange(l.composerID);break;case c("ReactComposerFocusActionTypes").FOCUS_LOST:k.$ReactComposerFocusStore4(l.composerID);k.emitChange(l.composerID);break}});k=this}j.prototype.$ReactComposerFocusStore1=function(k,l,m){var n=this.getComposerData(k);n.focusConfig={onFocusAcquiredCallback:l,onFocusLostCallback:m}};j.prototype.$ReactComposerFocusStore2=function(k){var l=this.getComposerData(k);l.focusConfig={}};j.prototype.$ReactComposerFocusStore3=function(k){var l=this.getComposerData(k);if(l.focusConfig.onFocusAcquiredCallback)setTimeout(l.focusConfig.onFocusAcquiredCallback,0);l.isFocused=true};j.prototype.$ReactComposerFocusStore4=function(k){var l=this.getComposerData(k);if(l.focusConfig.onFocusLostCallback)setTimeout(l.focusConfig.onFocusLostCallback,0);l.isFocused=false};j.prototype.isComposerFocused=function(k){return this.getComposerData(k).isFocused};f.exports=new j()}),null);
__d("XAfterPartyWWWController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ads/afterparty/www/",{page_id:{type:"Int",required:true},scrolling_offset:{type:"Int",defaultValue:0}})}),null);
__d("XUnpublishedPostSuccessController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/unpublished_posts/post_success/",{type:{type:"String",required:true}})}),null);
__d("PagesComposer",["csx","cx","ActorURI","AdsDispatcher","Arbiter","AsyncRequest","Bootloader","ReactComposerFocusStore","ComposerXMarauderLogger","ComposerXStore","DOM","ReactPagesComposerGlobalFlags","PagesComposerUnpublishedPostsStore","PagesIntegrityLoggingActions","PagesIntegrityLoggingStore","Parent","ReloadPage","Run","XUnpublishedPostSuccessController","XAfterPartyWWWController","$","getObjectValues","goURI"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=500,k=20,l=58,m=void 0,n=void 0;function o(){c("ComposerXMarauderLogger").logCompleted(m.id)}function p(t){__p&&__p();if(t.hidePost){var u=c("ComposerXStore").getAllForComposer(m.id);if(!c("getObjectValues")(u).length){var v=null;if(c("PagesComposerUnpublishedPostsStore").getIsDraft(m.id))v="draft";if(c("PagesComposerUnpublishedPostsStore").getScheduledPublishTime(m.id))v="scheduled";if(v){var w=c("XUnpublishedPostSuccessController").getURIBuilder().setString("type",v).getURI();w=c("ActorURI").create(w,n);new(c("AsyncRequest"))().setURI(w).send()}}o();return}if(t.redirect){var u=c("ComposerXStore").getAllForComposer(m.id);c("getObjectValues")(u).forEach(function(A){if(A.reset)A.reset(A)});c("goURI")(t.redirect);o();return}if(!t.streamStory){var x=r();if(x)return;c("ReloadPage").now();return}if(t.backdatedTime){c("Bootloader").loadModules(["PagesStoryPublisher"],function(A){A.publish(t)},"PagesComposer");o();return}var y=s.renderStory(m,t.streamStory);c("Arbiter").inform("TimelineComposer/on_after_publish",y,c("Arbiter").BEHAVIOR_PERSISTENT);if(n){var z=c("XAfterPartyWWWController").getURIBuilder().setInt("page_id",n);q(z,0)}o()}function q(t,u){if(!c("ReactComposerFocusStore").isComposerFocused(m.id)){if(u>0)t.setInt("scrolling_offset",l);new(c("AsyncRequest"))().setURI(t.getURI()).send()}else if(u<k)setTimeout(q.bind(this,t,u+1),j)}function r(){var t=false;c("Bootloader").loadModules(["ReactComposerTaggerStore","ReactComposerTaggerType"],function(u,v){var w=u.getTaggerData(m.id,v.SPONSOR),x=u.getTaggersConfig(m.id,v.SPONSOR);if(w&&w.sponsors&&w.sponsors.length>0&&x&&x.showBCMPPostPostModal)t=true},"PagesComposer");return t}var s={init:function t(u,v){m=c("$")(u);n=v;var w=c("Arbiter").subscribe("composer/publish",function(event,x){if(x.composer_id===m.id)p(x)});c("Run").onLeave(w.unsubscribe.bind(w));c("ReactPagesComposerGlobalFlags").setIsPagesComposer(true);c("AdsDispatcher").explicitlyRegisterStore(c("PagesIntegrityLoggingStore"));c("PagesIntegrityLoggingActions").initializeLoggingStore(v)},renderStory:function t(u,v){var w=c("Parent").bySelector(u,"#pagelet_timeline_main_column");if(!w)return;var x=c("DOM").scry(w,"._5sem")[0],y=c("DOM").setContent(x,v)[0];c("Bootloader").loadModules(["Animation"],function(z){new z(y).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(z.ease.both).go()},"PagesComposer");return y},replaceByID:function t(u,v){c("DOM").replace(c("$")(u),v)}};f.exports=b.PagesComposer||s}),null);
__d("StoryProfile.react",["cx","BackgroundImage.react","FBProfilePhotoShadow.react","Image.react","ImageBlock.react","InlineBlock.react","Link.react","PrivacyConst","React","XUIGrayText.react","XUIText.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$StoryProfile1=function(){__p&&__p();var r=null;if(this.props.privacyIndicator)r=this.props.privacyIndicator;else if(this.props.privacySetting){var s=this.props.privacySetting==c("PrivacyConst").BaseValue.EVERYONE,t=this.props.privacySetting==c("PrivacyConst").BaseValue.ALL_FRIENDS;r=c("React").createElement(c("BackgroundImage.react"),{width:13,height:12,"data-hover":"tooltip","data-tooltip-content":this.props.privacyTooltip,className:"_14g-"+(s?" _14g_":"")+(t?" _5qhp":"")+(!t&&!s?" _14h0":"")})}if(!r)return null;return c("React").createElement("span",null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"inline"},"\xa0\xb7\xa0"),r)}.bind(this),this.$StoryProfile2=function(){__p&&__p();var r,s;if(this.props.profileURL){var t;if(this.props.openProfileURLInNewPage)t="_blank";s="bold";r=c("React").createElement(c("Link.react"),{href:this.props.profileURL,target:t},this.props.username)}else r=this.props.username;if(this.props.description)return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_14gz",size:"header4",weight:s},r)," ",this.props.description);else return c("React").createElement(c("XUIText.react"),{className:"_14gz",size:"header4",weight:s,display:"block"},r)}.bind(this),this.$StoryProfile3=function(){if(this.props.additionalLinks)return c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"inline"},this.props.additionalLinks.map(function(r,s){return c("React").createElement("span",{key:s},"\xa0\xb7\xa0",c("React").createElement(c("Link.react"),{href:r.URL,target:"_blank"},r.text))}));return null}.bind(this),n}l.prototype.render=function(){"use strict";return c("React").createElement(c("ImageBlock.react"),{spacing:"medium",className:c("joinClasses")(this.props.className,"_56-3")},this.props.profilePicture?c("React").createElement(c("FBProfilePhotoShadow.react"),null,c("React").createElement(c("Image.react"),{className:"_56-4",src:this.props.profilePicture})):c("React").createElement("span",null),c("React").createElement(c("InlineBlock.react"),{alignv:"middle",height:40,fullWidth:true},this.$StoryProfile2(),c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"inline"},this.props.uploadTime),this.$StoryProfile1(),this.$StoryProfile3())))};l.propTypes={privacySetting:k.number,privacyIndicator:k.object,profilePicture:k.string,privacyTooltip:k.node,username:k.string.isRequired,uploadTime:k.node.isRequired,profileURL:k.string,openProfileURLInNewPage:k.bool,additionalLinks:k.arrayOf(k.shape({URL:k.string,text:k.node})),description:k.node};l.defaultProps={openProfileURLInNewPage:false};f.exports=l}),null);
__d("glyph",[],(function a(b,c,d,e,f,g){f.exports=function h(i){throw new Error("glyph: Unexpected glyph call.")}}),null);
__d("XVideoGenerateStoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/generate_story/",{video_id:{type:"Int"},feed_location:{type:"Enum",enumType:0},timeline_identifier:{type:"String"}})}),null);