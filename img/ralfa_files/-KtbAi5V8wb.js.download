if (self.CavalryLogger) { CavalryLogger.start_js(["WJScs"]); }

__d("ImagePositioner.react",["React","clamp"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){__p&&__p();var k=this.props.width,l=this.props.height,m,n;switch(this.props.backgroundSize){case"cover":m="cover";n=false;break;case"coverinside":m="cover";n=true;break;case"contain":m="contain";n=false;break;case"containinside":m="contain";n=true}var o=this.props.imageWidth,p=this.props.imageHeight,q=k/l,r=o/p;if(m==="contain")if((o>k||!n)&&r>=q){o=k;p=o/r}else if(p>l||!n){p=l;o=p*r}if(m==="cover")if((o>k||!n)&&r>=q){p=l;o=p*r}else if(p>l||!n){o=k;p=o/r}var s=this.$ImagePositioner1(o,p),t=this.props.children(s);return t&&c("React").Children.only(t)};j.prototype.$ImagePositioner1=function(k,l){var m=["50%","50%"],n=this.$ImagePositioner2;if(this.props.backgroundPosition)m=this.props.backgroundPosition.split(" ");else if(this.props.backgroundFocus){m=this.props.backgroundFocus.split(" ");n=this.$ImagePositioner3}return{width:Math.round(k)+"px",height:Math.round(l)+"px",left:n(m[0],k,this.props.width),top:n(m[1]||m[0],l,this.props.height)}};j.prototype.$ImagePositioner2=function(k,l,m){var n=parseFloat(k),o=k.substr(n.toString().length);if(o==="px")return k;return Math.round((m-l)*(n/100))+"px"};j.prototype.$ImagePositioner3=function(k,l,m){var n=parseFloat(k),o=k.substr(n.toString().length);if(l<m)return"0";var p=o==="px"?n:Math.round(l*(n/100)),q=p-m/2;q=c("clamp")(q,0,l-m);return-q+"px"};function j(){h.apply(this,arguments)}j.defaultProps={backgroundSize:"contain"};f.exports=j}),null);
__d("BackgroundImage.react",["cx","invariant","CachedDOMImageSizePool","Image.react","ImagePositioner.react","React","XUISpinner.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k="(-?(\\d+\\.)?\\d+(px|\\%))",l=new RegExp("^"+k+"?(\\s"+k+")?$","g"),m=new(c("CachedDOMImageSizePool"))(50,10*60*1e3),n=c("React").createClass({displayName:"BackgroundImage",propTypes:{src:j.string,width:j.number.isRequired,height:j.number.isRequired,backgroundSize:j.oneOf(["contain","cover","containinside","coverinside"]),loadingIndicatorStyle:j.oneOf(["none","large","small"]),backgroundPosition:function o(p,q,r){var s=p[q];if(s){typeof s==="string"||i(0);s.match(l)||i(0)}p.backgroundFocus==null||p.backgroundPosition==null||i(0)},backgroundFocus:function o(p,q,r){var s=p[q];if(s){typeof s==="string"||i(0);s.match(l)||i(0)}p.backgroundFocus==null||p.backgroundPosition==null||i(0)},onImageLoad:j.func,optimizeResizeSpeed:j.bool,onContextMenu:j.func},getInitialState:function o(){return{imageWidth:null,imageHeight:null,imageSrc:this.props.src,loading:true}},getDefaultProps:function o(){return{optimizeResizeSpeed:false,loadingIndicatorStyle:"none"}},componentDidMount:function o(){this._resolveImageSize()},componentDidUpdate:function o(p){if(this.props.src!==this.state.imageSrc)this.setState({imageWidth:0,imageHeight:0,imageSrc:this.props.src,loading:true},this._resolveImageSize)},_resolveImageSize:function o(){var p=this.state.imageSrc;if(p)m.get(p,this._onImageSizeResolved,this)},render:function o(){var p={width:this.props.width+"px",height:this.props.height+"px"},q=c("joinClasses")(this.props.className,"_5f0d");return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,q),style:babelHelpers["extends"]({},this.props.style||{},p),onContextMenu:this.props.onContextMenu}),this._renderImage(),this._renderContent(),this._renderLoadingIndicator())},_renderLoadingIndicator:function o(){if(!this.state.loading||this.props.loadingIndicatorStyle==="none")return null;return c("React").createElement("div",{className:"_1qe- _5lar"},c("React").createElement("div",{className:"_1qe_"},c("React").createElement("div",{className:"_1qf0"},c("React").createElement(c("XUISpinner.react"),{size:this.props.loadingIndicatorStyle}))))},_renderContent:function o(){if(this.props.children)return c("React").createElement("div",{className:"_1qe-"},c("React").createElement("div",{className:"_1qe_"},c("React").createElement("div",{className:"_1qf0"},this.props.children)))},_renderImage:function o(){if(!this.state.imageWidth||!this.state.imageHeight)return;return c("React").createElement(c("ImagePositioner.react"),{imageWidth:this.state.imageWidth,imageHeight:this.state.imageHeight,width:this.props.width,height:this.props.height,backgroundPosition:this.props.backgroundPosition,backgroundSize:this.props.backgroundSize,backgroundFocus:this.props.backgroundFocus},function(p){var q=p.width,r=p.height,s=p.left,t=p.top;return c("React").createElement(c("Image.react"),{alt:this.props.alt,className:"_5i4g"+(this.props.optimizeResizeSpeed?" _5sjv":""),style:{width:q,height:r,left:s,top:t},src:this.state.imageSrc})}.bind(this))},_onImageSizeResolved:function o(p,q,r){if(!this.isMounted()||this.state.imageSrc!==r)return;var s=this.props.onImageLoad?this.props.onImageLoad.bind(null,p,q):null;this.setState({imageWidth:p,imageHeight:q,loading:false},s)}});f.exports=n}),null);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;j.parseFiles=function(l){"use strict";__p&&__p();var m={};c("forEachObject")(l,function(n,o){if(Array.isArray(n))m[o]=n;else{m[o]=[];if(n instanceof window.FileList)for(var p=0;p<n.length;p++)m[o].push(n.item(p));else if(n instanceof window.File||n instanceof window.Blob)m[o].push(n)}});return m};function j(l){"use strict";i.constructor.call(this);this._customHeader={};this.setURI(l);this.setNetworkErrorRetryLimit(0)}j.prototype.setAllowCrossOrigin=function(l){"use strict";this._allowCrossOrigin=!!l;return this};j.prototype.setAllowCrossPageTransition=function(l){"use strict";this._allowCrossPageTransition=!!l;return this};j.prototype.setCustomHttpHeader=function(l,m){"use strict";this._customHeader[l]=m;return this};j.prototype.setData=function(l){"use strict";this._data=l;return this};j.prototype.setLimit=function(l){"use strict";this._limit=l;return this};j.prototype.setNetworkErrorRetryLimit=function(l){"use strict";this._retryLimit=l;return this};j.prototype.setPreprocessHandler=function(l){"use strict";this._preprocessHandler=l;return this};j.prototype.setRelativeTo=function(l){"use strict";this._relativeTo=l;return this};j.prototype.setStatusElement=function(l){"use strict";this._statusElement=l;return this};j.prototype.setURI=function(l){"use strict";this._uri=l;return this};j.prototype.suspend=function(){"use strict";this._suspended=true;return this};j.prototype.resume=function(){"use strict";this._suspended=false;this._processQueue();return this};j.prototype.isUploading=function(){"use strict";return this._inFlight};j.prototype._createFileUpload=function(l,m,n){"use strict";return new k(l,m,n)};j.prototype._processQueue=function(){"use strict";__p&&__p();if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var l=this._waiting.shift();if(this._preprocessHandler)this._preprocessHandler(l,this._processUpload.bind(this));else this._processUpload(l);this._pending.push(l)}};j.prototype._processUpload=function(l){"use strict";__p&&__p();var m=c("Form").createFormData(l.getData()||this._data);if(l.getFile()){m.append(l.getName(),l.getFile());var n=l.getFile().uploadID;if(n)m.append("upload_id",n);l.getAdditionalData().forEach(function(q,r){return m.append(r,q)})}var o=new(c("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(m).setStatusElement(this._statusElement).setHandler(this._success.bind(this,l)).setErrorHandler(this._failure.bind(this,l)).setUploadProgressHandler(this._progress.bind(this,l)).setInitialHandler(this._initial.bind(this,l));for(var p in this._customHeader)o.setRequestHeader(p,this._customHeader[p]);if(this._relativeTo)o.setRelativeTo(this._relativeTo);o.send();l.setAsyncRequest(o);this._inFlight=true;if(!l.getRetryCount())this.inform("start",l)};j.prototype._abort=function(l){"use strict";if(this._pending.indexOf(l)!==-1){c("removeFromArray")(this._pending,l);this._processQueue()}c("removeFromArray")(this._waiting,l);l.abort()};j.prototype._initial=function(l){"use strict";if(l.isAborted())return;this.inform("initial",l)};j.prototype._success=function(l,m){"use strict";if(l.isAborted()){this.inform("success_after_abort",m);return}this._complete(l);this.inform("success",l.handleSuccess(m));this._processQueue()};j.prototype._retryUpload=function(l){"use strict";l.increaseRetryCount();this._processUpload(l)};j.prototype._failure=function(l,m){"use strict";if(l.isAborted())return;if(m.error===1004&&l.getRetryCount()<this._retryLimit)return this._retryUpload(l);this._complete(l);if(this.inform("failure",l.handleFailure(m))!==false)c("AsyncResponse").defaultErrorHandler(m);this._processQueue()};j.prototype._progress=function(l,event){"use strict";if(l.isAborted())return;this.inform("progress",l.handleProgress(event))};j.prototype._complete=function(l){"use strict";c("removeFromArray")(this._pending,l);if(!this._pending.length)this._inFlight=false};j.isSupported=function(){"use strict";return c("BrowserSupport").hasFileAPI()};Object.assign(j.prototype,{_limit:10});function k(l,m,n){"use strict";__p&&__p();this._name=l;this._file=m;this._data=n;this._additionalData=new Map();this._success=null;this._response=null;this._progressEvent=null;this._request=null;this._numRetries=0;this._aborted=false}k.prototype.getName=function(){"use strict";return this._name};k.prototype.getFile=function(){"use strict";return this._file};k.prototype.setFile=function(l){"use strict";this._file=l};k.prototype.getData=function(){"use strict";return this._data};k.prototype.getAdditionalData=function(){"use strict";return this._additionalData};k.prototype.isComplete=function(){"use strict";return this._success!==null};k.prototype.isSuccess=function(){"use strict";return this._success===true};k.prototype.getResponse=function(){"use strict";return this._response};k.prototype.getProgressEvent=function(){"use strict";return this._progressEvent};k.prototype.setAsyncRequest=function(l){"use strict";this._request=l;return this};k.prototype.increaseRetryCount=function(){"use strict";this._numRetries++;return this};k.prototype.getRetryCount=function(){"use strict";return this._numRetries};k.prototype.isWaiting=function(){"use strict";return!this._request};k.prototype.isAborted=function(){"use strict";return this._aborted};k.prototype.abort=function(){"use strict";this._request=null;this._aborted=true};k.prototype.handleSuccess=function(l){"use strict";this._success=true;this._response=l;this._progressEvent=null;return this};k.prototype.handleFailure=function(l){"use strict";this._success=false;this._response=l;this._progressEvent=null;return this};k.prototype.handleProgress=function(event){"use strict";this._progressEvent=event;return this};f.exports=j}),null);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AsyncUploadBase"));i=h&&h.prototype;j.prototype.setFiles=function(k){"use strict";this._files=c("AsyncUploadBase").parseFiles(k);return this};j.prototype.abort=function(){"use strict";this._uploads.forEach(function(k){return this._abort(k)}.bind(this),this)};j.prototype.send=function(){"use strict";__p&&__p();if(this._inFlight)return;this._inFlight=true;this._uploads=[];for(var k in this._files)this._files[k].forEach(function(l){this._uploads.push(this._createFileUpload(k,l))}.bind(this));this._waiting=this._uploads.slice(0);this._pending=[];if(this._uploads.length)this._processQueue();else this._processUpload(this._createFileUpload(null,null))};j.prototype._processQueue=function(){"use strict";i._processQueue.call(this);if(!this._pending.length&&!this._waiting.length)this.inform("complete",this._uploads)};j.isSupported=function(){"use strict";return c("AsyncUploadBase").isSupported()};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","CurrentUser","DataStore","DOMQuery","Event","Form","JSONPTransport","Parent","URI","isElementNode","mixin","shield"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;function j(m){var n={},o=c("DOMQuery").scry(m,'input[type="file"]');o.forEach(function(p){n[p.name]=p.files});return n}function k(m){var n=c("DOMQuery").scry(m,'input[type="file"]');n.forEach(function(o){o.files=null})}h=babelHelpers.inherits(l,c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));i=h&&h.prototype;function l(m,n,o){"use strict";__p&&__p();i.constructor.call(this);this._handleSubmit=function(event){if(event.isDefaultPrevented()||event.getTarget()!==this._form)return;if(this.inform("submit")===false){event.prevent();return}this.submit(event)}.bind(this);if(m.getAttribute("rel")==="async")throw new Error("FileForm cannot be used with Primer forms.");if(m.getAttribute("method").toUpperCase()!=="POST")throw new Error("FileForm must be used with POST forms.");this._form=m;this._previousEncoding=this._form.enctype;this._form.enctype=this._form.encoding="multipart/form-data";this._files=null;this._customHeader={};n&&this.enableBehaviors(n);this._options=o||{};this.setAllowCrossOrigin(this._options.allowCrossOrigin);this.setAllowCrossPageTransition(this._options.allowCrossPageTransition);this.setUploadInParallel(this._options.uploadInParallel);this.setConcurrentLimit(this._options.concurrentLimit);this.setPreprocessHandler(this._options.preprocessHandler);this.setNetworkErrorRetryLimit(this._options.networkErrorRetryLimit);this._listeners=[c("Event").listen(document.documentElement,"submit",this._handleSubmit),c("Event").listen(this._form,"click",this._click.bind(this))];c("DataStore").set(this._form,"FileForm",this)}l.prototype.getRoot=function(){"use strict";return this._form};l.prototype.setAllowCrossOrigin=function(m){"use strict";this._allowCrossOrigin=!!m;return this};l.prototype.setAllowCrossPageTransition=function(m){"use strict";this._allowCrossPageTransition=!!m;return this};l.prototype.setUploadInParallel=function(m){"use strict";this._uploadInParallel=!!m;return this};l.prototype.setConcurrentLimit=function(m){"use strict";this._concurrentLimit=m;return this};l.prototype.setCustomHttpHeader=function(m,n){"use strict";this._customHeader[m]=n;return this};l.prototype.setPreprocessHandler=function(m){"use strict";this._preprocessHandler=m;return this};l.prototype.setNetworkErrorRetryLimit=function(m){"use strict";this._retryLimit=m;return this};l.prototype.setFiles=function(m){"use strict";this._files=m;return this};l.prototype.canUseXHR=function(){"use strict";var m="FormData"in window;if(m)if(!new(c("URI"))(this._form.action).isSameOrigin()&&!this._allowCrossOrigin)m=false;return m};l.prototype._click=function(event){"use strict";__p&&__p();var m=event.getTarget();while(c("isElementNode")(m)){if(m.type==="submit"){this._clickTarget=m;setTimeout(this._unclick.bind(this),0);break}m=m.parentNode}};l.prototype._unclick=function(){"use strict";this._clickTarget=null};l.prototype._sendViaFrame=function(){"use strict";__p&&__p();var m=this._request=new(c("AsyncRequest"))();m.setStatusElement(this._getStatusElement());m.addStatusIndicator();m.setOption("useIframeTransport",true);var n=m.handleResponse.bind(m),o=new(c("JSONPTransport"))("iframe",this._form.action,n),p=o.getTransportFrame(),q=o.getRequestURI().addQueryData({__iframe:true,__user:c("CurrentUser").getID()});this._form.setAttribute("action",q.toString());o.createContinuationForFileForm_DO_NOT_USE();this._form.setAttribute("target",p.name);m.setJSONPTransport(o);m.setURI(q);m.setHandler(this.success.bind(this,null));m.setErrorHandler(this.failure.bind(this,null));m.setInitialHandler(c("shield")(this.initial,this,null))};l.prototype._sendViaXHR=function(event){"use strict";__p&&__p();var m;if(this._uploadInParallel&&c("AsyncUploadRequest").isSupported()){m=new(c("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(c("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var n in this._customHeader)m.setCustomHttpHeader(n,this._customHeader[n]);if(this._concurrentLimit)m.setLimit(this._concurrentLimit);if(this._files)m.setFiles(this._files);else m.setFiles(j(this._form));var o=[m.subscribe("progress",function(s,t){this.progress(t,t.getProgressEvent())}.bind(this)),m.subscribe("initial",function(s,t){this.initial(t,t.getResponse())}.bind(this)),m.subscribe("success",function(s,t){this.success(t,t.getResponse())}.bind(this)),m.subscribe("start",function(s,t){this.inform("start",{upload:t})}.bind(this)),m.subscribe("failure",function(s,t){this.failure(t,t.getResponse());return false}.bind(this)),m.subscribe("complete",function(){while(o.length)o.pop().unsubscribe()})]}else{var p;if(this._files){p=c("Form").createFormData(c("Form").serialize(this._form,this._clickTarget));var q=c("AsyncUploadRequest").parseFiles(this._files);for(var n in q){var r=q[n];if(r.length===1)p.append(n,r[0]);else{n=n+"[]";r.forEach(function(s){p.append(n,s)})}}}else p=c("Form").createFormData(this._form,this._clickTarget);m=new(c("AsyncRequest"))().setRawData(p).setHandler(this.success.bind(this,null)).setErrorHandler(this.failure.bind(this,null)).setUploadProgressHandler(this.progress.bind(this,null)).setInitialHandler(c("shield")(this.initial,this,null))}m.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=m;event&&event.prevent()};l.prototype.forceSendViaXHR=function(){"use strict";return this._sendViaXHR(null)};l.prototype.initial=function(m){"use strict";return this.inform("initial",{upload:m})};l.prototype.success=function(m,n){"use strict";var o={response:n,upload:m};if(this.inform("success",o)!==false)c("Event").fire(this._form,"success",o);this._cleanup()};l.prototype.failure=function(m,n){"use strict";var o={response:n,upload:m};if(this.inform("failure",o)!==false)if(c("Event").fire(this._form,"error",o)!==false)c("AsyncResponse").defaultErrorHandler(n);this._cleanup()};l.prototype.progress=function(m,event){"use strict";this.inform("progress",{event:event,upload:m})};l.prototype.abort=function(){"use strict";if(this._request){this._request.abort();this._cleanup()}};l.prototype.clear=function(){"use strict";k(this._form)};l.prototype.destroy=function(){"use strict";this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;c("DataStore").remove(this._form,"FileForm")};l.prototype.submit=function(event){"use strict";this.canUseXHR()?this._sendViaXHR(event):this._sendViaFrame()};l.prototype._cleanup=function(){"use strict";this._request=null};l.prototype._getStatusElement=function(){"use strict";return c("Parent").byClass(this._form,"stat_elem")||this._form};l.getInstance=function(m){"use strict";return c("DataStore").get(m,"FileForm")};Object.assign(l,{EVENTS:["start","submit","initial","progress","success","failure"]});f.exports=l}),null);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this._inputElem=k;this._data={}}j.prototype.setInput=function(k){"use strict";this._inputElem=k;return this};j.prototype.setURI=function(k){"use strict";this._uri=k;return this};j.prototype.setData=function(k){"use strict";this._data=k;return this};j.prototype.setPreprocessHandler=function(k){"use strict";this._preprocessHandler=k;return this};j.prototype.setNetworkErrorRetryLimit=function(k){"use strict";this._retryLimit=k;return this};j.prototype.setFiles=function(k){"use strict";this._files=k;return this};j.prototype.setAllowCrossOrigin=function(k){"use strict";this._allowCrossOrigin=!!k;return this};j.prototype.setAllowCrossPageTransition=function(k){"use strict";this._allowCrossPageTransition=!!k;return this};j.prototype.setUploadInParallel=function(k){"use strict";this._uploadInParallel=!!k;return this};j.prototype.setConcurrentLimit=function(k){"use strict";this._concurrentLimit=k;return this};j.prototype.abort=function(){"use strict";if(this._fileForm){this._fileForm.abort();this._destroyFileForm()}};j.prototype.send=function(){"use strict";__p&&__p();this._createForm();var k=!this._inputElem.parentElement;if(!k){var l=this._inputElem.cloneNode(false);c("DOM").replace(this._inputElem,l)}c("DOM").appendContent(this._formElem,this._inputElem);c("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();if(!k)c("DOM").replace(l,this._inputElem);this._removeFormEl()};j.prototype._onFileFormEvent=function(k,l){"use strict";if(k==="success"||k==="failure")this._destroyFileForm();return this.inform(k,l)};j.prototype._createForm=function(){"use strict";this._destroyFileForm();this._formElem=c("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(c("FileForm"))(this._formElem,null,{allowCrossOrigin:this._allowCrossOrigin,allowCrossPageTransition:this._allowCrossPageTransition,uploadInParallel:this._uploadInParallel,concurrentLimit:this._concurrentLimit,preprocessHandler:this._preprocessHandler,networkErrorRetryLimit:this._retryLimit});if(this._files)this._fileForm.setFiles(this._files);this._fileForm.subscribe(c("FileForm").EVENTS,this._onFileFormEvent.bind(this));c("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:c("DTSG").getToken()},this._data),this._formElem)};j.prototype._removeFormEl=function(){"use strict";c("DOM").remove(this._formElem);this._formElem=null};j.prototype._destroyFileForm=function(){"use strict";if(this._fileForm){this._fileForm.destroy();this._fileForm=null}};f.exports=j}),null);
__d("SelectorDeprecated",["Arbiter","Button","ContextualLayer","CSS","DataStore","DOM","Event","Focus","HTML","Keys","MenuDeprecated","Parent","Style","Toggler","TooltipData","URI","Vector","emptyFunction","getDocumentScrollElement"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=[],k;function l(w){return c("Parent").byClass(w,"uiSelector")}function m(w){return c("Parent").byClass(w,"uiSelectorButton")}function n(){if(!i){i=new(c("ContextualLayer"))({position:"below"},c("DOM").create("div"));c("CSS").addClass(i.getRoot(),"uiSelectorContextualLayer")}return i}function o(w){return c("DOM").scry(w,"select")[0]}function p(w){return c("DOM").find(w,"div.uiSelectorMenuWrapper")}var q=function w(){__p&&__p();q=c("emptyFunction");c("MenuDeprecated").subscribe("select",function(x,y){__p&&__p();if(!h||!y||y.menu!==v.getSelectorMenu(h))return;var z=r(h),A=s(y.item);if(A){var B=h,C=v.isOptionSelected(y.item),D=v.inform("select",{selector:B,option:y.item,clone:k});if(D===false)return;if(z||!C){v.setSelected(B,v.getOptionValue(y.item),!C);v.inform("toggle",{selector:B,option:y.item});v.inform("change",{selector:B});c("Arbiter").inform("Form/change",{node:B});if(t(B))c("DataStore").set(B,"dirty",true)}}if(!z||!A)h&&v.toggle(h)})};function r(w){return!!w.getAttribute("data-multiple")}function s(w){return c("CSS").hasClass(w,"uiSelectorOption")}function t(w){return!!w.getAttribute("data-autosubmit")}var u=function w(){__p&&__p();u=c("emptyFunction");var x={keydown:function y(event){__p&&__p();var z=event.getTarget();if(c("DOM").isInputNode(z))return;switch(c("Event").getKeyCode(event)){case c("Keys").DOWN:case c("Keys").SPACE:case c("Keys").UP:if(m(z)){var A=l(z);v.toggle(A);return false}break;case c("Keys").ESC:if(h){var B=v.getSelectorButton(h);v.toggle(h);B&&c("Focus").set(B);return false}break}},mouseover:function y(event){var z=c("Parent").byAttribute(event.getTarget(),"ajaxify");if(z&&c("CSS").hasClass(z,"uiSelectorButton"))v.loadMenu(l(z))}};c("Event").listen(document.body,x)};c("Toggler").subscribe(["show","hide"],function(w,x){__p&&__p();var y=l(x.getActive());if(y){u();q();var z=v.getSelectorButton(y),A=v.getSelectorMenu(y),B=w==="show";z.setAttribute("aria-expanded",B?"true":"false");if(B){h=y;if(c("CSS").hasClass(z,"uiButtonDisabled")){v.setEnabled(y,false);return false}A=A||v.loadMenu(y);var C=c("Style").getScrollParent(y),D=C!==window&&C!==c("getDocumentScrollElement")();if(D||c("CSS").hasClass(y,"uiSelectorUseLayer")){if(D)j.push(c("Event").listen(C,"scroll",function(){x.hide()}));k=c("DOM").create("div",{className:y.className});c("CSS").addClass(k,"invisible_elem");c("Vector").getElementDimensions(y).setElementDimensions(k);c("DOM").replace(y,k);var E=c("CSS").hasClass(y,"uiSelectorRight"),F=c("CSS").hasClass(y,"uiSelectorBottomUp");n().setContext(k).setContent(y).setPosition(F?"above":"below").setAlignment(E?"right":"left").show()}c("MenuDeprecated").register(A);var G=c("MenuDeprecated").getCheckedItems(A);if(!G.length)G=c("MenuDeprecated").getEnabledItems(A);if(G.length)c("MenuDeprecated").focusItem(G[0])}else{h=null;if(k){while(j.length)j.pop().remove();c("DOM").replace(k,y);n().hide();k=null}A&&c("MenuDeprecated").unregister(A);if(t(y)&&c("DataStore").get(y,"dirty")){var H=c("DOM").scry(y,"input.submitButton")[0];H&&H.click();c("DataStore").remove(y,"dirty")}}c("CSS").conditionClass(v.getSelectorButton(y),"selected",B);v.inform(B?"open":"close",{selector:y,clone:k})}});var v=Object.assign(new(c("Arbiter"))(),{attachMenu:function w(x,y,z){__p&&__p();x=l(x);if(x){h&&c("MenuDeprecated").unregister(v.getSelectorMenu(h));c("DOM").setContent(p(x),y);h&&c("MenuDeprecated").register(v.getSelectorMenu(x));k&&n().updatePosition();if(z){var A=x.getAttribute("data-name");A&&z.setAttribute("name",A);if(!r(x))z.setAttribute("multiple",false);var B=o(x);if(B)c("DOM").replace(B,z);else c("DOM").insertAfter(x.firstChild,z)}return true}},getOption:function w(x,y){var z=v.getOptions(x),A=z.length;while(A--)if(y===v.getOptionValue(z[A]))return z[A];return null},getOptions:function w(x){var y=c("MenuDeprecated").getItems(v.getSelectorMenu(x));return y.filter(s)},getEnabledOptions:function w(x){var y=c("MenuDeprecated").getEnabledItems(v.getSelectorMenu(x));return y.filter(s)},getSelectedOptions:function w(x){return c("MenuDeprecated").getCheckedItems(v.getSelectorMenu(x))},getOptionText:function w(x){return c("MenuDeprecated").getItemLabel(x)},getOptionValue:function w(x){var y=l(x),z=o(y),A=v.getOptions(y).indexOf(x);return A>=0?z.options[A+1].value:""},getSelectorButton:function w(x){return c("DOM").find(x,"a.uiSelectorButton")},getSelectorMenu:function w(x){return c("DOM").scry(x,"div.uiSelectorMenu")[0]},getValue:function w(x){__p&&__p();var y=o(x);if(!y)return null;if(!r(x))return y.value;var z=[],A=y.options;for(var B=1,C=A.length;B<C;B++)if(A[B].selected)z.push(A[B].value);return z},isOptionSelected:function w(x){return c("MenuDeprecated").isItemChecked(x)},listen:function w(x,y,z){return this.subscribe(y,function(y,A){if(A.selector===x)return z(A,y)})},loadMenu:function w(x,y){__p&&__p();var z=v.getSelectorMenu(x);if(!z){var A=v.getSelectorButton(x),B=A.getAttribute("ajaxify");if(B){e(["AsyncRequest"],function(D){var E=new(c("URI"))(B),F=E.getQueryData();E.setQueryData({});var G=new D(E).setData(F).setNectarModuleDataSafe(A).setRelativeTo(A);y&&G.setFinallyHandler(function(){setTimeout(y,0)});G.send()}.bind(this));var C=c("HTML")('<div class="uiSelectorMenuWrapper uiToggleFlyout"><div class="uiMenu uiSelectorMenu loading"><ul class="uiMenuInner"><li><span></span></li></ul></div></div>');c("DOM").appendContent(A.parentNode,C);z=v.getSelectorMenu(x);A.removeAttribute("onmouseover")}}else y&&y();return z},setButtonLabel:function w(x,y){var z=v.getSelectorButton(x),A=parseInt(z.getAttribute("data-length"),10);y=y||z.getAttribute("data-label")||"";c("Button").setLabel(z,y);if(typeof y==="string")if(A&&y.length>A)z.setAttribute("title",y);else z.removeAttribute("title")},setButtonTooltip:function w(x,y){var z=v.getSelectorButton(x),A=c("Parent").byTag(z,"a");A&&c("TooltipData").set(A,y||z.getAttribute("data-tooltip")||"")},setEnabled:function w(x,y){if(!y&&h&&l(x)===h)v.toggle(x);c("Button").setEnabled(v.getSelectorButton(x),y)},setOptionEnabled:function w(x,y){c("MenuDeprecated").setItemEnabled(x,y)},setSelected:function w(x,y,z){__p&&__p();z=z!==false;var A=v.getOption(x,y);if(!A)return;var B=v.isOptionSelected(A);if(z!==B){if(!r(x)&&!B){var C=v.getSelectedOptions(x)[0];C&&c("MenuDeprecated").toggleItem(C)}c("MenuDeprecated").toggleItem(A)}v.updateSelector(x)},toggle:function w(x){c("Toggler").toggle(c("DOM").scry(l(x),"div.wrap")[0])},updateSelector:function w(x){__p&&__p();var y=v.getOptions(x),z=v.getSelectedOptions(x),A=o(x).options,B=[],C=[];for(var D=0,E=y.length;D<E;D++){var F=z.includes(y[D]);A[D+1].selected=F;if(F){var G=v.getOptionText(y[D]);B.push(G);C.push(y[D].getAttribute("data-tooltip")||G)}}A[0].selected=!z.length;var H=c("CSS").hasClass(x,"uiSelectorDynamicLabel"),I=c("CSS").hasClass(x,"uiSelectorDynamicTooltip");if(H||I){var J="";if(r(x)){var K=v.getSelectorButton(x);J=K.getAttribute("data-delimiter")||", "}B=B.join(J);C=C.join(J);H&&v.setButtonLabel(x,B);I&&v.setButtonTooltip(x,C)}}});f.exports=v}),null);
__d("submitForm",["DOM"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(i){var j=c("DOM").scry(i,'input[type="submit"]')[0];if(j)j.click();else{j=c("DOM").create("input",{type:"submit",className:"hidden_elem"});c("DOM").appendContent(i,j);j.click();c("DOM").remove(j)}};f.exports=h}),null);
__d("range",[],(function a(b,c,d,e,f,g){function h(i,j,k){var l=k==null||k===0?i<j?1:-1:k,m=-1,n=Math.max(Math.ceil((j-i)/l),0),o=Array(n),p=i;while(n--){o[++m]=p;p+=l}return o}f.exports=h}),null);
__d("ModalPhotoEditorTabName",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CUSTOM_ACCESSIBILITY_CAPTION:"custom_accessibility_caption",CROP:"crop",FILTERS:"filters",FRAMES:"frames",PRODUCT_TAG:"product_tag",STICKERS:"stickers",TAG:"tag",TEXT:"text"})}),null);
__d("PhotoEditorTargetType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER:"composer",COMMENT:"comment",PAGE_PRODUCT_COMPOSER:"page_product_composer",PROFILE_PIC:"profile_pic"})}),null);
__d("XPagesManagerPublishingToolsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/{page_token}/publishing_tools/",{page_token:{type:"String",required:true},business_id:{type:"Int"},current_page:{type:"Int"},section:{type:"String"},source:{type:"Enum",enumType:1},sourceID:{type:"String"},refSource:{type:"Enum",enumType:1},initial_action_data:{type:"StringToStringMap"},initial_data:{type:"StringToStringMap"}})}),null);
__d("XStickerPhotoEditorController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/photos/editor/sticker_editor/",{grid_id:{type:"String"},feedback_id:{type:"String"},target_type:{type:"Enum",required:true,enumType:1},photo_fbid:{type:"Int",required:true},latest_fbid:{type:"Int"},initial_tab:{type:"Enum",enumType:1},encrypted_photo_id:{type:"String"},enable_text:{type:"Bool",defaultValue:true},enable_stickers:{type:"Bool",defaultValue:true},enable_tagging:{type:"Bool",defaultValue:true},enable_square_crop_mode:{type:"Bool",defaultValue:true},aspect_ratio:{type:"Float"}})}),null);