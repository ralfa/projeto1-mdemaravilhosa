if (self.CavalryLogger) { CavalryLogger.start_js(["RHEif"]); }

__d("AdsTransparencyReportAdEntity",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HIDE_AD:"hide_ad",HIDE_ADVERTISER:"hide_advertiser",HIDE_PRODUCT:"hide_product",WAIST_DIALOG:"waist_dialog",AD_USEFUL:"ad_useful",REPORT_AD:"report_ad",REPORT_AD_REASON:"report_ad_reason",XOUT_MENU:"xout_menu"})}),null);
__d("AdsTransparencyReportAdEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLICK_ACTION:"click_action",CLICK_VIEW:"click_view",BACKEND_UPDATE:"backend_update",IMPRESSION:"impression",INVALIDATION:"invalidation"})}),null);
__d("AdsTransparencyReportAdTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$AdsTransparencyReportAdTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$AdsTransparencyReportAdTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$AdsTransparencyReportAdTypedLogger1={};return this};h.prototype.updateData=function(j){this.$AdsTransparencyReportAdTypedLogger1=babelHelpers["extends"]({},this.$AdsTransparencyReportAdTypedLogger1,j);return this};h.prototype.setAdID=function(j){this.$AdsTransparencyReportAdTypedLogger1.ad_id=j;return this};h.prototype.setAdsPageType=function(j){this.$AdsTransparencyReportAdTypedLogger1.ads_page_type=j;return this};h.prototype.setEntity=function(j){this.$AdsTransparencyReportAdTypedLogger1.entity=j;return this};h.prototype.setEvent=function(j){this.$AdsTransparencyReportAdTypedLogger1.event=j;return this};h.prototype.setProductLocation=function(j){this.$AdsTransparencyReportAdTypedLogger1.product_location=j;return this};h.prototype.setSessionID=function(j){this.$AdsTransparencyReportAdTypedLogger1.session_id=j;return this};h.prototype.setVC=function(j){this.$AdsTransparencyReportAdTypedLogger1.vc=j;return this};var i={ad_id:true,ads_page_type:true,entity:true,event:true,product_location:true,session_id:true,vc:true};f.exports=h}),null);
__d("ReportAdLoggingEvents",["AdsTransparencyReportAdEntity","AdsTransparencyReportAdEvent","AdsTransparencyReportAdTypedLogger","EventListener"],(function a(b,c,d,e,f,g){"use strict";var h={registerMenuItemClick:function i(j,k,l,m,n,o){c("EventListener").listen(j,"click",function(){new(c("AdsTransparencyReportAdTypedLogger"))().setEvent(c("AdsTransparencyReportAdEvent").CLICK_VIEW).setAdID(k).setEntity(l).setSessionID(m).setProductLocation(o).setAdsPageType(n).log()})}};f.exports=h}),null);
__d("ClickableArea.react",["Focus","React","ReactDOM"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.componentDidMount=function(){"use strict";if(this.props.buttonRef){var k=this.props.buttonRef();c("Focus").relocate(c("ReactDOM").findDOMNode(k),c("ReactDOM").findDOMNode(this))}};j.prototype.render=function(){"use strict";var k=this.props,l=k.children,m=k.onClick,n=babelHelpers.objectWithoutProperties(k,["children","onClick"]);return c("React").cloneElement(c("React").Children.only(l),babelHelpers["extends"]({},n,{onClick:m}))};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("XEventReminderImpressionLoggerAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/events/ajax/reminder/impression/",{acontext:{type:"StringToStringMap",required:true},data:{type:"StringToStringMap"}})}),null);
__d("EventReminderController",["Arbiter","AsyncRequest","DOM","DOMQuery","Event","Scroll","ScrollableArea","XEventReminderImpressionLoggerAsyncController"],(function a(b,c,d,e,f,g){__p&&__p();var h={registerReminder:function i(j,k){__p&&__p();this._firstOpen=true;var l=j.getDialog(),m=c("ScrollableArea").getInstance(c("DOMQuery").scry(l.getRoot(),".uiScrollableArea")[0]),n=null;if(m){n=c("DOM").find(m.getElement(),"div.uiScrollableAreaWrap");m.subscribe("scroll",function(){return c("Arbiter").inform("EventReminderDialog/scroll",{rect:n.getBoundingClientRect(),scrollTop:c("Scroll").getTop(n)})})}c("Event").listen(j.getRoot(),"click",function(event){event.preventDefault()});l.subscribe("show",function(){var o=c("XEventReminderImpressionLoggerAsyncController").getURIBuilder().setStringToStringMap("acontext",k).setStringToStringMap("data",{first_open:this._firstOpen}).getURI();new(c("AsyncRequest"))(o).send();this._firstOpen=false;var p={};if(n)p={rect:n.getBoundingClientRect()};c("Arbiter").inform("EventReminderDialog/show",p)}.bind(this));l.subscribe("hide",function(){return c("Arbiter").inform("EventReminderDialog/hide")})}};f.exports=h}),null);
__d("ProfileLink.react",["Link.react","React","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=new(c("URI"))("/ajax/hovercard/user.php").setQueryData({id:this.props.uid});return c("React").createElement(c("Link.react"),babelHelpers["extends"]({},this.props,{"data-hovercard":l,href:this.props.href||"/"+this.props.uid}),this.props.children)};function k(){h.apply(this,arguments)}k.propTypes={href:j.string,uid:j.string.isRequired};f.exports=k}),null);
__d("FBStoriesTray",["csx","regeneratorRuntime","Arbiter","CSS","DOMQuery","FBStoriesTrayInit","Run"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=false;function j(m){c("CSS").addClass(m,"loading")}function k(m){c("CSS").removeClass(m,"loading")}var l={init:function m(){if(i)return;this._initializeOnEnter();c("FBStoriesTrayInit").loadData()},onStoryTrayItemSelect:function m(n){__p&&__p();var o,p;return c("regeneratorRuntime").async(function q(r){__p&&__p();while(1)switch(r.prev=r.next){case 0:o=n.item;p=n.bucketID;j(o);r.prev=3;if(!i)this._initializeOnEnter();r.next=7;return c("regeneratorRuntime").awrap(c("FBStoriesTrayInit").loadData());case 7:c("FBStoriesTrayInit").userSelectedBucket(p);r.next=10;return c("regeneratorRuntime").awrap(c("FBStoriesTrayInit").openViewer());case 10:k(o);c("FBStoriesTrayInit").renderReactTray();r.next=17;break;case 14:r.prev=14;r.t0=r["catch"](3);k(o);case 17:case"end":return r.stop()}},null,this,[[3,14]])},onStoryTrayAddItemClick:function m(n){__p&&__p();var o;return c("regeneratorRuntime").async(function p(q){while(1)switch(q.prev=q.next){case 0:o=n.item;j(o);l.init();c("FBStoriesTrayInit").openProductionDialog();k(o);c("FBStoriesTrayInit").renderReactTray();case 6:case"end":return q.stop()}},null,this)},onSeeMoreLinkClick:function m(n){c("CSS").addClass(c("DOMQuery").find(n.linkEl,"^._60kg ._1fvt"),"seeMore");c("Arbiter").inform("netego_loaded")},_initializeOnEnter:function m(){i=true;c("FBStoriesTrayInit").initializeOnEnter();c("Run").onBeforeUnload(this._resetOnExit)},_resetOnExit:function m(){i=false;c("FBStoriesTrayInit").resetOnExit()}};f.exports=l}),null);
__d("ConditionClassOnVisible",["IntersectionObserver","Run"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(j,k,l){var m=arguments.length<=3||arguments[3]===undefined?true:arguments[3],n=j[0],o=m?n.intersectionRatio>0:!(n.intersectionRatio>0);n.target.classList.toggle(l,o)},i={track:function j(k,l,m){var n=new(c("IntersectionObserver"))(function(o,n){h(o,n,l,m)},{});n.observe(k);c("Run").onLeave(function(){n.disconnect()})}};f.exports=i}),null);
__d("XGroupsRHCSuggestionXoutController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/groups/xout_suggested_group/",{id:{type:"Int",required:true}})}),null);
__d("XRapidReportingDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/rapid_report/",{context:{type:"String",required:true},preselectedtagid:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("GroupSuggestionXoutHandler",["csx","AsyncRequest","CSS","DOM","Event","ge","XGroupsRHCSuggestionXoutController","XRapidReportingDialogController"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={onclick:function j(k,l,m,n,o){c("Event").listen(k,"click",function(){i.hideItem(l,m,n,o)})},hideItem:function j(k,l,m,n){__p&&__p();var o=c("XGroupsRHCSuggestionXoutController").getURIBuilder().setInt("id",k).getURI();new(c("AsyncRequest"))().setURI(o).send();var p=c("ge")(""+l);if(p!==null)c("DOM").remove(p);if(m==="group_mall_rhc"){var q=c("ge")("div._1spx");if(q.length===0){var r=c("ge")("GroupsRHCSuggestionSection");if(r!==null)c("DOM").remove(r)}}if(n)i.openReportingFlow(k,l,m)},openReportingFlow:function j(k,l,m){var n=JSON.stringify({reportable_ent_token:k.toString(),entry_point:m}),o=c("XRapidReportingDialogController").getURIBuilder().setString("context",n).getURI();new(c("AsyncRequest"))().setURI(o).send();i.hideItem(k,l,m,false)},hide:function j(k,l){c("Event").listen(l,"mouseover",function(){c("CSS").show(k)});c("Event").listen(l,"mouseleave",function(){c("CSS").hide(k)})}};f.exports=i}),null);
__d("ListestandStreamTailStoryPlaceholderVisbilityTracker",["PageletEventConstsJS","PageletEventsHelper","onRectIsWithinViewport","performanceAbsoluteNow"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=null,i=null,j=null,k=false,l={},m={setPlaceholderElement:function o(p){__p&&__p();if(!k){c("PageletEventsHelper").subscribeToPageletEvents(n);k=true}h=p;i&&i.remove();i=c("onRectIsWithinViewport")(function(){return p.getBoundingClientRect()},function(q){if(!j&&q)j=c("performanceAbsoluteNow")()})},getStoryPlaceholderVisibleDuration:function o(p){return l[p]||0}};function n(o,p){if(o.startsWith("hyperfeed_story")&&p===c("PageletEventConstsJS").DISPLAY_END){var q=c("performanceAbsoluteNow")();l[o]=j?q-j:0;if(h){var r=h.getBoundingClientRect().top,s=r-window.scrollTop;j=s<window.innerHeight&&s>0?q:null}else j=null}}f.exports=m}),null);
__d("NewsFeedTailloadPlaceholderTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:NewsFeedTailloadPlaceholderLoggerConfig",this.$NewsFeedTailloadPlaceholderTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:NewsFeedTailloadPlaceholderLoggerConfig",this.$NewsFeedTailloadPlaceholderTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:NewsFeedTailloadPlaceholderLoggerConfig",this.$NewsFeedTailloadPlaceholderTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$NewsFeedTailloadPlaceholderTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$NewsFeedTailloadPlaceholderTypedLogger1)};h.prototype.updateData=function(j){this.$NewsFeedTailloadPlaceholderTypedLogger1=babelHelpers["extends"]({},this.$NewsFeedTailloadPlaceholderTypedLogger1,j);return this};h.prototype.setDisplayDone=function(j){this.$NewsFeedTailloadPlaceholderTypedLogger1.display_done=j;return this};h.prototype.setTailLoadPosition=function(j){this.$NewsFeedTailloadPlaceholderTypedLogger1.tail_load_position=j;return this};h.prototype.setTailLoadStatus=function(j){this.$NewsFeedTailloadPlaceholderTypedLogger1.tail_load_status=j;return this};h.prototype.setVC=function(j){this.$NewsFeedTailloadPlaceholderTypedLogger1.vc=j;return this};h.prototype.setVisibleDuration=function(j){this.$NewsFeedTailloadPlaceholderTypedLogger1.visible_duration=j;return this};var i={display_done:true,tail_load_position:true,tail_load_status:true,vc:true,visible_duration:true};f.exports=h}),null);
__d("FlexibleScrollableArea",["DataStore","DOM","DOMDimensions","Event","Parent","Run","Style","Vector","throttle"],(function a(b,c,d,e,f,g){__p&&__p();var h=30,i=100;function j(k,l,m,n,o){"use strict";__p&&__p();this._element=k;this._tight=l;this._measureFrom=m;this._minHeight=n;this._margin=o;c("DataStore").set(this._element,"FlexibleScrollableArea",this);c("Run").onLeave(this.cleanup.bind(this));this._listener=c("Event").listen(window,"resize",c("throttle")(this.poke,i,this));this.poke()}j.prototype.poke=function(){"use strict";__p&&__p();var k=c("DOM").find(this._element,".uiScrollableAreaBody"),l=c("Vector").getElementDimensions(k).y+c("DOMDimensions").measureElementBox(k,"height",true,true,true),m;if(this._tight){var n=this.getMaxHeight();if(l<n+h)n+=h;m=Math.max(Math.min(l,n),this._minHeight)}else m=Math.max(this.getMaxHeight(),this._minHeight);c("Style").set(this._element,"height",m+"px")};j.prototype.getMaxHeight=function(){"use strict";if(this._measureFrom==="bottom"){var k=c("Vector").getViewportDimensions().y,l=c("Vector").getElementPosition(this._element,"viewport").y,m=k-l;return m-this._margin}var n=c("Vector").getElementPosition(this._element,"viewport").y+c("Vector").getElementDimensions(this._element).y;return n-this._margin};j.prototype.cleanup=function(){"use strict";this._listener&&this._listener.remove()};j.getInstance=function(k){"use strict";var l=c("Parent").byClass(k,"flexibleScrollableArea");return l?c("DataStore").get(l,"FlexibleScrollableArea"):null};f.exports=j}),null);
__d("EgoUnitSlideInsert",["csx","cx","Animation","CSS","DataStore","DOM","Ease","Event","Parent","TidyArbiterMixin","tidyEvent"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j="sliding",k="EgoSlider/End",l=babelHelpers["extends"]({isSliding:function m(n){return c("DataStore").get(n,j)},runAfterSlide:function m(n,o){var p=c("tidyEvent")(l.subscribe(k,function(q,r){if(r===n){p&&p.unsubscribe();o()}}))},registerSlide:function m(n,o){__p&&__p();c("Event").listen(n,"click",function(p){__p&&__p();var q=c("Parent").bySelector(p.getTarget(),"._5cl_");if(!q)return;var r=c("Parent").byClass(n,"ego_unit"),s=0,t=c("Parent").byClass(r,"ego_unit_container"),u=c("DOM").scry(t,".ego_unit")[0];if(u===r)if(r.nextSibling){r.nextSibling.style.paddingTop="0px";r.nextSibling.style.borderTop="0px"}c("CSS").addClass(r,"_5cl-");c("DataStore").set(r,j,true);new(c("Animation"))(r).to("height",0).to("padding-top",s).to("padding-bottom",0).to("margin",0).from("opacity",1).to("opacity",0).ease(c("Ease").circOut).duration(300).checkpoint(1,function(){c("DOM").appendContent(t,r);c("DOM").prependContent(r,o);c("DataStore").remove(r,j)}).to("height",12).to("opacity",1).to("margin-bottom",10).duration(0).checkpoint(2,function(){l.inform(k,r)}).go()})}},c("TidyArbiterMixin"));f.exports=l}),null);
__d("NetEgo",["csx","Animation","Arbiter","CSS","DOM","EgoUnitSlideInsert","PageLikeConstants","Parent","URI","ge"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={setup:function j(k){__p&&__p();c("Arbiter").subscribe([c("PageLikeConstants").LIKED,"FriendRequest/sending"],function(l,m){__p&&__p();if(k==m.profile_id&&m.origin=="hovercard"||k==m.uid){var n=c("ge")(document.body,".ego_unit_container");if(n){var o=c("DOM").scry(n,".ego_unit"),p=o.length;for(var q=0;q<p;q++){var r=o[q].getAttribute("data-ego-fbid");if(r==k){var s=c("DOM").scry(o[q],".ego_action a")[0];if(s)s.click();break}}}}})},updateXids:function j(k,l){__p&&__p();if(k.length==0&&l.length==0)return;var m=function m(w){return function(x){var o=x.getAttribute(w);if(!o)return false;var p=new(c("URI"))(o).getQueryData();return!!p.xids}},n=c("DOM").scry(document.body,".ego_section a");n=n.filter(m("ajaxify"));if(n.length==0)return;var o=new(c("URI"))(n[0].getAttribute("ajaxify")),p=o.getQueryData();if(!p.xids)return;var q=null;try{q=JSON.parse(p.xids)}catch(r){return}for(var s=0;s<l.length;++s)q[l[s]]=1;var t=JSON.stringify(q),u=function u(w,x){o=new(c("URI"))(w.getAttribute(x));p=o.getQueryData();p.xids=t;o.setQueryData(p);w.setAttribute(x,o.toString())};for(s=0;s<n.length;++s)u(n[s],"ajaxify");var v=c("DOM").scry(document.body,".ego_unit form");v=v.filter(m("action"));for(s=0;s<v.length;++s)u(v[s],"action")},replaceUnit:function j(k,l,m,n){i.replaceUnitCheckParent(k,l,m,n,"")},replaceUnitCheckParent:function j(k,l,m,n,o){var p=c("Parent").byClass(k,"ego_unit_container");if(p&&c("EgoUnitSlideInsert").isSliding(k)){var q=c("DOM").appendContent(p,l);q.forEach(c("CSS").hide);c("EgoUnitSlideInsert").runAfterSlide(k,i._replaceUnitElement.bind(null,k,q,o))}else i._replaceUnit(k,l,m,n,o)},_replaceUnit:function j(k,l,m,n,o){var p=c("DOM").insertAfter(k,l);p.forEach(c("CSS").hide);if(n!==undefined&&n!==null)setTimeout(function(){i._replaceUnitFadeout(k,p,m,o)},n);else i._replaceUnitFadeout(k,p,m,o)},_replaceUnitFadeout:function j(k,l,m,n){if(m)new(c("Animation"))(k).from("opacity",1).to("opacity",0).duration(m).checkpoint(1,function(){i._replaceUnitElement(k,l,n)}).go();else i._replaceUnitElement(k,l,n)},_replaceUnitElement:function j(k,l,m){var n=c("CSS").hasClass(k,"ego_unit")?k.parentNode:null;if(n&&n.tagName==="LI")n=c("DOM").scry(k.parentNode,"^ul")[0];c("DOM").remove(k);if(l.length)l.forEach(c("CSS").show);c("Arbiter").inform("netego_replacedUnit",{serializedData:m,numUnitsRemained:n.childNodes.length});i.clearHeader()},clearHeader:function j(){__p&&__p();var k=c("DOM").scry(document.body,".ego_column"),l=[];for(var m=0;m<k.length;++m)l=l.concat(c("DOM").scry(k[m],".uiHeader"));for(m=0;m<l.length;++m){var n=l[m].nextSibling,o=c("DOM").find(n,"._2xq");if(!o)o=n;if(!o||o.childNodes.length===0)c("DOM").remove(l[m]);else if(o.childNodes.length===1){var p=o.childNodes[0];if(c("CSS").hasClass(p,"ego_appended_units")&&p.childNodes.length===0)c("DOM").remove(l[m])}}}};f.exports=i}),null);
__d("NetEgoLogger",["AsyncSignal"],(function a(b,c,d,e,f,g){f.exports={log:function h(i){var j=i.uri,k=i.sid,l=i.fbid,m=i.element;new(c("AsyncSignal"))(j,{sid:k,fbid:l,height:m.offsetHeight}).send()}}}),null);
__d("NewsFeedDedupeStoryController",["CSS","DOMQuery","queryThenMutateDOM"],(function a(b,c,d,e,f,g){__p&&__p();var h={dedupe:function i(j,k){__p&&__p();c("queryThenMutateDOM")(function(){var l={};return c("DOMQuery").scry(j,k).filter(function(m){var n=m.getAttribute("data-dedupekey");if(n&&c("CSS").shown(m)){if(l[n])return true;l[n]=true}return false})},function(l){l.forEach(function(m){c("CSS").hide(m);m.removeAttribute("style")})},"NewsFeedDedupeStoryControllerDedupe")}};f.exports=h}),null);
__d("NewsFeedOffscreenController",["cx","Arbiter","CSS","DOMQuery","IntersectionObserver","LitestandShareAttachment","NavigationMessage","Run","Style","SubscriptionsHandler","debounce","getOrCreateDOMID","queryThenMutateDOM"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=400,j=10,k="_5qqr",l={},m=null,n={rootMargin:i+"px 0px "+i+"px 0px"},o=null,p={};function q(){for(var y in p)if(c("DOMQuery").scry(p[y],"div[data-fullscreen]").length)delete p[y];else l[y]=p[y].offsetHeight}function r(){__p&&__p();var y=void 0,z=void 0;for(var A in p){z=l[A];if(z!==undefined&&z>0){c("Style").apply(p[A],{height:z+"px",marginBottom:j+"px"});y=p[A].firstElementChild;if(y)c("CSS").hide(y);delete l[A]}delete p[A]}}var s=c("debounce")(function(){c("queryThenMutateDOM")(q,r,"NewsFeedOffscreenController")});function t(y){delete p[c("getOrCreateDOMID")(y)];c("Style").apply(y,{height:"",marginBottom:""});var z=y.firstElementChild;if(z){c("CSS").show(z);var A=c("DOMQuery").scry(z,"."+k);A.forEach(function(B){c("LitestandShareAttachment").init(B)})}}function u(y){var z=[];y.forEach(function(A){if(A.isIntersecting||A.intersectionRatio>0)z.push(A.target);else p[c("getOrCreateDOMID")(A.target)]=A.target});s();z.forEach(t)}function v(){m&&m.disconnect();m=null;o&&o.release();o=null}function w(){if(m)return m;m=new(c("IntersectionObserver"))(u,n);var o=new(c("SubscriptionsHandler"))();o.addSubscriptions(c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,v),c("Run").onLeave(v));return m}var x={attachSubstream:function y(z){w().observe(z)}};f.exports=x}),null);
__d("NewsFeedTailLoadPlaceholderLoggerStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUCCESS:"success",FAILED:"failed",CANCELLED:"cancelled"})}),null);
__d("NewsFeedTailLoadPlaceholderLogger",["Arbiter","BigPipe","DOM","FBLogger","IntersectionObserver","LitestandStream","NewsFeedTailloadPlaceholderTypedLogger","NewsFeedTailLoadPlaceholderLoggerStatus","PageEvents","SubscriptionsHandler","performanceNow"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j){this.$NewsFeedTailloadPlaceholderLoggerEntry1=0;this.$NewsFeedTailloadPlaceholderLoggerEntry4=0;this.$NewsFeedTailloadPlaceholderLoggerEntry5=0;this.$NewsFeedTailloadPlaceholderLoggerEntry2=j}h.prototype.visibleStart=function(j){this.$NewsFeedTailloadPlaceholderLoggerEntry5=j;return this};h.prototype.visibleEnd=function(j){__p&&__p();if(this.$NewsFeedTailloadPlaceholderLoggerEntry5>0){var k=j-this.$NewsFeedTailloadPlaceholderLoggerEntry5;if(k>0){this.$NewsFeedTailloadPlaceholderLoggerEntry4+=k;if(k>1e6)c("FBLogger")("feed").warn("Logging a placeholder visible duration of over 1M! Duration: %s Start time: %s, End time: %s",this.$NewsFeedTailloadPlaceholderLoggerEntry4,this.$NewsFeedTailloadPlaceholderLoggerEntry5,j);this.$NewsFeedTailloadPlaceholderLoggerEntry5=0}}return this};h.prototype.setDisplayDone=function(j){this.$NewsFeedTailloadPlaceholderLoggerEntry1=j;return this};h.prototype.setTailLoadStatus=function(j){this.$NewsFeedTailloadPlaceholderLoggerEntry3=j;return this};h.prototype.log=function(){new(c("NewsFeedTailloadPlaceholderTypedLogger"))().setVisibleDuration(Math.round(this.$NewsFeedTailloadPlaceholderLoggerEntry4)).setDisplayDone(Math.round(this.$NewsFeedTailloadPlaceholderLoggerEntry1)).setTailLoadStatus(this.$NewsFeedTailloadPlaceholderLoggerEntry3).setTailLoadPosition(this.$NewsFeedTailloadPlaceholderLoggerEntry2).log()};function i(j,k){this.$NewsFeedTailLoadPlaceholderLogger1={};this.$NewsFeedTailLoadPlaceholderLogger5={};this.$NewsFeedTailLoadPlaceholderLogger4=k;this.$NewsFeedTailLoadPlaceholderLogger3=new(c("IntersectionObserver"))(function(l){return this.$NewsFeedTailLoadPlaceholderLogger7(l)}.bind(this),{threshold:j});this.$NewsFeedTailLoadPlaceholderLogger6=new(c("SubscriptionsHandler"))();this.$NewsFeedTailLoadPlaceholderLogger6.addSubscriptions(c("Arbiter").subscribe(c("BigPipe").Events.init,function(l,m){return this.$NewsFeedTailLoadPlaceholderLogger8(m)}.bind(this)))}i.prototype.destroy=function(){this.$NewsFeedTailLoadPlaceholderLogger3.disconnect();this.$NewsFeedTailLoadPlaceholderLogger6.release()};i.prototype.tailLoadStarted=function(){if(!this.$NewsFeedTailLoadPlaceholderLogger2){this.$NewsFeedTailLoadPlaceholderLogger3.observe(this.$NewsFeedTailLoadPlaceholderLogger4);var j=c("DOM").scry(c("LitestandStream").getStreamRoot(),c("LitestandStream").getStoriesSelector()).length;this.$NewsFeedTailLoadPlaceholderLogger2=new h(j)}};i.prototype.tailLoadSuccessful=function(j){var k=this.$NewsFeedTailLoadPlaceholderLogger2;if(k){k.visibleEnd(c("performanceNow")()).setTailLoadStatus(c("NewsFeedTailLoadPlaceholderLoggerStatus").SUCCESS);this.$NewsFeedTailLoadPlaceholderLogger1[j]=k;this.$NewsFeedTailLoadPlaceholderLogger9()}};i.prototype.tailLoadFailed=function(){var j=this.$NewsFeedTailLoadPlaceholderLogger2;if(j){j.visibleEnd(c("performanceNow")()).setDisplayDone(-1).setTailLoadStatus(c("NewsFeedTailLoadPlaceholderLoggerStatus").FAILED).log();this.$NewsFeedTailLoadPlaceholderLogger9()}};i.prototype.tailLoadCancelled=function(){var j=this.$NewsFeedTailLoadPlaceholderLogger2;if(j){j.visibleEnd(c("performanceNow")()).setDisplayDone(-1).setTailLoadStatus(c("NewsFeedTailLoadPlaceholderLoggerStatus").CANCELLED).log();this.$NewsFeedTailLoadPlaceholderLogger9()}};i.prototype.$NewsFeedTailLoadPlaceholderLogger9=function(){this.$NewsFeedTailLoadPlaceholderLogger3.unobserve(this.$NewsFeedTailLoadPlaceholderLogger4);this.$NewsFeedTailLoadPlaceholderLogger2=null};i.prototype.$NewsFeedTailLoadPlaceholderLogger7=function(j){__p&&__p();var k=this.$NewsFeedTailLoadPlaceholderLogger2;if(!k)return;j.forEach(function(l){if(l.target===this.$NewsFeedTailLoadPlaceholderLogger4){var m=l.isIntersecting||l.intersectionRatio>0;if(m)k.visibleStart(l.time);else k.visibleEnd(l.time)}}.bind(this))};i.prototype.$NewsFeedTailLoadPlaceholderLogger8=function(j){var k=j.arbiter,l=j.lid,m={requestStart:0};this.$NewsFeedTailLoadPlaceholderLogger5[l]=m;k.subscribe(c("PageEvents").AJAXPIPE_SEND,function(n,o){var p=o.ts;return m.requestStart=p});k.subscribe(c("BigPipe").Events.displayed,function(n,o){return this.$NewsFeedTailLoadPlaceholderLogger10(o)}.bind(this))};i.prototype.$NewsFeedTailLoadPlaceholderLogger10=function(j){var k=j.lid,l=j.ts,m=this.$NewsFeedTailLoadPlaceholderLogger5[k],n=this.$NewsFeedTailLoadPlaceholderLogger1[k];if(m&&n){var o=l-m.requestStart;if(o>0)n.setDisplayDone(o).log();else c("FBLogger")("feed").warn("Tail load display done is invalid! Start: %s, Display Done: %s",m.requestStart,l);delete this.$NewsFeedTailLoadPlaceholderLogger1[k];delete this.$NewsFeedTailLoadPlaceholderLogger5[k]}};f.exports=i}),null);
__d("NewsFeedTailLoadController",["Arbiter","AsyncResponse","Bootloader","CSS","DOM","Event","FunnelLogger","IntersectionObserver","ListestandStreamTailStoryPlaceholderVisbilityTracker","LitestandMessages","LitestandStream","NavigationMessage","NewsFeedDedupeStoryController","NewsFeedOffscreenController","Run","SubscriptionsHandler","NewsFeedTailLoadPlaceholderLogger","ge","getElementPosition","getOrCreateDOMID","getViewportDimensions"],(function a(b,c,d,e,f,g){__p&&__p();var h=100,i=3e4,j={"streamload.tail.commence":true,"streamload.tail.success":true,"streamload_error.tail":true,"streamload_error.tail.transport":true,"streamload_error.tail.final":true,"streamload.tail.retry":true,"streamload_error.tail.retry":true,"streamload.tail.retry.success":true,"streamload_timeout.tail":true},k=void 0,l=void 0,m={},n="WWW_NEWSFEED_TAILLOAD_FUNNEL",o=2,p=null,q=null,r=void 0,s=null,t=void 0,u=null,v=0,w=0,x=null,y=function y(H){H.forEach(function(I){if(j[I])c("FunnelLogger").appendActionWithTag(n,w,I,"try_"+v)});c("Bootloader").loadModules(["BanzaiODS"],function(I){H.forEach(function(J){I.bumpEntityKey("feed_load",J)})},"NewsFeedTailLoadController")},z=function z(H,I){__p&&__p();c("Arbiter").inform(c("LitestandMessages").STREAM_LOAD_ERROR,I);var J=["streamload_error.tail"];if(v>0)J.push("streamload_error.tail.retry");if(H&&v<o){v++;C(H);J.push("streamload.tail.retry");c("Arbiter").inform(c("LitestandMessages").STREAM_LOAD_RETRY)}else{u&&c("CSS").removeClass(u,"async_saving");q&&q.tailLoadFailed()}y(J)},A=function A(){B();r=setTimeout(function(){y(["streamload_timeout.tail"])},i)},B=function B(){r&&clearTimeout(r)},C=function C(H){__p&&__p();if(v<1){c("FunnelLogger").startFunnel(n,w);c("FunnelLogger").addFunnelTag(n,w,"NewsFeedTailLoadController")}y(["streamload.tail.commence"]);if(m[H]){y(["duplicate_cursor"]);c("Arbiter").inform(c("LitestandMessages").DUPLICATE_CURSOR_ERROR,H)}m[H]=true;var I={client_stories_count:c("DOM").scry(c("LitestandStream").getStreamRoot(),c("LitestandStream").getStoriesSelector()).length,cursor:H,feed_stream_id:c("LitestandStream").getFeedStreamID(),pager_config:t,scroll_count:w+1,story_id:c("LitestandStream").getStoryID()},J=function J(M){z(H,M)},K=function K(M){y(["streamload_error.tail.transport"]);z(H,M)},L=function L(M){if(M.error)y(["streamload_error.tail.final"]);else{y(["streamload.tail.success"]);w++}};if(!s)c("Bootloader").loadModules(["UIPagelet"],function(M){s=M.loadFromEndpoint("LitestandTailLoadPagelet",c("getOrCreateDOMID")(k),I,{append:true,automatic:true,constHeight:true,crossPage:true,errorHandler:J,finallyHandler:L,transportErrorHandler:K,usePipe:true});c("Arbiter").inform(c("LitestandMessages").STORIES_REQUESTED)},"NewsFeedTailLoadController");else{s.setErrorHandler(J).setTransportErrorHandler(K).go(I);c("Arbiter").inform(c("LitestandMessages").STORIES_REQUESTED)}};function D(){__p&&__p();p&&p.disconnect();p=null;x&&x.release();x=null;q&&q.tailLoadCancelled();q&&q.destroy();q=null;m={};s=null;w=0;B()}function E(event){C(l);u&&c("CSS").addClass(u,"async_saving");q&&q.tailLoadStarted();event.preventDefault()}function F(H){__p&&__p();var I=false;H.forEach(function(J){__p&&__p();if(J.target===u){var K=J.isIntersecting||J.intersectionRatio>0;if(K){I=true;u&&c("CSS").addClass(u,"async_saving");C(l);q&&q.tailLoadStarted();p&&u&&p.unobserve(u)}}});return I}var G={init:function H(I,J,K,L,M,N){__p&&__p();k=K;l=I;u=J;t=L;var O=M.firstPagerScrollBuffer||h,P=c("getElementPosition")(J),Q=c("getViewportDimensions")(),R=Math.max(P.y-O-Q.height,0);p=new(c("IntersectionObserver"))(function(S){if(F(S)){p&&p.disconnect();p=new(c("IntersectionObserver"))(function(S){F(S)},{rootMargin:"0px 0px "+M.bufferPixels+"px 0px"})}},{rootMargin:"0px 0px "+R+"px 0px"});p.observe(u);c("ListestandStreamTailStoryPlaceholderVisbilityTracker").setPlaceholderElement(u);x=new(c("SubscriptionsHandler"))();x.addSubscriptions(c("Arbiter").subscribe(c("LitestandMessages").STORIES_REQUESTED,A),c("Arbiter").subscribe([c("LitestandMessages").STORIES_INSERTED,c("LitestandMessages").STREAM_LOAD_ERROR],B),c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,D),c("Event").listen(u,"click",E),c("Run").onLeave(D),c("Run").onUnload(function(){return q&&q.tailLoadCancelled()}));if(N!=null)q=new(c("NewsFeedTailLoadPlaceholderLogger"))(N,u)},destroy:function H(){D();u&&c("CSS").hide(u)},setCursor:function H(I){var J=c("LitestandStream").getStreamRoot();if(J)c("NewsFeedDedupeStoryController").dedupe(J,c("LitestandStream").getStoriesSelector());u&&c("CSS").removeClass(u,"async_saving");l=I;p&&u&&p.observe(u);v=0},tailloadCompleted:function H(I,J){this.setCursor(I);q&&q.tailLoadSuccessful(J)},setPagerConfig:function H(I){t=I},moreStoriesInserted:function H(I){c("Arbiter").inform(c("LitestandMessages").STORIES_INSERTED,{substream_id:I});var J=c("ge")(I);if(J){c("NewsFeedOffscreenController").attachSubstream(J);if(v>0){v=0;y(["streamload.tail.retry.success"])}}},handleError:function H(I){z(I)},handleErrorV2:function H(I){z(I)}};f.exports=G}),null);
__d("PubcontentSuggestionsUtil",["csx","cx","DOM","DOMDimensions","LitestandEllipsis","Parent","Style"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j={truncateName:function k(l,m){__p&&__p();var n=c("DOM").scry(l,".nameText")[0];if(n){var o=(c("Style").getFloat(l,"lineHeight")+c("Style").getFloat(l,"marginBottom"))*m;if(isNaN(o))return;c("LitestandEllipsis").add(n,o,l);var p=c("DOM").scry(l.parentNode,".socialContext")[0];if(p){o-=c("DOMDimensions").getElementDimensions(l).height;c("LitestandEllipsis").add(p,o,p)}}},truncateText:function k(l,m){if(l){var n=c("Style").getFloat(l,"lineHeight")*m;c("LitestandEllipsis").add(l,n,l)}},truncateAllText:function k(l,m){var n,o=c("DOM").scry(l,".ego_title");for(n=0;n<o.length;n++)j.truncateName(o[n],2);var p=c("DOM").scry(l,".descriptionText");for(n=0;n<p.length;n++)j.truncateText(p[n],2);var q=c("DOM").scry(l,".ego_like");for(n=0;n<q.length;n++)j.cutLikeButtonText(q[n],m)},cutButtonText:function k(l){var m=c("Parent").bySelector(l,"._5ry0");if(m&&c("DOMDimensions").getElementDimensions(l).width>c("DOMDimensions").getElementDimensions(m).width){var n=c("DOM").scry(l,"input")[0];n.value=""}},cutLikeButtonText:function k(l,m){__p&&__p();var n=m?c("Parent").byClass(l,"ego_unit"):c("Parent").byClass(l,"likeButton");if(n&&c("DOMDimensions").getElementDimensions(l).width>c("DOMDimensions").getElementDimensions(n).width){var o=c("DOM").scry(l,"img");if(o.length){var p=o[0].nextSibling.textContent;o[0].parentNode.setAttribute("aria-label",p);o[0].parentNode.removeChild(o[0].nextSibling)}else{o=c("DOM").scry(l,"i");if(o.length){var q=o[0].nextSibling.textContent;o[0].parentNode.setAttribute("aria-label",q);o[0].parentNode.removeChild(o[0].nextSibling)}}}}};f.exports=j}),null);
__d("ReminderStory",["AsyncRequest","Arbiter","Bootloader","DOMQuery","Event","FlexibleScrollableArea","LayerAutoFocus","ScrollableArea","SubscriptionsHandler","getActiveElement"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l,m,n){"use strict";__p&&__p();this.$ReminderStory1=false;this.$ReminderStory2=j;this.$ReminderStory3=i;c("Event").listen(i,"click",function(event){if(k&&c("DOMQuery").contains(k,event.target))return;j.show();if(l)new(c("AsyncRequest"))("/growth/reminder/logging.php").setData({context_data:l,first_click:!this.$ReminderStory1}).send();this.$ReminderStory1=true}.bind(this));if(m)j.subscribeOnce("show",function(){c("Bootloader").loadModules(["UIPagelet"],function(o){return o.loadFromEndpoint(m,j.getContent(),n)},"ReminderStory")});j.disableBehavior(c("LayerAutoFocus"));j.subscribe("aftershow",function(){__p&&__p();var o=j.getRoot(),p=j.hide.bind(j);this.$ReminderStory4=new(c("SubscriptionsHandler"))();this.$ReminderStory4.addSubscriptions(c("Event").listen(window,"resize",p),c("Event").listen(window,"scroll",p));var q=c("DOMQuery").scry(o,".inlineReplyTextArea");q[0]&&q[0].focus();var r=c("DOMQuery").scry(o,".jewelItemNew"),s=[];r.forEach(function(w){var x=r[w].getAttribute("id");if(x&&x.endsWith("_1_req"))s=s.concat(x.replace("_1_req",""))});if(s.length>0)new(c("AsyncRequest"))("/friends/requests/log_impressions").setData({ids:s.join(","),ref:"reminder_box"}).send();var t=c("ScrollableArea").getInstance(c("DOMQuery").scry(j.getRoot(),".uiScrollableArea")[0]),u=c("FlexibleScrollableArea").getInstance(c("DOMQuery").scry(j.getRoot(),".flexibleScrollableArea")[0]),v=function v(){if(u)u.poke();if(t){t.poke();c("Event").fire(c("DOMQuery").scry(j.getRoot(),".scrollable")[0],"scroll")}};v();c("Arbiter").subscribe("reflow",function(){var w=c("DOMQuery").scry(o,".fbRemindersBirthdayList");if(q&&w)for(var x=0;x<q.length;++x)if(q[x]==c("getActiveElement")()&&c("DOMQuery").contains(w[0],q[x]))v()})}.bind(this));j.subscribe("beforehide",function(){if(this.$ReminderStory4){this.$ReminderStory4.release();this.$ReminderStory4=null}}.bind(this))}h.prototype.getDialog=function(){"use strict";return this.$ReminderStory2};h.prototype.getRoot=function(){"use strict";return this.$ReminderStory3};f.exports=h}),null);
__d("VideoPauseWhenBackgrounded",["invariant","Event","SubscriptionsHandler","VideoPlayerReason","VideoPlayerStates","Visibility"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){this.$VideoPauseWhenBackgrounded1=new(c("SubscriptionsHandler"))();this.$VideoPauseWhenBackgrounded3=false}i.prototype.enable=function(j){!this.$VideoPauseWhenBackgrounded2||h(0);this.$VideoPauseWhenBackgrounded1.engage();this.$VideoPauseWhenBackgrounded2=j;this.$VideoPauseWhenBackgrounded1.addSubscriptions(c("Event").listen(window,"blur",this.$VideoPauseWhenBackgrounded4.bind(this)),c("Event").listen(window,"focus",this.$VideoPauseWhenBackgrounded5.bind(this)),c("Visibility").addListener(c("Visibility").HIDDEN,this.$VideoPauseWhenBackgrounded4.bind(this)),c("Visibility").addListener(c("Visibility").VISIBLE,this.$VideoPauseWhenBackgrounded5.bind(this)))};i.prototype.disable=function(){this.$VideoPauseWhenBackgrounded1.release();this.$VideoPauseWhenBackgrounded2=null};i.prototype.$VideoPauseWhenBackgrounded4=function(){this.pauseVideo(c("VideoPlayerReason").PAGE_VISIBILITY)};i.prototype.$VideoPauseWhenBackgrounded5=function(){this.playVideo(c("VideoPlayerReason").PAGE_VISIBILITY)};i.prototype.playVideo=function(j){var k=this.$VideoPauseWhenBackgrounded2;k||h(0);if(k.isState(c("VideoPlayerStates").PAUSED)&&this.$VideoPauseWhenBackgrounded3)k.play(j);this.$VideoPauseWhenBackgrounded3=false};i.prototype.pauseVideo=function(j){var k=this.$VideoPauseWhenBackgrounded2;k||h(0);if(k.isState(c("VideoPlayerStates").PLAYING)){k.pause(j);this.$VideoPauseWhenBackgrounded3=true}};f.exports=i}),null);
__d("VideoCTAEndscreen",["cx","Arbiter","AttachmentRelatedShareConstants","CSS","Event","Focus","SubscriptionsHandler","VideoCTALoggingConfig","VideoPlayerReason","VideoPlayerLoggerEvent","logVideosClickTracking"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k){"use strict";__p&&__p();this.$VideoCTAEndscreen1=j;this.$VideoCTAEndscreen2=k.endscreenElement;this.$VideoCTAEndscreen3=k.replayElement;this.$VideoCTAEndscreen4=k.ctaElement;this.$VideoCTAEndscreen5=k.isPausescreen;this.$VideoCTAEndscreen6=new(c("SubscriptionsHandler"))();this.$VideoCTAEndscreen6.addSubscriptions(c("Event").listen(this.$VideoCTAEndscreen3,"click",function(){return this.$VideoCTAEndscreen7()}.bind(this)),j.addListener("beginPlayback",function(){return this.$VideoCTAEndscreen8()}.bind(this)),j.addListener("VideoChannelController/exitChannel",function(){if(j.isState("finished"))this.$VideoCTAEndscreen9()}.bind(this)));var l=k.isPausescreen?"VideoCTAPausescreen":"VideoCTAEndscreen";if(this.$VideoCTAEndscreen4){this.$VideoCTAEndscreen6.addSubscriptions(c("Event").listen(this.$VideoCTAEndscreen4,"click",function(){return this.$VideoCTAEndscreen10()}.bind(this)));j.registerOption(l,"ctaElement",function(){return this.$VideoCTAEndscreen4}.bind(this))}if(this.$VideoCTAEndscreen5)this.$VideoCTAEndscreen6.addSubscriptions(j.addListener("pausePlayback",function(){return this.$VideoCTAEndscreen11()}.bind(this)));else this.$VideoCTAEndscreen6.addSubscriptions(j.addListener("finishPlayback",function(){return this.$VideoCTAEndscreen9()}.bind(this)));j.registerOption(l,"available",function(){return true})}i.prototype.$VideoCTAEndscreen7=function(){"use strict";__p&&__p();var j={reason:c("VideoPlayerReason").USER};this.$VideoCTAEndscreen1.clickVideo();if(this.$VideoCTAEndscreen1.isState("paused")){if(c("VideoCTALoggingConfig").shouldLogUnpausedEvent)this.$VideoCTAEndscreen1.logEvent(c("VideoPlayerLoggerEvent").UNPAUSED,j)}else if(this.$VideoCTAEndscreen1.isState("finished"))this.$VideoCTAEndscreen1.logEvent(c("VideoPlayerLoggerEvent").REPLAYED,j);var k=this.$VideoCTAEndscreen1.getVideoNode();c("logVideosClickTracking")(k);c("Focus").set(k)};i.prototype.$VideoCTAEndscreen10=function(){"use strict";c("Arbiter").inform(c("AttachmentRelatedShareConstants").FBVIDEO_CLICK,{attachment:this.$VideoCTAEndscreen1.getRootNode(),fbvideo_id:this.$VideoCTAEndscreen1.getVideoID()})};i.prototype.$VideoCTAEndscreen9=function(){"use strict";if(!this.$VideoCTAEndscreen1.getIsInChannel())this.$VideoCTAEndscreen11()};i.prototype.$VideoCTAEndscreen11=function(){"use strict";c("CSS").addClass(this.$VideoCTAEndscreen2,"_1qbf")};i.prototype.$VideoCTAEndscreen8=function(){"use strict";c("CSS").removeClass(this.$VideoCTAEndscreen2,"_1qbf")};f.exports=i}),null);